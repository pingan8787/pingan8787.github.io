<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>204-ã€TypeScriptã€‘TypeScriptä»£ç æ•´æ´ä¹‹é“ | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ä¸­æ–‡ | English  å°† Clean Code çš„æ¦‚å¿µé€‚ç”¨åˆ° TypeScriptï¼Œçµæ„Ÿæ¥è‡ª clean-code-javascriptã€‚  ç›®å½•  ç®€ä»‹  å˜é‡  å‡½æ•°  å¯¹è±¡ä¸æ•°æ®ç»“æ„  ç±»  SOLIDåŸåˆ™  æµ‹è¯•  å¹¶å‘  é”™è¯¯å¤„ç†  æ ¼å¼åŒ–  æ³¨é‡Š  ç®€ä»‹ è¿™ä¸æ˜¯ä¸€ä»½ TypeScript ç¼–ç é£æ ¼è§„èŒƒï¼Œè€Œæ˜¯å°† Robert C. Martin çš„è½¯ä»¶å·¥ç¨‹è‘—ä½œ ã€ŠClean Cod">
<meta property="og:type" content="article">
<meta property="og:title" content="204-ã€TypeScriptã€‘TypeScriptä»£ç æ•´æ´ä¹‹é“">
<meta property="og:url" content="http://example.com/2020/05/23/204-%E3%80%90TypeScript%E3%80%91TypeScript%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ä¸­æ–‡ | English  å°† Clean Code çš„æ¦‚å¿µé€‚ç”¨åˆ° TypeScriptï¼Œçµæ„Ÿæ¥è‡ª clean-code-javascriptã€‚  ç›®å½•  ç®€ä»‹  å˜é‡  å‡½æ•°  å¯¹è±¡ä¸æ•°æ®ç»“æ„  ç±»  SOLIDåŸåˆ™  æµ‹è¯•  å¹¶å‘  é”™è¯¯å¤„ç†  æ ¼å¼åŒ–  æ³¨é‡Š  ç®€ä»‹ è¿™ä¸æ˜¯ä¸€ä»½ TypeScript ç¼–ç é£æ ¼è§„èŒƒï¼Œè€Œæ˜¯å°† Robert C. Martin çš„è½¯ä»¶å·¥ç¨‹è‘—ä½œ ã€ŠClean Cod">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://camo.githubusercontent.com/0607e034aee88cce40b832367d44265e01b42654/68747470733a2f2f7777772e6f736e6577732e636f6d2f696d616765732f636f6d6963732f7774666d2e6a7067">
<meta property="article:published_time" content="2020-05-23T14:41:39.000Z">
<meta property="article:modified_time" content="2021-09-20T03:31:47.644Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="å‰ç«¯å¼€å‘">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://camo.githubusercontent.com/0607e034aee88cce40b832367d44265e01b42654/68747470733a2f2f7777772e6f736e6577732e636f6d2f696d616765732f636f6d6963732f7774666d2e6a7067">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-204-ã€TypeScriptã€‘TypeScriptä»£ç æ•´æ´ä¹‹é“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/05/23/204-%E3%80%90TypeScript%E3%80%91TypeScript%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" class="article-date">
  <time class="dt-published" datetime="2020-05-23T14:41:39.000Z" itemprop="datePublished">2020-05-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      204-ã€TypeScriptã€‘TypeScriptä»£ç æ•´æ´ä¹‹é“
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://github.com/pipiliang/clean-code-typescript">ä¸­æ–‡</a> | <a target="_blank" rel="noopener" href="https://github.com/labs42io/clean-code-typescript">English</a></p>
<blockquote>
<p>å°† Clean Code çš„æ¦‚å¿µé€‚ç”¨åˆ° TypeScriptï¼Œçµæ„Ÿæ¥è‡ª <a target="_blank" rel="noopener" href="https://github.com/ryanmcdermott/clean-code-javascript">clean-code-javascript</a>ã€‚</p>
</blockquote>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a><a href="#%E7%9B%AE%E5%BD%95"></a>ç›®å½•</h2><ol>
<li> <a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li> <a href="#%E5%8F%98%E9%87%8F">å˜é‡</a></li>
<li> <a href="#%E5%87%BD%E6%95%B0">å‡½æ•°</a></li>
<li> <a href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">å¯¹è±¡ä¸æ•°æ®ç»“æ„</a></li>
<li> <a href="#%E7%B1%BB">ç±»</a></li>
<li> <a href="#SOLID%E5%8E%9F%E5%88%99">SOLIDåŸåˆ™</a></li>
<li> <a href="#%E6%B5%8B%E8%AF%95">æµ‹è¯•</a></li>
<li> <a href="#%E5%B9%B6%E5%8F%91">å¹¶å‘</a></li>
<li> <a href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">é”™è¯¯å¤„ç†</a></li>
<li> <a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96">æ ¼å¼åŒ–</a></li>
<li> <a href="#%E6%B3%A8%E9%87%8A">æ³¨é‡Š</a></li>
</ol>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a><a href="#%E7%AE%80%E4%BB%8B"></a>ç®€ä»‹</h2><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/0607e034aee88cce40b832367d44265e01b42654/68747470733a2f2f7777772e6f736e6577732e636f6d2f696d616765732f636f6d6963732f7774666d2e6a7067"><img src="https://camo.githubusercontent.com/0607e034aee88cce40b832367d44265e01b42654/68747470733a2f2f7777772e6f736e6577732e636f6d2f696d616765732f636f6d6963732f7774666d2e6a7067" alt="Humorous image of software quality estimation as a count of how many expletives you shout when reading code"></a></p>
<p>è¿™ä¸æ˜¯ä¸€ä»½ TypeScript ç¼–ç é£æ ¼è§„èŒƒï¼Œè€Œæ˜¯å°† Robert C. Martin çš„è½¯ä»¶å·¥ç¨‹è‘—ä½œ <a target="_blank" rel="noopener" href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">ã€ŠClean Codeã€‹</a> é€‚ç”¨åˆ° TypeScriptï¼Œå¼•å¯¼è¯»è€…ä½¿ç”¨ TypeScript ç¼–å†™<a target="_blank" rel="noopener" href="https://github.com/ryanmcdermott/3rs-of-software-architecture">æ˜“è¯»ã€å¤ç”¨å’Œå¯æ‰©å±•</a>çš„è½¯ä»¶ã€‚</p>
<p>å®é™…ä¸Šï¼Œå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªåŸåˆ™éƒ½è¦ä¸¥æ ¼éµå®ˆï¼Œèƒ½è¢«å¹¿æ³›è®¤åŒçš„åŸåˆ™å°±æ›´å°‘äº†ã€‚è¿™çœ‹èµ·æ¥è™½ç„¶åªæ˜¯ä¸€ä»½æŒ‡å¯¼åŸåˆ™ï¼Œä½†å´æ˜¯ <em>Clean Code</em> ä½œè€…å¯¹å¤šå¹´ç¼–ç¨‹ç»éªŒçš„å‡ç»ƒã€‚</p>
<p>è½¯ä»¶å·¥ç¨‹æŠ€æœ¯å·²æœ‰50å¤šå¹´çš„å†å²äº†ï¼Œæˆ‘ä»¬ä»ç„¶è¦å­¦ä¹ å¾ˆå¤šçš„ä¸œè¥¿ã€‚å½“è½¯ä»¶æ¶æ„å’Œæ¶æ„æœ¬èº«ä¸€æ ·å¤è€çš„æ—¶å€™ï¼Œä¹Ÿè®¸æˆ‘ä»¬éœ€è¦éµå®ˆæ›´ä¸¥æ ¼çš„è§„åˆ™ã€‚ä½†æ˜¯ç°åœ¨ï¼Œè®©è¿™äº›æŒ‡å¯¼åŸåˆ™ä½œä¸ºè¯„ä¼°æ‚¨å’Œæ‚¨çš„å›¢é˜Ÿä»£ç è´¨é‡çš„è¯•é‡‘çŸ³ã€‚</p>
<p>å¦å¤–ï¼Œç†è§£è¿™äº›åŸåˆ™ä¸ä¼šç«‹å³è®©æ‚¨å˜çš„ä¼˜ç§€ï¼Œä¹Ÿä¸æ„å‘³ç€ä¸ä¼šçŠ¯é”™ã€‚æ¯ä¸€æ®µä»£ç éƒ½æ˜¯ä»ä¸å®Œç¾å¼€å§‹çš„ï¼Œé€šè¿‡åå¤èµ°æŸ¥ä¸æ–­è¶‹äºå®Œç¾ï¼Œå°±åƒé»åœŸåˆ¶ä½œæˆé™¶è‰ºä¸€æ ·ï¼Œäº«å—è¿™ä¸ªè¿‡ç¨‹å§!</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a><a href="#%E5%8F%98%E9%87%8F"></a>å˜é‡</h2><blockquote>
<p>è®¡ç®—æœºç§‘å­¦åªå­˜åœ¨ä¸¤ä¸ªéš¾é¢˜ï¼šç¼“å­˜å¤±æ•ˆå’Œå‘½åã€‚â€”â€” Phil KarIton</p>
</blockquote>
<h3 id="ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å"><a href="#ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å" class="headerlink" title="ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å"></a><a href="#%E4%BD%BF%E7%94%A8%E6%9C%89%E6%84%8F%E4%B9%89%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D"></a>ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å</h3><p>åšæœ‰æ„ä¹‰çš„åŒºåˆ†ï¼Œè®©è¯»è€…æ›´å®¹æ˜“ç†è§£å˜é‡çš„å«ä¹‰ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">between</span>&lt;<span class="title">T</span>&gt;(<span class="params">a1: T, a2: T, a3: T</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a2 &lt;= a1 &amp;&amp; a1 &lt;= a3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">between</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T, left: T, right: T</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> left &lt;= value &amp;&amp; value &lt;= right;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="å¯è¯»çš„å˜é‡å"><a href="#å¯è¯»çš„å˜é‡å" class="headerlink" title="å¯è¯»çš„å˜é‡å"></a><a href="#%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D"></a>å¯è¯»çš„å˜é‡å</h3><p>å¦‚æœä½ ä¸èƒ½æ­£ç¡®è¯»å‡ºå®ƒï¼Œé‚£ä¹ˆä½ åœ¨è®¨è®ºå®ƒæ—¶å¬èµ·æ¥å°±ä¼šåƒä¸ªç™½ç—´ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DtaRcrd102</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> genymdhms: <span class="built_in">Date</span>; #  <span class="comment">// ä½ èƒ½è¯»å‡ºè¿™ä¸ªå˜é‡åä¹ˆï¼Ÿ</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> modymdhms: <span class="built_in">Date</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> pszqint = <span class="string">&#x27;102&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> generationTimestamp: <span class="built_in">Date</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> modificationTimestamp: <span class="built_in">Date</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> recordId = <span class="string">&#x27;102&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åˆå¹¶åŠŸèƒ½ä¸€è‡´çš„å˜é‡"><a href="#åˆå¹¶åŠŸèƒ½ä¸€è‡´çš„å˜é‡" class="headerlink" title="åˆå¹¶åŠŸèƒ½ä¸€è‡´çš„å˜é‡"></a><a href="#%E5%90%88%E5%B9%B6%E5%8A%9F%E8%83%BD%E4%B8%80%E8%87%B4%E7%9A%84%E5%8F%98%E9%87%8F"></a>åˆå¹¶åŠŸèƒ½ä¸€è‡´çš„å˜é‡</h3><p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserInfo</span>(<span class="params"></span>): <span class="title">User</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserDetails</span>(<span class="params"></span>): <span class="title">User</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserData</span>(<span class="params"></span>): <span class="title">User</span></span>;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params"></span>): <span class="title">User</span></span>;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¾¿äºæœç´¢çš„åå­—"><a href="#ä¾¿äºæœç´¢çš„åå­—" class="headerlink" title="ä¾¿äºæœç´¢çš„åå­—"></a><a href="#%E4%BE%BF%E4%BA%8E%E6%90%9C%E7%B4%A2%E7%9A%84%E5%90%8D%E5%AD%97"></a>ä¾¿äºæœç´¢çš„åå­—</h3><p>å¾€å¾€æˆ‘ä»¬è¯»ä»£ç è¦æ¯”å†™çš„å¤šï¼Œæ‰€ä»¥æ˜“è¯»æ€§å’Œå¯æœç´¢éå¸¸é‡è¦ã€‚å¦‚æœä¸æŠ½å–å¹¶å‘½åæœ‰æ„ä¹‰çš„å˜é‡åï¼Œé‚£å°±å‘äº†è¯»ä»£ç çš„äººã€‚ä»£ç ä¸€å®šè¦ä¾¿äºæœç´¢ï¼Œ<a target="_blank" rel="noopener" href="https://palantir.github.io/tslint/rules/no-magic-numbers/">TSLint</a> å°±å¯ä»¥å¸®åŠ©è¯†åˆ«æœªå‘½åçš„å¸¸é‡ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//86400000 ä»£è¡¨ä»€ä¹ˆï¼Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(restart, <span class="number">86400000</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸ºå¸¸é‡ï¼Œè¦å¤§å†™ä¸”æœ‰æ˜ç¡®å«ä¹‰ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MILLISECONDS_IN_A_DAY = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(restart, MILLISECONDS_IN_A_DAY);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨è‡ªè§£é‡Šçš„å˜é‡å"><a href="#ä½¿ç”¨è‡ªè§£é‡Šçš„å˜é‡å" class="headerlink" title="ä½¿ç”¨è‡ªè§£é‡Šçš„å˜é‡å"></a><a href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E8%A7%A3%E9%87%8A%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D"></a>ä½¿ç”¨è‡ªè§£é‡Šçš„å˜é‡å</h3><p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> users:<span class="built_in">Map</span>&lt;<span class="built_in">string</span>, User&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> keyValue <span class="keyword">of</span> users) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> users:<span class="built_in">Map</span>&lt;<span class="built_in">string</span>, User&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [id, user] <span class="keyword">of</span> users) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…æ€ç»´æ˜ å°„"><a href="#é¿å…æ€ç»´æ˜ å°„" class="headerlink" title="é¿å…æ€ç»´æ˜ å°„"></a><a href="#%E9%81%BF%E5%85%8D%E6%80%9D%E7%BB%B4%E6%98%A0%E5%B0%84"></a>é¿å…æ€ç»´æ˜ å°„</h3><p>ä¸è¦è®©äººå»çŒœæµ‹æˆ–æƒ³è±¡å˜é‡çš„å«ä¹‰ï¼Œ<em>æ˜ç¡®æ˜¯ç‹é“ã€‚</em></p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> u = getUser();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = getSubscription();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = charge(u, s);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = getUser();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> subscription = getSubscription();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> transaction = charge(user, subscription);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸æ·»åŠ æ— ç”¨çš„ä¸Šä¸‹æ–‡"><a href="#ä¸æ·»åŠ æ— ç”¨çš„ä¸Šä¸‹æ–‡" class="headerlink" title="ä¸æ·»åŠ æ— ç”¨çš„ä¸Šä¸‹æ–‡"></a><a href="#%E4%B8%8D%E6%B7%BB%E5%8A%A0%E6%97%A0%E7%94%A8%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87"></a>ä¸æ·»åŠ æ— ç”¨çš„ä¸Šä¸‹æ–‡</h3><p>å¦‚æœç±»åæˆ–å¯¹è±¡åå·²ç»è¡¨è¾¾äº†æŸäº›ä¿¡æ¯ï¼Œåœ¨å†…éƒ¨å˜é‡åä¸­ä¸è¦å†é‡å¤è¡¨è¾¾ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Car = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">carMake</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  carModel: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  carColor: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">car: Car</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.carMake&#125;</span> <span class="subst">$&#123;<span class="built_in">this</span>.carModel&#125;</span> (<span class="subst">$&#123;<span class="built_in">this</span>.carColor&#125;</span>)`</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Car = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">make</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  model: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  color: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">car: Car</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.make&#125;</span> <span class="subst">$&#123;<span class="built_in">this</span>.model&#125;</span> (<span class="subst">$&#123;<span class="built_in">this</span>.color&#125;</span>)`</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œè€ŒéçŸ­è·¯æˆ–æ¡ä»¶åˆ¤æ–­"><a href="#ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œè€ŒéçŸ­è·¯æˆ–æ¡ä»¶åˆ¤æ–­" class="headerlink" title="ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œè€ŒéçŸ­è·¯æˆ–æ¡ä»¶åˆ¤æ–­"></a><a href="#%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E8%80%8C%E9%9D%9E%E7%9F%AD%E8%B7%AF%E6%88%96%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"></a>ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œè€ŒéçŸ­è·¯æˆ–æ¡ä»¶åˆ¤æ–­</h3><p>é€šå¸¸ï¼Œé»˜è®¤å‚æ•°æ¯”çŸ­è·¯æ›´æ•´æ´ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadPages</span>(<span class="params">count: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> loadCount = count !== <span class="literal">undefined</span> ? count : <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadPages</span>(<span class="params">count: <span class="built_in">number</span> = <span class="number">10</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a><a href="#%E5%87%BD%E6%95%B0"></a>å‡½æ•°</h2><h3 id="å‚æ•°è¶Šå°‘è¶Šå¥½-ç†æƒ³æƒ…å†µä¸è¶…è¿‡2ä¸ª"><a href="#å‚æ•°è¶Šå°‘è¶Šå¥½-ç†æƒ³æƒ…å†µä¸è¶…è¿‡2ä¸ª" class="headerlink" title="å‚æ•°è¶Šå°‘è¶Šå¥½ (ç†æƒ³æƒ…å†µä¸è¶…è¿‡2ä¸ª)"></a><a href="#%E5%8F%82%E6%95%B0%E8%B6%8A%E5%B0%91%E8%B6%8A%E5%A5%BD-%E7%90%86%E6%83%B3%E6%83%85%E5%86%B5%E4%B8%8D%E8%B6%85%E8%BF%872%E4%B8%AA"></a>å‚æ•°è¶Šå°‘è¶Šå¥½ (ç†æƒ³æƒ…å†µä¸è¶…è¿‡2ä¸ª)</h3><p>é™åˆ¶å‚æ•°ä¸ªæ•°ï¼Œè¿™æ ·å‡½æ•°æµ‹è¯•ä¼šæ›´å®¹æ˜“ã€‚è¶…è¿‡ä¸‰ä¸ªå‚æ•°ä¼šå¯¼è‡´æµ‹è¯•å¤æ‚åº¦æ¿€å¢ï¼Œéœ€è¦æµ‹è¯•ä¼—å¤šä¸åŒå‚æ•°çš„ç»„åˆåœºæ™¯ã€‚ ç†æƒ³æƒ…å†µï¼Œåªæœ‰ä¸€ä¸¤ä¸ªå‚æ•°ã€‚å¦‚æœæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œé‚£ä¹ˆæ‚¨çš„å‡½æ•°å¯èƒ½å°±å¤ªè¿‡å¤æ‚äº†ã€‚</p>
<p>å¦‚æœéœ€è¦å¾ˆå¤šå‚æ•°ï¼Œè¯·æ‚¨è€ƒè™‘ä½¿ç”¨å¯¹è±¡ã€‚ä¸ºäº†ä½¿å‡½æ•°çš„å±æ€§æ›´æ¸…æ™°ï¼Œå¯ä»¥ä½¿ç”¨<a target="_blank" rel="noopener" href="https://basarat.gitbooks.io/typescript/docs/destructuring.html">è§£æ„</a>ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ol>
<li> å½“æœ‰äººæŸ¥çœ‹å‡½æ•°ç­¾åæ—¶ï¼Œä¼šç«‹å³æ¸…æ¥šä½¿ç”¨äº†å“ªäº›å±æ€§ã€‚</li>
<li> è§£æ„å¯¹ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¯¹è±¡åšæ·±æ‹·è´ï¼Œè¿™å¯é¢„é˜²å‰¯ä½œç”¨ã€‚(æ³¨æ„ï¼š<strong>ä¸ä¼šå…‹éš†</strong>ä»å‚æ•°å¯¹è±¡ä¸­è§£æ„çš„å¯¹è±¡å’Œæ•°ç»„)</li>
<li> TypeScript ä¼šå¯¹æœªä½¿ç”¨çš„å±æ€§æ˜¾ç¤ºè­¦å‘Šã€‚</li>
</ol>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">title: <span class="built_in">string</span>, body: <span class="built_in">string</span>, buttonText: <span class="built_in">string</span>, cancellable: <span class="built_in">boolean</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createMenu(<span class="string">&#x27;Foo&#x27;</span>, <span class="string">&#x27;Bar&#x27;</span>, <span class="string">&#x27;Baz&#x27;</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">options: &#123;title: <span class="built_in">string</span>, body: <span class="built_in">string</span>, buttonText: <span class="built_in">string</span>, cancellable: <span class="built_in">boolean</span>&#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createMenu(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">    <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">    <span class="attr">buttonText</span>: <span class="string">&#x27;Baz&#x27;</span>,</span><br><span class="line">    <span class="attr">cancellable</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ TypeScript çš„<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases">ç±»å‹åˆ«å</a>ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å¯è¯»æ€§ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MenuOptions = &#123;<span class="attr">title</span>: <span class="built_in">string</span>, <span class="attr">body</span>: <span class="built_in">string</span>, <span class="attr">buttonText</span>: <span class="built_in">string</span>, <span class="attr">cancellable</span>: <span class="built_in">boolean</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">options: MenuOptions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createMenu(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">    <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">    <span class="attr">buttonText</span>: <span class="string">&#x27;Baz&#x27;</span>,</span><br><span class="line">    <span class="attr">cancellable</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åªåšä¸€ä»¶äº‹"><a href="#åªåšä¸€ä»¶äº‹" class="headerlink" title="åªåšä¸€ä»¶äº‹"></a><a href="#%E5%8F%AA%E5%81%9A%E4%B8%80%E4%BB%B6%E4%BA%8B"></a>åªåšä¸€ä»¶äº‹</h3><p>è¿™æ˜¯ç›®å‰è½¯ä»¶å·¥ç¨‹ä¸­æœ€é‡è¦çš„è§„åˆ™ã€‚å¦‚æœå‡½æ•°åšä¸æ­¢ä¸€ä»¶äº‹ï¼Œå®ƒå°±æ›´éš¾ç»„åˆã€æµ‹è¯•ä»¥åŠç†è§£ã€‚åä¹‹ï¼Œå‡½æ•°åªæœ‰ä¸€ä¸ªè¡Œä¸ºï¼Œå®ƒå°±æ›´æ˜“äºé‡æ„ã€ä»£ç å°±æ›´æ¸…æ™°ã€‚å¦‚æœèƒ½åšå¥½è¿™ä¸€ç‚¹ï¼Œä½ ä¸€å®šå¾ˆä¼˜ç§€ï¼</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emailClients</span>(<span class="params">clients: Client</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  clients.forEach(<span class="function">(<span class="params">client</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> clientRecord = database.lookup(client);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (clientRecord.isActive()) &#123;</span><br><span class="line"></span><br><span class="line">      email(client);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emailClients</span>(<span class="params">clients: Client</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  clients.filter(isActiveClient).forEach(email);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isActiveClient</span>(<span class="params">client: Client</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> clientRecord = database.lookup(client);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> clientRecord.isActive();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åå‰¯å…¶å®"><a href="#åå‰¯å…¶å®" class="headerlink" title="åå‰¯å…¶å®"></a><a href="#%E5%90%8D%E5%89%AF%E5%85%B6%E5%AE%9E"></a>åå‰¯å…¶å®</h3><p>é€šè¿‡å‡½æ•°åå°±å¯ä»¥çœ‹å¾—å‡ºå‡½æ•°å®ç°çš„åŠŸèƒ½ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addToDate</span>(<span class="params">date: <span class="built_in">Date</span>, month: <span class="built_in">number</span></span>): <span class="title">Date</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å‡½æ•°åå¾ˆéš¾çœ‹çš„å‡ºéœ€è¦åŠ ä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">addToDate(date, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addMonthToDate</span>(<span class="params">date: <span class="built_in">Date</span>, month: <span class="built_in">number</span></span>): <span class="title">Date</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">addMonthToDate(date, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="æ¯ä¸ªå‡½æ•°åªåŒ…å«åŒä¸€ä¸ªå±‚çº§çš„æŠ½è±¡"><a href="#æ¯ä¸ªå‡½æ•°åªåŒ…å«åŒä¸€ä¸ªå±‚çº§çš„æŠ½è±¡" class="headerlink" title="æ¯ä¸ªå‡½æ•°åªåŒ…å«åŒä¸€ä¸ªå±‚çº§çš„æŠ½è±¡"></a><a href="#%E6%AF%8F%E4%B8%AA%E5%87%BD%E6%95%B0%E5%8F%AA%E5%8C%85%E5%90%AB%E5%90%8C%E4%B8%80%E4%B8%AA%E5%B1%82%E7%BA%A7%E7%9A%84%E6%8A%BD%E8%B1%A1"></a>æ¯ä¸ªå‡½æ•°åªåŒ…å«åŒä¸€ä¸ªå±‚çº§çš„æŠ½è±¡</h3><p>å½“æœ‰å¤šä¸ªæŠ½è±¡çº§åˆ«æ—¶ï¼Œå‡½æ•°åº”è¯¥æ˜¯åšå¤ªå¤šäº‹äº†ã€‚æ‹†åˆ†å‡½æ•°ä»¥ä¾¿å¯å¤ç”¨ï¼Œä¹Ÿè®©æµ‹è¯•æ›´å®¹æ˜“ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseCode</span>(<span class="params">code:<span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> REGEXES = [ <span class="comment">/* ... */</span> ];</span><br><span class="line">  <span class="keyword">const</span> statements = code.split(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> tokens = [];</span><br><span class="line"></span><br><span class="line">  REGEXES.forEach(<span class="function">(<span class="params">regex</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    statements.forEach(<span class="function">(<span class="params">statement</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> ast = [];</span><br><span class="line"></span><br><span class="line">  tokens.forEach(<span class="function">(<span class="params">token</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// lex...</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ast.forEach(<span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è§£æ ...</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> REGEXES = [ <span class="comment">/* ... */</span> ];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseCode</span>(<span class="params">code:<span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> tokens = tokenize(code);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> syntaxTree = parse(tokens);</span><br><span class="line"></span><br><span class="line">  syntaxTree.forEach(<span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// parse...</span></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tokenize</span>(<span class="params">code: <span class="built_in">string</span></span>):<span class="title">Token</span>[] </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> statements = code.split(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> tokens:Token[] = [];</span><br><span class="line"></span><br><span class="line">  REGEXES.forEach(<span class="function">(<span class="params">regex</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    statements.forEach(<span class="function">(<span class="params">statement</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">      tokens.push( <span class="comment">/* ... */</span> );</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> tokens;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span>(<span class="params">tokens: Token[]</span>): <span class="title">SyntaxTree</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> syntaxTree:SyntaxTree[] = [];</span><br><span class="line"></span><br><span class="line">  tokens.forEach(<span class="function">(<span class="params">token</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    syntaxTree.push( <span class="comment">/* ... */</span> );</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> syntaxTree;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åˆ é™¤é‡å¤ä»£ç "><a href="#åˆ é™¤é‡å¤ä»£ç " class="headerlink" title="åˆ é™¤é‡å¤ä»£ç "></a><a href="#%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E4%BB%A3%E7%A0%81"></a>åˆ é™¤é‡å¤ä»£ç </h3><p>é‡å¤ä¹ƒä¸‡æ¶ä¹‹æºï¼é‡å¤æ„å‘³ç€å¦‚æœè¦ä¿®æ”¹æŸä¸ªé€»è¾‘ï¼Œéœ€è¦ä¿®æ”¹å¤šå¤„ä»£ç  ğŸ˜¢ã€‚ æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ ç»è¥ä¸€å®¶é¤å…ï¼Œè¦è®°å½•ä½ çš„åº“å­˜:æ‰€æœ‰çš„è¥¿çº¢æŸ¿ã€æ´‹è‘±ã€å¤§è’œã€é¦™æ–™ç­‰ç­‰ã€‚å¦‚æœè¦ç»´æŠ¤å¤šä¸ªåº“å­˜åˆ—è¡¨ï¼Œé‚£æ˜¯å¤šä¹ˆç—›è‹¦çš„äº‹!</p>
<p>å­˜åœ¨é‡å¤ä»£ç ï¼Œæ˜¯å› ä¸ºæœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šå¾ˆè¿‘ä¼¼çš„åŠŸèƒ½ï¼Œåªæœ‰ä¸€ç‚¹ä¸åŒï¼Œä½†æ˜¯è¿™ç‚¹ä¸åŒè¿«ä½¿ä½ ç”¨å¤šä¸ªç‹¬ç«‹çš„å‡½æ•°æ¥åšå¾ˆå¤šå‡ ä¹ç›¸åŒçš„äº‹æƒ…ã€‚åˆ é™¤é‡å¤ä»£ç ï¼Œåˆ™æ„å‘³ç€åˆ›å»ºä¸€ä¸ªæŠ½è±¡ï¼Œè¯¥æŠ½è±¡ä»…ç”¨ä¸€ä¸ªå‡½æ•°/æ¨¡å—/ç±»å°±å¯ä»¥å¤„ç†è¿™ç»„ä¸åŒçš„ä¸œè¥¿ã€‚</p>
<p>åˆç†çš„æŠ½è±¡è‡³å…³é‡è¦ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨åº”è¯¥éµå¾ª<a href="#SOLID%E5%8E%9F%E5%88%99">SOLIDåŸåˆ™</a>ã€‚ç³Ÿç³•çš„æŠ½è±¡å¯èƒ½è¿˜ä¸å¦‚é‡å¤ä»£ç ï¼Œæ‰€ä»¥è¦å°å¿ƒï¼è¯è™½å¦‚æ­¤ï¼Œè¿˜æ˜¯è¦åšå¥½æŠ½è±¡ï¼å°½é‡ä¸è¦é‡å¤ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDeveloperList</span>(<span class="params">developers: Developer[]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  developers.forEach(<span class="function">(<span class="params">developer</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> expectedSalary = developer.calculateExpectedSalary();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> experience = developer.getExperience();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> githubLink = developer.getGithubLink();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line"></span><br><span class="line">      expectedSalary,</span><br><span class="line"></span><br><span class="line">      experience,</span><br><span class="line"></span><br><span class="line">      githubLink</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render(data);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showManagerList</span>(<span class="params">managers: Manager[]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  managers.forEach(<span class="function">(<span class="params">manager</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> expectedSalary = manager.calculateExpectedSalary();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> experience = manager.getExperience();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> portfolio = manager.getMBAProjects();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line"></span><br><span class="line">      expectedSalary,</span><br><span class="line"></span><br><span class="line">      experience,</span><br><span class="line"></span><br><span class="line">      portfolio</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render(data);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Developer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getExtraDetails</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="attr">githubLink</span>: <span class="built_in">this</span>.githubLink,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getExtraDetails</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="attr">portfolio</span>: <span class="built_in">this</span>.portfolio,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showEmployeeList</span>(<span class="params">employee: Developer | Manager</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  employee.forEach(<span class="function">(<span class="params">employee</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> expectedSalary = developer.calculateExpectedSalary();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> experience = developer.getExperience();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> extra = employee.getExtraDetails();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line"></span><br><span class="line">      expectedSalary,</span><br><span class="line"></span><br><span class="line">      experience,</span><br><span class="line"></span><br><span class="line">      extra,</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render(data);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰æ—¶ï¼Œåœ¨é‡å¤ä»£ç å’Œå¼•å…¥ä¸å¿…è¦çš„æŠ½è±¡è€Œå¢åŠ çš„å¤æ‚æ€§ä¹‹é—´ï¼Œéœ€è¦åšæƒè¡¡ã€‚å½“æ¥è‡ªä¸åŒé¢†åŸŸçš„ä¸¤ä¸ªä¸åŒæ¨¡å—ï¼Œå®ƒä»¬çš„å®ç°çœ‹èµ·æ¥ç›¸ä¼¼ï¼Œå¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ï¼Œå¹¶ä¸”æ¯”æŠ½å–å…¬å…±ä»£ç è¦å¥½ä¸€ç‚¹ã€‚å› ä¸ºæŠ½å–å…¬å…±ä»£ç ä¼šå¯¼è‡´ä¸¤ä¸ªæ¨¡å—äº§ç”Ÿé—´æ¥çš„ä¾èµ–å…³ç³»ã€‚</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨Object-assignæˆ–è§£æ„æ¥è®¾ç½®é»˜è®¤å¯¹è±¡"><a href="#ä½¿ç”¨Object-assignæˆ–è§£æ„æ¥è®¾ç½®é»˜è®¤å¯¹è±¡" class="headerlink" title="ä½¿ç”¨Object.assignæˆ–è§£æ„æ¥è®¾ç½®é»˜è®¤å¯¹è±¡"></a><a href="#%E4%BD%BF%E7%94%A8objectassign%E6%88%96%E8%A7%A3%E6%9E%84%E6%9D%A5%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%AF%B9%E8%B1%A1"></a>ä½¿ç”¨<code>Object.assign</code>æˆ–<code>è§£æ„</code>æ¥è®¾ç½®é»˜è®¤å¯¹è±¡</h3><p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MenuConfig = &#123;title?: <span class="built_in">string</span>, body?: <span class="built_in">string</span>, buttonText?: <span class="built_in">string</span>, cancellable?: <span class="built_in">boolean</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">config: MenuConfig</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  config.title = config.title || <span class="string">&#x27;Foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  config.body = config.body || <span class="string">&#x27;Bar&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  config.buttonText = config.buttonText || <span class="string">&#x27;Baz&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  config.cancellable = config.cancellable !== <span class="literal">undefined</span> ? config.cancellable : <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> menuConfig = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">title</span>: <span class="literal">null</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">buttonText</span>: <span class="literal">null</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">cancellable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">createMenu(menuConfig);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MenuConfig = &#123;title?: <span class="built_in">string</span>, body?: <span class="built_in">string</span>, buttonText?: <span class="built_in">string</span>, cancellable?: <span class="built_in">boolean</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">config: MenuConfig</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> menuConfig = <span class="built_in">Object</span>.assign(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">buttonText</span>: <span class="string">&#x27;Baz&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">cancellable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  &#125;, config);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createMenu(&#123; <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼çš„è§£æ„:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MenuConfig = &#123;title?: <span class="built_in">string</span>, body?: <span class="built_in">string</span>, buttonText?: <span class="built_in">string</span>, cancellable?: <span class="built_in">boolean</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params">&#123;title = <span class="string">&#x27;Foo&#x27;</span>, body = <span class="string">&#x27;Bar&#x27;</span>, buttonText = <span class="string">&#x27;Baz&#x27;</span>, cancellable = <span class="literal">true</span>&#125;: MenuConfig</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createMenu(&#123; <span class="attr">body</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†é¿å…å‰¯ä½œç”¨ï¼Œä¸å…è®¸æ˜¾å¼ä¼ é€’<code>undefined</code>æˆ–<code>null</code>å€¼ã€‚å‚è§ TypeScript ç¼–è¯‘å™¨çš„<code>--strictnullcheck</code>é€‰é¡¹ã€‚</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦ä½¿ç”¨Flagå‚æ•°"><a href="#ä¸è¦ä½¿ç”¨Flagå‚æ•°" class="headerlink" title="ä¸è¦ä½¿ç”¨Flagå‚æ•°"></a><a href="#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8flag%E5%8F%82%E6%95%B0"></a>ä¸è¦ä½¿ç”¨Flagå‚æ•°</h3><p>Flagå‚æ•°å‘Šè¯‰ç”¨æˆ·è¿™ä¸ªå‡½æ•°åšäº†ä¸æ­¢ä¸€ä»¶äº‹ã€‚å¦‚æœå‡½æ•°ä½¿ç”¨å¸ƒå°”å€¼å®ç°ä¸åŒçš„ä»£ç é€»è¾‘è·¯å¾„ï¼Œåˆ™è€ƒè™‘å°†å…¶æ‹†åˆ†ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFile</span>(<span class="params">name:<span class="built_in">string</span>, temp:<span class="built_in">boolean</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (temp) &#123;</span><br><span class="line"></span><br><span class="line">    fs.create(<span class="string">`./temp/<span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">    fs.create(name);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFile</span>(<span class="params">name:<span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  fs.create(name);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createTempFile</span>(<span class="params">name:<span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  fs.create(<span class="string">`./temp/<span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…å‰¯ä½œç”¨-part1"><a href="#é¿å…å‰¯ä½œç”¨-part1" class="headerlink" title="é¿å…å‰¯ä½œç”¨ (part1)"></a><a href="#%E9%81%BF%E5%85%8D%E5%89%AF%E4%BD%9C%E7%94%A8-part1"></a>é¿å…å‰¯ä½œç”¨ (part1)</h3><p>å½“å‡½æ•°äº§ç”Ÿé™¤äº†â€œä¸€ä¸ªè¾“å…¥ä¸€ä¸ªè¾“å‡ºâ€ä¹‹å¤–çš„è¡Œä¸ºæ—¶ï¼Œç§°è¯¥å‡½æ•°äº§ç”Ÿäº†å‰¯ä½œç”¨ã€‚æ¯”å¦‚å†™æ–‡ä»¶ã€ä¿®æ”¹å…¨å±€å˜é‡æˆ–å°†ä½ çš„é’±å…¨è½¬ç»™äº†ä¸€ä¸ªé™Œç”Ÿäººç­‰ã€‚</p>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¨‹åºéœ€è¦ä¸€äº›å‰¯ä½œç”¨ã€‚å¦‚å…ˆå‰ä¾‹å­ä¸­çš„å†™æ–‡ä»¶ï¼Œè¿™æ—¶åº”è¯¥å°†è¿™äº›åŠŸèƒ½é›†ä¸­åœ¨ä¸€èµ·ï¼Œä¸è¦ç”¨å¤šä¸ªå‡½æ•°/ç±»ä¿®æ”¹æŸä¸ªæ–‡ä»¶ã€‚ç”¨ä¸”åªç”¨ä¸€ä¸ª service å®Œæˆè¿™ä¸€éœ€æ±‚ã€‚</p>
<p>é‡ç‚¹æ˜¯è¦è§„é¿å¸¸è§é™·é˜±ï¼Œæ¯”å¦‚ï¼Œåœ¨æ— ç»“æ„å¯¹è±¡ä¹‹é—´å…±äº«çŠ¶æ€ã€ä½¿ç”¨å¯å˜æ•°æ®ç±»å‹ï¼Œä»¥åŠä¸ç¡®å®šå‰¯ä½œç”¨å‘ç”Ÿçš„ä½ç½®ã€‚å¦‚æœä½ èƒ½åšåˆ°è¿™ç‚¹ï¼Œä½ æ‰å¯èƒ½ç¬‘åˆ°æœ€åï¼</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Global variable referenced by following function.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If we had another function that used this name, now it&#x27;d be an array and it could break it.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Robert C. Martin&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toBase64</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  name = btoa(name);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">toBase64(); <span class="comment">// produces side effects to `name` variable</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// expected to print &#x27;Robert C. Martin&#x27; but instead &#x27;Um9iZXJ0IEMuIE1hcnRpbg==&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Global variable referenced by following function.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If we had another function that used this name, now it&#x27;d be an array and it could break it.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;Robert C. Martin&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toBase64</span>(<span class="params">text:<span class="built_in">string</span></span>):<span class="title">string</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> btoa(text);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> encodedName = toBase64(name);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…å‰¯ä½œç”¨-part2"><a href="#é¿å…å‰¯ä½œç”¨-part2" class="headerlink" title="é¿å…å‰¯ä½œç”¨ (part2)"></a><a href="#%E9%81%BF%E5%85%8D%E5%89%AF%E4%BD%9C%E7%94%A8-part2"></a>é¿å…å‰¯ä½œç”¨ (part2)</h3><p>åœ¨ JavaScript ä¸­ï¼ŒåŸç±»å‹æ˜¯å€¼ä¼ é€’ï¼Œå¯¹è±¡ã€æ•°ç»„æ˜¯å¼•ç”¨ä¼ é€’ã€‚</p>
<p>æœ‰è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ‚¨çš„å‡½æ•°ä¿®æ”¹äº†è´­ç‰©è½¦æ•°ç»„ï¼Œç”¨æ¥æ·»åŠ è´­ä¹°çš„å•†å“ï¼Œé‚£ä¹ˆå…¶ä»–ä½¿ç”¨è¯¥<code>cart</code>æ•°ç»„çš„å‡½æ•°éƒ½å°†å—æ­¤æ·»åŠ æ“ä½œçš„å½±å“ã€‚æƒ³è±¡ä¸€ä¸ªç³Ÿç³•çš„æƒ…å†µ:</p>
<p>ç”¨æˆ·ç‚¹å‡»â€œè´­ä¹°â€æŒ‰é’®ï¼Œè¯¥æŒ‰é’®è°ƒç”¨<code>purchase</code>å‡½æ•°ï¼Œå‡½æ•°è¯·æ±‚ç½‘ç»œå¹¶å°†<code>cart</code>æ•°ç»„å‘é€åˆ°æœåŠ¡å™¨ã€‚ç”±äºç½‘ç»œè¿æ¥ä¸å¥½ï¼Œè´­ä¹°åŠŸèƒ½å¿…é¡»ä¸æ–­é‡è¯•è¯·æ±‚ã€‚æ°å·§åœ¨ç½‘ç»œè¯·æ±‚å¼€å§‹å‰ï¼Œç”¨æˆ·ä¸å°å¿ƒç‚¹å‡»äº†æŸä¸ªä¸æƒ³è¦çš„é¡¹ç›®ä¸Šçš„â€œAdd to Cartâ€æŒ‰é’®ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿè€Œæ­¤æ—¶ç½‘ç»œè¯·æ±‚å¼€å§‹ï¼Œé‚£ä¹ˆ<code>purchase</code>å‡½æ•°å°†å‘é€æ„å¤–æ·»åŠ çš„é¡¹ï¼Œå› ä¸ºå®ƒå¼•ç”¨äº†ä¸€ä¸ªè´­ç‰©è½¦æ•°ç»„ï¼Œ<code>addItemToCart</code>å‡½æ•°ä¿®æ”¹äº†è¯¥æ•°ç»„ï¼Œæ·»åŠ äº†ä¸éœ€è¦çš„é¡¹ã€‚</p>
<p>ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯<code>addItemToCart</code>æ€»æ˜¯å…‹éš†<code>cart</code>ï¼Œç¼–è¾‘å®ƒï¼Œå¹¶è¿”å›å…‹éš†ã€‚è¿™ç¡®ä¿å¼•ç”¨è´­ç‰©è½¦çš„å…¶ä»–å‡½æ•°ä¸ä¼šå—åˆ°ä»»ä½•æ›´æ”¹çš„å½±å“ã€‚</p>
<p>æ³¨æ„ä¸¤ç‚¹:</p>
<ol>
<li><p> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½ç¡®å®æƒ³è¦ä¿®æ”¹è¾“å…¥å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µéå¸¸å°‘è§ã€‚ä¸”å¤§å¤šæ•°å¯ä»¥é‡æ„ï¼Œç¡®ä¿æ²¡å‰¯ä½œç”¨ï¼(è§<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pure_function">çº¯å‡½æ•°</a>)</p>
</li>
<li><p> æ€§èƒ½æ–¹é¢ï¼Œå…‹éš†å¤§å¯¹è±¡ä»£ä»·ç¡®å®æ¯”è¾ƒå¤§ã€‚è¿˜å¥½æœ‰ä¸€äº›å¾ˆå¥½çš„åº“ï¼Œå®ƒæä¾›äº†ä¸€äº›é«˜æ•ˆå¿«é€Ÿçš„æ–¹æ³•ï¼Œä¸”ä¸åƒæ‰‹åŠ¨å…‹éš†å¯¹è±¡å’Œæ•°ç»„é‚£æ ·å ç”¨å¤§é‡å†…å­˜ã€‚</p>
</li>
</ol>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addItemToCart</span>(<span class="params">cart: CartItem[], item:Item</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  cart.push(&#123; item, <span class="attr">date</span>: <span class="built_in">Date</span>.now() &#125;);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addItemToCart</span>(<span class="params">cart: CartItem[], item:Item</span>):<span class="title">CartItem</span>[] </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [...cart, &#123; item, <span class="attr">date</span>: <span class="built_in">Date</span>.now() &#125;];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦å†™å…¨å±€å‡½æ•°"><a href="#ä¸è¦å†™å…¨å±€å‡½æ•°" class="headerlink" title="ä¸è¦å†™å…¨å±€å‡½æ•°"></a><a href="#%E4%B8%8D%E8%A6%81%E5%86%99%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0"></a>ä¸è¦å†™å…¨å±€å‡½æ•°</h3><p>åœ¨ JavaScript ä¸­æ±¡æŸ“å…¨å±€çš„åšæ³•éå¸¸ç³Ÿç³•ï¼Œè¿™å¯èƒ½å¯¼è‡´å’Œå…¶ä»–åº“å†²çªï¼Œè€Œè°ƒç”¨ä½ çš„ API çš„ç”¨æˆ·åœ¨å®é™…ç¯å¢ƒä¸­å¾—åˆ°ä¸€ä¸ª exception å‰å¯¹è¿™ä¸€æƒ…å†µæ˜¯ä¸€æ— æ‰€çŸ¥çš„ã€‚</p>
<p>è€ƒè™‘è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼šå¦‚æœæƒ³è¦æ‰©å±• JavaScript çš„ <code>Array</code>ï¼Œä½¿å…¶æ‹¥æœ‰ä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„ä¹‹é—´å·®å¼‚çš„ <code>diff</code>æ–¹æ³•ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥å°†æ–°å‡½æ•°å†™å…¥<code>Array.prototype</code> ï¼Œä½†å®ƒå¯èƒ½ä¸å¦ä¸€ä¸ªå°è¯•åšåŒæ ·äº‹æƒ…çš„åº“å†²çªã€‚å¦‚æœå¦ä¸€ä¸ªåº“åªæ˜¯ä½¿ç”¨<code>diff</code>æ¥æŸ¥æ‰¾æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ä¹‹é—´çš„åŒºåˆ«å‘¢ï¼Ÿ</p>
<p>æ›´å¥½çš„åšæ³•æ˜¯æ‰©å±•<code>Array</code>ï¼Œå®ç°å¯¹åº”çš„å‡½æ•°åŠŸèƒ½ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="built_in">global</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">interface</span> Array&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    diff(other: T[]): <span class="built_in">Array</span>&lt;T&gt;;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.diff)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Array</span>.prototype.diff = <span class="function"><span class="keyword">function</span> &lt;<span class="title">T</span>&gt;(<span class="params">other: T[]</span>): <span class="title">T</span>[] </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> hash = <span class="keyword">new</span> <span class="built_in">Set</span>(other);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.filter(<span class="function"><span class="params">elem</span> =&gt;</span> !hash.has(elem));</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyArray</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  diff(other: T[]): T[] &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> hash = <span class="keyword">new</span> <span class="built_in">Set</span>(other);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.filter(<span class="function"><span class="params">elem</span> =&gt;</span> !hash.has(elem));</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="å‡½æ•°å¼ç¼–ç¨‹ä¼˜äºå‘½ä»¤å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹ä¼˜äºå‘½ä»¤å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹ä¼˜äºå‘½ä»¤å¼ç¼–ç¨‹"></a><a href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E4%BC%98%E4%BA%8E%E5%91%BD%E4%BB%A4%E5%BC%8F%E7%BC%96%E7%A8%8B"></a>å‡½æ•°å¼ç¼–ç¨‹ä¼˜äºå‘½ä»¤å¼ç¼–ç¨‹</h3><p>å°½é‡ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ï¼</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> contributions = [</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Uncle Bobby&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">500</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Suzie Q&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">1500</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Jimmy Gosling&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">150</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Gracie Hopper&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> totalOutput = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; contributions.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">  totalOutput += contributions[i].linesOfCode;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> contributions = [</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Uncle Bobby&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">500</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Suzie Q&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">1500</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Jimmy Gosling&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">150</span></span><br><span class="line"></span><br><span class="line">  &#125;, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Gracie Hopper&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">linesOfCode</span>: <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> totalOutput = contributions</span><br><span class="line"></span><br><span class="line">  .reduce(<span class="function">(<span class="params">totalLines, output</span>) =&gt;</span> totalLines + output.linesOfCode, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="å°è£…åˆ¤æ–­æ¡ä»¶"><a href="#å°è£…åˆ¤æ–­æ¡ä»¶" class="headerlink" title="å°è£…åˆ¤æ–­æ¡ä»¶"></a><a href="#%E5%B0%81%E8%A3%85%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"></a>å°è£…åˆ¤æ–­æ¡ä»¶</h3><p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (subscription.isTrial || account.balance &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">canActivateService</span>(<span class="params">subscription: Subscription, account: Account</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> subscription.isTrial || account.balance &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (canActivateService(subscription, account)) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…â€œå¦å®šâ€çš„åˆ¤æ–­"><a href="#é¿å…â€œå¦å®šâ€çš„åˆ¤æ–­" class="headerlink" title="é¿å…â€œå¦å®šâ€çš„åˆ¤æ–­"></a><a href="#%E9%81%BF%E5%85%8D%E5%90%A6%E5%AE%9A%E7%9A%84%E5%88%A4%E6%96%AD"></a>é¿å…â€œå¦å®šâ€çš„åˆ¤æ–­</h3><p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmailNotUsed</span>(<span class="params">email: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isEmailNotUsed(email)) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmailUsed</span>(<span class="params">email</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!isEmailUsed(node)) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…åˆ¤æ–­æ¡ä»¶"><a href="#é¿å…åˆ¤æ–­æ¡ä»¶" class="headerlink" title="é¿å…åˆ¤æ–­æ¡ä»¶"></a><a href="#%E9%81%BF%E5%85%8D%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"></a>é¿å…åˆ¤æ–­æ¡ä»¶</h3><p>è¿™çœ‹èµ·æ¥ä¼¼ä¹ä¸å¤ªå¯èƒ½å®Œæˆå•Šã€‚å¤§å¤šæ•°äººå¬åˆ°åç¬¬ä¸€ååº”æ˜¯ï¼Œâ€œæ²¡æœ‰ifè¯­å¥æ€ä¹ˆå®ç°åŠŸèƒ½å‘¢ï¼Ÿâ€ åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¤šæ€æ€§æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ â€œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿâ€ åŸå› å°±æ˜¯ä¹‹å‰æåˆ°çš„ï¼šå‡½æ•°åªåšä¸€ä»¶äº‹ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Airplane</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">type</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getCruisingAltitude</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (<span class="built_in">this</span>.type) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;777&#x27;</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude() - <span class="built_in">this</span>.getPassengerCount();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;Air Force One&#x27;</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;Cessna&#x27;</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude() - <span class="built_in">this</span>.getFuelExpenditure();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Unknown airplane type.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Airplane</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boeing777</span> <span class="keyword">extends</span> <span class="title">Airplane</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getCruisingAltitude</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude() - <span class="built_in">this</span>.getPassengerCount();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AirForceOne</span> <span class="keyword">extends</span> <span class="title">Airplane</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getCruisingAltitude</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cessna</span> <span class="keyword">extends</span> <span class="title">Airplane</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getCruisingAltitude</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.getMaxAltitude() - <span class="built_in">this</span>.getFuelExpenditure();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…ç±»å‹æ£€æŸ¥"><a href="#é¿å…ç±»å‹æ£€æŸ¥" class="headerlink" title="é¿å…ç±»å‹æ£€æŸ¥"></a><a href="#%E9%81%BF%E5%85%8D%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"></a>é¿å…ç±»å‹æ£€æŸ¥</h3><p>TypeScript æ˜¯ JavaScript çš„ä¸€ä¸ªä¸¥æ ¼çš„è¯­æ³•è¶…é›†ï¼Œå…·æœ‰é™æ€ç±»å‹æ£€æŸ¥çš„ç‰¹æ€§ã€‚æ‰€ä»¥æŒ‡å®šå˜é‡ã€å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œä»¥å……åˆ†åˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œèƒ½è®©é‡æ„æ›´å®¹æ˜“ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">travelToTexas</span>(<span class="params">vehicle: Bicycle | Car</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (vehicle <span class="keyword">instanceof</span> Bicycle) &#123;</span><br><span class="line"></span><br><span class="line">    vehicle.pedal(<span class="built_in">this</span>.currentLocation, <span class="keyword">new</span> Location(<span class="string">&#x27;texas&#x27;</span>));</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (vehicle <span class="keyword">instanceof</span> Car) &#123;</span><br><span class="line"></span><br><span class="line">    vehicle.drive(<span class="built_in">this</span>.currentLocation, <span class="keyword">new</span> Location(<span class="string">&#x27;texas&#x27;</span>));</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Vehicle = Bicycle | Car;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">travelToTexas</span>(<span class="params">vehicle: Vehicle</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  vehicle.move(<span class="built_in">this</span>.currentLocation, <span class="keyword">new</span> Location(<span class="string">&#x27;texas&#x27;</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦è¿‡åº¦ä¼˜åŒ–"><a href="#ä¸è¦è¿‡åº¦ä¼˜åŒ–" class="headerlink" title="ä¸è¦è¿‡åº¦ä¼˜åŒ–"></a><a href="#%E4%B8%8D%E8%A6%81%E8%BF%87%E5%BA%A6%E4%BC%98%E5%8C%96"></a>ä¸è¦è¿‡åº¦ä¼˜åŒ–</h3><p>ç°ä»£æµè§ˆå™¨åœ¨è¿è¡Œæ—¶è¿›è¡Œå¤§é‡çš„åº•å±‚ä¼˜åŒ–ã€‚å¾ˆå¤šæ—¶å€™ï¼Œä½ åšä¼˜åŒ–åªæ˜¯åœ¨æµªè´¹æ—¶é—´ã€‚æœ‰äº›ä¼˜ç§€<a target="_blank" rel="noopener" href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers">èµ„æº</a>å¯ä»¥å¸®åŠ©å®šä½å“ªé‡Œéœ€è¦ä¼˜åŒ–ï¼Œæ‰¾åˆ°å¹¶ä¿®å¤å®ƒã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// On old browsers, each iteration with uncached `list.length` would be costly</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// because of `list.length` recomputation. In modern browsers, this is optimized.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = list.length; i &lt; len; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åˆ é™¤æ— ç”¨ä»£ç "><a href="#åˆ é™¤æ— ç”¨ä»£ç " class="headerlink" title="åˆ é™¤æ— ç”¨ä»£ç "></a><a href="#%E5%88%A0%E9%99%A4%E6%97%A0%E7%94%A8%E4%BB%A3%E7%A0%81"></a>åˆ é™¤æ— ç”¨ä»£ç </h3><p>æ— ç”¨ä»£ç å’Œé‡å¤ä»£ç ä¸€æ ·æ— éœ€ä¿ç•™ã€‚å¦‚æœæ²¡æœ‰åœ°æ–¹è°ƒç”¨å®ƒï¼Œè¯·åˆ é™¤ï¼å¦‚æœä»ç„¶éœ€è¦å®ƒï¼Œå¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬å†å²ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">oldRequestModule</span>(<span class="params">url: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestModule</span>(<span class="params">url: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> req = requestModule;</span><br><span class="line"></span><br><span class="line">inventoryTracker(<span class="string">&#x27;apples&#x27;</span>, req, <span class="string">&#x27;www.inventory-awesome.io&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestModule</span>(<span class="params">url: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> req = requestModule;</span><br><span class="line"></span><br><span class="line">inventoryTracker(<span class="string">&#x27;apples&#x27;</span>, req, <span class="string">&#x27;www.inventory-awesome.io&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><a href="#ä½¿ç”¨è¿­ä»£å™¨å’Œç”Ÿæˆå™¨" class="headerlink" title="ä½¿ç”¨è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"></a><a href="#%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8"></a>ä½¿ç”¨è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</h3><p>åƒä½¿ç”¨æµä¸€æ ·å¤„ç†æ•°æ®é›†åˆæ—¶ï¼Œè¯·ä½¿ç”¨ç”Ÿæˆå™¨å’Œè¿­ä»£å™¨ã€‚</p>
<p>ç†ç”±å¦‚ä¸‹:</p>
<ul>
<li>  å°†è°ƒç”¨è€…ä¸ç”Ÿæˆå™¨å®ç°è§£è€¦ï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šï¼Œè°ƒç”¨è€…å†³å®šè¦è®¿é—®å¤šå°‘é¡¹ã€‚</li>
<li>  å»¶è¿Ÿæ‰§è¡Œï¼ŒæŒ‰éœ€ä½¿ç”¨ã€‚</li>
<li>  å†…ç½®æ”¯æŒä½¿ç”¨<code>for-of</code>è¯­æ³•è¿›è¡Œè¿­ä»£</li>
<li>  å…è®¸å®ç°ä¼˜åŒ–çš„è¿­ä»£å™¨æ¨¡å¼</li>
</ul>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> [<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">2</span>) <span class="keyword">return</span> [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> items: <span class="built_in">number</span>[] = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">while</span> (items.length &lt; n) &#123;</span><br><span class="line">    items.push(items[items.length - <span class="number">2</span>] + items[items.length - <span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  fibonacci(n).forEach(<span class="function"><span class="params">fib</span> =&gt;</span> <span class="built_in">console</span>.log(fib));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Print first 10 Fibonacci numbers.</span></span><br><span class="line">print(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generates an infinite stream of Fibonacci numbers.</span></span><br><span class="line"><span class="comment">// The generator doesn&#x27;t keep the array of all numbers.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fibonacci</span>(<span class="params"></span>): <span class="title">IterableIterator</span>&lt;<span class="title">number</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [a, b] = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> a;</span><br><span class="line">    [a, b] = [b, a + b];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> fib <span class="keyword">in</span> fibonacci()) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i++ === n) <span class="keyword">break</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(fib);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Print first 10 Fibonacci numbers.</span></span><br><span class="line">print(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>æœ‰äº›åº“é€šè¿‡é“¾æ¥â€œmapâ€ã€â€œsliceâ€ã€â€œforEachâ€ç­‰æ–¹æ³•ï¼Œè¾¾åˆ°ä¸åŸç”Ÿæ•°ç»„ç±»ä¼¼çš„æ–¹å¼å¤„ç†è¿­ä»£ã€‚å‚è§ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/itiriri">itiriri</a> é‡Œé¢æœ‰ä¸€äº›ä½¿ç”¨è¿­ä»£å™¨çš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼ˆæˆ–å¼‚æ­¥è¿­ä»£çš„æ“ä½œ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/itiriri-async">itiriri-async</a>ï¼‰ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itiriri <span class="keyword">from</span> <span class="string">&#x27;itiriri&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fibonacci</span>(<span class="params"></span>): <span class="title">IterableIterator</span>&lt;<span class="title">number</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [a, b] = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> a;</span><br><span class="line">    [a, b] = [b, a + b];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">itiriri(fibonacci())</span><br><span class="line">  .take(<span class="number">10</span>)</span><br><span class="line">  .forEach(<span class="function"><span class="params">fib</span> =&gt;</span> <span class="built_in">console</span>.log(fib));</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="å¯¹è±¡å’Œæ•°æ®ç»“æ„"><a href="#å¯¹è±¡å’Œæ•°æ®ç»“æ„" class="headerlink" title="å¯¹è±¡å’Œæ•°æ®ç»“æ„"></a><a href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"></a>å¯¹è±¡å’Œæ•°æ®ç»“æ„</h2><h3 id="ä½¿ç”¨getterså’Œsetters"><a href="#ä½¿ç”¨getterså’Œsetters" class="headerlink" title="ä½¿ç”¨getterså’Œsetters"></a><a href="#%E4%BD%BF%E7%94%A8getters%E5%92%8Csetters"></a>ä½¿ç”¨<code>getters</code>å’Œ<code>setters</code></h3><p>TypeScript æ”¯æŒ getter/setter è¯­æ³•ã€‚ä½¿ç”¨ getter å’Œ setter ä»å¯¹è±¡ä¸­è®¿é—®æ•°æ®æ¯”ç®€å•åœ°åœ¨å¯¹è±¡ä¸ŠæŸ¥æ‰¾å±æ€§è¦å¥½ã€‚åŸå› å¦‚ä¸‹:</p>
<ul>
<li>  å½“éœ€è¦åœ¨è·å–å¯¹è±¡å±æ€§ä¹‹å‰åšä¸€äº›äº‹æƒ…æ—¶ï¼Œä¸å¿…åœ¨ä»£ç ä¸­æŸ¥æ‰¾å¹¶ä¿®æ”¹æ¯ä¸ªè®¿é—®å™¨ã€‚</li>
<li>  æ‰§è¡Œ<code>set</code>æ—¶æ·»åŠ éªŒè¯æ›´ç®€å•ã€‚</li>
<li>  å°è£…å†…éƒ¨è¡¨ç¤ºã€‚</li>
<li>  æ›´å®¹æ˜“æ·»åŠ æ—¥å¿—å’Œé”™è¯¯å¤„ç†ã€‚</li>
<li>  å¯ä»¥å»¶è¿ŸåŠ è½½å¯¹è±¡çš„å±æ€§ï¼Œæ¯”å¦‚ä»æœåŠ¡å™¨è·å–å®ƒã€‚</li>
</ul>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BankAccount</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">balance</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> value = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> account = <span class="keyword">new</span> BankAccount();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (value &lt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Cannot set negative balance.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">account.balance = value;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BankAccount</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> accountBalance: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title">balance</span>(): <span class="title">number</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.accountBalance;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">balance</span>(<span class="params">value: <span class="built_in">number</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (value &lt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Cannot set negative balance.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.accountBalance = value;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> account = <span class="keyword">new</span> BankAccount();</span><br><span class="line"></span><br><span class="line">account.balance = <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="è®©å¯¹è±¡æ‹¥æœ‰-private-protected-æˆå‘˜"><a href="#è®©å¯¹è±¡æ‹¥æœ‰-private-protected-æˆå‘˜" class="headerlink" title="è®©å¯¹è±¡æ‹¥æœ‰ private/protected æˆå‘˜"></a><a href="#%E8%AE%A9%E5%AF%B9%E8%B1%A1%E6%8B%A5%E6%9C%89-privateprotected-%E6%88%90%E5%91%98"></a>è®©å¯¹è±¡æ‹¥æœ‰ private/protected æˆå‘˜</h3><p>TypeScript ç±»æˆå‘˜æ”¯æŒ <code>public</code>*(é»˜è®¤)*ã€<code>protected</code> ä»¥åŠ <code>private</code>çš„è®¿é—®é™åˆ¶ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">radius</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">radius: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.radius = radius;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">perimeter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * <span class="built_in">Math</span>.PI * <span class="built_in">this</span>.radius;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">surface</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.PI * <span class="built_in">this</span>.radius * <span class="built_in">this</span>.radius;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> radius: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">perimeter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * <span class="built_in">Math</span>.PI * <span class="built_in">this</span>.radius;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">surface</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.PI * <span class="built_in">this</span>.radius * <span class="built_in">this</span>.radius;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸å˜æ€§"><a href="#ä¸å˜æ€§" class="headerlink" title="ä¸å˜æ€§"></a><a href="#%E4%B8%8D%E5%8F%98%E6%80%A7"></a>ä¸å˜æ€§</h3><p>TypeScript ç±»å‹ç³»ç»Ÿå…è®¸å°†æ¥å£ã€ç±»ä¸Šçš„å•ä¸ªå±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œèƒ½ä»¥å‡½æ•°çš„æ–¹å¼è¿è¡Œã€‚</p>
<p>è¿˜æœ‰ä¸ªé«˜çº§åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®ç±»å‹<code>Readonly</code>ï¼Œå®ƒæ¥å—ç±»å‹ T å¹¶ä½¿ç”¨<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types">æ˜ å°„ç±»å‹</a>å°†å…¶æ‰€æœ‰å±æ€§æ ‡è®°ä¸ºåªè¯»ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Config &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">host</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  port: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  db: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Config &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">readonly</span> host: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">readonly</span> port: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">readonly</span> db: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ç±»å‹-vs-æ¥å£"><a href="#ç±»å‹-vs-æ¥å£" class="headerlink" title="ç±»å‹ vs æ¥å£"></a><a href="#%E7%B1%BB%E5%9E%8B-vs-%E6%8E%A5%E5%8F%A3"></a>ç±»å‹ vs æ¥å£</h3><p>å½“å¯èƒ½éœ€è¦è”åˆæˆ–äº¤é›†æ—¶ï¼Œè¯·ä½¿ç”¨ç±»å‹ã€‚å¦‚æœéœ€è¦<code>æ‰©å±•</code>æˆ–<code>å®ç°</code>ï¼Œè¯·ä½¿ç”¨æ¥å£ã€‚ç„¶è€Œï¼Œæ²¡æœ‰ä¸¥æ ¼çš„è§„åˆ™ï¼Œåªæœ‰é€‚åˆçš„è§„åˆ™ã€‚</p>
<p>è¯¦ç»†è§£é‡Šå‚è€ƒå…³äº Typescript ä¸­<code>type</code>å’Œ<code>interface</code>åŒºåˆ«çš„<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/37233735/typescript-interfaces-vs-types/54101543#54101543">è§£ç­”</a> ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> EmailConfig &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> DbConfig &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Config &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Shape &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> EmailConfig &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> DbConfig &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Config  = EmailConfig | DbConfig;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Shape &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="title">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="title">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a><a href="#%E7%B1%BB"></a>ç±»</h2><h3 id="å°ã€å°ã€å°ï¼è¦äº‹æƒ…è¯´ä¸‰é"><a href="#å°ã€å°ã€å°ï¼è¦äº‹æƒ…è¯´ä¸‰é" class="headerlink" title="å°ã€å°ã€å°ï¼è¦äº‹æƒ…è¯´ä¸‰é"></a><a href="#%E5%B0%8F%E5%B0%8F%E5%B0%8F%E8%A6%81%E4%BA%8B%E6%83%85%E8%AF%B4%E4%B8%89%E9%81%8D"></a>å°ã€å°ã€å°ï¼è¦äº‹æƒ…è¯´ä¸‰é</h3><p>ç±»çš„å¤§å°æ˜¯ç”±å®ƒçš„èŒè´£æ¥åº¦é‡çš„ã€‚æŒ‰ç…§<em>å•ä¸€èŒè´£åŸåˆ™</em>ï¼Œç±»è¦å°ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dashboard</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  getLanguage(): <span class="built_in">string</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  setLanguage(language: <span class="built_in">string</span>): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  showProgress(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  hideProgress(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  isDirty(): <span class="built_in">boolean</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  disable(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  enable(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  addSubscription(subscription: Subscription): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  removeSubscription(subscription: Subscription): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  addUser(user: User): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  removeUser(user: User): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  goToHomePage(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  updateProfile(details: UserDetails): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  getVersion(): <span class="built_in">string</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dashboard</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  disable(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  enable(): <span class="built_in">void</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">  getVersion(): <span class="built_in">string</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// split the responsibilities by moving the remaining methods to other classes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é«˜å†…èšä½è€¦åˆ"><a href="#é«˜å†…èšä½è€¦åˆ" class="headerlink" title="é«˜å†…èšä½è€¦åˆ"></a><a href="#%E9%AB%98%E5%86%85%E8%81%9A%E4%BD%8E%E8%80%A6%E5%90%88"></a>é«˜å†…èšä½è€¦åˆ</h3><p>å†…èšï¼šå®šä¹‰äº†ç±»æˆå‘˜ä¹‹é—´ç›¸äº’å…³è”çš„ç¨‹åº¦ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œé«˜å†…èšç±»çš„æ¯ä¸ªæ–¹æ³•éƒ½åº”è¯¥ä½¿ç”¨ç±»ä¸­çš„æ‰€æœ‰å­—æ®µï¼Œå®é™…ä¸Šè¿™ä¸å¯èƒ½ä¹Ÿä¸å¯å–ã€‚ä½†æˆ‘ä»¬ä¾ç„¶æå€¡é«˜å†…èšã€‚</p>
<p>è€¦åˆï¼šæŒ‡çš„æ˜¯ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”ç¨‹åº¦ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªç±»çš„æ›´æ”¹ä¸å½±å“å¦ä¸€ä¸ªç±»ï¼Œåˆ™ç§°ä¸ºä½è€¦åˆç±»ã€‚</p>
<p>å¥½çš„è½¯ä»¶è®¾è®¡å…·æœ‰<strong>é«˜å†…èšæ€§</strong>å’Œ<strong>ä½è€¦åˆæ€§</strong>ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Bad: each private variable is used by one or another group of methods.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// It makes clear evidence that the class is holding more than a single responsibility.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// If I need only to create the service to get the transactions for a user,</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// I&#x27;m still forced to pass and instance of emailSender.</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> db: Database,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> emailSender: EmailSender</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> getUser(id: <span class="built_in">number</span>): <span class="built_in">Promise</span>&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> db.users.findOne(&#123; id &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> getTransactions(userId: <span class="built_in">number</span>): <span class="built_in">Promise</span>&lt;Transaction[]&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> db.transactions.find(&#123; userId &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendGreeting(): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> emailSender.send(<span class="string">&#x27;Welcome!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendNotification(text: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> emailSender.send(text);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendNewsletter(): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> db: Database</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> getUser(id: <span class="built_in">number</span>): <span class="built_in">Promise</span>&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> db.users.findOne(&#123; id &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> getTransactions(userId: <span class="built_in">number</span>): <span class="built_in">Promise</span>&lt;Transaction[]&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> db.transactions.find(&#123; userId &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserNotifier</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> emailSender: EmailSender</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendGreeting(): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> emailSender.send(<span class="string">&#x27;Welcome!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendNotification(text: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> emailSender.send(text);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> sendNewsletter(): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ç»„åˆå¤§äºç»§æ‰¿"><a href="#ç»„åˆå¤§äºç»§æ‰¿" class="headerlink" title="ç»„åˆå¤§äºç»§æ‰¿"></a><a href="#%E7%BB%84%E5%90%88%E5%A4%A7%E4%BA%8E%E7%BB%A7%E6%89%BF"></a>ç»„åˆå¤§äºç»§æ‰¿</h3><p>æ­£å¦‚â€œå››äººå¸®â€åœ¨<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Design_Patterns">è®¾è®¡æ¨¡å¼</a>ä¸­æ‰€æŒ‡å‡ºçš„é‚£æ ·ï¼Œæ‚¨å°½å¯èƒ½ä½¿ç”¨ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿ã€‚ç»„åˆå’Œç»§æ‰¿å„æœ‰ä¼˜åŠ£ã€‚è¿™ä¸ªå‡†åˆ™çš„ä¸»è¦è§‚ç‚¹æ˜¯ï¼Œå¦‚æœä½ æ½œæ„è¯†åœ°å€¾å‘äºç»§æ‰¿ï¼Œè¯•ç€æƒ³æƒ³ç»„åˆæ˜¯å¦èƒ½æ›´å¥½åœ°ç»™ä½ çš„é—®é¢˜å»ºæ¨¡ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ç»§æ‰¿ï¼Ÿè¿™å–å†³äºä½ é¢ä¸´çš„é—®é¢˜ã€‚ä»¥ä¸‹åœºæ™¯ä½¿ç”¨ç»§æ‰¿æ›´å¥½:</p>
<ol>
<li> ç»§æ‰¿ä»£è¡¨çš„æ˜¯â€œis-aâ€å…³ç³»ï¼Œè€Œä¸æ˜¯â€œhas-aâ€å…³ç³» (äºº -&gt; åŠ¨ç‰© vs. ç”¨æˆ· -&gt; ç”¨æˆ·è¯¦æƒ…)ã€‚</li>
<li> å¯å¤ç”¨åŸºç±»çš„ä»£ç  (äººç±»å¯ä»¥åƒæ‰€æœ‰åŠ¨ç‰©ä¸€æ ·ç§»åŠ¨)ã€‚</li>
<li> å¸Œæœ›é€šè¿‡æ›´æ”¹åŸºç±»å¯¹æ´¾ç”Ÿç±»è¿›è¡Œå…¨å±€æ›´æ”¹(æ”¹å˜æ‰€æœ‰åŠ¨ç‰©åœ¨è¿åŠ¨æ—¶çš„çƒ­é‡æ¶ˆè€—)ã€‚</li>
</ol>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> name: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> email:<span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bad because Employees &quot;have&quot; tax data. EmployeeTaxData is not a type of Employee</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeTaxData</span> <span class="keyword">extends</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    email:<span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> ssn: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> salary: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>(name, email);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> taxData: EmployeeTaxData;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> name: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> email:<span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setTaxData(ssn: <span class="built_in">string</span>, <span class="attr">salary</span>: <span class="built_in">number</span>): Employee &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.taxData = <span class="keyword">new</span> EmployeeTaxData(ssn, salary);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeTaxData</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> <span class="keyword">readonly</span> ssn: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> <span class="keyword">readonly</span> salary: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨æ–¹æ³•é“¾"><a href="#ä½¿ç”¨æ–¹æ³•é“¾" class="headerlink" title="ä½¿ç”¨æ–¹æ³•é“¾"></a><a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E9%93%BE"></a>ä½¿ç”¨æ–¹æ³•é“¾</h3><p>éå¸¸æœ‰ç”¨çš„æ¨¡å¼ï¼Œåœ¨è®¸å¤šåº“ä¸­éƒ½å¯ä»¥çœ‹åˆ°ã€‚å®ƒè®©ä»£ç è¡¨è¾¾åŠ›æ›´å¥½ï¼Œä¹Ÿæ›´ç®€æ´ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueryBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> collection: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> pageNumber: <span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> itemsPerPage: <span class="built_in">number</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> orderByFields: <span class="built_in">string</span>[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">from</span>(collection: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.collection = collection;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  page(<span class="built_in">number</span>: <span class="built_in">number</span>, <span class="attr">itemsPerPage</span>: <span class="built_in">number</span> = <span class="number">100</span>): <span class="built_in">void</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.pageNumber = <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.itemsPerPage = itemsPerPage;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  orderBy(...fields: <span class="built_in">string</span>[]): <span class="built_in">void</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.orderByFields = fields;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  build(): Query &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> QueryBuilder();</span><br><span class="line"></span><br><span class="line">query.from(<span class="string">&#x27;users&#x27;</span>);</span><br><span class="line"></span><br><span class="line">query.page(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">query.orderBy(<span class="string">&#x27;firstName&#x27;</span>, <span class="string">&#x27;lastName&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = queryBuilder.build();</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueryBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> collection: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> pageNumber: <span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> itemsPerPage: <span class="built_in">number</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> orderByFields: <span class="built_in">string</span>[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">from</span>(collection: <span class="built_in">string</span>): <span class="built_in">this</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.collection = collection;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  page(<span class="built_in">number</span>: <span class="built_in">number</span>, <span class="attr">itemsPerPage</span>: <span class="built_in">number</span> = <span class="number">100</span>): <span class="built_in">this</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.pageNumber = <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.itemsPerPage = itemsPerPage;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  orderBy(...fields: <span class="built_in">string</span>[]): <span class="built_in">this</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.orderByFields = fields;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  build(): Query &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> QueryBuilder()</span><br><span class="line"></span><br><span class="line">  .from(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  .page(<span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  .orderBy(<span class="string">&#x27;firstName&#x27;</span>, <span class="string">&#x27;lastName&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  .build();</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="SOLIDåŸåˆ™"><a href="#SOLIDåŸåˆ™" class="headerlink" title="SOLIDåŸåˆ™"></a><a href="#solid%E5%8E%9F%E5%88%99"></a>SOLIDåŸåˆ™</h2><h3 id="å•ä¸€èŒè´£åŸåˆ™-SRP"><a href="#å•ä¸€èŒè´£åŸåˆ™-SRP" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™ (SRP)"></a><a href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99-srp"></a>å•ä¸€èŒè´£åŸåˆ™ (SRP)</h3><p>æ­£å¦‚ Clean Code ä¸­æ‰€è¿°ï¼Œâ€œç±»æ›´æ”¹çš„åŸå› ä¸åº”è¯¥è¶…è¿‡ä¸€ä¸ªâ€ã€‚å°†å¾ˆå¤šåŠŸèƒ½æ‰“åŒ…åœ¨ä¸€ä¸ªç±»çœ‹èµ·æ¥å¾ˆè¯±äººï¼Œå°±åƒåœ¨èˆªç­ä¸Šæ‚¨åªèƒ½å¸¦ä¸€ä¸ªæ‰‹æç®±ã€‚è¿™æ ·å¸¦æ¥çš„é—®é¢˜æ˜¯ï¼Œåœ¨æ¦‚å¿µä¸Šç±»ä¸å…·æœ‰å†…èšæ€§ï¼Œä¸”æœ‰å¾ˆå¤šåŸå› å»ä¿®æ”¹ç±»ã€‚è€Œæˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘ä¿®æ”¹ç±»çš„æ¬¡æ•°ã€‚å¦‚æœä¸€ä¸ªç±»åŠŸèƒ½å¤ªå¤šï¼Œä¿®æ”¹äº†å…¶ä¸­ä¸€å¤„å¾ˆéš¾ç¡®å®šå¯¹ä»£ç åº“ä¸­å…¶ä»–ä¾èµ–æ¨¡å—çš„å½±å“ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserSettings</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> user: User</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">changeSettings</span>(<span class="params">settings: UserSettings</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.verifyCredentials()) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">verifyCredentials</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserAuth</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> user: User</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">verifyCredentials</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserSettings</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> auth: UserAuth;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> user: User</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.auth = <span class="keyword">new</span> UserAuth(user);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">changeSettings</span>(<span class="params">settings: UserSettings</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.auth.verifyCredentials()) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="å¼€é—­åŸåˆ™-OCP"><a href="#å¼€é—­åŸåˆ™-OCP" class="headerlink" title="å¼€é—­åŸåˆ™ (OCP)"></a><a href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99-ocp"></a>å¼€é—­åŸåˆ™ (OCP)</h3><p>æ­£å¦‚ Bertrand Meyer æ‰€è¯´ï¼Œâ€œè½¯ä»¶å®ä½“(ç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰)åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚â€ æ¢å¥è¯è¯´ï¼Œå°±æ˜¯å…è®¸åœ¨ä¸æ›´æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹æ·»åŠ æ–°åŠŸèƒ½ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AjaxAdapter</span> <span class="keyword">extends</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeAdapter</span> <span class="keyword">extends</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpRequester</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> adapter: Adapter</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> fetch&lt;T&gt;(url: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.adapter <span class="keyword">instanceof</span> AjaxAdapter) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> makeAjaxCall&lt;T&gt;(url);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// transform response and return</span></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.adapter <span class="keyword">instanceof</span> NodeAdapter) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> makeHttpCall&lt;T&gt;(url);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// transform response and return</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAjaxCall</span>&lt;<span class="title">T</span>&gt;(<span class="params">url: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// request and return promise</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeHttpCall</span>&lt;<span class="title">T</span>&gt;(<span class="params">url: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// request and return promise</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">abstract</span> <span class="keyword">async</span> request&lt;T&gt;(url: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;T&gt;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AjaxAdapter</span> <span class="keyword">extends</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> request&lt;T&gt;(url: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// request and return promise</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeAdapter</span> <span class="keyword">extends</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> request&lt;T&gt;(url: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// request and return promise</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpRequester</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> adapter: Adapter</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> fetch&lt;T&gt;(url: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="built_in">this</span>.adapter.request&lt;T&gt;(url);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// transform response and return</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é‡Œæ°æ›¿æ¢åŸåˆ™-LSP"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™-LSP" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™ (LSP)"></a><a href="#%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99-lsp"></a>é‡Œæ°æ›¿æ¢åŸåˆ™ (LSP)</h3><p>å¯¹ä¸€ä¸ªéå¸¸ç®€å•çš„æ¦‚å¿µæ¥è¯´ï¼Œè¿™æ˜¯ä¸ªå¯æ€•çš„æœ¯è¯­ã€‚</p>
<p>å®ƒçš„æ­£å¼å®šä¹‰æ˜¯ï¼šâ€œå¦‚æœ S æ˜¯ T çš„ä¸€ä¸ªå­ç±»å‹ï¼Œé‚£ä¹ˆç±»å‹ T çš„å¯¹è±¡å¯ä»¥è¢«æ›¿æ¢ä¸ºç±»å‹ S çš„å¯¹è±¡ï¼Œè€Œä¸ä¼šæ”¹å˜ç¨‹åºä»»ä½•æœŸæœ›çš„å±æ€§(æ­£ç¡®æ€§ã€æ‰§è¡Œçš„ä»»åŠ¡ç­‰)â€œã€‚è¿™æ˜¯ä¸€ä¸ªæ›´å¯æ€•çš„å®šä¹‰ã€‚</p>
<p>æ›´å¥½çš„è§£é‡Šæ˜¯ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªçˆ¶ç±»å’Œä¸€ä¸ªå­ç±»ï¼Œé‚£ä¹ˆçˆ¶ç±»å’Œå­ç±»å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œè€Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚è¿™å¯èƒ½ä»ç„¶ä»¤äººå›°æƒ‘ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹ä¸€çœ‹ç»å…¸çš„æ­£æ–¹å½¢çŸ©å½¢çš„ä¾‹å­ã€‚ä»æ•°å­¦ä¸Šè®²ï¼Œæ­£æ–¹å½¢æ˜¯çŸ©å½¢ï¼Œä½†æ˜¯å¦‚æœæ‚¨é€šè¿‡ç»§æ‰¿ä½¿ç”¨ â€œis-aâ€ å…³ç³»å¯¹å…¶å»ºæ¨¡ï¼Œæ‚¨å¾ˆå¿«å°±ä¼šé‡åˆ°éº»çƒ¦ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">protected</span> width: <span class="built_in">number</span> = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">protected</span> height: <span class="built_in">number</span> = <span class="number">0</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setColor</span>(<span class="params">color: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">area: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setWidth</span>(<span class="params">width: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.width = width;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setHeight</span>(<span class="params">height: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.height = height;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getArea(): <span class="built_in">number</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.width * <span class="built_in">this</span>.height;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">extends</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setWidth</span>(<span class="params">width: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.width = width;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.height = width;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setHeight</span>(<span class="params">height: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.width = height;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.height = height;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderLargeRectangles</span>(<span class="params">rectangles: Rectangle[]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  rectangles.forEach(<span class="function">(<span class="params">rectangle</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    rectangle.setWidth(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    rectangle.setHeight(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> area = rectangle.getArea(); <span class="comment">// BAD: Returns 25 for Square. Should be 20.</span></span><br><span class="line"></span><br><span class="line">    rectangle.render(area);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rectangles = [<span class="keyword">new</span> Rectangle(), <span class="keyword">new</span> Rectangle(), <span class="keyword">new</span> Square()];</span><br><span class="line"></span><br><span class="line">renderLargeRectangles(rectangles);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">setColor</span>(<span class="params">color: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">area: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">abstract</span> getArea(): <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> width = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span> <span class="keyword">readonly</span> height = <span class="number">0</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getArea(): <span class="built_in">number</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.width * <span class="built_in">this</span>.height;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> length: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getArea(): <span class="built_in">number</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.length * <span class="built_in">this</span>.length;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderLargeShapes</span>(<span class="params">shapes: Shape[]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  shapes.forEach(<span class="function">(<span class="params">shape</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> area = shape.getArea();</span><br><span class="line"></span><br><span class="line">    shape.render(area);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> shapes = [<span class="keyword">new</span> Rectangle(<span class="number">4</span>, <span class="number">5</span>), <span class="keyword">new</span> Rectangle(<span class="number">4</span>, <span class="number">5</span>), <span class="keyword">new</span> Square(<span class="number">5</span>)];</span><br><span class="line"></span><br><span class="line">renderLargeShapes(shapes);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="æ¥å£éš”ç¦»åŸåˆ™-ISP"><a href="#æ¥å£éš”ç¦»åŸåˆ™-ISP" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™ (ISP)"></a><a href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99-isp"></a>æ¥å£éš”ç¦»åŸåˆ™ (ISP)</h3><p>â€œå®¢æˆ·ä¸åº”è¯¥è¢«è¿«ä¾èµ–äºä»–ä»¬ä¸ä½¿ç”¨çš„æ¥å£ã€‚â€ è¿™ä¸€åŸåˆ™ä¸å•ä¸€è´£ä»»åŸåˆ™å¯†åˆ‡ç›¸å…³ã€‚è¿™æ„å‘³ç€ä¸åº”è¯¥è®¾è®¡ä¸€ä¸ªå¤§è€Œå…¨çš„æŠ½è±¡ï¼Œå¦åˆ™ä¼šå¢åŠ å®¢æˆ·çš„è´Ÿæ‹…ï¼Œå› ä¸ºä»–ä»¬éœ€è¦å®ç°ä¸€äº›ä¸éœ€è¦çš„æ–¹æ³•ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> ISmartPrinter &#123;</span><br><span class="line"></span><br><span class="line">  print();</span><br><span class="line"></span><br><span class="line">  fax();</span><br><span class="line"></span><br><span class="line">  scan();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AllInOnePrinter</span> <span class="title">implements</span> <span class="title">ISmartPrinter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">print</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">fax</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">scan</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EconomicPrinter</span> <span class="title">implements</span> <span class="title">ISmartPrinter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">print</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">fax</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Fax not supported.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">scan</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Scan not supported.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IPrinter &#123;</span><br><span class="line"></span><br><span class="line">  print();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> IFax &#123;</span><br><span class="line"></span><br><span class="line">  fax();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> IScanner &#123;</span><br><span class="line"></span><br><span class="line">  scan();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AllInOnePrinter</span> <span class="title">implements</span> <span class="title">IPrinter</span>, <span class="title">IFax</span>, <span class="title">IScanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">print</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">fax</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">scan</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EconomicPrinter</span> <span class="title">implements</span> <span class="title">IPrinter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">print</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¾èµ–åè½¬åŸåˆ™-Dependency-Inversion-Principle"><a href="#ä¾èµ–åè½¬åŸåˆ™-Dependency-Inversion-Principle" class="headerlink" title="ä¾èµ–åè½¬åŸåˆ™(Dependency Inversion Principle)"></a><a href="#%E4%BE%9D%E8%B5%96%E5%8F%8D%E8%BD%AC%E5%8E%9F%E5%88%99dependency-inversion-principle"></a>ä¾èµ–åè½¬åŸåˆ™(Dependency Inversion Principle)</h3><p>è¿™ä¸ªåŸåˆ™æœ‰ä¸¤ä¸ªè¦ç‚¹:</p>
<ol>
<li> é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚</li>
<li> æŠ½è±¡ä¸ä¾èµ–å®ç°ï¼Œå®ç°åº”ä¾èµ–æŠ½è±¡ã€‚</li>
</ol>
<p>ä¸€å¼€å§‹è¿™éš¾ä»¥ç†è§£ï¼Œä½†æ˜¯å¦‚æœä½ ä½¿ç”¨è¿‡ Angularï¼Œä½ å°±ä¼šçœ‹åˆ°ä»¥ä¾èµ–æ³¨å…¥(DI)çš„æ–¹å¼å®ç°äº†è¿™ä¸€åŸåˆ™ã€‚è™½ç„¶æ¦‚å¿µä¸åŒï¼Œä½†æ˜¯ DIP é˜»æ­¢é«˜çº§æ¨¡å—äº†è§£å…¶ä½çº§æ¨¡å—çš„ç»†èŠ‚å¹¶è¿›è¡Œè®¾ç½®ã€‚å®ƒå¯ä»¥é€šè¿‡ DI å®ç°è¿™ä¸€ç‚¹ã€‚è¿™æ ·åšçš„ä¸€ä¸ªå·¨å¤§å¥½å¤„æ˜¯å‡å°‘äº†æ¨¡å—ä¹‹é—´çš„è€¦åˆã€‚è€¦åˆéå¸¸ç³Ÿç³•ï¼Œå®ƒè®©ä»£ç éš¾ä»¥é‡æ„ã€‚</p>
<p>DIP é€šå¸¸æ˜¯é€šè¿‡ä½¿ç”¨æ§åˆ¶åè½¬(IoC)å®¹å™¨æ¥å®ç°çš„ã€‚æ¯”å¦‚ï¼šTypeScript çš„ IoC å®¹å™¨ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/inversify">InversifyJs</a></p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; readFile <span class="keyword">as</span> readFileCb &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; promisify &#125; <span class="keyword">from</span> <span class="string">&#x27;util&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFile = promisify(readFileCb);</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ReportData = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ..</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XmlFormatter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  parse&lt;T&gt;(content: <span class="built_in">string</span>): T &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Converts an XML string to an object T</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReportReader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// BAD: We have created a dependency on a specific request implementation.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// We should just have ReportReader depend on a parse method: `parse`</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> formatter = <span class="keyword">new</span> XmlFormatter();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> read(path: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;ReportData&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> readFile(path, <span class="string">&#x27;UTF8&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.formatter.parse&lt;ReportData&gt;(text);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> ReportReader();</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> report = <span class="keyword">await</span> reader.read(<span class="string">&#x27;report.xml&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; readFile <span class="keyword">as</span> readFileCb &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; promisify &#125; <span class="keyword">from</span> <span class="string">&#x27;util&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFile = promisify(readFileCb);</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ReportData = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ..</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Formatter &#123;</span><br><span class="line"></span><br><span class="line">  parse&lt;T&gt;(content: <span class="built_in">string</span>): T;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XmlFormatter</span> <span class="title">implements</span> <span class="title">Formatter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  parse&lt;T&gt;(content: <span class="built_in">string</span>): T &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Converts an XML string to an object T</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JsonFormatter</span> <span class="title">implements</span> <span class="title">Formatter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  parse&lt;T&gt;(content: <span class="built_in">string</span>): T &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Converts a JSON string to an object T</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReportReader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> formatter: Formatter</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> read(path: <span class="built_in">string</span>): <span class="built_in">Promise</span>&lt;ReportData&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> readFile(path, <span class="string">&#x27;UTF8&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.formatter.parse&lt;ReportData&gt;(text);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> ReportReader(<span class="keyword">new</span> XmlFormatter());</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> report = <span class="keyword">await</span> reader.read(<span class="string">&#x27;report.xml&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// or if we had to read a json report:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> ReportReader(<span class="keyword">new</span> JsonFormatter());</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> report = <span class="keyword">await</span> reader.read(<span class="string">&#x27;report.json&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a><a href="#%E6%B5%8B%E8%AF%95"></a>æµ‹è¯•</h2><p>æµ‹è¯•æ¯”å‘è´§æ›´é‡è¦ã€‚å¦‚æœæ²¡æœ‰æµ‹è¯•æˆ–æ•°é‡ä¸è¶³ï¼Œé‚£ä¹ˆæ¯æ¬¡å‘å¸ƒä»£ç æ—¶éƒ½æ— æ³•ç¡®ä¿ä¸å¼•å…¥é—®é¢˜ã€‚æ€æ ·æ‰ç®—æ˜¯è¶³å¤Ÿçš„æµ‹è¯•ï¼Ÿè¿™å–å†³äºå›¢é˜Ÿï¼Œä½†æ˜¯æ‹¥æœ‰100%çš„è¦†ç›–ç‡(æ‰€æœ‰è¯­å¥å’Œåˆ†æ”¯)ä¼šè®©å›¢é˜Ÿæ›´æœ‰ä¿¡å¿ƒã€‚è¿™ä¸€åˆ‡éƒ½è¦åŸºäºå¥½çš„æµ‹è¯•æ¡†æ¶ä»¥åŠ<a target="_blank" rel="noopener" href="https://github.com/gotwarlost/istanbul">è¦†ç›–ç‡å·¥å…·</a>ã€‚</p>
<p>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸ç¼–å†™æµ‹è¯•ã€‚æœ‰<a target="_blank" rel="noopener" href="http://jstherightway.org/#testing-tools">å¾ˆå¤šä¼˜ç§€çš„ JS æµ‹è¯•æ¡†æ¶</a>éƒ½æ”¯æŒ TypeScriptï¼Œæ‰¾ä¸ªå›¢é˜Ÿå–œæ¬¢çš„ã€‚ç„¶åä¸ºæ¯ä¸ªæ–°ç‰¹æ€§/æ¨¡å—ç¼–å†™æµ‹è¯•ã€‚å¦‚æœæ‚¨å–œæ¬¢æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)ï¼Œé‚£å°±å¤ªå¥½äº†ï¼Œé‡ç‚¹æ˜¯ç¡®ä¿åœ¨å¼€å‘ä»»ä½•ç‰¹æ€§æˆ–é‡æ„ç°æœ‰ç‰¹æ€§ä¹‹å‰ï¼Œä»£ç è¦†ç›–ç‡å·²ç»è¾¾åˆ°è¦æ±‚ã€‚</p>
<h3 id="TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰ä¸‰å®šå¾‹"><a href="#TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰ä¸‰å®šå¾‹" class="headerlink" title="TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰ä¸‰å®šå¾‹"></a><a href="#tdd%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E4%B8%89%E5%AE%9A%E5%BE%8B"></a>TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰ä¸‰å®šå¾‹</h3><ol>
<li> åœ¨ç¼–å†™ä¸èƒ½é€šè¿‡çš„å•å…ƒæµ‹è¯•å‰ï¼Œä¸å¯ç¼–å†™ç”Ÿäº§ä»£ç ã€‚</li>
<li> åªå¯ç¼–å†™åˆšå¥½æ— æ³•é€šè¿‡çš„å•å…ƒæµ‹è¯•ï¼Œä¸èƒ½ç¼–è¯‘ä¹Ÿç®—ä¸è¿‡ã€‚</li>
<li> åªå¯ç¼–å†™åˆšå¥½è¶³ä»¥é€šè¿‡å½“å‰å¤±è´¥æµ‹è¯•çš„ç”Ÿäº§ä»£ç ã€‚</li>
</ol>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="F-I-R-S-T-å‡†åˆ™"><a href="#F-I-R-S-T-å‡†åˆ™" class="headerlink" title="F.I.R.S.T.å‡†åˆ™"></a><a href="#first%E5%87%86%E5%88%99"></a>F.I.R.S.T.å‡†åˆ™</h3><p>æ•´æ´çš„æµ‹è¯•åº”éµå¾ªä»¥ä¸‹å‡†åˆ™:</p>
<ul>
<li>  <strong>å¿«é€Ÿ</strong>ï¼ˆFastï¼‰ï¼Œæµ‹è¯•åº”è¯¥å¿«ï¼ˆåŠæ—¶åé¦ˆå‡ºä¸šåŠ¡ä»£ç çš„é—®é¢˜ï¼‰ã€‚</li>
<li>  <strong>ç‹¬ç«‹</strong>ï¼ˆIndependentï¼‰ï¼Œæ¯ä¸ªæµ‹è¯•æµç¨‹åº”è¯¥ç‹¬ç«‹ã€‚</li>
<li>  <strong>å¯é‡å¤</strong>ï¼ˆRepeatableï¼‰ï¼Œæµ‹è¯•åº”è¯¥åœ¨ä»»ä½•ç¯å¢ƒä¸Šéƒ½èƒ½é‡å¤é€šè¿‡ã€‚</li>
<li>  <strong>è‡ªæˆ‘éªŒè¯</strong>ï¼ˆSelf-Validatingï¼‰ï¼Œæµ‹è¯•ç»“æœåº”è¯¥æ˜ç¡®<em>é€šè¿‡</em>æˆ–è€…<em>å¤±è´¥</em>ã€‚</li>
<li>  <strong>åŠæ—¶</strong>ï¼ˆTimelyï¼‰ï¼Œæµ‹è¯•ä»£ç åº”è¯¥åœ¨äº§å“ä»£ç ä¹‹å‰ç¼–å†™ã€‚</li>
</ul>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="å•ä¸€çš„æµ‹è¯•æ¯ä¸ªæ¦‚å¿µ"><a href="#å•ä¸€çš„æµ‹è¯•æ¯ä¸ªæ¦‚å¿µ" class="headerlink" title="å•ä¸€çš„æµ‹è¯•æ¯ä¸ªæ¦‚å¿µ"></a><a href="#%E5%8D%95%E4%B8%80%E7%9A%84%E6%B5%8B%E8%AF%95%E6%AF%8F%E4%B8%AA%E6%A6%82%E5%BF%B5"></a>å•ä¸€çš„æµ‹è¯•æ¯ä¸ªæ¦‚å¿µ</h3><p>æµ‹è¯•ä¹Ÿåº”è¯¥éµå¾ª<em>å•ä¸€èŒè´£åŸåˆ™</em>ï¼Œæ¯ä¸ªå•å…ƒæµ‹è¯•åªåšä¸€ä¸ªæ–­è¨€ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; assert &#125; <span class="keyword">from</span> <span class="string">&#x27;chai&#x27;</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&#x27;AwesomeDate&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;handles date boundaries&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> date: AwesomeDate;</span><br><span class="line"></span><br><span class="line">    date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;1/1/2015&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;1/31/2015&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">    date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;2/1/2016&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">28</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;02/29/2016&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">    date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;2/1/2015&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">28</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;03/01/2015&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; assert &#125; <span class="keyword">from</span> <span class="string">&#x27;chai&#x27;</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&#x27;AwesomeDate&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;handles 30-day months&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;1/1/2015&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;1/31/2015&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;handles leap year&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;2/1/2016&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">28</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;02/29/2016&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;handles non-leap year&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> AwesomeDate(<span class="string">&#x27;2/1/2015&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    date.addDays(<span class="number">28</span>);</span><br><span class="line"></span><br><span class="line">    assert.equal(<span class="string">&#x27;03/01/2015&#x27;</span>, date);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="æµ‹è¯•ç”¨ä¾‹åç§°åº”è¯¥æ˜¾ç¤ºå®ƒçš„æ„å›¾"><a href="#æµ‹è¯•ç”¨ä¾‹åç§°åº”è¯¥æ˜¾ç¤ºå®ƒçš„æ„å›¾" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹åç§°åº”è¯¥æ˜¾ç¤ºå®ƒçš„æ„å›¾"></a><a href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%90%8D%E7%A7%B0%E5%BA%94%E8%AF%A5%E6%98%BE%E7%A4%BA%E5%AE%83%E7%9A%84%E6%84%8F%E5%9B%BE"></a>æµ‹è¯•ç”¨ä¾‹åç§°åº”è¯¥æ˜¾ç¤ºå®ƒçš„æ„å›¾</h3><p>å½“æµ‹è¯•å¤±è´¥æ—¶ï¼Œå‡ºé”™çš„ç¬¬ä¸€ä¸ªè¿¹è±¡å¯èƒ½å°±æ˜¯å®ƒçš„åå­—ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">&#x27;Calendar&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;2/29/2020&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;throws&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">&#x27;Calendar&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;should handle leap year&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(<span class="string">&#x27;should throw when format is invalid&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a><a href="#%E5%B9%B6%E5%8F%91"></a>å¹¶å‘</h2><h3 id="ç”¨-Promises-æ›¿ä»£å›è°ƒ"><a href="#ç”¨-Promises-æ›¿ä»£å›è°ƒ" class="headerlink" title="ç”¨ Promises æ›¿ä»£å›è°ƒ"></a><a href="#%E7%94%A8-promises-%E6%9B%BF%E4%BB%A3%E5%9B%9E%E8%B0%83"></a>ç”¨ Promises æ›¿ä»£å›è°ƒ</h3><p>å›è°ƒä¸å¤Ÿæ•´æ´è€Œä¸”ä¼šå¯¼è‡´è¿‡å¤šçš„åµŒå¥—*(å›è°ƒåœ°ç‹±)*ã€‚</p>
<p>æœ‰äº›å·¥å…·ä½¿ç”¨å›è°ƒçš„æ–¹å¼å°†ç°æœ‰å‡½æ•°è½¬æ¢ä¸º promise å¯¹è±¡ï¼š</p>
<ul>
<li>  Node.js å‚è§<a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v8.x/docs/api/util.html#util_util_promisify_original"><code>util.promisify</code></a></li>
<li>  é€šç”¨å‚è§ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/pify">pify</a>, <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/es6-promisify">es6-promisify</a></li>
</ul>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;request&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; writeFile &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadPage</span>(<span class="params">url: <span class="built_in">string</span>, saveTo: <span class="built_in">string</span>, callback: (error: <span class="built_in">Error</span>, content?: <span class="built_in">string</span>) =&gt; <span class="built_in">void</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  get(url, <span class="function">(<span class="params">error, response</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">      callback(error);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">      writeFile(saveTo, response.body, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">          callback(error);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">          callback(<span class="literal">null</span>, response.body);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">downloadPage(<span class="string">&#x27;https://en.wikipedia.org/wiki/Robert_Cecil_Martin&#x27;</span>, <span class="string">&#x27;article.html&#x27;</span>, <span class="function">(<span class="params">error, content</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(content);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;request&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; writeFile &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; promisify &#125; <span class="keyword">from</span> <span class="string">&#x27;util&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> write = promisify(writeFile);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadPage</span>(<span class="params">url: <span class="built_in">string</span>, saveTo: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;<span class="title">string</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> get(url)</span><br><span class="line"></span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> write(saveTo, response))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">downloadPage(<span class="string">&#x27;https://en.wikipedia.org/wiki/Robert_Cecil_Martin&#x27;</span>, <span class="string">&#x27;article.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  .then(<span class="function"><span class="params">content</span> =&gt;</span> <span class="built_in">console</span>.log(content))</span><br><span class="line"></span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.error(error));</span><br></pre></td></tr></table></figure>

<p>Promise æä¾›äº†ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼Œèƒ½è®©ä»£ç æ›´ç®€æ´ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><code>Promise.resolve(value)</code></td>
<td>è¿”å›ä¸€ä¸ªä¼ å…¥å€¼è§£æåçš„ promise ã€‚</td>
</tr>
<tr>
<td><code>Promise.reject(error)</code></td>
<td>è¿”å›ä¸€ä¸ªå¸¦æœ‰æ‹’ç»åŸå› çš„ promise ã€‚</td>
</tr>
<tr>
<td><code>Promise.all(promises)</code></td>
<td>è¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä¼ å…¥æ•°ç»„ä¸­çš„<strong>æ¯ä¸ª</strong> promise éƒ½æ‰§è¡Œå®Œæˆåè¿”å›çš„ promise æ‰ç®—å®Œæˆï¼Œæˆ–ç¬¬ä¸€ä¸ª promise æ‹’ç»è€Œæ‹’ç»ã€‚</td>
</tr>
<tr>
<td><code>Promise.race(promises)</code></td>
<td>è¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä¼ å…¥æ•°ç»„ä¸­çš„<strong>æŸä¸ª</strong> promise è§£å†³æˆ–æ‹’ç»ï¼Œè¿”å›çš„ promise å°±ä¼šè§£å†³æˆ–æ‹’ç»ã€‚</td>
</tr>
</tbody></table>
<p><code>Promise.all</code>åœ¨å¹¶è¡Œè¿è¡Œä»»åŠ¡æ—¶å°¤å…¶æœ‰ç”¨ï¼Œ<code>Promise.race</code>è®©ä¸º Promise æ›´å®¹æ˜“å®ç°è¶…æ—¶ã€‚</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="Async-Await-æ¯”-Promises-æ›´å¥½"><a href="#Async-Await-æ¯”-Promises-æ›´å¥½" class="headerlink" title="Async/Await æ¯” Promises æ›´å¥½"></a><a href="#asyncawait-%E6%AF%94-promises-%E6%9B%B4%E5%A5%BD"></a><code>Async/Await</code> æ¯” <code>Promises</code> æ›´å¥½</h3><p>ä½¿ç”¨<code>async</code>/<code>await</code>è¯­æ³•ï¼Œå¯ä»¥ç¼–å†™æ›´ç®€æ´ã€æ›´æ˜“ç†è§£çš„é“¾å¼ promise çš„ä»£ç ã€‚ä¸€ä¸ªå‡½æ•°ä½¿ç”¨<code>async</code>å…³é”®å­—ä½œä¸ºå‰ç¼€ï¼ŒJavaScript è¿è¡Œæ—¶ä¼šæš‚åœ<code>await</code>å…³é”®å­—ä¸Šçš„ä»£ç æ‰§è¡Œ(å½“ä½¿ç”¨ promise æ—¶)ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;request&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; writeFile &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; promisify &#125; <span class="keyword">from</span> <span class="string">&#x27;util&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> write = util.promisify(writeFile);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadPage</span>(<span class="params">url: <span class="built_in">string</span>, saveTo: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;<span class="title">string</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> get(url).then(<span class="function"><span class="params">response</span> =&gt;</span> write(saveTo, response))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">downloadPage(<span class="string">&#x27;https://en.wikipedia.org/wiki/Robert_Cecil_Martin&#x27;</span>, <span class="string">&#x27;article.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  .then(<span class="function"><span class="params">content</span> =&gt;</span> <span class="built_in">console</span>.log(content))</span><br><span class="line"></span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.error(error));</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;request&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; writeFile &#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; promisify &#125; <span class="keyword">from</span> <span class="string">&#x27;util&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> write = promisify(writeFile);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">downloadPage</span>(<span class="params">url: <span class="built_in">string</span>, saveTo: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;<span class="title">string</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> get(url);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> write(saveTo, response);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// somewhere in an async function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> content = <span class="keyword">await</span> downloadPage(<span class="string">&#x27;https://en.wikipedia.org/wiki/Robert_Cecil_Martin&#x27;</span>, <span class="string">&#x27;article.html&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(content);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.error(error);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a><a href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"></a>é”™è¯¯å¤„ç†</h2><p>æŠ›å‡ºé”™è¯¯æ˜¯ä»¶å¥½äº‹ï¼å®ƒè¡¨ç¤ºç€è¿è¡Œæ—¶å·²ç»æˆåŠŸè¯†åˆ«å‡ºç¨‹åºä¸­çš„é”™è¯¯ï¼Œé€šè¿‡åœæ­¢å½“å‰å †æ ˆä¸Šçš„å‡½æ•°æ‰§è¡Œï¼Œç»ˆæ­¢è¿›ç¨‹(åœ¨Node.js)ï¼Œä»¥åŠåœ¨æ§åˆ¶å°ä¸­æ‰“å°å †æ ˆä¿¡æ¯æ¥è®©ä½ çŸ¥æ™“ã€‚</p>
<h3 id="æŠ›å‡ºErroræˆ–-ä½¿ç”¨reject"><a href="#æŠ›å‡ºErroræˆ–-ä½¿ç”¨reject" class="headerlink" title="æŠ›å‡ºErroræˆ– ä½¿ç”¨reject"></a><a href="#%E6%8A%9B%E5%87%BAerror%E6%88%96-%E4%BD%BF%E7%94%A8reject"></a>æŠ›å‡º<code>Error</code>æˆ– ä½¿ç”¨<code>reject</code></h3><p>JavaScript å’Œ TypeScript å…è®¸ä½  <code>throw</code> ä»»ä½•å¯¹è±¡ã€‚Promise ä¹Ÿå¯ä»¥ç”¨ä»»ä½•ç†ç”±å¯¹è±¡æ‹’ç»ã€‚</p>
<p>å»ºè®®ä½¿ç”¨ <code>Error</code> ç±»å‹çš„ <code>throw</code> è¯­æ³•ã€‚å› ä¸ºä½ çš„é”™è¯¯å¯èƒ½åœ¨å†™æœ‰ <code>catch</code>è¯­æ³•çš„é«˜çº§ä»£ç ä¸­è¢«æ•è·ã€‚åœ¨é‚£é‡Œæ•è·å­—ç¬¦ä¸²æ¶ˆæ¯æ˜¾å¾—éå¸¸æ··ä¹±ï¼Œå¹¶ä¸”ä¼šä½¿<a target="_blank" rel="noopener" href="https://basarat.gitbooks.io/typescript/docs/types/exceptions.html#always-use-error">è°ƒè¯•æ›´åŠ ç—›è‹¦</a>ã€‚å‡ºäºåŒæ ·çš„åŸå› ï¼Œä¹Ÿåº”è¯¥åœ¨æ‹’ç» promise æ—¶ä½¿ç”¨ <code>Error</code> ç±»å‹ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotal</span>(<span class="params">items: Item[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="string">&#x27;Not implemented.&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Item</span>[]&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(<span class="string">&#x27;Not implemented.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotal</span>(<span class="params">items: Item[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Not implemented.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Item</span>[]&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Not implemented.&#x27;</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// or equivalent to:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Item</span>[]&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Not implemented.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Error</code> ç±»å‹çš„å¥½å¤„æ˜¯ <code>try/catch/finally</code> è¯­æ³•æ”¯æŒå®ƒï¼Œå¹¶ä¸”éšå¼åœ°æ‰€æœ‰é”™è¯¯éƒ½å…·æœ‰ <code>stack</code> å±æ€§ï¼Œè¯¥å±æ€§å¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ã€‚</p>
<p>å¦å¤–ï¼Œå³ä½¿ä¸ç”¨ <code>throw</code> è¯­æ³•è€Œæ˜¯è¿”å›è‡ªå®šä¹‰é”™è¯¯å¯¹è±¡ï¼ŒTypeScriptåœ¨è¿™å—æ›´å®¹æ˜“ã€‚è€ƒè™‘ä¸‹é¢çš„ä¾‹å­:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Failable&lt;R, E&gt; = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">isError</span>: <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  error: E;</span><br><span class="line"></span><br><span class="line">&#125; | &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">isError</span>: <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  value: R;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotal</span>(<span class="params">items: Item[]</span>): <span class="title">Failable</span>&lt;<span class="title">number</span>, &#x27;<span class="title">empty</span>&#x27;&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (items.length === <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">isError</span>: <span class="literal">true</span>, <span class="attr">error</span>: <span class="string">&#x27;empty&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">isError</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="number">42</span> &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†è§£é‡Šè¯·å‚è€ƒ<a target="_blank" rel="noopener" href="https://medium.com/@dhruvrajvanshi/making-exceptions-type-safe-in-typescript-c4d200ee78e9">åŸæ–‡</a>ã€‚</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="åˆ«å¿˜äº†æ•è·é”™è¯¯"><a href="#åˆ«å¿˜äº†æ•è·é”™è¯¯" class="headerlink" title="åˆ«å¿˜äº†æ•è·é”™è¯¯"></a><a href="#%E5%88%AB%E5%BF%98%E4%BA%86%E6%8D%95%E8%8E%B7%E9%94%99%E8%AF%AF"></a>åˆ«å¿˜äº†æ•è·é”™è¯¯</h3><p>æ•è·é”™è¯¯è€Œä¸å¤„ç†å®é™…ä¸Šä¹Ÿæ˜¯æ²¡æœ‰ä¿®å¤é”™è¯¯ï¼Œå°†é”™è¯¯è®°å½•åˆ°æ§åˆ¶å°(console.logï¼‰ä¹Ÿå¥½ä¸åˆ°å“ªé‡Œå»ï¼Œå› ä¸ºå®ƒå¸¸å¸¸ä¸¢å¤±åœ¨æ§åˆ¶å°å¤§é‡çš„æ—¥å¿—ä¹‹ä¸­ã€‚å¦‚æœå°†ä»£ç å†™åœ¨<code>try/catch</code> ä¸­ï¼Œè¯´æ˜é‚£é‡Œå¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå› æ­¤åº”è¯¥è€ƒè™‘åœ¨é”™è¯¯å‘ç”Ÿæ—¶åšä¸€äº›å¤„ç†ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">  functionThatMightThrow();</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// or even worse</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">  functionThatMightThrow();</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ignore error</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; logger &#125; <span class="keyword">from</span> <span class="string">&#x27;./logging&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">  functionThatMightThrow();</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">  logger.log(error);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦å¿½ç•¥è¢«æ‹’ç»çš„-promises"><a href="#ä¸è¦å¿½ç•¥è¢«æ‹’ç»çš„-promises" class="headerlink" title="ä¸è¦å¿½ç•¥è¢«æ‹’ç»çš„ promises"></a><a href="#%E4%B8%8D%E8%A6%81%E5%BF%BD%E7%95%A5%E8%A2%AB%E6%8B%92%E7%BB%9D%E7%9A%84-promises"></a>ä¸è¦å¿½ç•¥è¢«æ‹’ç»çš„ promises</h3><p>ç†ç”±å’Œä¸èƒ½åœ¨<code>try/catch</code>ä¸­å¿½ç•¥<code>Error</code>ä¸€æ ·ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">getUser()</span><br><span class="line"></span><br><span class="line">  .then(<span class="function">(<span class="params">user: User</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sendEmail(user.email, <span class="string">&#x27;Welcome!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; logger &#125; <span class="keyword">from</span> <span class="string">&#x27;./logging&#x27;</span></span><br><span class="line"></span><br><span class="line">getUser()</span><br><span class="line"></span><br><span class="line">  .then(<span class="function">(<span class="params">user: User</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sendEmail(user.email, <span class="string">&#x27;Welcome!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    logger.log(error);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// or using the async/await syntax:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> getUser();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> sendEmail(user.email, <span class="string">&#x27;Welcome!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"></span><br><span class="line">  logger.log(error);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"></a>æ ¼å¼åŒ–</h2><p>å°±åƒè¿™é‡Œçš„è®¸å¤šè§„åˆ™ä¸€æ ·ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ç¡¬æ€§è§„å®šï¼Œæ ¼å¼åŒ–ä¹Ÿæ˜¯ã€‚é‡ç‚¹æ˜¯<strong>ä¸è¦äº‰è®º</strong>æ ¼å¼ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å®ç°æ ¼å¼åŒ–ã€‚å¯¹äºå·¥ç¨‹å¸ˆæ¥è¯´ï¼Œäº‰è®ºæ ¼å¼å°±æ˜¯æµªè´¹æ—¶é—´å’Œé‡‘é’±ã€‚é€šç”¨çš„åŸåˆ™æ˜¯<em>ä¿æŒä¸€è‡´çš„æ ¼å¼è§„åˆ™</em>ã€‚</p>
<p>å¯¹äº TypeScript ï¼Œæœ‰ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·å«åš TSLintã€‚å®ƒæ˜¯ä¸€ä¸ªé™æ€åˆ†æå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ˜¾è‘—æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é¡¹ç›®ä¸­ä½¿ç”¨å¯ä»¥å‚è€ƒä»¥ä¸‹ TSLint é…ç½®:</p>
<ul>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-config-standard">TSLint Config Standard</a> - æ ‡å‡†æ ¼å¼è§„åˆ™</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-config-airbnb">TSLint Config Airbnb</a> - Airbnb æ ¼å¼è§„åˆ™</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-clean-code">TSLint Clean Code</a> - çµæ„Ÿæ¥è‡ªäº<a target="_blank" rel="noopener" href="https://www.amazon.ca/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code: A Handbook of Agile Software Craftsmanship</a> çš„ TSLint è§„åˆ™ã€‚</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-react">TSLint react</a> - React ç›¸å…³çš„Lintè§„åˆ™</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-config-prettier">TSLint + Prettier</a> - <a target="_blank" rel="noopener" href="https://github.com/prettier/prettier">Prettier</a> ä»£ç æ ¼å¼åŒ–ç›¸å…³çš„ lint è§„åˆ™</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-eslint-rules">ESLint rules for TSLint</a> - TypeScript çš„ ESLint</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tslint-immutable">Immutable</a> - åœ¨ TypeScript ä¸­ç¦ç”¨ mutation çš„è§„åˆ™</p>
</li>
</ul>
<p>è¿˜å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://basarat.gitbooks.io/typescript/docs/styleguide/styleguide.html">TypeScript é£æ ¼æŒ‡å—å’Œç¼–ç çº¦å®š</a>çš„æºä»£ç ã€‚</p>
<h3 id="å¤§å°å†™ä¸€è‡´"><a href="#å¤§å°å†™ä¸€è‡´" class="headerlink" title="å¤§å°å†™ä¸€è‡´"></a><a href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E4%B8%80%E8%87%B4"></a>å¤§å°å†™ä¸€è‡´</h3><p>å¤§å†™å¯ä»¥å‘Šè¯‰ä½ å¾ˆå¤šå…³äºå˜é‡ã€å‡½æ•°ç­‰çš„ä¿¡æ¯ã€‚è¿™äº›éƒ½æ˜¯ä¸»è§‚è§„åˆ™ï¼Œç”±ä½ çš„å›¢é˜Ÿåšé€‰æ‹©ã€‚å…³é”®æ˜¯æ— è®ºæ€ä¹ˆé€‰ï¼Œéƒ½è¦<em>ä¸€è‡´</em>ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DAYS_IN_WEEK = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> daysInMonth = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> songs = [<span class="string">&#x27;Back In Black&#x27;</span>, <span class="string">&#x27;Stairway to Heaven&#x27;</span>, <span class="string">&#x27;Hey Jude&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Artists = [<span class="string">&#x27;ACDC&#x27;</span>, <span class="string">&#x27;Led Zeppelin&#x27;</span>, <span class="string">&#x27;The Beatles&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">eraseDatabase</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">restore_database</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">animal</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DAYS_IN_WEEK = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DAYS_IN_MONTH = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SONGS = [<span class="string">&#x27;Back In Black&#x27;</span>, <span class="string">&#x27;Stairway to Heaven&#x27;</span>, <span class="string">&#x27;Hey Jude&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ARTISTS = [<span class="string">&#x27;ACDC&#x27;</span>, <span class="string">&#x27;Led Zeppelin&#x27;</span>, <span class="string">&#x27;The Beatles&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">eraseDatabase</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">restoreDatabase</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»åã€æ¥å£åã€ç±»å‹åå’Œå‘½åç©ºé—´åæœ€å¥½ä½¿ç”¨â€œå¸•æ–¯å¡å‘½åâ€ã€‚</p>
<p>å˜é‡ã€å‡½æ•°å’Œç±»æˆå‘˜ä½¿ç”¨â€œé©¼å³°å¼å‘½åâ€ã€‚</p>
<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="è°ƒç”¨å‡½æ•°çš„å‡½æ•°å’Œè¢«è°ƒå‡½æ•°åº”é è¿‘æ”¾ç½®"><a href="#è°ƒç”¨å‡½æ•°çš„å‡½æ•°å’Œè¢«è°ƒå‡½æ•°åº”é è¿‘æ”¾ç½®" class="headerlink" title="è°ƒç”¨å‡½æ•°çš„å‡½æ•°å’Œè¢«è°ƒå‡½æ•°åº”é è¿‘æ”¾ç½®"></a><a href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%92%8C%E8%A2%AB%E8%B0%83%E5%87%BD%E6%95%B0%E5%BA%94%E9%9D%A0%E8%BF%91%E6%94%BE%E7%BD%AE"></a>è°ƒç”¨å‡½æ•°çš„å‡½æ•°å’Œè¢«è°ƒå‡½æ•°åº”é è¿‘æ”¾ç½®</h3><p>å½“å‡½æ•°é—´å­˜åœ¨ç›¸äº’è°ƒç”¨çš„æƒ…å†µæ—¶ï¼Œåº”å°†ä¸¤è€…é è¿‘æ”¾ç½®ã€‚æœ€å¥½æ˜¯åº”å°†è°ƒç”¨è€…å†™åœ¨è¢«è°ƒè€…çš„ä¸Šæ–¹ã€‚è¿™å°±åƒè¯»æŠ¥çº¸ä¸€æ ·ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä»ä¸Šå¾€ä¸‹è¯»ï¼Œé‚£ä¹ˆè¯»ä»£ç ä¹Ÿæ˜¯ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PerformanceReview</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> employee: Employee</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">lookupPeers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> db.lookup(<span class="built_in">this</span>.employee.id, <span class="string">&#x27;peers&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">lookupManager</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> db.lookup(<span class="built_in">this</span>.employee, <span class="string">&#x27;manager&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getPeerReviews</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> peers = <span class="built_in">this</span>.lookupPeers();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">review</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getPeerReviews();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getManagerReview();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getSelfReview();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getManagerReview</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> manager = <span class="built_in">this</span>.lookupManager();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getSelfReview</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> review = <span class="keyword">new</span> PerformanceReview(employee);</span><br><span class="line"></span><br><span class="line">review.review();</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PerformanceReview</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">readonly</span> employee: Employee</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">review</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getPeerReviews();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getManagerReview();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.getSelfReview();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getPeerReviews</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> peers = <span class="built_in">this</span>.lookupPeers();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">lookupPeers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> db.lookup(<span class="built_in">this</span>.employee.id, <span class="string">&#x27;peers&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getManagerReview</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> manager = <span class="built_in">this</span>.lookupManager();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">lookupManager</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> db.lookup(<span class="built_in">this</span>.employee, <span class="string">&#x27;manager&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">getSelfReview</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> review = <span class="keyword">new</span> PerformanceReview(employee);</span><br><span class="line"></span><br><span class="line">review.review();</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ç»„ç»‡å¯¼å…¥"><a href="#ç»„ç»‡å¯¼å…¥" class="headerlink" title="ç»„ç»‡å¯¼å…¥"></a><a href="#%E7%BB%84%E7%BB%87%E5%AF%BC%E5%85%A5"></a>ç»„ç»‡å¯¼å…¥</h3><p>ä½¿ç”¨æ•´æ´ä¸”æ˜“äºé˜…è¯»çš„<code>import</code>è¯­å¥ï¼Œæ‚¨å¯ä»¥å¿«é€ŸæŸ¥çœ‹å½“å‰ä»£ç çš„ä¾èµ–å…³ç³»ã€‚å¯¼å…¥è¯­å¥åº”éµå¾ªä»¥ä¸‹åšæ³•:</p>
<ul>
<li>  <code>Import</code>è¯­å¥åº”è¯¥æŒ‰å­—æ¯é¡ºåºæ’åˆ—å’Œåˆ†ç»„ã€‚</li>
<li>  åº”è¯¥åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥è¯­å¥ã€‚</li>
<li>  å‘½åå¯¼å…¥å¿…é¡»æŒ‰å­—æ¯é¡ºåº(ä¾‹å¦‚ï¼š<code>import &#123;A, B, C&#125; from &#39;foo&#39;;</code>)ã€‚</li>
<li>  å¯¼å…¥æºå¿…é¡»åœ¨ç»„ä¸­æŒ‰å­—æ¯é¡ºåºæ’åˆ—ã€‚ ä¾‹å¦‚: <code>import * as foo from &#39;a&#39;; import * as bar from &#39;b&#39;;</code></li>
<li>  å¯¼å…¥ç»„ç”¨ç©ºè¡Œéš”å¼€ã€‚</li>
<li>ç»„å†…æŒ‰ç…§å¦‚ä¸‹æ’åº:<ul>
<li>  Polyfills (ä¾‹å¦‚: <code>import &#39;reflect-metadata&#39;;</code>)</li>
<li>  Node å†…ç½®æ¨¡å— (ä¾‹å¦‚: <code>import fs from &#39;fs&#39;;</code>)</li>
<li>  å¤–éƒ¨æ¨¡å— (ä¾‹å¦‚: <code>import &#123; query &#125; from &#39;itiriri&#39;;</code>)</li>
<li>  å†…éƒ¨æ¨¡å— (ä¾‹å¦‚: <code>import &#123; UserService &#125; from &#39;src/services/userService&#39;;</code>)</li>
<li>  çˆ¶ç›®å½•ä¸­çš„æ¨¡å— (ä¾‹å¦‚: <code>import foo from &#39;../foo&#39;; import qux from &#39;../../foo/qux&#39;;</code>)</li>
<li>  æ¥è‡ªç›¸åŒæˆ–å…„å¼Ÿç›®å½•çš„æ¨¡å— (ä¾‹å¦‚: <code>import bar from &#39;./bar&#39;; import baz from &#39;./bar/baz&#39;;</code>)</li>
</ul>
</li>
</ul>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; TypeDefinition &#125; <span class="keyword">from</span> <span class="string">&#x27;../types/typeDefinition&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AttributeTypes &#125; <span class="keyword">from</span> <span class="string">&#x27;../model/attribute&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ApiCredentials, Adapters &#125; <span class="keyword">from</span> <span class="string">&#x27;./common/api/authorization&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ConfigPlugin &#125; <span class="keyword">from</span> <span class="string">&#x27;./plugins/config/configPlugin&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BindingScopeEnum, Container &#125; <span class="keyword">from</span> <span class="string">&#x27;inversify&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;reflect-metadata&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;reflect-metadata&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BindingScopeEnum, Container &#125; <span class="keyword">from</span> <span class="string">&#x27;inversify&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; AttributeTypes &#125; <span class="keyword">from</span> <span class="string">&#x27;../model/attribute&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; TypeDefinition &#125; <span class="keyword">from</span> <span class="string">&#x27;../types/typeDefinition&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; ApiCredentials, Adapters &#125; <span class="keyword">from</span> <span class="string">&#x27;./common/api/authorization&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ConfigPlugin &#125; <span class="keyword">from</span> <span class="string">&#x27;./plugins/config/configPlugin&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä½¿ç”¨-typescript-åˆ«å"><a href="#ä½¿ç”¨-typescript-åˆ«å" class="headerlink" title="ä½¿ç”¨ typescript åˆ«å"></a><a href="#%E4%BD%BF%E7%94%A8-typescript-%E5%88%AB%E5%90%8D"></a>ä½¿ç”¨ typescript åˆ«å</h3><p>ä¸ºäº†åˆ›å»ºæ•´æ´æ¼‚äº®çš„å¯¼å…¥è¯­å¥ï¼Œå¯ä»¥åœ¨<code>tsconfig.json</code>ä¸­è®¾ç½®ç¼–è¯‘å™¨é€‰é¡¹çš„<code>paths</code>å’Œ<code>baseUrl</code>å±æ€§ã€‚</p>
<p>è¿™æ ·å¯ä»¥é¿å…å¯¼å…¥æ—¶ä½¿ç”¨è¾ƒé•¿çš„ç›¸å¯¹è·¯å¾„ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; UserService &#125; <span class="keyword">from</span> <span class="string">&#x27;../../../services/UserService&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; UserService &#125; <span class="keyword">from</span> <span class="string">&#x27;@services/UserService&#x27;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line">...</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;src&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@services&quot;</span>: [<span class="string">&quot;services/*&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a><a href="#%E6%B3%A8%E9%87%8A"></a>æ³¨é‡Š</h2><p>å†™æ³¨é‡Šæ„å‘³ç€æ²¡æœ‰æ³¨é‡Šå°±æ— æ³•è¡¨è¾¾æ¸…æ¥šï¼Œè€Œæœ€å¥½ç”¨ä»£ç å»è¡¨è¾¾ã€‚</p>
<blockquote>
<p>ä¸è¦æ³¨é‡Šåä»£ç ï¼Œé‡å†™å§ï¼â€” <em>Brian W. Kernighan and P. J. Plaugher</em></p>
</blockquote>
<h3 id="ä»£ç è‡ªè§£é‡Šè€Œä¸æ˜¯ç”¨æ³¨é‡Š"><a href="#ä»£ç è‡ªè§£é‡Šè€Œä¸æ˜¯ç”¨æ³¨é‡Š" class="headerlink" title="ä»£ç è‡ªè§£é‡Šè€Œä¸æ˜¯ç”¨æ³¨é‡Š"></a><a href="#%E4%BB%A3%E7%A0%81%E8%87%AA%E8%A7%A3%E9%87%8A%E8%80%8C%E4%B8%8D%E6%98%AF%E7%94%A8%E6%B3%A8%E9%87%8A"></a>ä»£ç è‡ªè§£é‡Šè€Œä¸æ˜¯ç”¨æ³¨é‡Š</h3><p>ä»£ç å³æ–‡æ¡£ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Check if subscription is active.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (subscription.endDate &gt; <span class="built_in">Date</span>.now) &#123;  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSubscriptionActive = subscription.endDate &gt; <span class="built_in">Date</span>.now;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isSubscriptionActive) &#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦å°†æ³¨é‡Šæ‰çš„ä»£ç ç•™åœ¨ä»£ç åº“ä¸­"><a href="#ä¸è¦å°†æ³¨é‡Šæ‰çš„ä»£ç ç•™åœ¨ä»£ç åº“ä¸­" class="headerlink" title="ä¸è¦å°†æ³¨é‡Šæ‰çš„ä»£ç ç•™åœ¨ä»£ç åº“ä¸­"></a><a href="#%E4%B8%8D%E8%A6%81%E5%B0%86%E6%B3%A8%E9%87%8A%E6%8E%89%E7%9A%84%E4%BB%A3%E7%A0%81%E7%95%99%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%BA%93%E4%B8%AD"></a>ä¸è¦å°†æ³¨é‡Šæ‰çš„ä»£ç ç•™åœ¨ä»£ç åº“ä¸­</h3><p>ç‰ˆæœ¬æ§åˆ¶å­˜åœ¨çš„ä¸€ä¸ªç†ç”±ï¼Œå°±æ˜¯è®©æ—§ä»£ç æˆä¸ºå†å²ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  email: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// age: number;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// jobPosition: string;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  email: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="ä¸è¦åƒå†™æ—¥è®°ä¸€æ ·å†™æ³¨é‡Š"><a href="#ä¸è¦åƒå†™æ—¥è®°ä¸€æ ·å†™æ³¨é‡Š" class="headerlink" title="ä¸è¦åƒå†™æ—¥è®°ä¸€æ ·å†™æ³¨é‡Š"></a><a href="#%E4%B8%8D%E8%A6%81%E5%83%8F%E5%86%99%E6%97%A5%E8%AE%B0%E4%B8%80%E6%A0%B7%E5%86%99%E6%B3%A8%E9%87%8A"></a>ä¸è¦åƒå†™æ—¥è®°ä¸€æ ·å†™æ³¨é‡Š</h3><p>è®°ä½ï¼Œä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼ä¸éœ€è¦ä¿ç•™æ— ç”¨ä»£ç ã€æ³¨é‡Šæ‰çš„ä»£ç ï¼Œå°¤å…¶åƒæ—¥è®°ä¸€æ ·çš„æ³¨é‡Šã€‚ä½¿ç”¨<code>git log</code>æ¥è·å–å†å²ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 2016-12-20: Removed monads, didn&#x27;t understand them (RM)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 2016-10-01: Improved using special monads (JP)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 2016-02-03: Added type-checking (LI)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 2015-03-14: Implemented combine (JR)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">combine</span>(<span class="params">a:<span class="built_in">number</span>, b:<span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">combine</span>(<span class="params">a:<span class="built_in">number</span>, b:<span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="é¿å…ä½¿ç”¨æ³¨é‡Šæ ‡è®°ä½ç½®"><a href="#é¿å…ä½¿ç”¨æ³¨é‡Šæ ‡è®°ä½ç½®" class="headerlink" title="é¿å…ä½¿ç”¨æ³¨é‡Šæ ‡è®°ä½ç½®"></a><a href="#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E6%B3%A8%E9%87%8A%E6%A0%87%E8%AE%B0%E4%BD%8D%E7%BD%AE"></a>é¿å…ä½¿ç”¨æ³¨é‡Šæ ‡è®°ä½ç½®</h3><p>å®ƒä»¬å¸¸å¸¸æ‰°ä¹±ä»£ç ã€‚è¦è®©ä»£ç ç»“æ„åŒ–ï¼Œå‡½æ•°å’Œå˜é‡è¦æœ‰åˆé€‚çš„ç¼©è¿›å’Œæ ¼å¼ã€‚</p>
<p>å¦å¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨æ”¯æŒä»£ç æŠ˜å çš„IDE (çœ‹ä¸‹ Visual Studio Code <a target="_blank" rel="noopener" href="https://code.visualstudio.com/updates/v1_17#_folding-regions">ä»£ç æŠ˜å </a>).</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Client class</span></span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  address: Address;</span><br><span class="line"></span><br><span class="line">  contact: Contact;</span><br><span class="line"></span><br><span class="line">  <span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// public methods</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> describe(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// private methods</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> describeAddress(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> describeContact(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  address: Address;</span><br><span class="line"></span><br><span class="line">  contact: Contact;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> describe(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> describeAddress(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> describeContact(): <span class="built_in">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>
<h3 id="TODO-æ³¨é‡Š"><a href="#TODO-æ³¨é‡Š" class="headerlink" title="TODO æ³¨é‡Š"></a><a href="#todo-%E6%B3%A8%E9%87%8A"></a>TODO æ³¨é‡Š</h3><p>å½“å‘ç°è‡ªå·±éœ€è¦åœ¨ä»£ç ä¸­ç•™ä¸‹æ³¨é‡Šï¼Œä»¥æé†’åç»­æ”¹è¿›æ—¶ï¼Œä½¿ç”¨<code>// TODO</code>æ³¨é‡Šã€‚å¤§å¤šæ•°IDEéƒ½å¯¹è¿™ç±»æ³¨é‡Šæä¾›äº†ç‰¹æ®Šçš„æ”¯æŒï¼Œä½ å¯ä»¥å¿«é€Ÿæµè§ˆæ•´ä¸ª<code>TODO</code>åˆ—è¡¨ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¯·è®°ä½<strong>TODO</strong>æ³¨é‡Šå¹¶ä¸æ˜¯åä»£ç çš„å€Ÿå£ã€‚</p>
<p><strong>ğŸ‘ åä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getActiveSubscriptions</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Subscription</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// ensure `dueDate` is indexed.</span></span><br><span class="line">  <span class="keyword">return</span> db.subscriptions.find(&#123; <span class="attr">dueDate</span>: &#123; <span class="attr">$lte</span>: <span class="keyword">new</span> <span class="built_in">Date</span>() &#125; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘ æ­£ä¾‹:</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getActiveSubscriptions</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Subscription</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> ensure `dueDate` is indexed.</span></span><br><span class="line">  <span class="keyword">return</span> db.subscriptions.find(&#123; <span class="attr">dueDate</span>: &#123; <span class="attr">$lte</span>: <span class="keyword">new</span> <span class="built_in">Date</span>() &#125; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><a href="#%E7%9B%AE%E5%BD%95">â†‘ å›åˆ°é¡¶éƒ¨</a></strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/05/23/204-%E3%80%90TypeScript%E3%80%91TypeScript%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" data-id="ckts3ek0000rw4d9kdj013w9f" data-title="204-ã€TypeScriptã€‘TypeScriptä»£ç æ•´æ´ä¹‹é“" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/06/06/205-%E3%80%90%E8%AF%BB%E4%B9%A6%E3%80%91%E8%AF%BB%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Blob%E3%80%8B%E6%80%BB%E7%BB%93/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          205-ã€è¯»ä¹¦ã€‘è¯»ã€Šä½ ä¸çŸ¥é“çš„Blobã€‹æ€»ç»“
        
      </div>
    </a>
  
  
    <a href="/2020/04/27/203-%E3%80%90JavaScript%E3%80%91%E9%80%81%E5%AD%A6%E5%A6%B9%E6%BB%A1%E5%B1%8F%E5%B9%95%E5%B0%8F%E7%88%B1%E5%BF%83/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">203-ã€JavaScriptã€‘é€å­¦å¦¹æ»¡å±å¹•å°çˆ±å¿ƒ</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSSåŠ¨ç”»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTPåè®®</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">ä¸­é—´ä»¶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">äººå·¥æ™ºèƒ½</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">å…¨æ ˆå¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">å‰ç«¯æ¢ç´¢</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">å¸¸ç”¨æŠ€æœ¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">å¾®å‰ç«¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">æ€»ç»“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">æœºå™¨å­¦ä¹ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">æ„å»ºå·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">æºç </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">æºç ç²¾è¯»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">çƒ­é—¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">ç”Ÿæ´»æ‚è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">ç¼–è¯‘åŸç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">ç½‘ç»œè¯·æ±‚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">é‡æ¸©åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">é¢è¯•é¢˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSSåŠ¨ç”»</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTPåè®®</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">ä¸­é—´ä»¶</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">äººå·¥æ™ºèƒ½</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">å…¨æ ˆå¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">å‰ç«¯å¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">å‰ç«¯æ¢ç´¢</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">åŸåˆ›</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">å¸¸ç”¨æŠ€æœ¯</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">å¾®å‰ç«¯</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">æ€»ç»“</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">æœºå™¨å­¦ä¹ </a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">æ„å»ºå·¥å…·</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">æ­£åˆ™è¡¨è¾¾å¼</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">æºç </a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">æºç ç²¾è¯»</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">çƒ­é—¨</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">ç”Ÿæ´»æ‚è®°</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">ç®—æ³•</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">ç¼–è¯‘åŸç†</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">ç½‘ç»œè¯·æ±‚</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">è¯»ä¹¦ç¬”è®°</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">é‡æ¸©åŸºç¡€</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">é¢è¯•é¢˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-ã€æ€»ç»“ã€‘å¦‚ä½•ä¼˜é›…çš„åœ¨å¾®ä¿¡å°ç¨‹åºä½¿ç”¨SVGå­—ä½“å›¾æ ‡</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-ã€HTTPã€‘å¦‚ä½•ä¼˜é›…çš„ç®¡ç†HTTPè¯·æ±‚å’Œå“åº”æ‹¦æˆªå™¨ï¼Ÿ</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-ã€Vueã€‘ä»æ‰‹å†™Vue3çš„Reactivityå¼€å§‹æ·±å…¥Vue3æºç </a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-ã€Chromeã€‘5ä¸ªChromeè°ƒè¯•æ··åˆåº”ç”¨çš„æŠ€å·§</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-ã€å‰ç«¯æ¢ç´¢ã€‘æ¢ç´¢Snabbdomæ¨¡å—ç³»ç»ŸåŸç†</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>