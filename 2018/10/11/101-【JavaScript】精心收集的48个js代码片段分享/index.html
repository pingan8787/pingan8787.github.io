<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><meta name="description" content="王平安个人博客,pingan8787,前端开发,人工智能,AI,深度学习,前端框架vue,angular,react,nodejs,python,numpy,pandas,anaconda,Tensorflow,高等数学,概率论,统计学神经网络,"><title>101-【JavaScript】精心收集的48个js代码片段分享 · pingan8787</title><meta name="description" content="Author
王平安



E-mail
&amp;#x70;&amp;#105;&amp;#110;&amp;#x67;&amp;#x61;&amp;#x6e;&amp;#56;&amp;#x37;&amp;#56;&amp;#55;&amp;#x40;&amp;#x71;&amp;#x71;&amp;#46;&amp;#99;&amp;#x6f;&amp;#109;


博  客
www.pingan8787.com


微  "><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script type="text/javascript" src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js"></script><script type="text/javascript" src="https://hm.baidu.com/hm.js?de7c89214c05d551ef3ec12341cd0b9e"></script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;border-radius:15px;"><h3 title=""><a href="/">pingan8787</a></h3></div></div><ul class="my_tages_ul clearfix"><li class="my_tages_li next pagbuttons"><a class="btn" target="_blank" rel="noopener" href="http://www.pingan8787.com/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"> 前端开发</a></li><li class="my_tages_li next pagbuttons"><a class="btn btn" target="_blank" rel="noopener" href="http://www.pingan8787.com/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"> 人工智能</a></li><li class="my_tages_li next pagbuttons"><a class="btn btn" target="_blank" rel="noopener" href="http://www.pingan8787.com/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"> 深度学习</a></li></ul><ul class="my_icon"><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://github.com/pingan8787" title="github"><img src="http://images.pingan8787.com/assets/icon_26_github.png" alt="github"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend" title="语雀"><img src="http://images.pingan8787.com/assets/icon_26_yuque.png" alt="语雀"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/cute-javascript" title="知乎"><img src="http://images.pingan8787.com/icon_zhihu.png" alt="知乎"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://juejin.im/user/586fc337a22b9d0058807d53/posts" title="掘金"><img src="http://images.pingan8787.com/icon_juejin.png" alt="掘金"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://segmentfault.com/blog/pingan8787" title="思否"><img src="http://images.pingan8787.com/icon_sf.png" alt="思否"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36380426" title="CSDN"><img src="http://images.pingan8787.com/icon_csdn.png" alt="CSDN"></a></li><li class="my_icon_li"><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/2ec5d94afd60" title="简书"><img src="http://images.pingan8787.com/icon_jianshu.png" alt="简书"></a></li></ul><div style="text-align:center;"><wb:follow-button uid="1689651205" type="red_1" style="margin-top:10px;width:67px;height:24px;display: inline-block;"></wb:follow-button></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>博客作者：</span></a><a href="https://github.com/pingan8787" target="_blank"> pingan8787（leo）</a><div class="by_farbox"> <a href="https://beian.miit.gov.cn/" target="_blank">备案编号：闽ICP备17012095号-1</a></div></div></div><s></s><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/leo">关于Leo</a></li><li><a href="/production">作品</a></li><li><a href="/Catalog">目录</a></li><li><a href="http://js.pingan8787.com" target="_blank">Cute-JavaScript</a></li><li><a href="https://github.com/pingan8787" target="_blank">Github</a></li></div><!--.information//.back_btn
  //li
    //if is_post()
      //a.fa.fa-chevron-left(onclick="window.history.go(-1)") 
    //else
      //a.fa.fa-chevron-left(onclick="window.history.go(-1)",style="display:none;") 
//.avatar
//  img(src= url_for('images/logo@2x.png'))--></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>101-【JavaScript】精心收集的48个js代码片段分享</a></h3></div><div class="post-content"><hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#110;&#x67;&#x61;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#109;">&#x70;&#105;&#110;&#x67;&#x61;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s/LxdDsgPAGTx19T5BZnw6EQ">阅读原文</a></p>
</blockquote>
<p>该项目来自于 <code>Github</code> 用户 <code>Chalarangelo</code>，目前已在 <code>Github</code> 上获得了 <code>5000</code> 多Star，精心收集了多达 <code>48</code> 个有用的 <code>JavaScript</code> 代码片段，该用户的代码可以让程序员在 <code>30</code> 秒甚至更少的时间内理解这些经常用到的基础算法，来看看这些 JavaScript 代码都传达出了什么吧！  </p>
<h2 id="1、Anagrams-of-string（带有重复项）"><a href="#1、Anagrams-of-string（带有重复项）" class="headerlink" title="1、Anagrams of string（带有重复项）"></a>1、Anagrams of string（带有重复项）</h2><p>使用递归。对于给定字符串中的每个字母，为字母创建字谜。使用map()将字母与每部分字谜组合，然后使用reduce()将所有字谜组合到一个数组中，最基本情况是字符串长度等于2或1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const anagrams = str =&gt; &#123;</span><br><span class="line">  if (str.length &lt;= 2) return str.length === 2 ? [str, str[1] + str[0]] : [str];</span><br><span class="line">  return str.split(&#x27;&#x27;).reduce((acc, letter, i) =&gt;</span><br><span class="line">    acc.concat(anagrams(str.slice(0, i) + str.slice(i + 1)).map(val =&gt; letter + val)), []);</span><br><span class="line">&#125;;</span><br><span class="line">// anagrams(&#x27;abc&#x27;) -&gt; [&#x27;abc&#x27;,&#x27;acb&#x27;,&#x27;bac&#x27;,&#x27;bca&#x27;,&#x27;cab&#x27;,&#x27;cba&#x27;]</span><br></pre></td></tr></table></figure>

<h2 id="2、数组平均数"><a href="#2、数组平均数" class="headerlink" title="2、数组平均数"></a>2、数组平均数</h2><p>使用reduce()将每个值添加到累加器，初始值为0，总和除以数组长度。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const average = arr =&gt; arr.reduce((acc, val) =&gt; acc + val, 0) / arr.length;</span><br><span class="line">// average([1,2,3]) -&gt; 2</span><br></pre></td></tr></table></figure>

<h2 id="3、大写每个单词的首字母"><a href="#3、大写每个单词的首字母" class="headerlink" title="3、大写每个单词的首字母"></a>3、大写每个单词的首字母</h2><p>使用replace()匹配每个单词的第一个字符，并使用toUpperCase()来将其大写。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const capitalizeEveryWord = str =&gt; str.replace(/\b[a-z]/g, char =&gt; char.toUpperCase());</span><br><span class="line">// capitalizeEveryWord(&#x27;hello world!&#x27;) -&gt; &#x27;Hello World!&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="4、首字母大写"><a href="#4、首字母大写" class="headerlink" title="4、首字母大写"></a>4、首字母大写</h2><p>使用slice（0,1）和toUpperCase()大写第一个字母，slice（1）获取字符串的其余部分。 省略lowerRest参数以保持字符串的其余部分不变，或将其设置为true以转换为小写。（注意：这和上一个示例不是同一件事情）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const capitalize = (str, lowerRest = false) =&gt;</span><br><span class="line">  str.slice(0, 1).toUpperCase() + (lowerRest ? str.slice(1).toLowerCase() : str.slice(1));</span><br><span class="line">// capitalize(&#x27;myName&#x27;, true) -&gt; &#x27;Myname&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="5、检查回文"><a href="#5、检查回文" class="headerlink" title="5、检查回文"></a>5、检查回文</h2><p>将字符串转换为toLowerCase()，并使用replace()从中删除非字母的字符。然后，将其转换为tolowerCase()，将（’’）拆分为单独字符，reverse()，join（’’），与原始的非反转字符串进行比较，然后将其转换为tolowerCase()。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const palindrome = str =&gt; &#123;</span><br><span class="line">  const s = str.toLowerCase().replace(/[\W_]/g,&#x27;&#x27;);</span><br><span class="line">  return s === s.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">// palindrome(&#x27;taco cat&#x27;) -&gt; true</span><br></pre></td></tr></table></figure>

<h2 id="6、计数数组中值的出现次数"><a href="#6、计数数组中值的出现次数" class="headerlink" title="6、计数数组中值的出现次数"></a>6、计数数组中值的出现次数</h2><p>每次遇到数组中的特定值时，使用reduce()来递增计数器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const countOccurrences = (arr, value) =&gt; arr.reduce((a, v) =&gt; v === value ? a + 1 : a + 0, 0);</span><br><span class="line">// countOccurrences([1,1,2,1,2,3], 1) -&gt; 3</span><br></pre></td></tr></table></figure>

<h2 id="7、当前URL"><a href="#7、当前URL" class="headerlink" title="7、当前URL"></a>7、当前URL</h2><p>使用window.location.href来获取当前URL。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const currentUrl = _ =&gt; window.location.href;</span><br><span class="line">// currentUrl() -&gt; &#x27;https://google.com&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="8、Curry"><a href="#8、Curry" class="headerlink" title="8、Curry"></a>8、Curry</h2><p>使用递归。如果提供的参数（args）数量足够，则调用传递函数f，否则返回一个curried函数f。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const curry = (fn, arity = fn.length, ...args) =&gt;</span><br><span class="line">  arity &lt;= args.length</span><br><span class="line">    ? fn(...args)</span><br><span class="line">    : curry.bind(null, fn, arity, ...args);</span><br><span class="line">// curry(Math.pow)(2)(10) -&gt; 1024</span><br><span class="line">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</span><br></pre></td></tr></table></figure>

<h2 id="9、Deep-flatten-array"><a href="#9、Deep-flatten-array" class="headerlink" title="9、Deep flatten array"></a>9、Deep flatten array</h2><p>使用递归，使用reduce()来获取所有不是数组的元素，flatten每个元素都是数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const deepFlatten = arr =&gt;</span><br><span class="line">  arr.reduce((a, v) =&gt; a.concat(Array.isArray(v) ? deepFlatten(v) : v), []);</span><br><span class="line">// deepFlatten([1,[2],[[3],4],5]) -&gt; [1,2,3,4,5]</span><br></pre></td></tr></table></figure>

<h2 id="10、数组之间的区别"><a href="#10、数组之间的区别" class="headerlink" title="10、数组之间的区别"></a>10、数组之间的区别</h2><p>从b创建一个Set，然后在a上使用Array.filter()，只保留b中不包含的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const difference = (a, b) =&gt; &#123; const s = new Set(b); return a.filter(x =&gt; !s.has(x)); &#125;;</span><br><span class="line">// difference([1,2,3], [1,2]) -&gt; [3]</span><br></pre></td></tr></table></figure>

<h2 id="11、两点之间的距离"><a href="#11、两点之间的距离" class="headerlink" title="11、两点之间的距离"></a>11、两点之间的距离</h2><p>使用Math.hypot()计算两点之间的欧几里德距离。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const distance = (x0, y0, x1, y1) =&gt; Math.hypot(x1 - x0, y1 - y0);</span><br><span class="line">// distance(1,1, 2,3) -&gt; 2.23606797749979</span><br></pre></td></tr></table></figure>

<h2 id="12、可以按数字整除"><a href="#12、可以按数字整除" class="headerlink" title="12、可以按数字整除"></a>12、可以按数字整除</h2><p>使用模运算符（％）来检查余数是否等于0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const isDivisible = (dividend, divisor) =&gt; dividend % divisor === 0;</span><br><span class="line">// isDivisible(6,3) -&gt; true</span><br></pre></td></tr></table></figure>

<h2 id="13、转义正则表达式"><a href="#13、转义正则表达式" class="headerlink" title="13、转义正则表达式"></a>13、转义正则表达式</h2><p>使用replace()来转义特殊字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const escapeRegExp = str =&gt; str.replace(/[.*+?^$&#123;&#125;()|[\]\\]/g, &#x27;\\$&amp;&#x27;);</span><br><span class="line">// escapeRegExp(&#x27;(test)&#x27;) -&gt; \\(test\\)</span><br></pre></td></tr></table></figure>

<h2 id="14、偶数或奇数"><a href="#14、偶数或奇数" class="headerlink" title="14、偶数或奇数"></a>14、偶数或奇数</h2><p>使用Math.abs()将逻辑扩展为负数，使用模（％）运算符进行检查。 如果数字是偶数，则返回true；如果数字是奇数，则返回false。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const isEven = num =&gt; num % 2 === 0;</span><br><span class="line">// isEven(3) -&gt; false</span><br></pre></td></tr></table></figure>

<h2 id="15、阶乘"><a href="#15、阶乘" class="headerlink" title="15、阶乘"></a>15、阶乘</h2><p>使用递归。如果n小于或等于1，则返回1。否则返回n和n - 1的阶乘的乘积。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const factorial = n =&gt; n &lt;= 1 ? 1 : n * factorial(n - 1);</span><br><span class="line">// factorial(6) -&gt; 720</span><br></pre></td></tr></table></figure>

<h2 id="16、斐波那契数组生成器"><a href="#16、斐波那契数组生成器" class="headerlink" title="16、斐波那契数组生成器"></a>16、斐波那契数组生成器</h2><p>创建一个特定长度的空数组，初始化前两个值（0和1）。使用Array.reduce()向数组中添加值，后面的一个数等于前面两个数相加之和（前两个除外）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const fibonacci = n =&gt;</span><br><span class="line">  Array(n).fill(0).reduce((acc, val, i) =&gt; acc.concat(i &gt; 1 ? acc[i - 1] + acc[i - 2] : i), []);</span><br><span class="line">// fibonacci(5) -&gt; [0,1,1,2,3]</span><br></pre></td></tr></table></figure>

<h2 id="17、过滤数组中的非唯一值"><a href="#17、过滤数组中的非唯一值" class="headerlink" title="17、过滤数组中的非唯一值"></a>17、过滤数组中的非唯一值</h2><p>将Array.filter()用于仅包含唯一值的数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const filterNonUnique = arr =&gt; arr.filter(i =&gt; arr.indexOf(i) === arr.lastIndexOf(i));</span><br><span class="line">// filterNonUnique([1,2,2,3,4,4,5]) -&gt; [1,3,5]</span><br></pre></td></tr></table></figure>

<h2 id="18、Flatten数组"><a href="#18、Flatten数组" class="headerlink" title="18、Flatten数组"></a>18、Flatten数组</h2><p>使用reduce()来获取数组中的所有元素，并使用concat()来使它们flatten。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const flatten = arr =&gt; arr.reduce((a, v) =&gt; a.concat(v), []);</span><br><span class="line">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</span><br></pre></td></tr></table></figure>

<h2 id="19、从数组中获取最大值"><a href="#19、从数组中获取最大值" class="headerlink" title="19、从数组中获取最大值"></a>19、从数组中获取最大值</h2><p>使用Math.max()与spread运算符（…）结合得到数组中的最大值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const arrayMax = arr =&gt; Math.max(...arr);</span><br><span class="line">// arrayMax([10, 1, 5]) -&gt; 10</span><br></pre></td></tr></table></figure>

<h2 id="20、从数组中获取最小值"><a href="#20、从数组中获取最小值" class="headerlink" title="20、从数组中获取最小值"></a>20、从数组中获取最小值</h2><p>使用Math.min()与spread运算符（…）结合得到数组中的最小值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const arrayMin = arr =&gt; Math.min(...arr);</span><br><span class="line">// arrayMin([10, 1, 5]) -&gt; 1</span><br></pre></td></tr></table></figure>

<h2 id="21、获取滚动位置"><a href="#21、获取滚动位置" class="headerlink" title="21、获取滚动位置"></a>21、获取滚动位置</h2><p>如果已定义，请使用pageXOffset和pageYOffset，否则使用scrollLeft和scrollTop，可以省略el来使用window的默认值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const getScrollPos = (el = window) =&gt;</span><br><span class="line">  (&#123;x: (el.pageXOffset !== undefined) ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: (el.pageYOffset !== undefined) ? el.pageYOffset : el.scrollTop&#125;);</span><br><span class="line">// getScrollPos() -&gt; &#123;x: 0, y: 200&#125;</span><br></pre></td></tr></table></figure>

<h2 id="22、最大公约数（GCD）"><a href="#22、最大公约数（GCD）" class="headerlink" title="22、最大公约数（GCD）"></a>22、最大公约数（GCD）</h2><p>使用递归。基本情况是当y等于0时。在这种情况下，返回x。否则，返回y的GCD和x / y的其余部分。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const gcd = (x, y) =&gt; !y ? x : gcd(y, x % y);</span><br><span class="line">// gcd (8, 36) -&gt; 4</span><br></pre></td></tr></table></figure>

<h2 id="23、Head-of-list"><a href="#23、Head-of-list" class="headerlink" title="23、Head of list"></a>23、Head of list</h2><p>返回ARR[0]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const head = arr =&gt; arr[0];</span><br><span class="line">// head([1,2,3]) -&gt; 1</span><br></pre></td></tr></table></figure>

<h2 id="24、list初始化"><a href="#24、list初始化" class="headerlink" title="24、list初始化"></a>24、list初始化</h2><p>返回arr.slice（0，-1）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const initial = arr =&gt; arr.slice(0, -1);</span><br><span class="line">// initial([1,2,3]) -&gt; [1,2]</span><br></pre></td></tr></table></figure>

<h2 id="25、用range初始化数组"><a href="#25、用range初始化数组" class="headerlink" title="25、用range初始化数组"></a>25、用range初始化数组</h2><p>使用Array（end-start）创建所需长度的数组，使用map()来填充范围中的所需值，可以省略start使用默认值0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const initializeArrayRange = (end, start = 0) =&gt;</span><br><span class="line">  Array.apply(null, Array(end - start)).map((v, i) =&gt; i + start);</span><br><span class="line">// initializeArrayRange(5) -&gt; [0,1,2,3,4]</span><br></pre></td></tr></table></figure>

<h2 id="26、用值初始化数组"><a href="#26、用值初始化数组" class="headerlink" title="26、用值初始化数组"></a>26、用值初始化数组</h2><p>使用Array（n）创建所需长度的数组，fill(v)以填充所需的值，可以忽略value使用默认值0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const initializeArray = (n, value = 0) =&gt; Array(n).fill(value);</span><br><span class="line">// initializeArray(5, 2) -&gt; [2,2,2,2,2]</span><br></pre></td></tr></table></figure>

<h2 id="27、列表的最后"><a href="#27、列表的最后" class="headerlink" title="27、列表的最后"></a>27、列表的最后</h2><p>返回arr.slice（-1）[0]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const last = arr =&gt; arr.slice(-1)[0];</span><br><span class="line">// last([1,2,3]) -&gt; 3</span><br></pre></td></tr></table></figure>

<h2 id="28、测试功能所花费的时间"><a href="#28、测试功能所花费的时间" class="headerlink" title="28、测试功能所花费的时间"></a>28、测试功能所花费的时间</h2><p>使用performance.now()获取函数的开始和结束时间，console.log()所花费的时间。第一个参数是函数名，随后的参数传递给函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const timeTaken = callback =&gt; &#123;</span><br><span class="line">  console.time(&#x27;timeTaken&#x27;);</span><br><span class="line">  const r = callback();</span><br><span class="line">  console.timeEnd(&#x27;timeTaken&#x27;);</span><br><span class="line">  return r;</span><br><span class="line">&#125;;</span><br><span class="line">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</span><br><span class="line">// (logged): timeTaken: 0.02099609375ms</span><br></pre></td></tr></table></figure>

<h2 id="29、来自键值对的对象"><a href="#29、来自键值对的对象" class="headerlink" title="29、来自键值对的对象"></a>29、来自键值对的对象</h2><p>使用Array.reduce()来创建和组合键值对。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const objectFromPairs = arr =&gt; arr.reduce((a, v) =&gt; (a[v[0]] = v[1], a), &#123;&#125;);</span><br><span class="line">// objectFromPairs([[&#x27;a&#x27;,1],[&#x27;b&#x27;,2]]) -&gt; &#123;a: 1, b: 2&#125;</span><br></pre></td></tr></table></figure>

<h2 id="30、管道"><a href="#30、管道" class="headerlink" title="30、管道"></a>30、管道</h2><p>使用Array.reduce()通过函数传递值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const pipe = (...funcs) =&gt; arg =&gt; funcs.reduce((acc, func) =&gt; func(acc), arg);</span><br><span class="line">// pipe(btoa, x =&gt; x.toUpperCase())(&quot;Test&quot;) -&gt; &quot;VGVZDA==&quot;</span><br></pre></td></tr></table></figure>

<h2 id="31、Powerset"><a href="#31、Powerset" class="headerlink" title="31、Powerset"></a>31、Powerset</h2><p>使用reduce()与map()结合来遍历元素，并将其组合成包含所有组合的数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const powerset = arr =&gt;</span><br><span class="line">  arr.reduce((a, v) =&gt; a.concat(a.map(r =&gt; [v].concat(r))), [[]]);</span><br><span class="line">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</span><br></pre></td></tr></table></figure>

<h2 id="32、范围内的随机整数"><a href="#32、范围内的随机整数" class="headerlink" title="32、范围内的随机整数"></a>32、范围内的随机整数</h2><p>使用Math.random()生成一个随机数并将其映射到所需的范围，使用Math.floor()使其成为一个整数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const randomIntegerInRange = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1)) + min;</span><br><span class="line">// randomIntegerInRange(0, 5) -&gt; 2</span><br></pre></td></tr></table></figure>

<h2 id="33、范围内的随机数"><a href="#33、范围内的随机数" class="headerlink" title="33、范围内的随机数"></a>33、范围内的随机数</h2><p>使用Math.random()生成一个随机值，使用乘法将其映射到所需的范围。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const randomInRange = (min, max) =&gt; Math.random() * (max - min) + min;</span><br><span class="line">// randomInRange(2,10) -&gt; 6.0211363285087005</span><br></pre></td></tr></table></figure>

<h2 id="34、随机化数组的顺序"><a href="#34、随机化数组的顺序" class="headerlink" title="34、随机化数组的顺序"></a>34、随机化数组的顺序</h2><p>使用sort()重新排序元素，利用Math.random()来随机排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const shuffle = arr =&gt; arr.sort(() =&gt; Math.random() - 0.5);</span><br><span class="line">// shuffle([1,2,3]) -&gt; [2,3,1]</span><br></pre></td></tr></table></figure>

<h2 id="35、重定向到URL"><a href="#35、重定向到URL" class="headerlink" title="35、重定向到URL"></a>35、重定向到URL</h2><p>使用window.location.href或window.location.replace()重定向到url。 传递第二个参数来模拟链接点击（true - default）或HTTP重定向（false）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const redirect = (url, asLink = true) =&gt;</span><br><span class="line">  asLink ? window.location.href = url : window.location.replace(url);</span><br><span class="line">// redirect(&#x27;https://google.com&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="36、反转一个字符串"><a href="#36、反转一个字符串" class="headerlink" title="36、反转一个字符串"></a>36、反转一个字符串</h2><p>使用数组解构和Array.reverse()来颠倒字符串中的字符顺序。合并字符以使用join(‘’)获取字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const reverseString = str =&gt; [...str].reverse().join(&#x27;&#x27;);</span><br><span class="line">// reverseString(&#x27;foobar&#x27;) -&gt; &#x27;raboof&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="37、RGB到十六进制"><a href="#37、RGB到十六进制" class="headerlink" title="37、RGB到十六进制"></a>37、RGB到十六进制</h2><p>使用按位左移运算符（&lt;&lt;）和toString（16），然后padStart（6，“0”）将给定的RGB参数转换为十六进制字符串以获得6位十六进制值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const rgbToHex = (r, g, b) =&gt; ((r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).padStart(6, &#x27;0&#x27;);</span><br><span class="line">// rgbToHex(255, 165, 1) -&gt; &#x27;ffa501&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="38、滚动到顶部"><a href="#38、滚动到顶部" class="headerlink" title="38、滚动到顶部"></a>38、滚动到顶部</h2><p>使用document.documentElement.scrollTop或document.body.scrollTop获取到顶部的距离。<br>从顶部滚动一小部分距离。<br>使用window.requestAnimationFrame()来滚动。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const scrollToTop = _ =&gt; &#123;</span><br><span class="line">  const c = document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">  if (c &gt; 0) &#123;</span><br><span class="line">    window.requestAnimationFrame(scrollToTop);</span><br><span class="line">    window.scrollTo(0, c - c / 8);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">// scrollToTop()</span><br></pre></td></tr></table></figure>

<h2 id="39、随机数组值"><a href="#39、随机数组值" class="headerlink" title="39、随机数组值"></a>39、随机数组值</h2><p>使用Array.map()和Math.random()创建一个随机值的数组。使用Array.sort()根据随机值对原始数组的元素进行排序。</p>
<h2 id="40、数组之间的相似性"><a href="#40、数组之间的相似性" class="headerlink" title="40、数组之间的相似性"></a>40、数组之间的相似性</h2><p>使用filter()移除不是values的一部分值，使用includes()确定。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const similarity = (arr, values) =&gt; arr.filter(v =&gt; values.includes(v));</span><br><span class="line">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</span><br></pre></td></tr></table></figure>

<h2 id="41、按字符串排序（按字母顺序排列）"><a href="#41、按字符串排序（按字母顺序排列）" class="headerlink" title="41、按字符串排序（按字母顺序排列）"></a>41、按字符串排序（按字母顺序排列）</h2><p>使用split（’’）分割字符串，sort()使用localeCompare()，使用join（’’）重新组合。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const sortCharactersInString = str =&gt;</span><br><span class="line">  str.split(&#x27;&#x27;).sort((a, b) =&gt; a.localeCompare(b)).join(&#x27;&#x27;);</span><br><span class="line">// sortCharactersInString(&#x27;cabbage&#x27;) -&gt; &#x27;aabbceg&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="42、数组总和"><a href="#42、数组总和" class="headerlink" title="42、数组总和"></a>42、数组总和</h2><p>使用reduce()将每个值添加到累加器，初始化值为0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const sum = arr =&gt; arr.reduce((acc, val) =&gt; acc + val, 0);</span><br><span class="line">// sum([1,2,3,4]) -&gt; 10</span><br></pre></td></tr></table></figure>

<h2 id="43、交换两个变量的值"><a href="#43、交换两个变量的值" class="headerlink" title="43、交换两个变量的值"></a>43、交换两个变量的值</h2><p>使用数组解构来交换两个变量之间的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[varA, varB] = [varB, varA];</span><br><span class="line">// [x, y] = [y, x]</span><br></pre></td></tr></table></figure>

<h2 id="44、列表的tail"><a href="#44、列表的tail" class="headerlink" title="44、列表的tail"></a>44、列表的tail</h2><p>返回arr.slice（1）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const tail = arr =&gt; arr.length &gt; 1 ? arr.slice(1) : arr;</span><br><span class="line">// tail([1,2,3]) -&gt; [2,3]</span><br><span class="line">// tail([1]) -&gt; [1]</span><br></pre></td></tr></table></figure>

<h2 id="45、数组唯一值"><a href="#45、数组唯一值" class="headerlink" title="45、数组唯一值"></a>45、数组唯一值</h2><p>使用ES6 Set和… rest操作符去掉所有重复值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const unique = arr =&gt; [...new Set(arr)];</span><br><span class="line">// unique([1,2,2,3,4,4,5]) -&gt; [1,2,3,4,5]</span><br></pre></td></tr></table></figure>

<h2 id="46、URL参数"><a href="#46、URL参数" class="headerlink" title="46、URL参数"></a>46、URL参数</h2><p>使用match() 与适当的正则表达式来获得所有键值对，适当的map() 。使用Object.assign()和spread运算符（…）将所有键值对组合到一个对象中，将location.search作为参数传递给当前url。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const getUrlParameters = url =&gt;</span><br><span class="line">  url.match(/([^?=&amp;]+)(=([^&amp;]*))/g).reduce(</span><br><span class="line">    (a, v) =&gt; (a[v.slice(0, v.indexOf(&#x27;=&#x27;))] = v.slice(v.indexOf(&#x27;=&#x27;) + 1), a), &#123;&#125;</span><br><span class="line">  );</span><br><span class="line">// getUrlParameters(&#x27;http://url.com/page?name=Adam&amp;surname=Smith&#x27;) -&gt; &#123;name: &#x27;Adam&#x27;, surname: &#x27;Smith&#x27;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="47、UUID生成器"><a href="#47、UUID生成器" class="headerlink" title="47、UUID生成器"></a>47、UUID生成器</h2><p>使用crypto API生成符合RFC4122版本4的UUID。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const uuid = _ =&gt;</span><br><span class="line">  ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =&gt;</span><br><span class="line">    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] &amp; 15 &gt;&gt; c / 4).toString(16)</span><br><span class="line">  );</span><br><span class="line">// uuid() -&gt; &#x27;7982fcfe-5721-4632-bede-6000885be57d&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="48、验证数字"><a href="#48、验证数字" class="headerlink" title="48、验证数字"></a>48、验证数字</h2><p>使用！isNaN和parseFloat()来检查参数是否是一个数字，使用isFinite()来检查数字是否是有限的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const validateNumber = n =&gt; !isNaN(parseFloat(n)) &amp;&amp; isFinite(n) &amp;&amp; Number(n) == n;</span><br><span class="line">// validateNumber(&#x27;10&#x27;) -&gt; true</span><br></pre></td></tr></table></figure>

<p>翻译多有不准确之处，感兴趣的程序员可以自行到Github上查看英文原版。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-10-11</span><i class="fa fa-tag"></i><a class="tag" href="/tags/前端开发/" title="前端开发">前端开发 </a><a class="tag" href="/tags/JavaScript/" title="JavaScript">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://pingan8787.github.io/2018/10/11/101-【JavaScript】精心收集的48个js代码片段分享/,pingan8787,101-【JavaScript】精心收集的48个js代码片段分享,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2018/10/12/102-%E3%80%90JavaScript%E3%80%91%E6%87%92%E5%8A%A0%E8%BD%BD%E5%92%8C%E9%A2%84%E5%8A%A0%E8%BD%BD%E6%80%BB%E7%BB%93/" title="102-【JavaScript】懒加载和预加载总结">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2018/10/09/100-%E3%80%90CSS%E3%80%91%E9%82%A3%E4%B8%AA%E8%A2%AB%E6%88%91%E4%BB%AC%E5%BF%BD%E7%95%A5%E7%9A%84outline/" title="100-【CSS】那个被我们忽略的outline">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>