<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-197-ã€JavaScriptã€‘JSè‡ªå®šä¹‰äº‹ä»¶å¦‚æ­¤ç®€å•ï¼" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/02/22/197-%E3%80%90JavaScript%E3%80%91JS%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%A6%82%E6%AD%A4%E7%AE%80%E5%8D%95%EF%BC%81/" class="article-date">
  <time class="dt-published" datetime="2020-02-22T07:02:09.000Z" itemprop="datePublished">2020-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/02/22/197-%E3%80%90JavaScript%E3%80%91JS%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%A6%82%E6%AD%A4%E7%AE%80%E5%8D%95%EF%BC%81/">197-ã€JavaScriptã€‘JSè‡ªå®šä¹‰äº‹ä»¶å¦‚æ­¤ç®€å•ï¼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨å‰ç«¯å¼€å‘ä¸–ç•Œä¸­ï¼ŒJavaScript å’Œ HTML ä¹‹é—´å¾€å¾€é€šè¿‡ <strong>äº‹ä»¶</strong> æ¥å®ç°äº¤äº’ã€‚å…¶ä¸­å¤šæ•°ä¸ºå†…ç½®äº‹ä»¶ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç» JS<strong>è‡ªå®šä¹‰äº‹ä»¶æ¦‚å¿µå’Œå®ç°æ–¹å¼</strong>ï¼Œå¹¶ç»“åˆæ¡ˆä¾‹è¯¦ç»†åˆ†æè‡ªå®šä¹‰äº‹ä»¶çš„åŸç†ã€åŠŸèƒ½ã€åº”ç”¨åŠæ³¨æ„äº‹é¡¹ã€‚</p>
<h1 id="ğŸ“šä¸€ã€ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰äº‹ä»¶"><a href="#ğŸ“šä¸€ã€ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="ğŸ“šä¸€ã€ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰äº‹ä»¶"></a>ğŸ“šä¸€ã€ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰äº‹ä»¶</h1><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç›‘å¬é¡µé¢è®¸å¤šäº‹ä»¶ï¼Œè¯¸å¦‚ï¼šç‚¹å‡»äº‹ä»¶ï¼ˆ <code>click</code> ï¼‰ã€é¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼ˆ <code>mousemove</code> ï¼‰ã€å…ƒç´ å¤±å»ç„¦ç‚¹äº‹ä»¶ï¼ˆ <code>blur</code> ï¼‰ç­‰ç­‰ã€‚<br /><br><br />äº‹ä»¶æœ¬è´¨æ˜¯ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œæ˜¯ä¸€ç§æ¶ˆæ¯ï¼Œåªæœ‰åœ¨å¤šå¯¹è±¡å¤šæ¨¡å—æ—¶ï¼Œæ‰æœ‰å¯èƒ½éœ€è¦ä½¿ç”¨äº‹ä»¶è¿›è¡Œé€šä¿¡ã€‚åœ¨å¤šæ¨¡å—åŒ–å¼€å‘æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>è‡ªå®šä¹‰äº‹ä»¶</strong>è¿›è¡Œæ¨¡å—é—´é€šä¿¡ã€‚<br /><br><br />å½“æŸäº›åŸºç¡€äº‹ä»¶æ— æ³•æ»¡è¶³æˆ‘ä»¬ä¸šåŠ¡ï¼Œå°±å¯ä»¥å°è¯•Â <strong>è‡ªå®šä¹‰äº‹ä»¶</strong>æ¥è§£å†³ã€‚</p>
<h1 id="ğŸ“šäºŒã€å®ç°æ–¹å¼ä»‹ç»"><a href="#ğŸ“šäºŒã€å®ç°æ–¹å¼ä»‹ç»" class="headerlink" title="ğŸ“šäºŒã€å®ç°æ–¹å¼ä»‹ç»"></a>ğŸ“šäºŒã€å®ç°æ–¹å¼ä»‹ç»</h1><p>ç›®å‰å®ç°<strong>è‡ªå®šä¹‰äº‹ä»¶</strong>çš„ä¸¤ç§ä¸»è¦æ–¹å¼æ˜¯ JS åŸç”Ÿçš„ <code>Event()</code>Â æ„é€ å‡½æ•°å’Œ <code>CustomEvent()</code> æ„é€ å‡½æ•°æ¥åˆ›å»ºã€‚<br /></p>
<h2 id="1-Event"><a href="#1-Event" class="headerlink" title="1. Event()"></a>1. Event()</h2><p><code>Event()</code> æ„é€ å‡½æ•°, åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶å¯¹è±¡ <code>Event</code>ã€‚</p>
<h3 id="1-1-è¯­æ³•"><a href="#1-1-è¯­æ³•" class="headerlink" title="1.1 è¯­æ³•"></a>1.1 è¯­æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myEvent = <span class="keyword">new</span> Event(typeArg, eventInit);</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å‚æ•°"><a href="#1-2-å‚æ•°" class="headerlink" title="1.2 å‚æ•°"></a>1.2 å‚æ•°</h3><p><code>typeArg</code>Â  ï¼š <code>DOMString</code>Â ç±»å‹ï¼Œè¡¨ç¤ºåˆ›å»ºäº‹ä»¶çš„åç§°ï¼›<br /><code>eventInit</code>Â ï¼šå¯é€‰é…ç½®é¡¹ï¼ŒåŒ…æ‹¬ï¼š</p>
<table>
<thead>
<tr>
<th align="center">å­—æ®µåç§°</th>
<th align="center">è¯´æ˜</th>
<th align="center">æ˜¯å¦å¯é€‰</th>
<th align="center">ç±»å‹</th>
<th align="center">é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>bubbles</code></td>
<td align="center">è¡¨ç¤ºè¯¥äº‹ä»¶<strong>æ˜¯å¦å†’æ³¡</strong>ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Boolean</code></td>
<td align="center">false</td>
</tr>
<tr>
<td align="center"><code>cancelable</code></td>
<td align="center">è¡¨ç¤ºè¯¥äº‹ä»¶<strong>èƒ½å¦è¢«å–æ¶ˆ</strong>ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Boolean</code></td>
<td align="center">false</td>
</tr>
<tr>
<td align="center"><code>composed</code></td>
<td align="center">æŒ‡ç¤ºäº‹ä»¶æ˜¯å¦ä¼šåœ¨<strong>å½±å­DOMæ ¹èŠ‚ç‚¹ä¹‹å¤–</strong>è§¦å‘ä¾¦å¬å™¨ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Boolean</code></td>
<td align="center">false</td>
</tr>
</tbody></table>
<h3 id="1-3-æ¼”ç¤ºç¤ºä¾‹"><a href="#1-3-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="1.3 æ¼”ç¤ºç¤ºä¾‹"></a>1.3 æ¼”ç¤ºç¤ºä¾‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ”¯æŒå†’æ³¡ä¸”ä¸èƒ½è¢«å–æ¶ˆçš„ pingan äº‹ä»¶</span></span><br><span class="line"><span class="keyword">let</span> myEvent = <span class="keyword">new</span> Event(<span class="string">&quot;pingan&quot;</span>, &#123;<span class="string">&quot;bubbles&quot;</span>:<span class="literal">true</span>, <span class="string">&quot;cancelable&quot;</span>:<span class="literal">false</span>&#125;);</span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(myEvent);</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº‹ä»¶å¯ä»¥åœ¨ä»»ä½•å…ƒç´ è§¦å‘ï¼Œä¸ä»…ä»…æ˜¯document</span></span><br><span class="line">testDOM.dispatchEvent(myEvent);</span><br></pre></td></tr></table></figure>

<h3 id="1-4-å…¼å®¹æ€§"><a href="#1-4-å…¼å®¹æ€§" class="headerlink" title="1.4 å…¼å®¹æ€§"></a>1.4 å…¼å®¹æ€§</h3><p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199abd2e9e?w=1265&h=326&f=png&s=50137" alt="image.png"><br />å›¾ç‰‡æ¥æºï¼š<a target="_blank" rel="noopener" href="https://caniuse.com/">https://caniuse.com/</a></p>
<h2 id="2-CustomEvent"><a href="#2-CustomEvent" class="headerlink" title="2. CustomEvent()"></a>2. CustomEvent()</h2><p><code>CustomEvent()</code> æ„é€ å‡½æ•°, åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶å¯¹è±¡ <code>CustomEvent</code>ã€‚</p>
<h3 id="2-1-è¯­æ³•"><a href="#2-1-è¯­æ³•" class="headerlink" title="2.1 è¯­æ³•"></a>2.1 è¯­æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myEvent = <span class="keyword">new</span> CustomEvent(typeArg, eventInit);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-å‚æ•°"><a href="#2-2-å‚æ•°" class="headerlink" title="2.2 å‚æ•°"></a>2.2 å‚æ•°</h3><p><code>typeArg</code>Â  ï¼š <code>DOMString</code> ç±»å‹ï¼Œè¡¨ç¤ºåˆ›å»ºäº‹ä»¶çš„åç§°ï¼›<br /><code>eventInit</code> ï¼šå¯é€‰é…ç½®é¡¹ï¼ŒåŒ…æ‹¬ï¼š</p>
<table>
<thead>
<tr>
<th align="center">å­—æ®µåç§°</th>
<th align="center">è¯´æ˜</th>
<th align="center">æ˜¯å¦å¯é€‰</th>
<th align="center">ç±»å‹</th>
<th align="center">é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>detail</code></td>
<td align="center">è¡¨ç¤ºè¯¥äº‹ä»¶ä¸­éœ€è¦è¢«ä¼ é€’çš„æ•°æ®ï¼Œåœ¨ <code>EventListener</code>Â è·å–ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Any</code></td>
<td align="center">null</td>
</tr>
<tr>
<td align="center"><code>bubbles</code></td>
<td align="center">è¡¨ç¤ºè¯¥äº‹ä»¶<strong>æ˜¯å¦å†’æ³¡</strong>ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Boolean</code></td>
<td align="center">false</td>
</tr>
<tr>
<td align="center"><code>cancelable</code></td>
<td align="center">è¡¨ç¤ºè¯¥äº‹ä»¶<strong>èƒ½å¦è¢«å–æ¶ˆ</strong>ã€‚</td>
<td align="center">å¯é€‰</td>
<td align="center"><code>Boolean</code></td>
<td align="center">false</td>
</tr>
</tbody></table>
<h3 id="2-3-æ¼”ç¤ºç¤ºä¾‹"><a href="#2-3-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="2.3 æ¼”ç¤ºç¤ºä¾‹"></a>2.3 æ¼”ç¤ºç¤ºä¾‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºäº‹ä»¶</span></span><br><span class="line"><span class="keyword">let</span> myEvent = <span class="keyword">new</span> CustomEvent(<span class="string">&quot;pingan&quot;</span>, &#123;</span><br><span class="line">	<span class="attr">detail</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;wangpingan&quot;</span> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ é€‚å½“çš„äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;pingan&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">	alert(<span class="string">`pinganäº‹ä»¶è§¦å‘ï¼Œæ˜¯ <span class="subst">$&#123;e.detail.name&#125;</span> è§¦å‘ã€‚`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;leo2&quot;</span>).addEventListener(</span><br><span class="line">  <span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ´¾å‘äº‹ä»¶</span></span><br><span class="line">		<span class="built_in">window</span>.dispatchEvent(pingan2Event);</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199ae8f81e?w=457&h=140&f=png&s=7499" alt="image.png"><br /><br><br />æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™è‡ªå®šä¹‰äº‹ä»¶æ·»åŠ å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myEvent.age = <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-å…¼å®¹æ€§"><a href="#2-4-å…¼å®¹æ€§" class="headerlink" title="2.4 å…¼å®¹æ€§"></a>2.4 å…¼å®¹æ€§</h3><p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199af32342?w=1261&h=331&f=png&s=54279" alt="image.png"><br />å›¾ç‰‡æ¥æºï¼š<a target="_blank" rel="noopener" href="https://caniuse.com/">https://caniuse.com/</a></p>
<h3 id="2-5-IE8-å…¼å®¹"><a href="#2-5-IE8-å…¼å®¹" class="headerlink" title="2.5 IE8 å…¼å®¹"></a>2.5 IE8 å…¼å®¹</h3><p>åˆ†å‘äº‹ä»¶æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>dispatchEvent</code>Â äº‹ä»¶è§¦å‘ï¼Œå®ƒåœ¨ IE8 åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­éœ€è¦è¿›è¡Œä½¿ç”¨ <code>fireEvent</code>Â æ–¹æ³•å…¼å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.dispatchEvent) &#123;  </span><br><span class="line">    <span class="built_in">window</span>.dispatchEvent(myEvent);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.fireEvent(myEvent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-Event-ä¸-CustomEvent-åŒºåˆ«"><a href="#3-Event-ä¸-CustomEvent-åŒºåˆ«" class="headerlink" title="3. Event() ä¸ CustomEvent() åŒºåˆ«"></a>3. Event() ä¸ CustomEvent() åŒºåˆ«</h2><p>ä»ä¸¤è€…æ”¯æŒçš„å‚æ•°ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼š<br /><code>Event()</code> é€‚åˆåˆ›å»ºç®€å•çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œè€Œ <code>CustomEvent()</code> æ”¯æŒå‚æ•°ä¼ é€’çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œå®ƒæ”¯æŒ <code>detail</code>Â å‚æ•°ï¼Œä½œä¸ºäº‹ä»¶ä¸­<strong>éœ€è¦è¢«ä¼ é€’çš„æ•°æ®</strong>ï¼Œå¹¶åœ¨ <code>EventListener</code> è·å–ã€‚</p>
<p><strong>æ³¨æ„:</strong><br />å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘æ—¶ï¼Œè‹¥ç›¸åº”çš„å…ƒç´ åŠå…¶ä¸Šçº§å…ƒç´ æ²¡æœ‰è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œåˆ™ä¸ä¼šæœ‰å›è°ƒæ“ä½œæ‰§è¡Œã€‚Â <br />å½“éœ€è¦å¯¹äºå­å…ƒç´ è¿›è¡Œç›‘å¬ï¼Œå¯ä»¥åœ¨å…¶çˆ¶å…ƒç´ è¿›è¡Œäº‹ä»¶æ‰˜ç®¡ï¼Œè®©äº‹ä»¶åœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µè¢«ç›‘å¬å™¨æ•è·å¹¶æ‰§è¡Œã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ <code>event.target</code> è·å–åˆ°å…·ä½“è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚</p>
<h1 id="ğŸ“šä¸‰ã€ä½¿ç”¨åœºæ™¯"><a href="#ğŸ“šä¸‰ã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="ğŸ“šä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ğŸ“šä¸‰ã€ä½¿ç”¨åœºæ™¯</h1><p><strong>äº‹ä»¶æœ¬è´¨æ˜¯ä¸€ç§æ¶ˆæ¯</strong>ï¼Œäº‹ä»¶æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>çš„å®ç°ï¼Œå³èƒ½ç”¨<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>çš„åœ°æ–¹ï¼Œè‡ªç„¶ä¹Ÿèƒ½ç”¨<strong>äº‹ä»¶æ¨¡å¼</strong>ã€‚<br /></p>
<h2 id="1-åœºæ™¯ä»‹ç»"><a href="#1-åœºæ™¯ä»‹ç»" class="headerlink" title="1.åœºæ™¯ä»‹ç»"></a>1.åœºæ™¯ä»‹ç»</h2><p>æ¯”å¦‚è¿™ä¸¤ç§åœºæ™¯ï¼š<br /></p>
<ul>
<li><strong>åœºæ™¯1ï¼šå•ä¸ªç›®æ ‡å¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œéœ€è¦é€šçŸ¥å¤šä¸ªè§‚å¯Ÿè€…ä¸€åŒæ”¹å˜ã€‚</strong></li>
</ul>
<p>å¦‚ï¼šå½“å¾®åšåˆ—è¡¨ä¸­ç‚¹å‡»â€œå…³æ³¨â€ï¼Œæ­¤æ—¶ä¼šåŒæ—¶å‘ç”Ÿå¾ˆå¤šäº‹ï¼šæ¨èæ›´å¤šç±»ä¼¼å¾®åšï¼Œä¸ªäººå…³æ³¨æ•°å¢åŠ â€¦<br /><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199d02caa1?w=1394&h=550&f=png&s=329270" alt="image.png"></p>
<ul>
<li><strong>åœºæ™¯2ï¼šè§£è€¦å¤šæ¨¡å—å¼€åä½œã€‚</strong></li>
</ul>
<p>å¦‚ï¼šå°ç‹è´Ÿè´£Aæ¨¡å—å¼€å‘ï¼Œå°é™ˆè´Ÿè´£Bæ¨¡å—å¼€å‘ï¼Œæ¨¡å—Béœ€è¦æ¨¡å—Aæ­£å¸¸è¿è¡Œä¹‹åæ‰èƒ½æ‰§è¡Œã€‚</p>
<h2 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h2><h3 id="2-1-åœºæ™¯1å®ç°"><a href="#2-1-åœºæ™¯1å®ç°" class="headerlink" title="2.1 åœºæ™¯1å®ç°"></a>2.1 åœºæ™¯1å®ç°</h3><p><strong>åœºæ™¯1ï¼šå•ä¸ªç›®æ ‡å¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œéœ€è¦é€šçŸ¥å¤šä¸ªè§‚å¯Ÿè€…ä¸€åŒæ”¹å˜ã€‚</strong><br />æœ¬ä¾‹å­æ¨¡æ‹Ÿä¸‰ä¸ªé¡µé¢è¿›è¡Œæ¼”ç¤ºï¼š<br />1.å¾®åšåˆ—è¡¨é¡µï¼ˆWeibo.jsï¼‰<br />2.ç²‰ä¸åˆ—è¡¨é¡µï¼ˆUser.jsï¼‰<br />3.å¾®åšé¦–é¡µï¼ˆHome.jsï¼‰</p>
<p>åœ¨<strong>å¾®åšåˆ—è¡¨é¡µï¼ˆWeibo.jsï¼‰</strong>ä¸­ï¼Œæˆ‘ä»¬å¯¼å…¥å…¶ä»–ä¸¤ä¸ªé¡µé¢ï¼Œå¹¶ä¸”ç›‘å¬ã€å…³æ³¨å¾®åšã€‘æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨å›è°ƒäº‹ä»¶ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶Â <code>focusUser</code>ï¼Œå¹¶åœ¨ <code>document</code>Â ä¸Šä½¿ç”¨ <code>dispatchEvent</code>Â æ–¹æ³•æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Weibo.js</span></span><br><span class="line"><span class="keyword">import</span> UserModule <span class="keyword">from</span> <span class="string">&quot;./User.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> HomeModule <span class="keyword">from</span> <span class="string">&quot;./Home.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> eventButton = <span class="built_in">document</span>.getElementById(<span class="string">&quot;eventButton&quot;</span>);</span><br><span class="line">eventButton.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> focusUser = <span class="keyword">new</span> Event(<span class="string">&quot;focusUser&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.dispatchEvent(focusUser);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ä¸¤ä¸ªé¡µé¢å®ç°çš„ä»£ç åŸºæœ¬ä¸€è‡´ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œè®¾ç½®äº†ä¸¤è€…ä¸åŒè¾“å‡ºæ—¥å¿—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// User.js</span></span><br><span class="line"><span class="keyword">const</span> eventButton = <span class="built_in">document</span>.getElementById(<span class="string">&quot;eventButton&quot;</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;focusUser&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ã€ç²‰ä¸åˆ—è¡¨é¡µã€‘ç›‘å¬åˆ°è‡ªå®šä¹‰äº‹ä»¶è§¦å‘ï¼Œeventï¼š&quot;</span>,event);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Home.js</span></span><br><span class="line"><span class="keyword">const</span> eventButton = <span class="built_in">document</span>.getElementById(<span class="string">&quot;eventButton&quot;</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;focusUser&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ã€å¾®åšé¦–é¡µã€‘ç›‘å¬åˆ°è‡ªå®šä¹‰äº‹ä»¶è§¦å‘ï¼Œeventï¼š&quot;</span>,event);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»ã€å…³æ³¨å¾®åšã€‘æŒ‰é’®åï¼Œçœ‹åˆ°æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹æ—¥å¿—ä¿¡æ¯ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199d2f7350?w=715&h=267&f=png&s=29435" alt="image.png"></p>
<p>æœ€ç»ˆå®ç°äº†ï¼Œåœ¨ <strong>å¾®åšåˆ—è¡¨é¡µï¼ˆWeibo.jsï¼‰</strong>ç»„ä»¶è´Ÿè´£æ´¾å‘äº‹ä»¶ï¼Œå…¶ä»–ç»„ä»·è´Ÿè´£ç›‘å¬äº‹ä»¶ï¼Œè¿™æ ·ä¸‰ä¸ªç»„ä»¶ä¹‹é—´è€¦åˆåº¦éå¸¸ä½ï¼Œå®Œå…¨ä¸ç”¨å…³ç³»å¯¹æ–¹ï¼Œäº’ç›¸ä¸å½±å“ã€‚<br /><strong>å…¶å®è¿™ä¹Ÿæ˜¯å®ç°äº†è§‚å¯Ÿè€…æ¨¡å¼ã€‚</strong></p>
<h3 id="2-2-åœºæ™¯2å®ç°"><a href="#2-2-åœºæ™¯2å®ç°" class="headerlink" title="2.2 åœºæ™¯2å®ç°"></a>2.2 åœºæ™¯2å®ç°</h3><p><strong>åœºæ™¯2ï¼šè§£è€¦å¤šæ¨¡å—å¼€åä½œã€‚</strong><br />ä¸¾ä¸ªæ›´ç›´è§‚çš„ä¾‹å­ï¼Œå½“å¾®åšéœ€è¦åŠ å…¥ã€<strong>ä¸€é”®ä¸‰è¿</strong>ã€‘æ–°åŠŸèƒ½ï¼Œéœ€è¦äº§å“åŸå‹å’ŒUIè®¾è®¡å®Œåï¼Œç¨‹åºå‘˜æ‰èƒ½å¼€å‘ã€‚<br />æœ¬ä¾‹å­æ¨¡æ‹Ÿå››ä¸ªæ¨¡å—ï¼š<br />1.æµç¨‹æ§åˆ¶ï¼ˆIndex.jsï¼‰<br />2.äº§å“è®¾è®¡ï¼ˆProduction.jsï¼‰<br />3.UIè®¾è®¡ï¼ˆDesign.jsï¼‰<br />4.ç¨‹åºå‘˜å¼€å‘ï¼ˆDevelop.jsï¼‰</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b7199d71549f?w=1031&h=336&f=png&s=46607" alt="image.png"></p>
<p>åœ¨<strong>æµç¨‹æ§åˆ¶ï¼ˆIndex.jsï¼‰æ¨¡å—</strong>ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶ä»–ä¸‰ä¸ªæµç¨‹çš„æ¨¡å—éƒ½å¯¼å…¥è¿›æ¥ï¼Œç„¶åç›‘å¬ã€å¼€å§‹ä»»åŠ¡ã€‘æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨å›è°ƒäº‹ä»¶ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶Â <code>startTask</code>ï¼Œå¹¶åœ¨ <code>document</code> ä¸Šä½¿ç”¨ <code>dispatchEvent</code> æ–¹æ³•æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Index.js</span></span><br><span class="line"><span class="keyword">import</span> ProductionModule <span class="keyword">from</span> <span class="string">&quot;./Production.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> DesignModule <span class="keyword">from</span> <span class="string">&quot;./Design.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> DevelopModule <span class="keyword">from</span> <span class="string">&quot;./Develop.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> start = <span class="built_in">document</span>.getElementById(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">start.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å¼€å§‹æ‰§è¡Œä»»åŠ¡&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> startTask = <span class="keyword">new</span> Event(<span class="string">&quot;startTask&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.dispatchEvent(startTask);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>åœ¨ Production äº§å“è®¾è®¡æ¨¡å—ä¸­ï¼Œç›‘å¬ä»»åŠ¡å¼€å§‹äº‹ä»¶ <code>startTask</code>Â åï¼Œæ¨¡æ‹Ÿ1ç§’ååŸå‹è®¾è®¡å®Œæˆï¼Œå¹¶æ´¾å‘ä¸€ä¸ªæ–°çš„äº‹ä»¶ <code>productionSuccess</code>Â ï¼Œå¼€å§‹æ¥ä¸‹æ¥çš„UIç¨¿è®¾è®¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Production.js</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;startTask&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;äº§å“å¼€å§‹è®¾è®¡...&quot;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;äº§å“åŸå‹è®¾è®¡å®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>.dispatchEvent(<span class="keyword">new</span> Event(<span class="string">&quot;productionSuccess&quot;</span>));</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨UIç¨¿è®¾è®¡å’Œç¨‹åºå¼€å‘æ¨¡å—ï¼Œå…¶å®ä¹Ÿç±»ä¼¼ï¼Œä»£ç å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Dedign.js</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;productionSuccess&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;UIç¨¿å¼€å§‹è®¾è®¡...&quot;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;UIç¨¿è®¾è®¡å®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>.dispatchEvent(<span class="keyword">new</span> Event(<span class="string">&quot;designSuccess&quot;</span>));</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Production.js</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;designSuccess&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å¼€å§‹å¼€å‘åŠŸèƒ½...&quot;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;ã€ä¸€é”®ä¸‰è¿ã€‘å¼€å‘å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬ç‚¹å‡»ã€å¼€å§‹ä»»åŠ¡ã€‘æŒ‰é’®åï¼Œçœ‹åˆ°æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹æ—¥å¿—ä¿¡æ¯ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/2/22/1706b719c40359b3?w=717&h=268&f=png&s=23968" alt="image.png"></p>
<p>æœ€ç»ˆå®ç°äº†åœ¨ <strong>æµç¨‹æ§åˆ¶ï¼ˆIndex.jsï¼‰æ¨¡å—</strong>è´Ÿè´£æ´¾å‘äº‹ä»¶ï¼Œå…¶ä»–ç»„ä»¶è´Ÿè´£ç›‘å¬äº‹ä»¶ï¼ŒæŒ‰æµç¨‹å®Œæˆå…¶ä»–ä»»åŠ¡ã€‚<br /><strong>å¯ä»¥çœ‹å‡ºï¼ŒåŸå‹è®¾è®¡ã€UIç¨¿è®¾è®¡å’Œç¨‹åºå¼€å‘ä»»åŠ¡ï¼Œäº’ä¸å½±å“ï¼Œæ˜“äºä»»åŠ¡æ‹“å±•ã€‚</strong></p>
<h1 id="ğŸ“šå››ã€æ€»ç»“"><a href="#ğŸ“šå››ã€æ€»ç»“" class="headerlink" title="ğŸ“šå››ã€æ€»ç»“"></a>ğŸ“šå››ã€æ€»ç»“</h1><p>æœ¬æ–‡è¯¦ç»†ä»‹ç» JS<strong>è‡ªå®šä¹‰äº‹ä»¶æ¦‚å¿µå’Œå®ç°æ–¹å¼</strong>ï¼Œå¹¶ç»“åˆä¸¤ä¸ªå®é™…åœºæ™¯è¿›è¡Œä»£ç æ¼”ç¤ºã€‚ç»†å¿ƒçš„å°ä¼™ä¼´ä¼šå‘ç°ï¼Œè¿™ä¸¤ä¸ªå®é™…åœºæ™¯éƒ½æ˜¯ç”¨ <code>Event()</code>Â æ„é€ å‡½æ•°å®ç°ï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨ <code>CustomEvent</code>Â æ„é€ å‡½æ•°æ¥ä»£æ›¿ã€‚<br />å¦å¤–æœ¬æ–‡ä¹Ÿè¯¦ç»†ä»‹ç»ä¸¤ç§å®ç°æ–¹å¼ï¼ŒåŒ…æ‹¬å…¶åŒºåˆ«å’Œå…¼å®¹æ€§ã€‚<br />æœ€åä¹Ÿå¸Œæœ›å¤§å®¶èƒ½åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¤šæ€è€ƒä»£ç è§£è€¦ï¼Œé€‚å½“ä½¿ç”¨<strong>è‡ªå®šä¹‰äº‹ä»¶</strong>æ¥æé«˜ä»£ç è´¨é‡ã€‚</p>
<p>å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡ç‚¹ã€‚</p>
<h1 id="ğŸ“šäº”ã€å‚è€ƒæ–‡ç« "><a href="#ğŸ“šäº”ã€å‚è€ƒæ–‡ç« " class="headerlink" title="ğŸ“šäº”ã€å‚è€ƒæ–‡ç« "></a>ğŸ“šäº”ã€å‚è€ƒæ–‡ç« </h1><ul>
<li>ã€Š<a target="_blank" rel="noopener" href="https://m.jb51.net/article/127776.htm">javascriptè‡ªå®šä¹‰äº‹ä»¶åŠŸèƒ½ä¸ç”¨æ³•å®ä¾‹åˆ†æ</a>ã€‹</li>
<li>ã€Š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/Event">Event - MDN</a>ã€‹</li>
<li>ã€Š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/CustomEvent">CustomEvent - MDN</a>ã€‹</li>
</ul>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#103;&#x61;&#110;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#46;&#x63;&#111;&#109;">&#112;&#x69;&#110;&#103;&#x61;&#110;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#46;&#x63;&#111;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>
<h2 id="å¾®ä¿¡å…¬ä¼—å·"><a href="#å¾®ä¿¡å…¬ä¼—å·" class="headerlink" title="å¾®ä¿¡å…¬ä¼—å·"></a>å¾®ä¿¡å…¬ä¼—å·</h2><p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/02/22/197-%E3%80%90JavaScript%E3%80%91JS%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%A6%82%E6%AD%A4%E7%AE%80%E5%8D%95%EF%BC%81/" data-id="ckts3eju1005g4d9ka2ck5whn" data-title="197-ã€JavaScriptã€‘JSè‡ªå®šä¹‰äº‹ä»¶å¦‚æ­¤ç®€å•ï¼" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">é‡æ¸©åŸºç¡€</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-196-ã€JavaScriptã€‘ä¸€æ–‡å­¦ä¼šåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/02/13/196-%E3%80%90JavaScript%E3%80%91%E4%B8%80%E6%96%87%E5%AD%A6%E4%BC%9A%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B0%E7%BB%84/" class="article-date">
  <time class="dt-published" datetime="2020-02-12T16:39:31.000Z" itemprop="datePublished">2020-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/02/13/196-%E3%80%90JavaScript%E3%80%91%E4%B8%80%E6%96%87%E5%AD%A6%E4%BC%9A%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B0%E7%BB%84/">196-ã€JavaScriptã€‘ä¸€æ–‡å­¦ä¼šåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™ç§æƒ…å†µï¼Œéœ€è¦æˆ‘ä»¬åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ã€‚</p>
<p>é‚£ä¹ˆä»Šå¤©æˆ‘æŠŠå¸¸ç”¨çš„åˆ¤æ–­<strong>å˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹</strong>çš„æ–¹æ³•ï¼Œæ•´ç†åœ¨è¿™é‡Œï¼š</p>
<h2 id="ä¸€ã€å¸¸ç”¨æ–¹æ³•"><a href="#ä¸€ã€å¸¸ç”¨æ–¹æ³•" class="headerlink" title="ä¸€ã€å¸¸ç”¨æ–¹æ³•"></a>ä¸€ã€å¸¸ç”¨æ–¹æ³•</h2><h3 id="1-Object-prototype-toString"><a href="#1-Object-prototype-toString" class="headerlink" title="1. Object.prototype.toString"></a>1. Object.prototype.toString</h3><p>é€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Object.prototype.toString</code>Â æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString">ã€ŠObject.prototype.toString() - MDN - Mozillaã€‹</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(a)===<span class="string">&#x27;[object Array]&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">isArray(arr); <span class="comment">// true</span></span><br><span class="line">isArray(obj); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="2-Array-isArray-arr"><a href="#2-Array-isArray-arr" class="headerlink" title="2. Array.isArray(arr)"></a>2. Array.isArray(arr)</h3><p><code>Array.isArray(arr)</code> æ–¹æ³•ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">Array</span>.isArray(arr); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(obj); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ <code>Array.isArray(arr)</code>Â æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œ<code>Array.isArray</code>æ˜¯ES 5.1æ¨å‡ºçš„ï¼Œä¸æ”¯æŒIE6~8ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿåº”æ³¨æ„å…¼å®¹é—®é¢˜ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray)&#123;</span><br><span class="line">    <span class="built_in">Array</span>.isArray = <span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(a)===<span class="string">&#x27;[object Array]&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€ä¸å¤Ÿå‡†ç¡®çš„æ–¹æ³•"><a href="#äºŒã€ä¸å¤Ÿå‡†ç¡®çš„æ–¹æ³•" class="headerlink" title="äºŒã€ä¸å¤Ÿå‡†ç¡®çš„æ–¹æ³•"></a>äºŒã€ä¸å¤Ÿå‡†ç¡®çš„æ–¹æ³•</h2><h3 id="1-åŸå‹é“¾"><a href="#1-åŸå‹é“¾" class="headerlink" title="1. åŸå‹é“¾"></a>1. åŸå‹é“¾</h3><p>ä½¿ç”¨åŸå‹é“¾åˆ¤æ–­ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line">arr.__proto__.constructor === <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line">obj.__proto__.constructor === <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">arr.constructor === <span class="built_in">Array</span>;  <span class="comment">//true</span></span><br><span class="line">obj.constructor === <span class="built_in">Array</span>;  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¹‹æ‰€ä»¥è¯´ <code>constructor</code>Â ä¸å¤Ÿå‡†ç¡®ï¼Œæ˜¯å› ä¸ºåœ¨ä¸åŒæ‰§è¡Œç¯å¢ƒä¸‹ï¼Œ <code>constructor</code>Â åˆ¤æ–­ä¼šä¸æ­£ç¡®ã€‚<br />æ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬é‡å†™ <code>constructor</code>Â ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line">arr.constructor === <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line">obj.constructor === <span class="built_in">Array</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">obj.constructor = <span class="built_in">Array</span>;</span><br><span class="line">obj.constructor === <span class="built_in">Array</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.Â instanceof"></a>2.Â instanceof</h3><p>ç®€å•ä½¿ç”¨ <code>instanceof</code>Â å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line">obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯Â  <code>instanceof</code>Â ä¹Ÿå­˜åœ¨å±€é™æ€§ï¼Œå®ƒå¿…é¡»åœ¨<strong>å½“å‰é¡µé¢å£°æ˜</strong>ï¼Œå¦‚çˆ¶é¡µé¢ä¸­å­˜åœ¨ä¸€ä¸ª iframeï¼Œå¹¶ä¸” iframe ä¸­å¼•ç”¨äº†ä¸€ä¸ªå­é¡µé¢ï¼Œåœ¨å­é¡µé¢ä¸­å£°æ˜äº†ä¸€ä¸ª <code>arr</code> ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™çˆ¶é¡µé¢çš„ä¸€ä¸ªå˜é‡ï¼Œè¿™æ—¶åˆ¤æ–­è¯¥å˜é‡ï¼Œ<code>Array == object.constructor;</code>Â ä¼šè¿”å› falseï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">&#x27;iframe&#x27;</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">myArray = <span class="built_in">window</span>.frames[<span class="number">0</span>].Array;</span><br><span class="line"><span class="keyword">let</span> myArr = <span class="keyword">new</span> myArray(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">myArr <span class="keyword">instanceof</span> <span class="built_in">Array</span>;    <span class="comment">//false</span></span><br><span class="line">myArr.constructor == <span class="built_in">Array</span>;<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype == myArray.prototype); <span class="comment">//false</span></span><br><span class="line">arr <span class="keyword">instanceof</span> myArray); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">myArr.constructor === <span class="built_in">Array</span>;  <span class="comment">// false</span></span><br><span class="line">arr.constructor === <span class="built_in">Array</span>;    <span class="comment">// true</span></span><br><span class="line">myArr.constructor === myArray;<span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(arrx);  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€é”™è¯¯çš„æ–¹æ³•"><a href="#ä¸‰ã€é”™è¯¯çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€é”™è¯¯çš„æ–¹æ³•"></a>ä¸‰ã€é”™è¯¯çš„æ–¹æ³•</h2><h3 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1. typeof"></a>1. typeof</h3><p><code>typeof</code>Â æ˜¯æ— æ³•åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], obj = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">typeof</span> arr; <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> obj; <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥å¯ä»¥çœ‹å‡ºï¼Œ <code>typeof</code>Â é€‚åˆç”¨æ¥åˆ¤æ–­<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ã€‚</p>
<p><code>typeof</code>Â çš„ä¸€äº›åˆ¤æ–­ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬ç±»å‹</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">123</span>;   <span class="comment">//number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;leo&quot;</span>; <span class="comment">//string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>;  <span class="comment">//boolean</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>;  <span class="comment">//object</span></span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>;</span><br><span class="line"><span class="keyword">typeof</span> leo;   <span class="comment">//symbol</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125;;      <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;; <span class="comment">//function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Array</span>;   <span class="comment">//function  Arrayç±»å‹çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Object</span>;  <span class="comment">//function  Objectç±»å‹çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>;  <span class="comment">//function  Symbolç±»å‹çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Number</span>;  <span class="comment">//function  Numberç±»å‹çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">String</span>;  <span class="comment">//function  Stringç±»å‹çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Boolean</span>; <span class="comment">//function  Booleanç±»å‹çš„æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure>

<h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦ç»™å¤§å®¶ä»ä¸‰ä¸ªè§’åº¦å»ä»‹ç»ä¸€äº›åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯æ•°ç»„çš„æ–¹æ³•ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ã€ä¸€ã€å¸¸è§æ–¹æ³•ã€‘ä¸­çš„ 2 ä¸ªæ–¹æ³•ï¼Œå·²ç»è¶³å¤Ÿæˆ‘ä»¬ä½¿ç”¨äº†ï¼Œä¹Ÿå»ºè®®ä½¿ç”¨è¿™ 2 ç§æ–¹æ³•ã€‚</p>
<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5be52b1ae51d450b3647e766">ã€Šåˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„çš„å‡ ç§æ–¹æ³•ã€‹</a></li>
</ul>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#x6e;&#103;&#x61;&#110;&#x38;&#55;&#56;&#x37;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;">&#x70;&#x69;&#x6e;&#103;&#x61;&#110;&#x38;&#55;&#56;&#x37;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JSå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/02/13/196-%E3%80%90JavaScript%E3%80%91%E4%B8%80%E6%96%87%E5%AD%A6%E4%BC%9A%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B0%E7%BB%84/" data-id="ckts3eju1005e4d9k5wto643n" data-title="196-ã€JavaScriptã€‘ä¸€æ–‡å­¦ä¼šåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">é‡æ¸©åŸºç¡€</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-195-ã€Webpackã€‘åˆ†æWebpackè¿è¡Œæœºåˆ¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/02/12/195-%E3%80%90Webpack%E3%80%91%E5%88%86%E6%9E%90Webpack%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" class="article-date">
  <time class="dt-published" datetime="2020-02-12T04:33:56.000Z" itemprop="datePublished">2020-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/02/12/195-%E3%80%90Webpack%E3%80%91%E5%88%86%E6%9E%90Webpack%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/">195-ã€Webpackã€‘åˆ†æWebpackè¿è¡Œæœºåˆ¶</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/186051/1581480528734-6b482042-4110-4415-b39e-3df70e15a4de.jpeg#align=left&display=inline&height=315&originHeight=460&originWidth=1080&size=0&status=done&style=none&width=740"><br />åŸæ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.javazhiyin.com/50313.html">ã€å·¥å…·ç¯‡ã€‘2 | Webpackçš„è¿è¡Œæœºåˆ¶</a></p>
<p>ä½œè€… | æ€è¯­</p>
<p>é˜…è¯»æ—¶é—´ | <strong>34åˆ†é’Ÿ</strong><br />**</p>
<blockquote>
<p>webpack æ˜¯ä¸€ä¸ª JS ä»£ç æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ï¼Œè—‰ç”±å®ƒå¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼Œéšç€ç¤¾åŒºçš„å‘å±•ï¼Œé€æ¸æˆä¸ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„æ„å»ºå·¥å…·ï¼Œç›®å‰webpackå·²æ›´æ–°ç¬¬äº”ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p><a name="lwDAa"></a></p>
<h1 id="webpackçš„ä¸å…±ä¸åŒ"><a href="#webpackçš„ä¸å…±ä¸åŒ" class="headerlink" title="webpackçš„ä¸å…±ä¸åŒ"></a>webpackçš„ä¸å…±ä¸åŒ</h1><p>webpack æ˜¯å‰ç«¯å¸¸ç”¨çš„æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼Œå®ƒçš„å·¥ä½œä¸»è¦æ˜¯åˆ†æé¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠä¸€äº›æµè§ˆå™¨æ— æ³•ç›´æ¥ç¼–è¯‘çš„å…¶å®ƒæ‹“å±•è¯­è¨€ï¼ˆæ¯”å¦‚sassï¼Œtsç­‰ç­‰ï¼‰ï¼Œå¯¹é¡¹ç›®æ•´ä½“è¿›è¡Œè§£æã€åŠ å·¥ã€æ‰“åŒ…ã€ä¼˜åŒ–ã€‚<br /><strong>Qï¼šWebPack å’Œ Grunt ä»¥åŠ Gulp ç›¸æ¯”æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Ÿ</strong><br /><strong>Aï¼š</strong>åŒä½œä¸ºå‰ç«¯æ‰“åŒ…å·¥å…·ï¼ŒWebpackå’Œå¦å¤–ä¸¤ä¸ªæ²¡æœ‰å¤ªå¤šçš„å¯æ¯”æ€§ï¼Œç›¸å¯¹è€Œè¨€ï¼ŒGulp/Gruntæ›´å€¾å‘äºä¸“ä¸šçš„æµç¨‹æ‰“åŒ…å·¥å…·ï¼Œè€ŒWebPackæä¾›çš„æ˜¯ä¸€æ•´å¥—æ¨¡å—åŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œwebpackæ‰€èƒ½åšçš„äº‹æƒ…æ›´å¤šæ›´å®Œå–„ï¼Œè‡³ä»Šä¸ºæ­¢webpackä»¥åŠå‘å±•åˆ°äº†5.xç‰ˆæœ¬ï¼Œwebpackçš„ä¼˜ç‚¹ä½¿å¾—Webpackåœ¨å¾ˆå¤šåœºæ™¯ä¸‹å¯ä»¥æ›¿ä»£Gulp/Gruntç±»çš„å·¥å…·ã€‚<br /><strong>Gruntã€Gulpçš„å·¥ä½œæ–¹å¼</strong>æ˜¯ï¼šåœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼ŒæŒ‡æ˜å¯¹æŸäº›æ–‡ä»¶è¿›è¡Œç±»ä¼¼ç¼–è¯‘ï¼Œç»„åˆï¼Œå‹ç¼©ç­‰ä»»åŠ¡çš„å…·ä½“æ­¥éª¤ï¼Œå·¥å…·ä¹‹åå¯ä»¥è‡ªåŠ¨æ›¿ä½ å®Œæˆè¿™äº›ä»»åŠ¡ã€‚<br /><strong>Webpackçš„å·¥ä½œæ–¹å¼</strong>æ˜¯ï¼šæŠŠä½ çš„é¡¹ç›®å½“åšä¸€ä¸ªæ•´ä½“ï¼Œé€šè¿‡ä¸€ä¸ªç»™å®šçš„ä¸»æ–‡ä»¶ï¼ˆå¦‚ï¼šindex.jsï¼‰ï¼ŒWebpackå°†ä»è¿™ä¸ªæ–‡ä»¶å¼€å§‹æ‰¾åˆ°ä½ çš„é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–æ–‡ä»¶ï¼Œä½¿ç”¨loaderså¤„ç†å®ƒä»¬ï¼Œæœ€åæ‰“åŒ…ä¸ºä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æµè§ˆå™¨å¯è¯†åˆ«çš„JavaScriptæ–‡ä»¶ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1581480529449-fa18cf20-055f-487a-b767-130ee45d202b.png#align=left&display=inline&height=323&originHeight=382&originWidth=874&size=0&status=done&style=none&width=740"><br><a name="nSO7R"></a></p>
<h1 id="webpack-å†…éƒ¨å·¥ä½œæœºåˆ¶"><a href="#webpack-å†…éƒ¨å·¥ä½œæœºåˆ¶" class="headerlink" title="webpack å†…éƒ¨å·¥ä½œæœºåˆ¶"></a>webpack å†…éƒ¨å·¥ä½œæœºåˆ¶</h1><p>ä»¥webpack4ä¸ºä¾‹ï¼Œä¸Šç¯‡æ–‡ç«  <a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzU3Mzc2NDY1MQ==&mid=2247484364&idx=1&sn=7e3b9513cc2d71b44c2ccfc5559898ad&chksm=fd3de688ca4a6f9e6c1760a870611d28b3085bfa887d9ef3e0c7bb2c91470c7638f8d7c5cc8e&scene=21#wechat_redirect">ã€å·¥å…·ç¯‡ã€‘1 | Webpackçš„åŸºæœ¬ä½¿ç”¨</a> å·²ç»è¯¦ç»†ä»‹ç»webpackçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œä¸‹é¢å°†æ¢è®¨ webpack å†…éƒ¨è¿è¡Œæœºåˆ¶å’Œå…¶æ„å»ºä¼˜åŒ–ã€‚<br />äº†è§£ webpack çš„å†…éƒ¨å·¥ä½œæµç¨‹ï¼Œæœ‰åŠ©äºæˆ‘ä»¬è§£å†³æ—¥å¸¸ä½¿ç”¨ webpack æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç†è§£ webpack loader å’Œ plugin çš„ä½¿ç”¨ã€‚<br />å…ˆæš‚æ—¶æŠ›å¼€å¤æ‚çš„ loader å’Œ plugin æœºåˆ¶ï¼ˆä»¥åå°†è¯¦ç»†ä»‹ç»ï¼‰ï¼Œwebpack æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª JS Module Bundlerï¼Œç”¨äºå°†å¤šä¸ªä»£ç æ¨¡å—è¿›è¡Œæ‰“åŒ…ï¼Œé¦–å…ˆé€šè¿‡ä¸€ä¸ªç›¸å¯¹ç®€å•çš„ JS Module Bunlder çš„åŸºç¡€å·¥ä½œæµç¨‹æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œåœ¨äº†è§£äº† bundler å¦‚ä½•å·¥ä½œçš„åŸºç¡€ä¸Šï¼Œå†è¿›ä¸€æ­¥å»æ•´ç† webpack æ•´ä¸ªæµç¨‹ï¼Œå°† loader å’Œ plugin çš„æœºåˆ¶å¼„æ˜ç™½ã€‚</p>
<blockquote>
<p>ä»¥ä¸‹å†…å®¹å°† module bundler ç®€ç§°ä¸º bundlerã€‚</p>
</blockquote>
<p><a name="DL9Z5"></a></p>
<h2 id="1-bundler-çš„åŸºç¡€æµç¨‹"><a href="#1-bundler-çš„åŸºç¡€æµç¨‹" class="headerlink" title="1.bundler çš„åŸºç¡€æµç¨‹"></a>1.bundler çš„åŸºç¡€æµç¨‹</h2><p>bundler ä»æ„å»ºå…¥å£å‡ºå‘ï¼Œè§£æä»£ç ï¼Œåˆ†æå‡ºä»£ç æ¨¡å—ä¾èµ–å…³ç³»ï¼Œç„¶åå°†ä¾èµ–çš„ä»£ç æ¨¡å—ç»„åˆåœ¨ä¸€èµ·ï¼Œåœ¨ JavaScript bundler ä¸­ï¼Œè¿˜éœ€è¦æä¾›ä¸€äº›èƒ¶æ°´ä»£ç è®©å¤šä¸ªä»£ç æ¨¡å—å¯ä»¥ååŒå·¥ä½œï¼Œç›¸äº’å¼•ç”¨ã€‚é¦–å…ˆæ˜¯è§£æä»£ç ã€åˆ†æä¾èµ–å…³ç³»ï¼Œå¯¹äº ES6 Module ä»¥åŠ CommonJS Modules è¯­æ³•å®šä¹‰çš„æ¨¡å—ï¼Œä¾‹å¦‚è¿™æ ·çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// entry.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; bar &#125; <span class="keyword">from</span> <span class="string">&#x27;./bar.js&#x27;</span>; <span class="comment">// ä¾èµ– ./bar.js æ¨¡å—</span></span><br><span class="line"><span class="comment">// bar.js</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="built_in">require</span>(<span class="string">&#x27;./foo.js&#x27;</span>); <span class="comment">// ä¾èµ– ./foo.js æ¨¡å—</span></span><br></pre></td></tr></table></figure>
<p>bundler éœ€è¦ä»è¿™ä¸ªå…¥å£ä»£ç ï¼ˆç¬¬ä¸€æ®µï¼‰ä¸­è§£æå‡ºä¾èµ– bar.jsï¼Œç„¶åå†è¯»å– bar.js è¿™ä¸ªä»£ç æ–‡ä»¶ï¼Œè§£æå‡ºä¾èµ– foo.js ä»£ç æ–‡ä»¶ï¼Œç»§ç»­è§£æå…¶ä¾èµ–ï¼Œé€’å½’ä¸‹å»ï¼Œç›´è‡³æ²¡æœ‰æ›´å¤šçš„ä¾èµ–æ¨¡å—ï¼Œæœ€ç»ˆå½¢æˆä¸€é¢—æ¨¡å—ä¾èµ–æ ‘ã€‚<br />åˆ†æå‡ºä¾èµ–å…³ç³»åï¼Œbunlder éœ€è¦å°†ä¾èµ–å…³ç³»ä¸­æ¶‰åŠçš„æ‰€æœ‰æ–‡ä»¶ç»„åˆåˆ°ä¸€èµ·ï¼Œç”±äºä¾èµ–ä»£ç çš„æ‰§è¡Œæ˜¯æœ‰å…ˆåé¡ºåºä»¥åŠä¼šå¼•ç”¨æ¨¡å—å†…éƒ¨ä¸åŒçš„å†…å®¹ï¼Œä¸èƒ½ç®€å•åœ°å°†ä»£ç æ‹¼æ¥åˆ°ä¸€èµ·ã€‚webpack ä¼šåˆ©ç”¨ JavaScript Function çš„ç‰¹æ€§æä¾›ä¸€äº›ä»£ç æ¥å°†å„ä¸ªæ¨¡å—æ•´åˆåˆ°ä¸€èµ·ï¼Œå³æ˜¯å°†æ¯ä¸€ä¸ªæ¨¡å—åŒ…è£…æˆä¸€ä¸ª JS Functionï¼Œæä¾›ä¸€ä¸ªå¼•ç”¨ä¾èµ–æ¨¡å—çš„æ–¹æ³•ï¼Œå¦‚ä¸‹é¢ä¾‹å­ä¸­çš„ <code>__webpack__require__</code>ï¼Œè¿™æ ·åšï¼Œæ—¢å¯ä»¥é¿å…å˜é‡ç›¸äº’å¹²æ‰°ï¼Œåˆèƒ½å¤Ÿæœ‰æ•ˆæ§åˆ¶æ‰§è¡Œé¡ºåºï¼Œç®€å•çš„ä»£ç ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å„ä¸ªä¾èµ–æ¨¡å—çš„ä»£ç ç”¨ modules çš„æ–¹å¼ç»„ç»‡èµ·æ¥æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment">// entry.js</span></span><br><span class="line">modules[<span class="string">&#x27;./entry.js&#x27;</span>] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; bar &#125; = __webpack__require__(<span class="string">&#x27;./bar.js&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// bar.js</span></span><br><span class="line">modules[<span class="string">&#x27;./bar.js&#x27;</span>] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> foo = __webpack__require__(<span class="string">&#x27;./foo.js&#x27;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// foo.js</span></span><br><span class="line">modules[<span class="string">&#x27;./foo.js&#x27;</span>] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å·²ç»æ‰§è¡Œçš„ä»£ç æ¨¡å—ç»“æœä¼šä¿å­˜åœ¨è¿™é‡Œ</span></span><br><span class="line"><span class="keyword">const</span> installedModules = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__webpack__require__</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ... </span></span><br><span class="line">  <span class="comment">// å¦‚æœ installedModules ä¸­æœ‰å°±ç›´æ¥è·å–</span></span><br><span class="line">  <span class="comment">// æ²¡æœ‰çš„è¯ä» modules ä¸­è·å– function ç„¶åæ‰§è¡Œï¼Œå°†ç»“æœç¼“å­˜åœ¨ installedModules ä¸­ç„¶åè¿”å›ç»“æœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨ä»‹ç» bundler çš„åŸºç¡€æµç¨‹æ—¶ï¼ŒæŠŠå„ä¸ªéƒ¨åˆ†çš„å®ç°ç»†èŠ‚ç®€åŒ–äº†ï¼Œè¿™æœ‰åˆ©äºæˆ‘ä»¬ä»æ•´ä½“çš„è§’åº¦å»çœ‹æ¸…æ¥šæ•´ä¸ªè½®å»“ï¼Œè‡³äºæŸä¸€éƒ¨åˆ†çš„å…·ä½“å®ç°ï¼Œä¾‹å¦‚è§£æä»£ç ä¾èµ–ï¼Œæ¨¡å—ä¾èµ–å…³ç³»ç®¡ç†ï¼Œèƒ¶æ°´ä»£ç çš„ç”Ÿæˆç­‰ï¼Œæ·±å…¥ç»†èŠ‚çš„è¯ä¼šæ¯”è¾ƒå¤æ‚ï¼Œä»¥åå†å¯¹å…¶ä¸“é¢˜åˆ†æã€‚</p>
<hr>
<p><a name="slbOI"></a></p>
<h2 id="2-webpack-çš„ç»“æ„"><a href="#2-webpack-çš„ç»“æ„" class="headerlink" title="2.webpack çš„ç»“æ„"></a>2.webpack çš„ç»“æ„</h2><p>webpack éœ€è¦é«˜æ‰©å±•æ€§ï¼Œåœ¨æ’ä»¶å®ç°æ–¹é¢ï¼Œwebpack åˆ©ç”¨äº† tapable åº“æ¥ååŠ©å®ç°å¯¹äºæ•´ä¸ªæ„å»ºæµç¨‹å„ä¸ªæ­¥éª¤çš„æ§åˆ¶ã€‚åœ¨åŸºäº tapable åº“å®šä¹‰ä¸»è¦æ„å»ºæµç¨‹åï¼Œå¹¶ä½¿ç”¨ tapable åº“æ·»åŠ äº†å„ç±»çš„é’©å­æ–¹æ³•æ¥æ‹“å±• webpackï¼ŒåŒæ—¶å¯¹å¤–æä¾›äº†ç›¸å¯¹å¼ºå¤§çš„æ‰©å±•æ€§ï¼Œå³ plugin çš„æœºåˆ¶ã€‚<br />ä¸‹é¢æ˜¯ webpack è¿è¡Œè¿‡ç¨‹ä¸­çš„å‡ ä¸ªé‡è¦æ¦‚å¿µï¼š</p>
<ul>
<li><strong>Compiler</strong><br />webpack çš„æ”¯æŸ±å¼•æ“ï¼Œå®ä¾‹åŒ–æ—¶å®šä¹‰ webpack æ„å»ºä¸»è¦æµç¨‹ï¼ŒåŒæ—¶åˆ›å»ºæ„å»ºæ—¶ä½¿ç”¨çš„æ ¸å¿ƒå¯¹è±¡ compilationï¼›<br /></li>
<li><strong>Compilation</strong><br />ç”± Compiler å®ä¾‹åŒ–ï¼Œå­˜å‚¨æ„å»ºè¿‡ç¨‹ä¸­å„æµç¨‹ä½¿ç”¨åˆ°çš„æ•°æ®ï¼Œç”¨äºæ§åˆ¶è¿™äº›æ•°æ®çš„å˜åŒ–ï¼›<br /></li>
<li><strong>Chunk</strong><br />å³ç”¨äºè¡¨ç¤º chunk çš„ç±»ï¼Œå¯¹äºæ„å»ºæ—¶éœ€è¦çš„ chunk å¯¹è±¡ç”± Compilation åˆ›å»ºåä¿å­˜ç®¡ç†ï¼›<br /></li>
<li><strong>Module</strong><br />ç”¨äºè¡¨ç¤ºä»£ç æ¨¡å—çš„ç±»ï¼Œè¡ç”Ÿå‡ºå¾ˆå¤šå­ç±»ç”¨äºå¤„ç†ä¸åŒçš„æƒ…å†µï¼Œå…³äºä»£ç æ¨¡å—çš„æ‰€æœ‰ä¿¡æ¯éƒ½ä¼šå­˜åœ¨ Module å®ä¾‹ä¸­ï¼Œä¾‹å¦‚ <code>dependencies</code> è®°å½•ä»£ç æ¨¡å—çš„ä¾èµ–ç­‰ï¼›<br /></li>
<li><strong>Parser</strong><br />åŸºäº acorn æ¥åˆ†æ AST è¯­æ³•æ ‘ï¼Œè§£æå‡ºä»£ç æ¨¡å—çš„ä¾èµ–ï¼›<br /></li>
<li><strong>Dependency</strong><br />è§£ææ—¶ç”¨äºä¿å­˜ä»£ç æ¨¡å—å¯¹åº”çš„ä¾èµ–ä½¿ç”¨çš„å¯¹è±¡ï¼›<br /></li>
<li><strong>Template</strong><br />ç”Ÿæˆæœ€ç»ˆä»£ç è¦ä½¿ç”¨åˆ°çš„ä»£ç æ¨¡æ¿ï¼›<br /><blockquote>
<p>å®˜æ–¹å¯¹äº Compiler å’Œ Compilation çš„å®šä¹‰æ˜¯ï¼š<br><strong>compiler</strong> å¯¹è±¡ä»£è¡¨äº†å®Œæ•´çš„ webpack ç¯å¢ƒé…ç½®ã€‚è¿™ä¸ªå¯¹è±¡åœ¨å¯åŠ¨ webpack æ—¶è¢«ä¸€æ¬¡æ€§å»ºç«‹ï¼Œå¹¶é…ç½®å¥½æ‰€æœ‰å¯æ“ä½œçš„è®¾ç½®ï¼ŒåŒ…æ‹¬ optionsï¼Œloader å’Œ pluginã€‚å½“åœ¨ webpack ç¯å¢ƒä¸­åº”ç”¨ä¸€ä¸ªæ’ä»¶æ—¶ï¼Œæ’ä»¶å°†æ”¶åˆ°æ­¤ compiler å¯¹è±¡çš„å¼•ç”¨ã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è®¿é—® webpack çš„ä¸»ç¯å¢ƒã€‚<br><strong>compilation</strong> å¯¹è±¡ä»£è¡¨äº†ä¸€æ¬¡èµ„æºç‰ˆæœ¬æ„å»ºã€‚å½“è¿è¡Œ webpack å¼€å‘ç¯å¢ƒä¸­é—´ä»¶æ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ compilationï¼Œä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚ä¸€ä¸ª compilation å¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ã€ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚compilation å¯¹è±¡ä¹Ÿæä¾›äº†å¾ˆå¤šå…³é”®æ­¥éª¤çš„å›è°ƒï¼Œä»¥ä¾›æ’ä»¶åšè‡ªå®šä¹‰å¤„ç†æ—¶é€‰æ‹©ä½¿ç”¨ã€‚</p>
</blockquote>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ webpack å†…éƒ¨å·¥ä½œæµç¨‹ä¸­æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.åˆ›å»º Compiler -&gt; </span><br><span class="line">2.è°ƒç”¨ compiler.run å¼€å§‹æ„å»º -&gt;</span><br><span class="line">3.åˆ›å»º Compilation -&gt; </span><br><span class="line">4.åŸºäºé…ç½®å¼€å§‹åˆ›å»º Chunk -&gt; </span><br><span class="line">5.ä½¿ç”¨ Parser ä» Chunk å¼€å§‹è§£æä¾èµ– -&gt; </span><br><span class="line">6.ä½¿ç”¨ Module å’Œ Dependency ç®¡ç†ä»£ç æ¨¡å—ç›¸äº’å…³ç³» -&gt; </span><br><span class="line">7.ä½¿ç”¨ Template åŸºäº Compilation çš„æ•°æ®ç”Ÿæˆç»“æœä»£ç </span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°åªæ˜¯å¤§æ¦‚æµç¨‹ï¼Œå®é™…æµç¨‹ç»†èŠ‚ç›¸å¯¹å¤æ‚ï¼Œä¸€æ–¹é¢æ˜¯æŠ€æœ¯å®ç°çš„ç»†èŠ‚æœ‰ä¸€å®šå¤æ‚åº¦ï¼Œå¦ä¸€æ–¹é¢æ˜¯å®ç°çš„åŠŸèƒ½é€»è¾‘ä¸Šä¹Ÿæœ‰ä¸€å®šå¤æ‚åº¦ï¼Œæ·±å…¥ä»‹ç»çš„è¯ï¼Œç¯‡å¹…ä¼šå¾ˆé•¿ï¼Œå¹¶ä¸”å¯èƒ½æ•ˆæœä¸ç†æƒ³ï¼Œå½“æˆ‘ä»¬è¿˜æ²¡åˆ°äº†è¦å»å®ç°å…·ä½“åŠŸèƒ½çš„æ—¶å€™ï¼Œæ— é¡»å…³æ³¨é‚£ä¹ˆå…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦ç«™åœ¨æ›´é«˜çš„å±‚é¢å»åˆ†ææ•´ä½“çš„æµç¨‹ã€‚æ›´ç»†èŠ‚çš„éƒ¨åˆ†å°†åœ¨ Nodeç¯‡ è¿›ä¸€æ­¥æ¢è®¨ã€‚<br><a name="5PPiP"></a></p>
<h1 id="ä»æºç ä¸­æ¢ç´¢-webpack"><a href="#ä»æºç ä¸­æ¢ç´¢-webpack" class="headerlink" title="ä»æºç ä¸­æ¢ç´¢ webpack"></a>ä»æºç ä¸­æ¢ç´¢ webpack</h1><p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/186051/1581480528723-34663a4f-73a5-4bd0-bb0f-eeda701db965.jpeg#align=left&display=inline&height=1336&originHeight=1175&originWidth=651&size=0&status=done&style=none&width=740"><br />webpack ä¸»è¦çš„æ„å»ºå¤„ç†æ–¹æ³•éƒ½åœ¨ <code>Compilation</code> ä¸­ï¼ŒæŒ‰ç…§å®˜ç½‘çš„è¯´æ³•ï¼Œ<code>Compilation</code>Â æ¨¡å—ä¼šè¢«Â <code>Compiler</code>Â ç”¨æ¥åˆ›å»ºæ–°çš„ç¼–è¯‘ï¼ˆæˆ–æ–°çš„æ„å»ºï¼‰ã€‚<code>compilation</code>Â å®ä¾‹èƒ½å¤Ÿè®¿é—®æ‰€æœ‰çš„æ¨¡å—å’Œå®ƒä»¬çš„ä¾èµ–ï¼ˆå¤§éƒ¨åˆ†æ˜¯å¾ªç¯ä¾èµ–ï¼‰ã€‚å®ƒä¼šå¯¹åº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾ä¸­æ‰€æœ‰æ¨¡å—è¿›è¡Œå­—é¢ä¸Šçš„ç¼–è¯‘(literal compilation)ã€‚åœ¨ç¼–è¯‘é˜¶æ®µï¼Œæ¨¡å—ä¼šè¢«åŠ è½½(loaded)ã€å°å­˜(sealed)ã€ä¼˜åŒ–(optimized)ã€åˆ†å—(chunked)ã€å“ˆå¸Œ(hashed)å’Œé‡æ–°åˆ›å»º(restored)ï¼Œä¸‹é¢ä»…å¯¹ä¸‹é¢å‡ ä¸ªä¸ªå…³é”®éƒ¨åˆ†æ¥æ¢è®¨ä¸€ä¸‹ã€‚</p>
<hr>
<p><a name="SKGao"></a></p>
<h2 id="1-Tapable"><a href="#1-Tapable" class="headerlink" title="1.Tapable"></a>1.Tapable</h2><p>webpack4é‡å†™äº†Tapable, æ˜¯webpackçš„æ’ä»¶ç»„ç»‡çš„æ ¸å¿ƒã€‚å®ƒæä¾›ç»™å„ä¸ªæ’ä»¶é’©å­ï¼Œåœ¨äº‹ä»¶è§¦å‘æ—¶æ‰§è¡Œè¿™äº›æŒ‚è½½çš„æ–¹æ³•ã€‚webapckçš„æ’ä»¶é‡Œå¿…é¡»æœ‰apply()æ–¹æ³•ï¼Œå½“å…¶è¢«è°ƒç”¨çš„æ—¶å€™webpackå°†é’©å­ä¸Šçš„æ–¹æ³•æŒ‚è½½åˆ°å„ä¸ªäº‹ä»¶ä¸‹é¢æœ‰ç‚¹åƒnodejsé‡ŒEventEmitterçš„<code>$on</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hooks = &#123;</span><br><span class="line">            <span class="attr">accelerate</span>: <span class="keyword">new</span> SyncHook([<span class="string">&quot;newSpeed&quot;</span>]),</span><br><span class="line">            <span class="attr">brake</span>: <span class="keyword">new</span> SyncHook(),</span><br><span class="line">            <span class="attr">calculateRoutes</span>: <span class="keyword">new</span> AsyncParallelHook([<span class="string">&quot;source&quot;</span>, <span class="string">&quot;target&quot;</span>, <span class="string">&quot;routesList&quot;</span>])</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">setSpeed</span>(<span class="params">newSpeed</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hooks.accelerate.call(newSpeed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºå…ˆæ˜¯åœ¨å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­æ³¨å†Œäº†ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œåœ¨å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶è§¦å‘é’©å­å‡½æ•°ã€‚</p>
<hr>
<p><a name="3ASHj"></a></p>
<h2 id="2-Compiler"><a href="#2-Compiler" class="headerlink" title="2.Compiler"></a>2.Compiler</h2><p>æœ€é«˜å±‚çš„å®ä¾‹ï¼Œåˆå§‹åŒ–é…ç½®ï¼Œæä¾›å…¨å±€æ€§çš„é’©å­æ¯”å¦‚done, compilationã€‚å…¶ä»–çš„Tapableå®ä¾‹éœ€è¦é€šè¿‡å…¶è®¿é—®ï¼Œå¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">compiler.hooks.compilation.tap(</span><br><span class="line">      <span class="string">&quot;myFirstWebpackPlugin&quot;</span>,</span><br><span class="line">      <span class="function">(<span class="params">compilation, params</span>) =&gt;</span> &#123;</span><br><span class="line">        compilation.hooks.seal.tap()</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<p><a name="mLrk1"></a></p>
<h2 id="3-addEntry-å’Œ-addModuleChain"><a href="#3-addEntry-å’Œ-addModuleChain" class="headerlink" title="3.addEntry å’Œ _addModuleChain"></a>3.addEntry å’Œ _addModuleChain</h2><p><code>addEntry</code> è¿™ä¸ªæ–¹æ³•é¡¾åæ€ä¹‰ï¼Œç”¨äºæŠŠé…ç½®çš„å…¥å£åŠ å…¥åˆ°æ„å»ºçš„ä»»åŠ¡ä¸­å»ï¼Œå½“è§£æå¥½ webpack é…ç½®ï¼Œå‡†å¤‡å¥½å¼€å§‹æ„å»ºæ—¶ï¼Œä¾¿ä¼šæ‰§è¡Œ <code>addEntry</code> æ–¹æ³•ï¼Œè€Œ <code>addEntry</code> ä¼šè°ƒç”¨ <code>_addModuleChain</code> æ¥ä¸ºå…¥å£æ–‡ä»¶ï¼ˆå…¥å£æ–‡ä»¶è¿™ä¸ªæ—¶å€™ç­‰åŒäºç¬¬ä¸€ä¸ªä¾èµ–ï¼‰åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ <code>Module</code> å®ä¾‹ã€‚<br /><code>_addModuleChain</code> æ–¹æ³•ä¼šæ ¹æ®å…¥å£æ–‡ä»¶è¿™ç¬¬ä¸€ä¸ªä¾èµ–çš„ç±»å‹åˆ›å»ºä¸€ä¸ª <code>moduleFactory</code>ï¼Œç„¶åå†ä½¿ç”¨è¿™ä¸ª <code>moduleFactory</code> ç»™å…¥å£æ–‡ä»¶åˆ›å»ºä¸€ä¸ª <code>Module</code> å®ä¾‹ï¼Œè¿™ä¸ª <code>Module</code> å®ä¾‹ç”¨æ¥ç®¡ç†åç»­è¿™ä¸ªå…¥å£æ„å»ºçš„ç›¸å…³æ•°æ®ä¿¡æ¯ï¼Œå…³äº <code>Module</code> ç±»çš„å…·ä½“å®ç°å¯ä»¥å‚è€ƒè¿™ä¸ªæºç ï¼šlib/Module.jsï¼Œè¿™ä¸ªæ˜¯ä¸ªåŸºç¡€ç±»ï¼Œå¤§éƒ¨åˆ†æˆ‘ä»¬æ„å»ºæ—¶ä½¿ç”¨çš„ä»£ç æ¨¡å—çš„ <code>Module</code> å®ä¾‹æ˜¯ lib/NormalModule.js è¿™ä¸ªç±»åˆ›å»ºçš„ã€‚<br />æˆ‘ä»¬ä»‹ç» <code>addEntry</code> ä¸»è¦æ˜¯ä¸ºäº†å¯»æ‰¾æ•´ä¸ªæ„å»ºçš„èµ·ç‚¹ï¼Œè®©è¿™ä¸€åˆ‡æœ‰è¿¹å¯å¾ªï¼Œåç»­çš„æ·±å…¥å¯ä»¥ä»è¿™ä¸ªç‚¹å‡ºå‘ã€‚</p>
<hr>
<p><a name="naLK9"></a></p>
<h2 id="4-buildModule"><a href="#4-buildModule" class="headerlink" title="4.buildModule"></a>4.buildModule</h2><p>å½“ä¸€ä¸ª <code>Module</code> å®ä¾‹è¢«åˆ›å»ºåï¼Œæ¯”è¾ƒé‡è¦çš„ä¸€æ­¥æ˜¯æ‰§è¡Œ <code>compilation.buildModule</code> è¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸»è¦ä¼šè°ƒç”¨ <code>Module</code> å®ä¾‹çš„ <code>build</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸»è¦å°±æ˜¯åˆ›å»º <code>Module</code> å®ä¾‹éœ€è¦çš„ä¸€äº›ä¸œè¥¿ï¼Œå¯¹æˆ‘ä»¬æ¢³ç†æµç¨‹æ¥è¯´ï¼Œè¿™é‡Œè¾¹æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯è°ƒç”¨è‡ªèº«çš„ runLoaders æ–¹æ³•ã€‚<br /><code>runLoaders</code> è¿™ä¸ªæ–¹æ³•æ˜¯ webpack ä¾èµ–çš„è¿™ä¸ªç±»åº“å®ç°çš„ï¼šloader-runnerï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„ loadersï¼Œå°†ä»£ç æºç å†…å®¹ä¸€ä¸€äº¤ç”±é…ç½®ä¸­æŒ‡å®šçš„ loader å¤„ç†åï¼Œå†æŠŠå¤„ç†çš„ç»“æœä¿å­˜èµ·æ¥ã€‚<br />ä¸Šé¢æåˆ°çš„ <code>Module</code> å®ä¾‹çš„ <code>build</code> æ–¹æ³•åœ¨æ‰§è¡Œå®Œå¯¹åº”çš„ loaderï¼Œå¤„ç†å®Œæ¨¡å—ä»£ç è‡ªèº«çš„è½¬æ¢åï¼Œè¿˜æœ‰ç›¸å½“é‡è¦çš„ä¸€æ­¥æ˜¯è°ƒç”¨ Parser çš„å®ä¾‹æ¥è§£æè‡ªèº«ä¾èµ–çš„æ¨¡å—ï¼Œè§£æåçš„ç»“æœå­˜æ”¾åœ¨ <code>module.dependencies</code> ä¸­ï¼Œé¦–å…ˆä¿å­˜çš„æ˜¯ä¾èµ–çš„è·¯å¾„ï¼Œåç»­ä¼šç»ç”± <code>compilation.processModuleDependencies</code> æ–¹æ³•ï¼Œå†æ¥å¤„ç†å„ä¸ªä¾èµ–æ¨¡å—ï¼Œé€’å½’åœ°å»å»ºç«‹æ•´ä¸ªä¾èµ–å…³ç³»æ ‘ã€‚</p>
<hr>
<p><a name="ZieAu"></a></p>
<h2 id="5-Compilation-çš„é’©å­"><a href="#5-Compilation-çš„é’©å­" class="headerlink" title="5.Compilation çš„é’©å­"></a>5.Compilation çš„é’©å­</h2><p>ç”±Compileråˆ›å»ºï¼Œæ•´ä¸ªæ„å»ºå°±åœ¨è¿™é‡Œå®Œæˆï¼Œè¿›è¡Œä¾èµ–å›¾æ„å»ºï¼Œä¼˜åŒ–èµ„æºï¼Œæ¸²æŸ“å‡ºruntimeæ—¶çš„ä»£ç ç­‰ã€‚ä¸‹é¢çš„4ä¸ªå®ä¾‹éƒ½æ˜¯å‘ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µã€‚webpack ä¼šä½¿ç”¨ tapable åº“ç»™æ•´ä¸ªæµç¨‹çš„å„ä¸ªæ­¥éª¤æ‹“å±•é’©å­æ–¹æ³•ï¼Œä¾¿äºç‰¹å®šçš„ç¯èŠ‚æ‰§è¡Œæ—¶è§¦å‘ç›¸åº”çš„äº‹ä»¶ï¼Œæ³¨å†Œçš„äº‹ä»¶å‡½æ•°ä¾¿å¯ä»¥è°ƒæ•´æ„å»ºæ—¶çš„ä¸Šä¸‹æ–‡æ•°æ®ï¼Œæˆ–è€…åšé¢å¤–çš„å¤„ç†å·¥ä½œï¼Œè¿™å°±æ˜¯ webpack çš„ plugin æœºåˆ¶ã€‚åœ¨ webpack æ‰§è¡Œå…¥å£å¤„ lib/webpack.js æœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (options.plugins &amp;&amp; <span class="built_in">Array</span>.isArray(options.plugins)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> plugin <span class="keyword">of</span> options.plugins) &#123;</span><br><span class="line">        plugin.apply(compiler); <span class="comment">// è°ƒç”¨æ¯ä¸€ä¸ª plugin çš„ apply æ–¹æ³•ï¼ŒæŠŠ compiler å®ä¾‹ä¼ é€’è¿‡å»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>plugin çš„ <code>apply</code> æ–¹æ³•å°±æ˜¯ç”¨æ¥ç»™ <code>compiler</code> å®ä¾‹æ³¨å†Œäº‹ä»¶é’©å­å‡½æ•°çš„ï¼Œè€Œ <code>compiler</code> çš„ä¸€äº›äº‹ä»¶é’©å­ä¸­å¯ä»¥è·å¾— <code>compilation</code> å®ä¾‹çš„å¼•ç”¨ï¼Œé€šè¿‡å¼•ç”¨åˆå¯ä»¥ç»™ <code>compilation</code> å®ä¾‹æ³¨å†Œäº‹ä»¶å‡½æ•°ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¾¿å¯ä»¥å°† plugin çš„èƒ½åŠ›è¦†ç›–åˆ°æ•´ä¸ª webpack æ„å»ºè¿‡ç¨‹ã€‚<br><a name="ml0IN"></a></p>
<h2 id="6-Resolver"><a href="#6-Resolver" class="headerlink" title="6.Resolver"></a>6.Resolver</h2><p>å½“ä½ è¯·æ±‚ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä½ å°†æ¨¡å—åæˆ–è€…ç›¸å¯¹åœ°å€å‘ç»™æ¨¡å—è§£æå™¨ï¼Œå®ƒä¼šå»è§£æå‡ºç»å¯¹åœ°å€å»å¯»æ‰¾é‚£ä¸ªæ¨¡å—ï¼Œçœ‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›ç›¸åº”çš„æ¨¡å—ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸Šä¸‹æ–‡ç­‰ã€‚è¿™é‡Œçš„è¯·æ±‚å¯ä»¥ç±»ä¼¼ç½‘ç»œè¯·æ±‚ä¸€æ ·æºå¸¦ä¸ŠæŸ¥è¯¢å‚æ•°ä¹‹ç±»çš„ï¼ŒResolverå°†ä¼šè¿”å›é¢å¤–ä¿¡æ¯ã€‚webpack4é‡Œå°†Resolverè¿™ä¸ªå®ä¾‹æŠ½å‡ºæ¥å•ç‹¬å‘äº†ä¸€ä¸ªåŒ…enhanced-resolve, æŠ½è±¡å‡ºæ¥å¯ä»¥ä¾¿äºç”¨æˆ·å®ç°è‡ªå·±çš„Resolverã€‚<br><a name="aB9wM"></a></p>
<h2 id="7-ModuleFactory"><a href="#7-ModuleFactory" class="headerlink" title="7.ModuleFactory"></a>7.ModuleFactory</h2><p>æ¨¡å—å·¥å‚å°±æ˜¯è´Ÿè´£æ„é€ æ¨¡å—çš„å®ä¾‹ï¼Œä»‹ç»ä¸¤ç§NormalModuleFactoryå’ŒContextModuleFactoryã€‚ä¸¤è€…ä¸åŒçš„åœ°æ–¹åœ¨äºåè€…ç”¨äºè§£æåŠ¨æ€import()ï¼Œæ¨¡å—å·¥å‚ä¸»è¦æ˜¯ç”¨äºå°†Resolverè§£ææˆåŠŸçš„è¯·æ±‚é‡Œçš„æºç ä»æ–‡ä»¶ä¸­æ‹¿å‡ºï¼Œåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ¨¡å—å¯¹è±¡ï¼ˆNormalModuleï¼‰ã€‚<br><a name="83QcQ"></a></p>
<h2 id="8-Parser"><a href="#8-Parser" class="headerlink" title="8.Parser"></a>8.Parser</h2><p>Parserä¸»è¦ç”¨äºå°†ä»£ç è§£ææˆASTæŠ½è±¡è¯­æ³•æ ‘.å¯ä»¥åœ¨astæŸ¥çœ‹ä»£ç è½¬æ¢æˆASTåçš„æ ·å­ã€‚webpacké»˜è®¤é‡‡ç”¨acornè§£æå™¨ï¼Œbabelæ˜¯babylonã€‚Parserå°†ModuleFactoryè¿”å›çš„å¯¹è±¡é‡Œçš„ä»£ç å­—ç¬¦ä¸²è½¬æ¢æˆASTåè¿›è¡Œè§£æï¼Œå‘ç°importæˆ–è€…requireæˆ–è€…defineç±»ä¼¼æ¨¡å—å¼•ç”¨æ—¶ä¼šå°†è¿™äº›å¼•ç”¨ä¿¡æ¯ä¹Ÿå°±æ˜¯ä¾èµ–æ·»åŠ åˆ°å½“å‰æ¨¡å—çš„å¯¹è±¡é‡Œï¼Œè¿™æ ·æ¯ä¸ªæ¨¡å—å¯¹è±¡é‡Œä¸ä½†æœ‰è‡ªå·±æ¨¡å—çš„ä¿¡æ¯è¿˜åŒ…å«å®ƒçš„ä¾èµ–ä¿¡æ¯ã€‚webpackä¼šåœ¨ä¸ä»…ä»…ä¼šåœ¨æ¨¡å—å£°æ˜å¤„è§¦å‘äº‹ä»¶ï¼Œå®ƒç”šè‡³ä¼šåœ¨è§£æåˆ°å˜é‡æ—¶ä¹Ÿè§¦å‘äº‹ä»¶ã€‚å¦‚ä¸‹åœ¨webpack/lib/Parser.jsé‡Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¸‰ä¸ªé’©å­å‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">varDeclaration: <span class="keyword">new</span> HookMap(<span class="function">() =&gt;</span> <span class="keyword">new</span> SyncBailHook([<span class="string">&quot;declaration&quot;</span>])),</span><br><span class="line">    <span class="attr">varDeclarationLet</span>: <span class="keyword">new</span> HookMap(<span class="function">() =&gt;</span> <span class="keyword">new</span> SyncBailHook([<span class="string">&quot;declaration&quot;</span>])),</span><br><span class="line">    <span class="attr">varDeclarationConst</span>: <span class="keyword">new</span> HookMap(<span class="function">() =&gt;</span> <span class="keyword">new</span> SyncBailHook([<span class="string">&quot;declaration&quot;</span>])),</span><br></pre></td></tr></table></figure>
<p>Templateè´Ÿè´£ç”Ÿæˆè¿è¡Œæ—¶çš„ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æºç </span></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line">    <span class="keyword">var</span> multiply  = <span class="built_in">require</span>(<span class="string">&#x27;./multiply&#x27;</span>)</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">module</span>.exports = sum;</span><br><span class="line"><span class="comment">// multiply.js</span></span><br><span class="line">    <span class="built_in">module</span>.exports = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a*b</span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„runtime</span></span><br><span class="line">[</span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, <span class="built_in">exports</span>, __webpack_require__</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> multiply  = __webpack_require__(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">var</span> sum = <span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">module</span>.exports = sum;</span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, <span class="built_in">exports</span></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">module</span>.exports = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a*b</span><br><span class="line"><span class="comment">/***/</span> &#125;)</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢ä»£ç æ‰€ç¤ºï¼Œé‡Œé¢åŒ…å«ä¸‰ä¸ªæ¨¡æ¿ï¼Œåˆ†åˆ«è´Ÿè´£chunkã€moduleã€dependencyã€‚chunkæ˜¯åŒ…å«å¤šä¸ªæ¨¡å—çš„æ•°ç»„ï¼Œå°±æ˜¯å¤–é¢æ•°ç»„çš„å½¢å¼ï¼›moduleå°±æ˜¯é‡Œé¢ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°åŒ…å›´çš„éƒ¨åˆ†ï¼›dependencyå°±æ˜¯å°†åŸå…ˆimportï¼Œrequireç­‰å¼•ç”¨æ¨¡å—éƒ¨åˆ†è½¬æ¢æˆ <strong>webpack_requireã€‚</strong><br><a name="VFhoR"></a></p>
<h1 id="ä¼˜åŒ–webpackæ„å»ºé€Ÿåº¦"><a href="#ä¼˜åŒ–webpackæ„å»ºé€Ÿåº¦" class="headerlink" title="ä¼˜åŒ–webpackæ„å»ºé€Ÿåº¦"></a>ä¼˜åŒ–webpackæ„å»ºé€Ÿåº¦</h1><p>åˆšåˆšå‰é¢æˆ‘ä»¬äº†è§£åˆ°äº† webpack å¤§è‡´å·¥ä½œæµç¨‹ï¼Œåœ¨å®é™…å·¥ä½œä¸šåŠ¡é‡Œï¼Œæˆ‘ä»¬çš„å‰ç«¯é¡¹ç›®ä¼šéšç€æ—¶é—´æ¨ç§»å’Œä¸šåŠ¡å‘å±•ï¼Œç»è¿‡ä¸æ–­çš„è¿­ä»£é‡æ„ï¼Œé¡µé¢å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œæˆ–è€…åŠŸèƒ½å’Œä¸šåŠ¡ä»£ç ä¼šè¶Šæ¥è¶Šå¤šï¼Œåˆæˆ–è€…ä¾èµ–çš„å¤–éƒ¨ç±»åº“ä¼šå¤šè€Œå¤æ‚ï¼Œè¿™ä¸ªæ—¶å€™åŸæœ¬ä¸è¶³ä¸ºé“çš„ webpack æ„å»ºæ—¶é—´æ¶ˆè€—å°±ä¼šæ…¢æ…¢åœ°è¿›å…¥æˆ‘ä»¬çš„è§†é‡ã€‚<br />æ„å»ºæ¶ˆè€—çš„æ—¶é—´å˜é•¿äº†ï¼Œå¦‚æœæ˜¯ä½¿ç”¨ CI æœåŠ¡æ¥åšæ„å»ºï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬æ— é¡»ç­‰å¾…ï¼Œå…¶å®å½±å“ä¸å¤§ã€‚ä½†æ˜¯æœ¬åœ°çš„ webpack å¼€å‘ç¯å¢ƒæœåŠ¡å¯åŠ¨æ—¶çš„é€Ÿåº¦å’Œæˆ‘ä»¬æ—¥å¸¸å¼€å‘å·¥ä½œæ¯æ¯ç›¸å…³ï¼Œåœ¨ä¸€äº›æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«çªå‡ºçš„è®¾å¤‡ä¸Šï¼ˆä¾‹å¦‚ä¾¿æºå¼ç¬”è®°æœ¬ç­‰ç­‰ï¼‰ï¼Œå¯åŠ¨æ—¶çš„é•¿æ—¶é—´ç­‰å¾…å¯èƒ½ä¼šè®©ä½ è¶Šæ¥è¶Šå—ä¸äº†ã€‚<br />è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ ä½¿ç”¨ webpack build çš„æ—¶é•¿å¯ä»¥è¾¾åˆ°åå¤šåˆ†é’Ÿå·¦å³ï¼Œè¿™ç§åœºæ™¯ä¸‹ï¼Œå°±ç®—ç”¨ CI æœåŠ¡ï¼Œåœ¨é‡è§éœ€è¦ç´§æ€¥å‘å¸ƒä¿®å¤é—®é¢˜æ—¶ï¼Œä¹Ÿä¼šè®©äººå¾ˆæŠ“ç‹‚ã€‚æ‰€ä»¥ä¸ä»…è¦ä¼šä½¿ç”¨ webpackï¼Œè¿˜éœ€è¦æŒæ¡å¦‚ä½•ä¼˜åŒ– webpack çš„æ„å»ºæ€§èƒ½ã€‚</p>
<hr>
<p><a name="Sn2vc"></a></p>
<h2 id="1-è®©-webpack-å°‘å¹²ç‚¹æ´»"><a href="#1-è®©-webpack-å°‘å¹²ç‚¹æ´»" class="headerlink" title="1.è®© webpack å°‘å¹²ç‚¹æ´»"></a>1.è®© webpack å°‘å¹²ç‚¹æ´»</h2><p>æå‡ webpack æ„å»ºé€Ÿåº¦æœ¬è´¨ä¸Šå°±æ˜¯æƒ³åŠæ³•è®© webpack å°‘å¹²ç‚¹æ´»ï¼Œæ´»å°‘äº†é€Ÿåº¦è‡ªç„¶å¿«äº†ï¼Œå°½é‡é¿å… webpack å»åšä¸€äº›ä¸å¿…è¦çš„äº‹æƒ…ã€‚<br><a name="J6gOS"></a></p>
<h2 id="2-å‡å°‘-resolve-çš„è§£æ"><a href="#2-å‡å°‘-resolve-çš„è§£æ" class="headerlink" title="2.å‡å°‘ resolve çš„è§£æ"></a>2.å‡å°‘ resolve çš„è§£æ</h2><p>åœ¨å‰è¾¹ç¬¬ä¸‰å°èŠ‚æˆ‘ä»¬è¯¦ç»†ä»‹ç»äº† webpack çš„ <code>resolve</code> é…ç½®ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ç²¾ç®€ <code>resolve</code> é…ç½®ï¼Œè®© webpack åœ¨æŸ¥è¯¢æ¨¡å—è·¯å¾„æ—¶å°½å¯èƒ½å¿«é€Ÿåœ°å®šä½åˆ°éœ€è¦çš„æ¨¡å—ï¼Œä¸åšé¢å¤–çš„æŸ¥è¯¢å·¥ä½œï¼Œé‚£ä¹ˆ webpack çš„æ„å»ºé€Ÿåº¦ä¹Ÿä¼šå¿«ä¸€äº›ï¼Œä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼Œä»‹ç»å¦‚ä½•åœ¨ <code>resolve</code> è¿™ä¸€å—åšä¼˜åŒ–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  <span class="attr">modules</span>: [</span><br><span class="line">    path.resolve(__dirname, <span class="string">&#x27;node_modules&#x27;</span>), <span class="comment">// ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡å®š node_modulesï¼Œä¸åšè¿‡å¤šæŸ¥è¯¢</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// åˆ é™¤ä¸å¿…è¦çš„åç¼€è‡ªåŠ¨è¡¥å…¨ï¼Œå°‘äº†æ–‡ä»¶åç¼€çš„è‡ªåŠ¨åŒ¹é…ï¼Œå³å‡å°‘äº†æ–‡ä»¶è·¯å¾„æŸ¥è¯¢çš„å·¥ä½œ</span></span><br><span class="line">  <span class="comment">// å…¶ä»–æ–‡ä»¶å¯ä»¥åœ¨ç¼–ç æ—¶æŒ‡å®šåç¼€ï¼Œå¦‚ import(&#x27;./index.scss&#x27;)</span></span><br><span class="line">  <span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>], </span><br><span class="line">  <span class="comment">// é¿å…æ–°å¢é»˜è®¤æ–‡ä»¶ï¼Œç¼–ç æ—¶ä½¿ç”¨è¯¦ç»†çš„æ–‡ä»¶è·¯å¾„ï¼Œä»£ç ä¼šæ›´å®¹æ˜“è§£è¯»ï¼Œä¹Ÿæœ‰ç›Šäºæé«˜æ„å»ºé€Ÿåº¦</span></span><br><span class="line">  <span class="attr">mainFiles</span>: [<span class="string">&#x27;index&#x27;</span>],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°æ˜¯å¯ä»¥ä»é…ç½® <code>resolve</code> ä¸‹æ‰‹æå‡ webpack æ„å»ºé€Ÿåº¦çš„é…ç½®ä¾‹å­ã€‚<br />æˆ‘ä»¬åœ¨ç¼–ç æ—¶ï¼Œå¦‚æœæ˜¯ä½¿ç”¨æˆ‘ä»¬è‡ªå·±æœ¬åœ°çš„ä»£ç æ¨¡å—ï¼Œå°½å¯èƒ½ç¼–å†™å®Œæ•´çš„è·¯å¾„ï¼Œé¿å…ä½¿ç”¨ç›®å½•åï¼Œå¦‚ï¼š<code>import &#39;./lib/slider/index.js&#39;</code>ï¼Œè¿™æ ·çš„ä»£ç æ—¢æ¸…æ™°æ˜“æ‡‚ï¼Œwebpack ä¹Ÿä¸ç”¨å»å¤šæ¬¡æŸ¥è¯¢æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªæ–‡ä»¶ï¼Œä¸€æ­¥åˆ°ä½ã€‚<br><a name="fmcyX"></a></p>
<h2 id="3-æŠŠ-loader-åº”ç”¨çš„æ–‡ä»¶èŒƒå›´ç¼©å°"><a href="#3-æŠŠ-loader-åº”ç”¨çš„æ–‡ä»¶èŒƒå›´ç¼©å°" class="headerlink" title="3.æŠŠ loader åº”ç”¨çš„æ–‡ä»¶èŒƒå›´ç¼©å°"></a>3.æŠŠ loader åº”ç”¨çš„æ–‡ä»¶èŒƒå›´ç¼©å°</h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ loader çš„æ—¶å€™ï¼Œå°½å¯èƒ½æŠŠ loader åº”ç”¨çš„æ–‡ä»¶èŒƒå›´ç¼©å°ï¼Œåªåœ¨æœ€å°‘æ•°å¿…é¡»çš„ä»£ç æ¨¡å—ä¸­å»ä½¿ç”¨å¿…è¦çš„ loaderï¼Œä¾‹å¦‚ node_modules ç›®å½•ä¸‹çš„å…¶ä»–ä¾èµ–ç±»åº“æ–‡ä»¶ï¼ŒåŸºæœ¬å°±æ˜¯ç›´æ¥ç¼–è¯‘å¥½å¯ç”¨çš„ä»£ç ï¼Œæ— é¡»å†ç»è¿‡ loader å¤„ç†äº†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rules: [ </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/.jsx?/</span>,</span><br><span class="line">    include: [ </span><br><span class="line">      path.resolve(__dirname, <span class="string">&#x27;src&#x27;</span>), </span><br><span class="line">      <span class="comment">// é™å®šåªåœ¨ src ç›®å½•ä¸‹çš„ js/jsx æ–‡ä»¶éœ€è¦ç» babel-loader å¤„ç†</span></span><br><span class="line">      <span class="comment">// é€šå¸¸æˆ‘ä»¬éœ€è¦ loader å¤„ç†çš„æ–‡ä»¶éƒ½æ˜¯å­˜æ”¾åœ¨ src ç›®å½•</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">use</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šè¾¹è¿™ä¸ªä¾‹å­ï¼Œå¦‚æœæ²¡æœ‰é…ç½® <code>include</code>ï¼Œæ‰€æœ‰çš„å¤–éƒ¨ä¾èµ–æ¨¡å—éƒ½ç»è¿‡ Babel å¤„ç†çš„è¯ï¼Œæ„å»ºé€Ÿåº¦ä¹Ÿæ˜¯ä¼šæ”¶å¾ˆå¤§å½±å“çš„ã€‚<br><a name="BKETp"></a></p>
<h2 id="4-å‡å°‘-plugin-çš„æ¶ˆè€—"><a href="#4-å‡å°‘-plugin-çš„æ¶ˆè€—" class="headerlink" title="4.å‡å°‘ plugin çš„æ¶ˆè€—"></a>4.å‡å°‘ plugin çš„æ¶ˆè€—</h2><p>webpack çš„ plugin ä¼šåœ¨æ„å»ºçš„è¿‡ç¨‹ä¸­åŠ å…¥å…¶å®ƒçš„å·¥ä½œæ­¥éª¤ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œé€‚å½“åœ°ç§»é™¤æ‰ä¸€äº›æ²¡æœ‰å¿…è¦çš„ pluginã€‚<br />è¿™é‡Œå†æä¸€ä¸‹ webpack 4.x çš„ modeï¼ŒåŒºåˆ† mode ä¼šè®© webpack çš„æ„å»ºæ›´åŠ æœ‰é’ˆå¯¹æ€§ï¼Œæ›´åŠ é«˜æ•ˆã€‚ä¾‹å¦‚å½“ mode ä¸º development æ—¶ï¼Œwebpack ä¼šé¿å…ä½¿ç”¨ä¸€äº›æé«˜åº”ç”¨ä»£ç åŠ è½½æ€§èƒ½çš„é…ç½®é¡¹ï¼Œå¦‚ UglifyJsPluginï¼ŒExtractTextPlugin ç­‰ï¼Œè¿™æ ·å¯ä»¥æ›´å¿«åœ°å¯åŠ¨å¼€å‘ç¯å¢ƒçš„æœåŠ¡ï¼Œè€Œå½“ mode ä¸º production æ—¶ï¼Œwebpack ä¼šé¿å…ä½¿ç”¨ä¸€äº›ä¾¿äº debug çš„é…ç½®ï¼Œæ¥æå‡æ„å»ºæ—¶çš„é€Ÿåº¦ï¼Œä¾‹å¦‚æå…¶æ¶ˆè€—æ€§èƒ½çš„ Source Maps æ”¯æŒã€‚<br><a name="Gx85G"></a></p>
<h2 id="5-æ¢ç§æ–¹å¼å¤„ç†å›¾ç‰‡"><a href="#5-æ¢ç§æ–¹å¼å¤„ç†å›¾ç‰‡" class="headerlink" title="5.æ¢ç§æ–¹å¼å¤„ç†å›¾ç‰‡"></a>5.æ¢ç§æ–¹å¼å¤„ç†å›¾ç‰‡</h2><p>æˆ‘ä»¬åœ¨å‰è¾¹çš„å°èŠ‚æåˆ°å›¾ç‰‡å¯ä»¥ä½¿ç”¨ webpack çš„ image-webpack-loader æ¥å‹ç¼©å›¾ç‰‡ï¼Œåœ¨å¯¹ webpack æ„å»ºæ€§èƒ½è¦æ±‚ä¸é«˜çš„æ—¶å€™ï¼Œè¿™æ ·æ˜¯ä¸€ç§å¾ˆç®€ä¾¿çš„å¤„ç†æ–¹å¼ï¼Œä½†æ˜¯è¦è€ƒè™‘æé«˜ webpack æ„å»ºé€Ÿåº¦æ—¶ï¼Œè¿™ä¸€å—çš„å¤„ç†å°±å¾—é‡æ–°è€ƒè™‘ä¸€ä¸‹äº†ï¼Œæ€è€ƒä¸€ä¸‹æ˜¯å¦æœ‰å¿…è¦åœ¨ webpack æ¯æ¬¡æ„å»ºæ—¶éƒ½å¤„ç†ä¸€æ¬¡å›¾ç‰‡å‹ç¼©ã€‚<br />è¿™é‡Œä»‹ç»ä¸€ç§è§£å†³æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ imagemin æ¥åšå›¾ç‰‡å‹ç¼©ï¼Œç¼–å†™ç®€å•çš„å‘½ä»¤å³å¯ã€‚ç„¶åä½¿ç”¨ pre-commit è¿™ä¸ªç±»åº“æ¥é…ç½®å¯¹åº”çš„å‘½ä»¤ï¼Œä½¿å…¶åœ¨ <code>git commit</code> çš„æ—¶å€™è§¦å‘ï¼Œå¹¶ä¸”å°†è¦æäº¤çš„æ–‡ä»¶æ›¿æ¢ä¸ºå‹ç¼©åçš„æ–‡ä»¶ã€‚<br />è¿™æ ·æäº¤åˆ°ä»£ç ä»“åº“çš„å›¾ç‰‡å°±å·²ç»æ˜¯å‹ç¼©å¥½çš„äº†ï¼Œä»¥ååœ¨é¡¹ç›®ä¸­å†æ¬¡ä½¿ç”¨åˆ°çš„è¿™äº›å›¾ç‰‡å°±æ— éœ€å†è¿›è¡Œå‹ç¼©å¤„ç†äº†ï¼Œimage-webpack-loader ä¹Ÿå°±æ²¡æœ‰å¿…è¦äº†ã€‚<br><a name="RobGJ"></a></p>
<h2 id="6-ä½¿ç”¨-DLLPlugin"><a href="#6-ä½¿ç”¨-DLLPlugin" class="headerlink" title="6.ä½¿ç”¨ DLLPlugin"></a>6.ä½¿ç”¨ DLLPlugin</h2><p>DLLPlugin æ˜¯ webpack å®˜æ–¹æä¾›çš„ä¸€ä¸ªæ’ä»¶ï¼Œä¹Ÿæ˜¯ç”¨æ¥åˆ†ç¦»ä»£ç çš„ï¼Œå’Œ <code>optimization.splitChunks</code>ï¼ˆ3.x ç‰ˆæœ¬çš„æ˜¯ CommonsChunkPluginï¼‰æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œä¹‹æ‰€ä»¥æŠŠ DLLPlugin æ”¾åˆ° webpack æ„å»ºæ€§èƒ½ä¼˜åŒ–è¿™ä¸€éƒ¨åˆ†ï¼Œæ˜¯å› ä¸ºå®ƒçš„é…ç½®ç›¸å¯¹ç¹çï¼Œå¦‚æœé¡¹ç›®ä¸æ¶‰åŠæ€§èƒ½ä¼˜åŒ–è¿™ä¸€å—ï¼ŒåŸºæœ¬ä¸Šä½¿ç”¨ <code>optimization.splitChunks</code> å³å¯ã€‚<br />æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ DLLPlugin å¦‚ä½•ä½¿ç”¨ï¼Œä½¿ç”¨è¿™ä¸ªæ’ä»¶æ—¶éœ€è¦é¢å¤–çš„ä¸€ä¸ªæ„å»ºé…ç½®ï¼Œç”¨æ¥æ‰“åŒ…å…¬å…±çš„é‚£ä¸€éƒ¨åˆ†ä»£ç ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾è¿™ä¸ªé¢å¤–é…ç½®æ˜¯ <code>webpack.dll.config.js</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;vendor&#x27;</span>,</span><br><span class="line">  <span class="attr">entry</span>: [<span class="string">&#x27;lodash&#x27;</span>], <span class="comment">// è¿™ä¸ªä¾‹å­æˆ‘ä»¬æ‰“åŒ… lodash ä½œä¸ºå…¬å…±ç±»åº“</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;vendor.js&quot;</span>,</span><br><span class="line">    <span class="attr">library</span>: <span class="string">&quot;vendor_[hash]&quot;</span> <span class="comment">// æ‰“åŒ…åå¯¹å¤–æš´éœ²çš„ç±»åº“åç§°</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;vendor_[hash]&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&quot;dist/manifest.json&quot;</span>), <span class="comment">// ä½¿ç”¨ DLLPlugin åœ¨æ‰“åŒ…çš„æ—¶å€™ç”Ÿæˆä¸€ä¸ª manifest æ–‡ä»¶</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æˆ‘ä»¬æ­£å¸¸çš„åº”ç”¨æ„å»ºé…ç½®ï¼Œåœ¨é‚£ä¸ªçš„åŸºç¡€ä¸Šæ·»åŠ ä¸¤ä¸ªä¸€ä¸ªæ–°çš„ <code>webpack.DllReferencePlugin</code> é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">      <span class="attr">manifest</span>: path.resolve(__dirname, <span class="string">&#x27;dist/manifest.json&#x27;</span>), </span><br><span class="line">      <span class="comment">// æŒ‡å®šéœ€è¦ç”¨åˆ°çš„ manifest æ–‡ä»¶ï¼Œ</span></span><br><span class="line">      <span class="comment">// webpack ä¼šæ ¹æ®è¿™ä¸ª manifest æ–‡ä»¶çš„ä¿¡æ¯ï¼Œåˆ†æå‡ºå“ªäº›æ¨¡å—æ— éœ€æ‰“åŒ…ï¼Œç›´æ¥ä»å¦å¤–çš„æ–‡ä»¶æš´éœ²å‡ºæ¥çš„å†…å®¹ä¸­è·å–</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ„å»ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜å…ˆä½¿ç”¨ <code>webpack.dll.config.js</code> æ¥æ‰“åŒ…ï¼Œå¦‚ <code>webpack -c webpack.dll.config.js --mode production</code>ï¼Œæ„å»ºåç”Ÿæˆå…¬å…±ä»£ç æ¨¡å—çš„æ–‡ä»¶ <code>vendor.js</code> å’Œ <code>manifest.json</code>ï¼Œç„¶åå†è¿›è¡Œåº”ç”¨ä»£ç çš„æ„å»ºã€‚<br />ä½ ä¼šå‘ç°æ„å»ºç»“æœçš„åº”ç”¨ä»£ç ä¸­ä¸åŒ…å« lodash çš„ä»£ç å†…å®¹ï¼Œè¿™ä¸€éƒ¨åˆ†ä»£ç å†…å®¹ä¼šæ”¾åœ¨ <code>vendor.js</code> è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œè€Œä½ çš„åº”ç”¨è¦æ­£å¸¸ä½¿ç”¨çš„è¯ï¼Œéœ€è¦åœ¨ HTML æ–‡ä»¶ä¸­æŒ‰é¡ºåºå¼•ç”¨è¿™ä¸¤ä¸ªä»£ç æ–‡ä»¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;vendor.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å…¶å®ä½œç”¨å’Œ <code>optimization.splitChunks</code> å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸ªåŒºåˆ«ï¼ŒDLLPlugin æ„å»ºå‡ºæ¥çš„å†…å®¹æ— éœ€æ¯æ¬¡éƒ½é‡æ–°æ„å»ºï¼Œåç»­åº”ç”¨ä»£ç éƒ¨åˆ†å˜æ›´æ—¶ï¼Œä½ ä¸ç”¨å†æ‰§è¡Œé…ç½®ä¸º <code>webpack.dll.config.js</code> è¿™ä¸€éƒ¨åˆ†çš„æ„å»ºï¼Œæ²¿ç”¨åŸæœ¬çš„æ„å»ºç»“æœå³å¯ï¼Œæ‰€ä»¥ç›¸æ¯” <code>optimization.splitChunks</code>ï¼Œä½¿ç”¨ DLLPlugin æ—¶ï¼Œæ„å»ºé€Ÿåº¦æ˜¯ä¼šæœ‰æ˜¾è‘—æé«˜çš„ã€‚<br />ä½†æ˜¯å¾ˆæ˜¾ç„¶ï¼ŒDLLPlugin çš„é…ç½®è¦éº»çƒ¦å¾—å¤šï¼Œå¹¶ä¸”éœ€è¦å…³å¿ƒä½ å…¬å…±éƒ¨åˆ†ä»£ç çš„å˜åŒ–ï¼Œå½“ä½ å‡çº§ lodashï¼ˆå³ä½ çš„å…¬å…±éƒ¨åˆ†ä»£ç çš„å†…å®¹å˜æ›´ï¼‰æ—¶ï¼Œè¦é‡æ–°å»æ‰§è¡Œ <code>webpack.dll.config.js</code> è¿™ä¸€éƒ¨åˆ†çš„æ„å»ºï¼Œä¸ç„¶æ²¿ç”¨çš„ä¾æ—§æ˜¯æ—§çš„æ„å»ºç»“æœï¼Œä½¿ç”¨ä¸Šå¹¶ä¸å¦‚ <code>optimization.splitChunks</code> æ¥å¾—æ–¹ä¾¿ã€‚è¿™æ˜¯ä¸€ç§å–èˆï¼Œæ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µé‡‡ç”¨åˆé€‚çš„åšæ³•ã€‚<br />è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œhtml-webpack-plugin å¹¶ä¸ä¼šè‡ªåŠ¨å¤„ç† DLLPlugin åˆ†ç¦»å‡ºæ¥çš„é‚£ä¸ªå…¬å…±ä»£ç æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å¤„ç†è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ add-asset-html-webpack-pluginï¼Œå…³äºè¿™ä¸€ä¸ªçš„ä½¿ç”¨å°±ä¸è®²è§£äº†ï¼Œè¯¦ç»†å‚è€ƒå®˜æ–¹çš„è¯´æ˜æ–‡æ¡£ï¼šä½¿ç”¨ add-asset-html-webpack-pluginã€‚<br><a name="YMyUS"></a></p>
<h1 id="webpack-4-x-çš„æ„å»ºæ€§èƒ½"><a href="#webpack-4-x-çš„æ„å»ºæ€§èƒ½" class="headerlink" title="webpack 4.x çš„æ„å»ºæ€§èƒ½"></a>webpack 4.x çš„æ„å»ºæ€§èƒ½</h1><p>ä»å®˜æ–¹å‘å¸ƒçš„ webpack 4.0 æ›´æ–°æ—¥å¿—æ¥çœ‹ï¼Œwebpack 4.0 ç‰ˆæœ¬åšäº†å¾ˆå¤šå…³äºæå‡æ„å»ºæ€§èƒ½çš„å·¥ä½œï¼Œæˆ‘è§‰å¾—æ¯”è¾ƒé‡è¦çš„æ”¹è¿›æœ‰è¿™ä¹ˆå‡ ä¸ªï¼š</p>
<ul>
<li>AST å¯ä»¥ç›´æ¥ä» loader ç›´æ¥ä¼ é€’ç»™ webpackï¼Œé¿å…é¢å¤–çš„è§£æï¼Œå¯¹è¿™ä¸€ä¸ªä¼˜åŒ–ç»†èŠ‚æœ‰å…´è¶£çš„å¯ä»¥æŸ¥çœ‹è¿™ä¸ª PRã€‚<br /></li>
<li>ä½¿ç”¨é€Ÿåº¦æ›´å¿«çš„ md4 ä½œä¸ºé»˜è®¤çš„ hash æ–¹æ³•ï¼Œå¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œæ–‡ä»¶ä¸€å¤šï¼Œéœ€è¦ hash å¤„ç†çš„å†…å®¹å°±å¤šï¼Œwebpack çš„ hash å¤„ç†ä¼˜åŒ–å¯¹æ•´ä½“çš„æ„å»ºé€Ÿåº¦æå‡åº”è¯¥è¿˜æ˜¯æœ‰ä¸€å®šçš„æ•ˆæœçš„ã€‚<br /></li>
<li>Node è¯­è¨€å±‚é¢çš„ä¼˜åŒ–ï¼Œå¦‚ç”¨ <code>for of</code> æ›¿æ¢ <code>forEach</code>ï¼Œç”¨ <code>Map</code> å’Œ <code>Set</code> æ›¿æ¢æ™®é€šçš„å¯¹è±¡å­—é¢é‡ç­‰ç­‰ï¼Œè¿™ä¸€éƒ¨åˆ†å°±ä¸å±•å¼€è®²äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å» webpack çš„ PRs å¯»æ‰¾æ›´å¤šçš„å†…å®¹ã€‚<br /></li>
<li>é»˜è®¤å¼€å¯ uglifyjs-webpack-plugin çš„ <code>cache</code> å’Œ <code>parallel</code>ï¼Œå³ç¼“å­˜å’Œå¹¶è¡Œå¤„ç†ï¼Œè¿™æ ·èƒ½å¤§å¤§æé«˜ production mode ä¸‹å‹ç¼©ä»£ç çš„é€Ÿåº¦ã€‚<br /></li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰æ¯”è¾ƒçç¢çš„ä¸€äº›å†…å®¹ï¼Œå¯ä»¥æŸ¥é˜…ï¼š<strong>webpack release 4.0</strong>ï¼Œç•™æ„ <strong>performance</strong> å…³é”®è¯ã€‚<br />å¾ˆæ˜¾ç„¶ï¼Œwebpack çš„å¼€å‘è€…ä»¬è¶Šæ¥è¶Šå…³å¿ƒ webpack æ„å»ºæ€§èƒ½çš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªå…³äº webpack 4.x å’Œ 3.x æ„å»ºæ€§èƒ½çš„ç®€å•å¯¹æ¯”ï¼š</p>
<blockquote>
<p>6 entries, dev mode, source maps off, using a bunch of loaders and plugins. dat speed âš¡ï¸</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/186051/1581480528948-c3b63438-8967-4b03-b554-1824739aef9e.jpeg#align=left&display=inline&height=164&originHeight=164&originWidth=498&size=0&status=done&style=none&width=498">speed webpack of 4.x<img src="https://cdn.nlark.com/yuque/0/2020/jpeg/186051/1581480529491-cc4e9bf8-d71c-4d0b-b22b-7f6834dff19a.jpeg#align=left&display=inline&height=154&originHeight=154&originWidth=440&size=0&status=done&style=none&width=440">speed webpack of 3.x<br />ä»è¿™ä¸ªå¯¹æ¯”çš„ä¾‹å­ä¸Šçœ‹ï¼Œ4.x çš„æ„å»ºæ€§èƒ½å¯¹æ¯” 3.x æ˜¯æœ‰å¾ˆæ˜¾è‘—çš„æé«˜ï¼Œè€Œ webpack å®˜æ–¹åç»­è®¡åˆ’åŠ å…¥å¤šæ ¸è¿ç®—ï¼ŒæŒä¹…åŒ–ç¼“å­˜ç­‰ç‰¹æ€§æ¥è¿›ä¸€æ­¥æå‡æ€§èƒ½æ‰€ä»¥ï¼ŒåŠæ—¶æ›´æ–° webpack ç‰ˆæœ¬ï¼Œä¹Ÿæ˜¯æå‡æ„å»ºæ€§èƒ½çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹å¼ã€‚<br><a name="3YB8E"></a></p>
<h1 id="webpack5æ–°ç‰¹æ€§"><a href="#webpack5æ–°ç‰¹æ€§" class="headerlink" title="webpack5æ–°ç‰¹æ€§"></a>webpack5æ–°ç‰¹æ€§</h1><p><a name="8gZ4A"></a></p>
<h2 id="1-ç¼–è¯‘å™¨çš„ä¼˜åŒ–"><a href="#1-ç¼–è¯‘å™¨çš„ä¼˜åŒ–" class="headerlink" title="1.ç¼–è¯‘å™¨çš„ä¼˜åŒ–"></a>1.ç¼–è¯‘å™¨çš„ä¼˜åŒ–</h2><p>å¦‚æœå¤§å®¶è¯»è¿‡Webpackçš„æºç ä¸€å®šçŸ¥é“Compilerçš„é‡è¦æ€§ï¼Œåœ¨Webpackä¸­å……æ–¥ç€å¤§é‡çš„é’©å­å’Œè§¦å‘äº‹ä»¶ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/186051/1581480529430-df07eeb4-9a33-4ff4-9967-c62f17102e10.jpeg#align=left&display=inline&height=391&originHeight=570&originWidth=1080&size=0&status=done&style=none&width=740"><br />åœ¨æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œç¼–è¯‘å™¨åœ¨ä½¿ç”¨å®Œæ¯•ååº”è¯¥è¢«å…³é—­ï¼Œå› ä¸ºå®ƒä»¬åœ¨è¿›å…¥æˆ–é€€å‡ºç©ºé—²çŠ¶æ€æ—¶ï¼Œæ‹¥æœ‰è¿™äº›çŠ¶æ€çš„ hookã€‚ æ’ä»¶å¯ä»¥ç”¨è¿™äº› hook æ¥æ‰§è¡Œä¸å¤ªé‡è¦çš„å·¥ä½œï¼ˆæ¯”å¦‚ï¼šæŒä¹…æ€§ç¼“å­˜æŠŠç¼“å­˜æ…¢æ…¢åœ°å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼‰ã€‚åŒæ—¶æ’ä»¶çš„ä½œè€…åº”è¯¥é¢„è§åˆ°æŸäº›ç”¨æˆ·å¯èƒ½ä¼šå¿˜è®°å…³é—­ç¼–è¯‘å™¨ï¼Œæ‰€ä»¥ å½“ç¼–è¯‘å™¨å…³é—­æ‰€æœ‰å‰©ä¸‹çš„å·¥ä½œæ—¶åº”å°½å¿«å®Œæˆã€‚ ç„¶åå›è°ƒå°†ä¼šé€šçŸ¥å·²å½»åº•å®Œæˆã€‚å½“ä½ å‡çº§åˆ° v5 æ—¶ï¼Œè¯·ç¡®ä¿åœ¨å®Œæˆå·¥ä½œåä½¿ç”¨ Node.js API è°ƒç”¨ Compiler.closeã€‚<br><a name="hoPkR"></a></p>
<h2 id="2-Node-js-polyfills-è‡ªåŠ¨è¢«ç§»é™¤"><a href="#2-Node-js-polyfills-è‡ªåŠ¨è¢«ç§»é™¤" class="headerlink" title="2.Node.js polyfills è‡ªåŠ¨è¢«ç§»é™¤"></a>2.Node.js polyfills è‡ªåŠ¨è¢«ç§»é™¤</h2><p>è¿‡å»ï¼ŒWebpack 4ç‰ˆæœ¬é™„å¸¦äº†å¤§å¤šæ•° Node.js æ ¸å¿ƒæ¨¡å—çš„ polyfillsï¼Œä¸€æ—¦å‰ç«¯ä½¿ç”¨äº†ä»»ä½•æ ¸å¿ƒæ¨¡å—ï¼Œè¿™äº›æ¨¡å—å°±ä¼šè‡ªåŠ¨åº”ç”¨ï¼Œä½†æ˜¯å…¶å®æœ‰äº›æ˜¯ä¸å¿…è¦çš„ã€‚ V5ä¸­çš„å°è¯•æ˜¯è‡ªåŠ¨åœæ­¢ polyfilling è¿™äº›æ ¸å¿ƒæ¨¡å—ï¼Œå¹¶ä¾§é‡äºå‰ç«¯å…¼å®¹çš„æ¨¡å—ã€‚å½“è¿ç§»åˆ° v5æ—¶ï¼Œæœ€å¥½å°½å¯èƒ½ä½¿ç”¨å‰ç«¯å…¼å®¹çš„æ¨¡å—ï¼Œå¹¶å°½å¯èƒ½æ‰‹åŠ¨æ·»åŠ æ ¸å¿ƒæ¨¡å—çš„polyfillsã€‚ Webpacké¼“åŠ±å¤§å®¶å¤šæäº¤è‡ªå·±çš„æ„è§ï¼Œå› ä¸ºè¿™ä¸ªæ›´æ”¹å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šè¿›å…¥æœ€ç»ˆçš„ v5ç‰ˆæœ¬ã€‚<br><a name="0Qcn7"></a></p>
<h2 id="3-æ‰“åŒ…å¤§å°é™åˆ¶"><a href="#3-æ‰“åŒ…å¤§å°é™åˆ¶" class="headerlink" title="3.æ‰“åŒ…å¤§å°é™åˆ¶"></a>3.æ‰“åŒ…å¤§å°é™åˆ¶</h2><p>åœ¨V4ç‰ˆæœ¬ä¸­é»˜è®¤æƒ…å†µä¸‹ï¼Œä»…èƒ½å¤„ç†javascriptçš„å¤§å°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">            <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                <span class="attr">commons</span>: &#123;</span><br><span class="line">                    <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;commons&quot;</span>,</span><br><span class="line">                    <span class="attr">minChunks</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">minSize</span>: <span class="string">&quot;æ•°å€¼&quot;</span>,</span><br><span class="line">                    <span class="attr">maxSize</span>: <span class="string">&quot;æ•°å€¼&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>V5ç‰ˆæœ¬ä¹‹åï¼Œæ›´åŠ è‡ªç”±åŒ–ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">            <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                <span class="attr">commons</span>: &#123;</span><br><span class="line">                    <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;commons&quot;</span>,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//æœ€å°çš„æ–‡ä»¶å¤§å° è¶…è¿‡ä¹‹åå°†ä¸äºˆæ‰“åŒ…</span></span><br><span class="line">            <span class="attr">minSize</span>: &#123;</span><br><span class="line">                <span class="attr">javascript</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">style</span>: <span class="number">0</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//æœ€å¤§çš„æ–‡ä»¶ è¶…è¿‡ä¹‹åç»§ç»­æ‹†åˆ†</span></span><br><span class="line">            <span class="attr">maxSize</span>: &#123;</span><br><span class="line">                <span class="attr">javascript</span>: <span class="number">1</span>, <span class="comment">//æ•…æ„å†™å°çš„æ•ˆæœæ›´æ˜æ˜¾</span></span><br><span class="line">                <span class="attr">style</span>: <span class="number">3000</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="R2caR"></a></p>
<h2 id="4-æŒ‰éœ€åŠ è½½"><a href="#4-æŒ‰éœ€åŠ è½½" class="headerlink" title="4.æŒ‰éœ€åŠ è½½"></a>4.æŒ‰éœ€åŠ è½½</h2><p>ä»¥å‰å½“æˆ‘ä»¬æƒ³åœ¨index.jså†…éƒ¨ import(./async.jsâ€).then(â€¦)çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸åŠ ã€‚V4ä¼šé»˜è®¤å¯¹è¿™äº›æ–‡ä»¶ç”Ÿæˆä¸€å †0.js,1.js,2.jsâ€¦æ˜¯å¤šä¹ˆçš„æ•´é½.æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨<br />import(/* webpackChunkName: â€œnameâ€ */ â€œmoduleâ€) æ‰èƒ½åŒ–è§£è¿™ä»½å°´å°¬ã€‚ä»Šå¤©V5å¯ä»¥åœ¨å¼€å‘æ¨¡å¼ä¸­å¯ç”¨äº†ä¸€ä¸ªæ–°å‘½åçš„å— id ç®—æ³•ï¼Œè¯¥ç®—æ³•æä¾›å—(ä»¥åŠæ–‡ä»¶å)å¯è¯»çš„å¼•ç”¨ã€‚ æ¨¡å— ID ç”±å…¶ç›¸å¯¹äºä¸Šä¸‹æ–‡çš„è·¯å¾„ç¡®å®šã€‚ å— ID æ˜¯ç”±å—çš„å†…å®¹å†³å®šçš„ï¼Œæ‰€ä»¥ä½ ä¸å†éœ€è¦ä½¿ç”¨Magic Commentsã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//srcæ–‡ä»¶å¤¹index.js</span></span><br><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./async.js&quot;</span>).then(<span class="function">(<span class="params">_</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(_.data);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Hello Webpack5&quot;</span>)</span><br><span class="line"><span class="comment">//srcæ–‡ä»¶å¤¹async.js</span></span><br><span class="line"><span class="keyword">const</span> data = <span class="string">&quot;å¼‚æ­¥æ•°æ®ï¼Œæµ‹è¯•&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> data;</span><br></pre></td></tr></table></figure>
<p>å†æ¬¡ç¼–è¯‘ä¹‹åsrc_async_js.js å°±èººåœ¨äº†disté‡Œã€‚å¦‚æœè¿™ä¸ªæ—¶å€™å»æ‰§è¡Œ npm run prod ä¼šåœ¨disté‡Œå‡ºç°ä¸€ä¸ªå·²æ•°å­—å¼€å¤´çš„jsæ–‡ä»¶ã€‚<br><a name="ehRbK"></a></p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº† webpack æ‰“åŒ…çš„å·¥èµ„æµç¨‹ï¼Œä»¥åŠä¼˜åŒ– webpack æ„å»ºé€Ÿåº¦çš„ä¸€äº›æ–¹æ³•ï¼š</p>
<ul>
<li>å‡å°‘ <code>resolve</code> çš„è§£æ<br /></li>
<li>å‡å°‘ plugin çš„æ¶ˆè€—<br /></li>
<li>æ¢ç§æ–¹å¼å¤„ç†å›¾ç‰‡<br /></li>
<li>ä½¿ç”¨ DLLPlugin<br /></li>
<li>ç§¯ææ›´æ–° webpack ç‰ˆæœ¬<br /></li>
</ul>
<p>å½“æˆ‘ä»¬é¢å¯¹å› é¡¹ç›®è¿‡å¤§è€Œå¯¼è‡´çš„æ„å»ºæ€§èƒ½é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ¢ä¸ªè§’åº¦ï¼Œæ€è€ƒåœ¨ webpack ä¹‹ä¸Šçš„å¦å¤–ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä¸è¦è¿‡åˆ†ä¾èµ–äº webpackã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/02/12/195-%E3%80%90Webpack%E3%80%91%E5%88%86%E6%9E%90Webpack%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" data-id="ckts3ejyj00mr4d9kcjj87l6s" data-title="195-ã€Webpackã€‘åˆ†æWebpackè¿è¡Œæœºåˆ¶" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-194-ã€WebæŠ€æœ¯ã€‘ç”¨preloadé¢„åŠ è½½é¡µé¢èµ„æº" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/02/01/194-%E3%80%90Web%E6%8A%80%E6%9C%AF%E3%80%91%E7%94%A8preload%E9%A2%84%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E8%B5%84%E6%BA%90/" class="article-date">
  <time class="dt-published" datetime="2020-02-01T14:43:33.000Z" itemprop="datePublished">2020-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/02/01/194-%E3%80%90Web%E6%8A%80%E6%9C%AF%E3%80%91%E7%94%A8preload%E9%A2%84%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E8%B5%84%E6%BA%90/">194-ã€WebæŠ€æœ¯ã€‘ç”¨preloadé¢„åŠ è½½é¡µé¢èµ„æº</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åŸæ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/ProtoTeam/blog/blob/master/021.%E7%94%A8%20preload%20%E9%A2%84%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E8%B5%84%E6%BA%90.md">ç‚¹å‡»æŸ¥çœ‹</a></p>
<p><br />ä½œè€…ç®€ä»‹ felix èš‚èšé‡‘æœÂ·æ•°æ®ä½“éªŒæŠ€æœ¯å›¢é˜Ÿ<br />æœ¬æ–‡ä¸»è¦ä»‹ç» preload çš„ä½¿ç”¨ï¼Œä»¥åŠä¸ prefetch çš„åŒºåˆ«ã€‚ç„¶åä¼šèŠèŠæµè§ˆå™¨çš„åŠ è½½ä¼˜å…ˆçº§ã€‚<br />preload æä¾›äº†ä¸€ç§å£°æ˜å¼çš„å‘½ä»¤ï¼Œè®©æµè§ˆå™¨æå‰åŠ è½½æŒ‡å®šèµ„æº(åŠ è½½åå¹¶ä¸æ‰§è¡Œ)ï¼Œåœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™å†æ‰§è¡Œã€‚æä¾›çš„å¥½å¤„ä¸»è¦æ˜¯</p>
<ul>
<li>å°†åŠ è½½å’Œæ‰§è¡Œåˆ†ç¦»å¼€ï¼Œå¯ä¸é˜»å¡æ¸²æŸ“å’Œ document çš„ onload äº‹ä»¶</li>
<li>æå‰åŠ è½½æŒ‡å®šèµ„æºï¼Œä¸å†å‡ºç°ä¾èµ–çš„ font å­—ä½“éš”äº†ä¸€æ®µæ—¶é—´æ‰åˆ·å‡º<br><a name="ks6Uq"></a><h2 id="å¦‚ä½•ä½¿ç”¨-preload"><a href="#å¦‚ä½•ä½¿ç”¨-preload" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ preload"></a>å¦‚ä½•ä½¿ç”¨ preload</h2><a name="tsvZn"></a><h3 id="ä½¿ç”¨-link-æ ‡ç­¾åˆ›å»º"><a href="#ä½¿ç”¨-link-æ ‡ç­¾åˆ›å»º" class="headerlink" title="ä½¿ç”¨ link æ ‡ç­¾åˆ›å»º"></a>ä½¿ç”¨ link æ ‡ç­¾åˆ›å»º</h3></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨ link æ ‡ç­¾é™æ€æ ‡è®°éœ€è¦é¢„åŠ è½½çš„èµ„æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/path/to/style.css&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æˆ–ä½¿ç”¨è„šæœ¬åŠ¨æ€åˆ›å»ºä¸€ä¸ª link æ ‡ç­¾åæ’å…¥åˆ° head å¤´éƒ¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&#x27;link&#x27;</span>);</span></span><br><span class="line"><span class="javascript">link.rel = <span class="string">&#x27;preload&#x27;</span>;</span></span><br><span class="line"><span class="javascript">link.as = <span class="string">&#x27;style&#x27;</span>;</span></span><br><span class="line"><span class="javascript">link.href = <span class="string">&#x27;/path/to/style.css&#x27;</span>;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.head.appendChild(link);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a name="tgm88"></a></p>
<h3 id="ä½¿ç”¨-HTTP-å“åº”å¤´çš„-Link-å­—æ®µåˆ›å»º"><a href="#ä½¿ç”¨-HTTP-å“åº”å¤´çš„-Link-å­—æ®µåˆ›å»º" class="headerlink" title="ä½¿ç”¨ HTTP å“åº”å¤´çš„ Link å­—æ®µåˆ›å»º"></a>ä½¿ç”¨ HTTP å“åº”å¤´çš„ Link å­—æ®µåˆ›å»º</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Link: &lt;https://example.com/other/styles.css&gt;; rel=preload; as=style</span><br></pre></td></tr></table></figure>
<p>å¦‚æˆ‘ä»¬å¸¸ç”¨åˆ°çš„ antd ä¼šä¾èµ–ä¸€ä¸ª CDN ä¸Šçš„ font.js å­—ä½“æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºæå‰åŠ è½½ï¼Œä»¥åŠæœ‰ä¸€äº›æ¨¡å—è™½ç„¶æ˜¯æŒ‰éœ€å¼‚æ­¥åŠ è½½ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹çŸ¥é“å…¶å¿…å®šä¼šåŠ è½½çš„ï¼Œåˆ™å¯ä»¥è®¾ç½® preload è¿›è¡Œé¢„åŠ è½½ï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span>   <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://a.xxx.com/xxx/PcCommon.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://a.xxx.com/xxx/TabsPc.js&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a name="cx8Xy"></a></p>
<h2 id="å¦‚ä½•åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ-preload"><a href="#å¦‚ä½•åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ-preload" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ preload"></a>å¦‚ä½•åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ preload</h2><p>ç›®å‰æˆ‘ä»¬æ”¯æŒçš„æµè§ˆå™¨ä¸»è¦ä¸ºé«˜ç‰ˆæœ¬ Chromeï¼Œæ‰€ä»¥å¯æ”¾å¿ƒä½¿ç”¨ preload æŠ€æœ¯ã€‚ å…¶ä»–ç¯å¢ƒåœ¨ caniuse.com ä¸ŠæŸ¥åˆ°çš„æ”¯æŒæƒ…å†µå¦‚ä¸‹ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/a53b19d02cb36222be6055e57c7c5a9e7c6e118b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366623261393762613f773d39333226683d34313826663d706e6726733d3636343233"><img src="https://camo.githubusercontent.com/a53b19d02cb36222be6055e57c7c5a9e7c6e118b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366623261393762613f773d39333226683d34313826663d706e6726733d3636343233#align=left&display=inline&height=418&originHeight=418&originWidth=932&status=done&style=none&width=932"></a> åœ¨ä¸æ”¯æŒ preload çš„æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä¼šå¿½ç•¥å¯¹åº”çš„ link æ ‡ç­¾ï¼Œè€Œè‹¥éœ€è¦åšç‰¹å¾æ£€æµ‹çš„è¯ï¼Œåˆ™ï¼š<br /></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isPreloadSupported = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&#x27;link&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> relList = link.relList;</span><br><span class="line">  <span class="keyword">if</span> (!relList || !relList.supports) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> relList.supports(<span class="string">&#x27;preload&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="OEzNR"></a></p>
<h2 id="å¦‚ä½•åŒºåˆ†-preload-å’Œ-prefetch"><a href="#å¦‚ä½•åŒºåˆ†-preload-å’Œ-prefetch" class="headerlink" title="å¦‚ä½•åŒºåˆ† preload å’Œ prefetch"></a>å¦‚ä½•åŒºåˆ† preload å’Œ prefetch</h2><ul>
<li>preload Â  æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢<strong>å¿…å®š</strong>éœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨<strong>ä¸€å®šä¼š</strong>åŠ è½½è¿™äº›èµ„æºï¼›</li>
<li>prefetch æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢<strong>å¯èƒ½</strong>éœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨<strong>ä¸ä¸€å®šä¼š</strong>åŠ è½½è¿™äº›èµ„æºã€‚</li>
</ul>
<p>preload æ˜¯ç¡®è®¤ä¼šåŠ è½½æŒ‡å®šèµ„æºï¼Œå¦‚åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œx-report.js åˆå§‹åŒ–åä¸€å®šä¼šåŠ è½½ PcCommon.js å’Œ TabsPc.js, åˆ™å¯ä»¥é¢„å…ˆ preload è¿™äº›èµ„æºï¼›<br />prefetch æ˜¯é¢„æµ‹ä¼šåŠ è½½æŒ‡å®šèµ„æºï¼Œå¦‚åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬åœ¨é¡µé¢åŠ è½½åä¼šåˆå§‹åŒ–é¦–å±ç»„ä»¶ï¼Œå½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼Œä¼šæ‹‰å–ç¬¬äºŒå±çš„ç»„ä»¶ï¼Œè‹¥èƒ½é¢„æµ‹ç”¨æˆ·è¡Œä¸ºï¼Œåˆ™å¯ä»¥ prefetch ä¸‹ä¸€å±çš„ç»„ä»¶ã€‚<br><a name="M0Eom"></a></p>
<h2 id="preload-å°†æå‡èµ„æºåŠ è½½çš„ä¼˜å…ˆçº§"><a href="#preload-å°†æå‡èµ„æºåŠ è½½çš„ä¼˜å…ˆçº§" class="headerlink" title="preload å°†æå‡èµ„æºåŠ è½½çš„ä¼˜å…ˆçº§"></a>preload å°†æå‡èµ„æºåŠ è½½çš„ä¼˜å…ˆçº§</h2><p>ä½¿ç”¨ preload å‰ï¼Œåœ¨é‡åˆ°èµ„æºä¾èµ–æ—¶è¿›è¡ŒåŠ è½½ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/32a96d8b852941951a09f21c744b20fcc7181108/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366633038643333653f773d34383326683d373526663d706e6726733d3133363530"><img src="https://camo.githubusercontent.com/32a96d8b852941951a09f21c744b20fcc7181108/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366633038643333653f773d34383326683d373526663d706e6726733d3133363530#align=left&display=inline&height=75&originHeight=75&originWidth=483&status=done&style=none&width=483"></a> ä½¿ç”¨ preload åï¼Œä¸ç®¡èµ„æºæ˜¯å¦ä½¿ç”¨éƒ½å°†æå‰åŠ è½½ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2325935bfcdde6523177199c977fb369d43629dd/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366633337393564303f773d34393626683d373526663d706e6726733d3133333737"><img src="https://camo.githubusercontent.com/2325935bfcdde6523177199c977fb369d43629dd/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366633337393564303f773d34393626683d373526663d706e6726733d3133333737#align=left&display=inline&height=75&originHeight=75&originWidth=496&status=done&style=none&width=496"></a> å¯ä»¥çœ‹åˆ°ï¼Œpreload çš„èµ„æºåŠ è½½é¡ºåºå°†è¢«æå‰ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/16c914616946cbfc8204ae9251d5687ca499df98/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366643938336261313f773d35323226683d31393326663d706e6726733d3430343832"><img src="https://camo.githubusercontent.com/16c914616946cbfc8204ae9251d5687ca499df98/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396366643938336261313f773d35323226683d31393326663d706e6726733d3430343832#align=left&display=inline&height=193&originHeight=193&originWidth=522&status=done&style=none&width=522"></a><br><a name="OMYMV"></a></p>
<h2 id="é¿å…æ»¥ç”¨-preload"><a href="#é¿å…æ»¥ç”¨-preload" class="headerlink" title="é¿å…æ»¥ç”¨ preload"></a>é¿å…æ»¥ç”¨ preload</h2><p>ä½¿ç”¨ preload åï¼ŒChrome ä¼šæœ‰ä¸€ä¸ªè­¦å‘Šï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/8063027c3e5ef347c7de2b90777ad08283cf310b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396430303939666632373f773d37383226683d333426663d706e6726733d3138373537"><img src="https://camo.githubusercontent.com/8063027c3e5ef347c7de2b90777ad08283cf310b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396430303939666632373f773d37383226683d333426663d706e6726733d3138373537#align=left&display=inline&height=34&originHeight=34&originWidth=782&status=done&style=none&width=782"></a><br />å¦‚ä¸Šæ–‡æ‰€è¨€ï¼Œè‹¥ä¸ç¡®å®šèµ„æºæ˜¯å¿…å®šä¼šåŠ è½½çš„ï¼Œåˆ™ä¸è¦é”™è¯¯ä½¿ç”¨ preloadï¼Œä»¥å…æœ¬æœ«å€’ç½®ï¼Œç»™é¡µé¢å¸¦æ¥æ›´æ²‰é‡çš„è´Ÿæ‹…ã€‚<br />å½“ç„¶ï¼Œå¯ä»¥åœ¨ PC ä¸­ä½¿ç”¨ preload æ¥åˆ·æ–°èµ„æºçš„ç¼“å­˜ï¼Œä½†åœ¨ç§»åŠ¨ç«¯åˆ™éœ€è¦ç‰¹åˆ«æ…é‡ï¼Œå› ä¸ºå¯èƒ½ä¼šæµªè´¹ç”¨æˆ·çš„å¸¦å®½ã€‚<br><a name="ZhtoH"></a></p>
<h2 id="é¿å…æ··ç”¨-preload-å’Œ-prefetch"><a href="#é¿å…æ··ç”¨-preload-å’Œ-prefetch" class="headerlink" title="é¿å…æ··ç”¨ preload å’Œ prefetch"></a>é¿å…æ··ç”¨ preload å’Œ prefetch</h2><p>preload å’Œ prefetch æ··ç”¨çš„è¯ï¼Œå¹¶ä¸ä¼šå¤ç”¨èµ„æºï¼Œè€Œæ˜¯ä¼šé‡å¤åŠ è½½ã€‚<br /></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">&quot;preload&quot;</span>   href=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span> <span class="keyword">as</span>=<span class="string">&quot;font&quot;</span>&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prefetch&quot;</span>  <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><br />ä½¿ç”¨ preload å’Œ prefetch çš„é€»è¾‘å¯èƒ½ä¸æ˜¯å†™åˆ°ä¸€èµ·ï¼Œä½†ä¸€æ—¦å‘ç”Ÿå¯¹ç”¨ä¸€èµ„æº preload æˆ– prefetch çš„è¯ï¼Œä¼šå¸¦æ¥åŒå€çš„ç½‘ç»œè¯·æ±‚ï¼Œè¿™ç‚¹é€šè¿‡ Chrome æ§åˆ¶å°çš„ç½‘ç»œé¢æ¿å°±èƒ½ç”„åˆ«ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/0bf61a7a7099f6306bd092e76b3ea3d056aa9749/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396430323461383631623f773d36343926683d31313126663d706e6726733d3231353937"><img src="https://camo.githubusercontent.com/0bf61a7a7099f6306bd092e76b3ea3d056aa9749/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396430323461383631623f773d36343926683d31313126663d706e6726733d3231353937#align=left&display=inline&height=111&originHeight=111&originWidth=649&status=done&style=none&width=649"></a><br><a name="9HXj8"></a></p>
<h2 id="é¿å…é”™ç”¨-preload-åŠ è½½è·¨åŸŸèµ„æº"><a href="#é¿å…é”™ç”¨-preload-åŠ è½½è·¨åŸŸèµ„æº" class="headerlink" title="é¿å…é”™ç”¨ preload åŠ è½½è·¨åŸŸèµ„æº"></a>é¿å…é”™ç”¨ preload åŠ è½½è·¨åŸŸèµ„æº</h2><p>è‹¥ css ä¸­æœ‰åº”ç”¨äºå·²æ¸²æŸ“åˆ° DOM æ ‘çš„å…ƒç´ çš„é€‰æ‹©å™¨ï¼Œä¸”è®¾ç½®äº† @font-face è§„åˆ™æ—¶ï¼Œä¼šè§¦å‘å­—ä½“æ–‡ä»¶çš„åŠ è½½ã€‚ è€Œå­—ä½“æ–‡ä»¶åŠ è½½ä¸­æ—¶ï¼ŒDOM ä¸­çš„è¿™äº›å…ƒç´ ï¼Œæ˜¯å¤„äºä¸å¯è§çš„çŠ¶æ€ã€‚å¯¹å·²çŸ¥å¿…åŠ è½½çš„ font æ–‡ä»¶è¿›è¡Œé¢„åŠ è½½ï¼Œé™¤äº†æœ‰æ€§èƒ½æå‡å¤–ï¼Œæ›´æœ‰ä½“éªŒä¼˜åŒ–çš„æ•ˆæœã€‚<br />åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œå·²çŸ¥ antd.css ä¼šä¾èµ– font æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå­—ä½“æ–‡ä»¶è¿›è¡Œ preload:<br /></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶è€Œæˆ‘å‘ç°è¿™ä¸ªæ–‡ä»¶åŠ è½½äº†ä¸¤æ¬¡ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/3b86da05e9f966d783bbb2da79779ccafd1c8a5f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433396536613335353f773d37313226683d31313126663d706e6726733d3231373938"><img src="https://camo.githubusercontent.com/3b86da05e9f966d783bbb2da79779ccafd1c8a5f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433396536613335353f773d37313226683d31313126663d706e6726733d3231373938#align=left&display=inline&height=111&originHeight=111&originWidth=712&status=done&style=none&width=712"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/bb1e8eb2fef3d56d35278677034312b2f1406370/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616134613062643f773d3130333926683d373526663d706e6726733d3231343235"><img src="https://camo.githubusercontent.com/bb1e8eb2fef3d56d35278677034312b2f1406370/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616134613062643f773d3130333926683d373526663d706e6726733d3231343235#align=left&display=inline&height=75&originHeight=75&originWidth=1039&status=done&style=none&width=1039"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/05a3695b41e7bfa14ba22f91c8b1e67bf9f34ce3/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616262326637653f773d3130343726683d373526663d706e6726733d3230353038"><img src="https://camo.githubusercontent.com/05a3695b41e7bfa14ba22f91c8b1e67bf9f34ce3/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616262326637653f773d3130343726683d373526663d706e6726733d3230353038#align=left&display=inline&height=75&originHeight=75&originWidth=1047&status=done&style=none&width=1047"></a><br />åŸå› æ˜¯å¯¹è·¨åŸŸçš„æ–‡ä»¶è¿›è¡Œ preload çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»åŠ ä¸Š crossorigin å±æ€§ï¼š<br /></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span> <span class="attr">crossorigin</span> <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å†çœ‹ä¸€ä¸‹ç½‘ç»œè¯·æ±‚ï¼Œå°±å˜æˆä¸€æ¡äº†ã€‚<br />W3 è§„èŒƒæ˜¯è¿™ä¹ˆè§£é‡Šçš„ï¼š</p>
<blockquote>
<p>Preload links for CORS enabled resources, such as fonts or images with a crossorigin attribute, must also include a crossorigin attribute, in order for the resource to be properly used.</p>
</blockquote>
<p>é‚£ä¸ºä½•ä¼šæœ‰ä¸¤æ¡è¯·æ±‚ï¼Œä¸”ä¼˜å…ˆçº§ä¸ä¸€è‡´ï¼Œåˆæ²¡æœ‰å‘½ä¸­ç¼“å­˜å‘¢ï¼Ÿè¿™å°±å¾—å¼•å‡ºä¸‹ä¸€ä¸ªè¯é¢˜æ¥è§£é‡Šäº†ã€‚<br><a name="x337C"></a></p>
<h2 id="ä¸åŒèµ„æºåŠ è½½çš„ä¼˜å…ˆçº§è§„åˆ™"><a href="#ä¸åŒèµ„æºåŠ è½½çš„ä¼˜å…ˆçº§è§„åˆ™" class="headerlink" title="ä¸åŒèµ„æºåŠ è½½çš„ä¼˜å…ˆçº§è§„åˆ™"></a>ä¸åŒèµ„æºåŠ è½½çš„ä¼˜å…ˆçº§è§„åˆ™</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€å¼ å›¾ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/0083c38840fa8d30302642b286aa2a5cedb05515/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433666639663363323f773d36383726683d36303126663d706e6726733d3639323637"><img src="https://camo.githubusercontent.com/0083c38840fa8d30302642b286aa2a5cedb05515/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433666639663363323f773d36383726683d36303126663d706e6726733d3639323637#align=left&display=inline&height=601&originHeight=601&originWidth=687&status=done&style=none&width=687"></a></p>
<blockquote>
<p>è¿™å¼ è¡¨è¯¦è§ï¼šChrome Resource Priorities and Scheduling</p>
</blockquote>
<p>è¿™å¼ å›¾è¡¨ç¤ºçš„æ˜¯ï¼Œåœ¨ Chrome 46 ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œä¸åŒçš„èµ„æºåœ¨æµè§ˆå™¨æ¸²æŸ“çš„ä¸åŒé˜¶æ®µè¿›è¡ŒåŠ è½½çš„ä¼˜å…ˆçº§ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨ DevTools Priority ä½“ç°çš„ä¼˜å…ˆçº§ï¼Œä¸€å…±åˆ†æˆäº”ä¸ªçº§åˆ«ï¼š</p>
<ul>
<li>Highest æœ€é«˜</li>
<li>Hight é«˜</li>
<li>Medium ä¸­ç­‰</li>
<li>Low ä½</li>
<li>Lowest æœ€ä½</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/fbc06ea64585e49cd2d55143d5886729e7637550/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616463366163343f773d36383926683d31333626663d706e6726733d3232363637"><img src="https://camo.githubusercontent.com/fbc06ea64585e49cd2d55143d5886729e7637550/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396433616463366163343f773d36383926683d31333626663d706e6726733d3232363637#align=left&display=inline&height=136&originHeight=136&originWidth=689&status=done&style=none&width=689"></a><br><a name="UiMyD"></a></p>
<h3 id="html-ä¸»è¦èµ„æºï¼Œå…¶ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„"><a href="#html-ä¸»è¦èµ„æºï¼Œå…¶ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„" class="headerlink" title="html ä¸»è¦èµ„æºï¼Œå…¶ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„"></a>html ä¸»è¦èµ„æºï¼Œå…¶ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„</h3><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2dcadd29eedeb192aec8f4f4716909155697b35f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396434383161316435333f773d36383626683d31363526663d706e6726733d3235383035"><img src="https://camo.githubusercontent.com/2dcadd29eedeb192aec8f4f4716909155697b35f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396434383161316435333f773d36383626683d31363526663d706e6726733d3235383035#align=left&display=inline&height=165&originHeight=165&originWidth=686&status=done&style=none&width=686"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/e8a2a2dd896778cbd12d25db3a5a7d8ca0d295a6/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363437356232303f773d35303126683d363926663d706e6726733d3133383735"><img src="https://camo.githubusercontent.com/e8a2a2dd896778cbd12d25db3a5a7d8ca0d295a6/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363437356232303f773d35303126683d363926663d706e6726733d3133383735#align=left&display=inline&height=69&originHeight=69&originWidth=501&status=done&style=none&width=501"></a><br><a name="NdM9N"></a></p>
<h3 id="css-æ ·å¼èµ„æºï¼Œå…¶ä¼˜å…ˆçº§ä¹Ÿæ˜¯æœ€é«˜çš„"><a href="#css-æ ·å¼èµ„æºï¼Œå…¶ä¼˜å…ˆçº§ä¹Ÿæ˜¯æœ€é«˜çš„" class="headerlink" title="css æ ·å¼èµ„æºï¼Œå…¶ä¼˜å…ˆçº§ä¹Ÿæ˜¯æœ€é«˜çš„"></a>css æ ·å¼èµ„æºï¼Œå…¶ä¼˜å…ˆçº§ä¹Ÿæ˜¯æœ€é«˜çš„</h3><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/35db8fc2e39befca82df89f1b6ed65b307435e03/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363535636139653f773d36383426683d31383226663d706e6726733d3238383132"><img src="https://camo.githubusercontent.com/35db8fc2e39befca82df89f1b6ed65b307435e03/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363535636139653f773d36383426683d31383226663d706e6726733d3238383132#align=left&display=inline&height=182&originHeight=182&originWidth=684&status=done&style=none&width=684"></a> CSS(match) æŒ‡çš„æ˜¯å¯¹å·²æœ‰çš„ DOM å…·å¤‡è§„åˆ™çš„æœ‰æ•ˆçš„æ ·å¼æ–‡ä»¶ã€‚ <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/f3339d352fb837f443411d81eade8c1830160086/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363865326430353f773d34373526683d31393126663d706e6726733d3432303037"><img src="https://camo.githubusercontent.com/f3339d352fb837f443411d81eade8c1830160086/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436363865326430353f773d34373526683d31393126663d706e6726733d3432303037#align=left&display=inline&height=191&originHeight=191&originWidth=475&status=done&style=none&width=475"></a><br><a name="6nWxH"></a></p>
<h3 id="script-è„šæœ¬èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€"><a href="#script-è„šæœ¬èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€" class="headerlink" title="script è„šæœ¬èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€"></a>script è„šæœ¬èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€</h3><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/8d07bf6d105054d9b25a3b37e02b3ed8f3de46f6/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436643335306364343f773d36383626683d32303026663d706e6726733d3335303937"><img src="https://camo.githubusercontent.com/8d07bf6d105054d9b25a3b37e02b3ed8f3de46f6/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396436643335306364343f773d36383626683d32303026663d706e6726733d3335303937#align=left&display=inline&height=200&originHeight=200&originWidth=686&status=done&style=none&width=686"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2cc1b27776179ea995f774fbdeca8853277788c7/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396437313465326235643f773d34373626683d32343726663d706e6726733d3439343232"><img src="https://camo.githubusercontent.com/2cc1b27776179ea995f774fbdeca8853277788c7/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396437313465326235643f773d34373626683d32343726663d706e6726733d3439343232#align=left&display=inline&height=247&originHeight=247&originWidth=476&status=done&style=none&width=476"></a> å‰ä¸‰ä¸ª js æ–‡ä»¶æ˜¯å†™æ­»åœ¨ html ä¸­çš„é™æ€èµ„æºä¾èµ–ï¼Œåä¸‰ä¸ª js æ–‡ä»¶æ˜¯æ ¹æ®é¦–å±æŒ‰éœ€å¼‚æ­¥åŠ è½½çš„ç»„ä»¶èµ„æºä¾èµ–ï¼Œè¿™æ­£éªŒè¯äº†è¿™ä¸ªè§„åˆ™ã€‚<br><a name="4tXNd"></a></p>
<h3 id="font-å­—ä½“èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€"><a href="#font-å­—ä½“èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€" class="headerlink" title="font å­—ä½“èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€"></a>font å­—ä½“èµ„æºï¼Œä¼˜å…ˆçº§ä¸ä¸€</h3><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/72232d2ff945fd1e52f09747a698202d670b2700/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396437356538396261643f773d36383626683d31363426663d706e6726733d3236373231"><img src="https://camo.githubusercontent.com/72232d2ff945fd1e52f09747a698202d670b2700/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396437356538396261643f773d36383626683d31363426663d706e6726733d3236373231#align=left&display=inline&height=164&originHeight=164&originWidth=686&status=done&style=none&width=686"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/cb3fd05528923ceaea1295d1839bbf1b8d4d3bc2/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439323838323537393f773d34373226683d31313426663d706e6726733d3230383030"><img src="https://camo.githubusercontent.com/cb3fd05528923ceaea1295d1839bbf1b8d4d3bc2/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439323838323537393f773d34373226683d31313426663d706e6726733d3230383030#align=left&display=inline&height=114&originHeight=114&originWidth=472&status=done&style=none&width=472"></a> css æ ·å¼æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ª @font-face ä¾èµ–ä¸€ä¸ª font æ–‡ä»¶ï¼Œæ ·å¼æ–‡ä»¶ä¸­ä¾èµ–çš„å­—ä½“æ–‡ä»¶åŠ è½½çš„ä¼˜å…ˆçº§æ˜¯ Highestï¼› åœ¨ä½¿ç”¨ preload é¢„åŠ è½½è¿™ä¸ª font æ–‡ä»¶æ—¶ï¼Œè‹¥ä¸æŒ‡å®š crossorigin å±æ€§(å³ä½¿åŒæº)ï¼Œåˆ™ä¼šé‡‡ç”¨åŒ¿åæ¨¡å¼çš„ CORS å»åŠ è½½ï¼Œä¼˜å…ˆçº§æ˜¯ Highï¼Œçœ‹ä¸‹å›¾å¯¹æ¯”ï¼š ç¬¬ä¸€æ¡ High ä¼˜å…ˆçº§ä¹Ÿå°±æ˜¯ preload çš„è¯·æ±‚ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/56687cb66b6fe073c07a1ba3cdf80cb65a8bd39b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439353964313736653f773d3233393626683d3131383826663d706e6726733d363537373039"><img src="https://camo.githubusercontent.com/56687cb66b6fe073c07a1ba3cdf80cb65a8bd39b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439353964313736653f773d3233393626683d3131383826663d706e6726733d363537373039#align=left&display=inline&height=1188&originHeight=1188&originWidth=2396&status=done&style=none&width=2396"></a><br />ç¬¬äºŒæ¡ Highest ä¹Ÿå°±æ˜¯æ ·å¼å¼•å…¥çš„è¯·æ±‚ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/e90287962e1e99b941d9ac66c6121ad57a457e0f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439623437616333323f773d3233323226683d3131363226663d706e6726733d363434373738"><img src="https://camo.githubusercontent.com/e90287962e1e99b941d9ac66c6121ad57a457e0f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439623437616333323f773d3233323226683d3131363226663d706e6726733d363434373738#align=left&display=inline&height=1162&originHeight=1162&originWidth=2322&status=done&style=none&width=2322"></a><br />å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ preload çš„è¯·æ±‚ä¸­ï¼Œç¼ºå°‘äº†ä¸€ä¸ª origin çš„è¯·æ±‚å¤´å­—æ®µï¼Œè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯åŒ¿åçš„è¯·æ±‚ã€‚ è®©è¿™ä¸¤ä¸ªè¯·æ±‚èƒ½å…±ç”¨ç¼“å­˜çš„è¯ï¼Œç›®å‰çš„è§£æ³•æ˜¯ç»™ preload åŠ ä¸Š crossorigin å±æ€§ï¼Œè¿™æ ·è¯·æ±‚å¤´ä¼šå¸¦ä¸Š origin, ä¸”ä¸æ ·å¼å¼•å…¥çš„è¯·æ±‚åŒæºï¼Œä»è€Œåšåˆ°å‘½ä¸­ç¼“å­˜ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span> <span class="attr">crossorigin</span> <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_zck90zmlh7hf47vi.woff&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆè¯·æ±‚å°±åªå‰©ä¸€ä¸ªï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2d65a7b5806f1975158bbcc1a406475d66513f5f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439623433343435353f773d34373526683d383126663d706e6726733d3131393234"><img src="https://camo.githubusercontent.com/2d65a7b5806f1975158bbcc1a406475d66513f5f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396439623433343435353f773d34373526683d383126663d706e6726733d3131393234#align=left&display=inline&height=81&originHeight=81&originWidth=475&status=done&style=none&width=475"></a> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/01e7a480e8bc1700b211dc8d2b51cc4e4246060d/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396461336436663333303f773d3232393826683d3131373626663d706e6726733d353939353832"><img src="https://camo.githubusercontent.com/01e7a480e8bc1700b211dc8d2b51cc4e4246060d/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396461336436663333303f773d3232393826683d3131373626663d706e6726733d353939353832#align=left&display=inline&height=1176&originHeight=1176&originWidth=2298&status=done&style=none&width=2298"></a> åœ¨ç½‘ç»œç€‘å¸ƒæµå›¾ä¸­ï¼Œä¹Ÿæ˜¾ç¤ºæˆåŠŸé¢„åŠ è½½ä¸”åç»­å‘½ä¸­ç¼“å­˜ä¸å†äºŒæ¬¡åŠ è½½ï¼š <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/eeae7271a728a5b8be46d703fd3ae8e4cbc2d309/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396461623636336332353f773d36363226683d383626663d706e6726733d3131373839"><img src="https://camo.githubusercontent.com/eeae7271a728a5b8be46d703fd3ae8e4cbc2d309/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f322f31312f313631383263396461623636336332353f773d36363226683d383626663d706e6726733d3131373839#align=left&display=inline&height=86&originHeight=86&originWidth=662&status=done&style=none&width=662"></a><br><a name="EwGaK"></a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>preload æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œèƒ½å‘Šè¯‰æµè§ˆå™¨æå‰åŠ è½½å½“å‰é¡µé¢å¿…é¡»çš„èµ„æºï¼Œå°†åŠ è½½ä¸è§£ææ‰§è¡Œåˆ†ç¦»å¼€ï¼Œåšå¾—å¥½å¯ä»¥å¯¹é¦–æ¬¡æ¸²æŸ“å¸¦æ¥ä¸å°çš„æå‡ï¼Œä½†è¦é¿å…æ»¥ç”¨ï¼ŒåŒºåˆ†å…¶ä¸ prefetch çš„å…³ç³»ï¼Œä¸”éœ€è¦çŸ¥é“ preload ä¸åŒèµ„æºæ—¶çš„ç½‘ç»œä¼˜å…ˆçº§å·®å¼‚ã€‚<br />preload åŠ è½½é¡µé¢å¿…éœ€çš„èµ„æºå¦‚ CDN ä¸Šçš„å­—ä½“æ–‡ä»¶ï¼Œä¸ prefetch é¢„æµ‹åŠ è½½ä¸‹ä¸€å±æ•°æ®ï¼Œå…´è®¸æ˜¯ä¸ªä¸é”™çš„ç»„åˆã€‚<br />å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/preload/">https://www.w3.org/TR/preload/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/resource-hints/">https://www.w3.org/TR/resource-hints/</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/web/updates/2016/03/link-rel-preload">Prioritizing Your Resources with link rel=â€™preloadâ€™</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf">Preload, Prefetch And Priorities in Chrome</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/reloading/a-link-rel-preload-analysis-from-the-chrome-data-saver-team-5edf54b08715">A Link: rel=preload Analysis From the Chrome Data Saver Team</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/02/01/194-%E3%80%90Web%E6%8A%80%E6%9C%AF%E3%80%91%E7%94%A8preload%E9%A2%84%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E8%B5%84%E6%BA%90/" data-id="ckts3ejyi00mp4d9k8o5icbyw" data-title="194-ã€WebæŠ€æœ¯ã€‘ç”¨preloadé¢„åŠ è½½é¡µé¢èµ„æº" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-193-ã€ä¸­é—´ä»¶ã€‘ä»koaå’Œreduxçœ‹å¦‚ä½•è®¾è®¡ä¸­é—´ä»¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/01/21/193-%E3%80%90%E4%B8%AD%E9%97%B4%E4%BB%B6%E3%80%91%E4%BB%8Ekoa%E5%92%8Credux%E7%9C%8B%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%AD%E9%97%B4%E4%BB%B6/" class="article-date">
  <time class="dt-published" datetime="2020-01-20T16:01:36.000Z" itemprop="datePublished">2020-01-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/01/21/193-%E3%80%90%E4%B8%AD%E9%97%B4%E4%BB%B6%E3%80%91%E4%BB%8Ekoa%E5%92%8Credux%E7%9C%8B%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%AD%E9%97%B4%E4%BB%B6/">193-ã€ä¸­é—´ä»¶ã€‘ä»koaå’Œreduxçœ‹å¦‚ä½•è®¾è®¡ä¸­é—´ä»¶</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ç¼–è€…æŒ‰ï¼šæœ¬æ–‡ä½œè€…æ—å‘ä¸œï¼Œ360å¥‡èˆå›¢å‰ç«¯å·¥ç¨‹å¸ˆã€‚<br />ä¸­é—´ä»¶æ˜¯ä¸€ç§å®ç°ã€Œå…³æ³¨ç‚¹åˆ†ç¦»ã€çš„è®¾è®¡æ¨¡å¼ï¼Œæœ‰å¤šç§å®ç°æ–¹å¼ï¼Œæœ¬æ–‡ä»…æ¢è®¨koa/reduxæ˜¯å¦‚ä½•è®¾è®¡ä¸­é—´ä»¶ã€‚è¯¥æ¨¡å¼æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸­é—´ä»¶middleæ˜¯ä¸€ä¸ªå‡½æ•°</li>
<li>middleæœ‰ä¸ªnextå‚æ•°ï¼Œä¹Ÿæ˜¯å‡½æ•°ï¼Œä»£è¡¨ä¸‹ä¸ªè¦æ‰§è¡Œçš„ä¸­é—´ä»¶ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function m1(next) &#123;</span><br><span class="line">  console.log(&quot;m1&quot;);</span><br><span class="line">  next();</span><br><span class="line">  console.log(&quot;v1&quot;);</span><br><span class="line">&#125;</span><br><span class="line">function m2(next) &#123;</span><br><span class="line">  console.log(&quot;m2&quot;);</span><br><span class="line">  next();</span><br><span class="line">  console.log(&quot;v2&quot;);</span><br><span class="line">&#125;</span><br><span class="line">function m3() &#123;</span><br><span class="line">  console.log(&quot;m3&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å¦‚ä¸Šæ‰€ç¤ºï¼šä¸­é—´ä»¶ m1-&gt;m2-&gt;m3æ‰§è¡Œï¼Œæ‰“å°ç»“æœä¸º m1-&gt;m2-&gt;m3-&gt;v2-&gt;v1ã€‚è¿™ç§æ¨¡å¼æœ‰ä¸ªå½¢è±¡çš„åå­—ï¼Œ_æ´‹è‘±æ¨¡å‹_ã€‚ä½†ç°åœ¨æˆ‘ä»¬æš‚æ—¶å¿˜è®°è¿™äº›åå­—ï¼Œå°±æƒ³æƒ³å¦‚ä½•å®ç°ä¸­é—´ä»¶ï¼ˆå‡½æ•°ï¼‰çš„è”åŠ¨å§ã€‚æœ‰ä¸¤ç§æ€è·¯ï¼Œç¬¬ä¸€æ˜¯é€’å½’ï¼›ç¬¬äºŒæ˜¯é“¾å¼è°ƒç”¨ã€‚<br><a name="5nPjD"></a><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2>è®¾ç½®ä¸€ä¸ªæ•°ç»„æŒ‰é¡ºåºå­˜å‚¨å‡½æ•°ï¼Œæ ¹æ® index å€¼ï¼ŒæŒ‰é¡ºåºä¸€ä¸ªä¸ªæ‰§è¡Œï¼Œå¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  function dispath(index) &#123;</span><br><span class="line">    if (index === arr.length) return;</span><br><span class="line">    const route = arr[index];</span><br><span class="line">    const next = () =&gt; dispath(index + 1); // é€’å½’æ‰§è¡Œæ•°ç»„ä¸­ä¸‹ä¸€ä¸ªå‡½æ•°</span><br><span class="line">    return route(next);</span><br><span class="line">  &#125;</span><br><span class="line">  dispath(0);</span><br><span class="line">&#125;</span><br><span class="line">compose(middles); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
<a name="l3Vp1"></a><h2 id="é“¾å¼è°ƒç”¨"><a href="#é“¾å¼è°ƒç”¨" class="headerlink" title="é“¾å¼è°ƒç”¨"></a>é“¾å¼è°ƒç”¨</h2>å°†å‡½æ•°å½“ä½œæˆå‚æ•°ä¼ ç»™ä¸Šä¸€ä¸ªä¸­é—´ä»¶ï¼Œè¿™æ ·å‰ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œå°±å¯ä»¥æ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚<br><a name="Cxp1T"></a><h3 id="1ã€ç›´æ¥è°ƒç”¨ï¼š"><a href="#1ã€ç›´æ¥è°ƒç”¨ï¼š" class="headerlink" title="1ã€ç›´æ¥è°ƒç”¨ï¼š"></a>1ã€ç›´æ¥è°ƒç”¨ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">m1(() =&gt; m2(() =&gt; m3())); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br><span class="line">// m2çš„å‚æ•°nextæ˜¯ () =&gt; m3()</span><br><span class="line">// m1çš„å‚æ•°nextæ˜¯ () =&gt; m2(() =&gt; m3())</span><br></pre></td></tr></table></figure>
æ­¤ç§æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†æ˜¯ m1ï¼Œm2ï¼Œm3 éƒ½æ˜¯å†™æ­»çš„ï¼Œä¸æ˜¯å…¬å…±æ–¹æ³•ã€‚<br><a name="SVJwr"></a><h3 id="2ã€æ„å»ºnextçš„å‡½æ•°createFnï¼š"><a href="#2ã€æ„å»ºnextçš„å‡½æ•°createFnï¼š" class="headerlink" title="2ã€æ„å»ºnextçš„å‡½æ•°createFnï¼š"></a>2ã€æ„å»ºnextçš„å‡½æ•°createFnï¼š</h3>æˆ‘ä»¬è§‚å¯Ÿåˆ°åœ¨ä¼ é€’å‚æ•°æ—¶ï¼Œm3 å’Œ m2 éƒ½å˜æˆå‡½æ•°å†ä¼ å…¥ï¼Œé‚£è¿™ä¸ªå˜æˆå‡½æ•°çš„è¿‡ç¨‹æ˜¯å¦èƒ½æå–ï¼šå¦‚ä¸‹ï¼Œå‚æ•° middle æ˜¯ä¸­é—´ä»¶ï¼Œå‚æ•° next æ˜¯æ¥ä¸‹æ¥è¦æ‰§è¡Œçš„å‡½æ•°ã€‚è½¬æ¢å next å˜æˆ middle çš„å‚æ•°ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function createFn(middle, next) &#123;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    middle(next);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">// éœ€è¦å…ˆå°†åé¢çš„ä¸­é—´ä»¶å˜æˆæˆ‘ä»¬éœ€è¦çš„ next å‡½æ•°ï¼š</span><br><span class="line">const fn3 = createFn(m3, null);</span><br><span class="line">const fn2 = createFn(m2, fn3);</span><br><span class="line">const fn1 = createFn(m1, fn2);</span><br><span class="line">fn1(); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
è¿™é‡Œ fn3/fn2/fn1 ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œä½†æˆ‘ä»¬çœ‹å‡ºè¿™äº›ä¸­é—´çŠ¶æ€å˜é‡ï¼Œå¯ä»¥éšè—æ‰ï¼Œç»Ÿä¸€ç”¨ next ä»£æ›¿ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let next = () =&gt; &#123;&#125;;</span><br><span class="line">next = createFn(m3, null);</span><br><span class="line">next = createFn(m2, next);</span><br><span class="line">next = createFn(m1, next);</span><br><span class="line">next(); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
ä¼˜åŒ–å¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let next = () =&gt; &#123;&#125;;</span><br><span class="line">// å€’åº</span><br><span class="line">for (let i = middles.length; i &gt;= 0; i--) &#123;</span><br><span class="line">  next = createFn(middles[i], next);</span><br><span class="line">&#125;</span><br><span class="line">next(); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
<a name="iM3ym"></a><h3 id="3ã€redux-çš„-reduceRight"><a href="#3ã€redux-çš„-reduceRight" class="headerlink" title="3ã€redux çš„ reduceRight"></a>3ã€redux çš„ reduceRight</h3>ä»”ç»†è§‚å¯Ÿä¸Šé¢è¿™ç§å€’åºï¼Œä¸”æ¯æ¬¡æ‹¿ä¸Šæ¬¡çš„å€¼è¿›è¡Œè®¡ç®—çš„æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒ reduceRightã€‚ï¼ˆå¥½å§ï¼Œæˆ–è®¸æˆ‘ä»¬çœ‹ä¸å‡ºæ¥ï¼Œä½†æ˜¯æ—©æœŸ redux å°±æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿è¿‡æ¥ç ”ç©¶ï¼‰ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  return arr.reduceRight(</span><br><span class="line">    (a, b) =&gt; &#123;</span><br><span class="line">      // bæ˜¯middleï¼Œaæ˜¯nextï¼Œ</span><br><span class="line">      return () =&gt; b(a); // æ¯æ¬¡è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œè¿™ä¸ªå‡½æ•°ä¸ºmiddle(next)ï¼Œå³b(a)</span><br><span class="line">    &#125;,</span><br><span class="line">    () =&gt; &#123;&#125; // åˆå§‹åŒ–çš„aå€¼ï¼Œç©ºå‡½æ•°</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">const mid = compose(middles);</span><br><span class="line">mid(); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
<a name="q7qBo"></a><h3 id="4ã€redux-çš„-reduce"><a href="#4ã€redux-çš„-reduce" class="headerlink" title="4ã€redux çš„ reduce"></a>4ã€redux çš„ reduce</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  return arr.reduce((a, b) =&gt; &#123;</span><br><span class="line">    return (...arg) =&gt; a(() =&gt; b(...arg)); // a æ˜¯ nextå‡½æ•°ï¼Œbæ˜¯middleå‡½æ•°</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">const mid = compose(middles);</span><br><span class="line">mid(); // æ‰“å°m1 -&gt; m2 -&gt; m3 -&gt; v2 -&gt; v1</span><br></pre></td></tr></table></figure>
æ”¹æˆè¿™ç§æ­£åºçš„æ–¹å¼ï¼Œåè€Œä¸å¥½ç†è§£ã€‚å°è¯•è§£é‡Šä¸€ä¸‹ï¼ša æ˜¯ next å‡½æ•°ï¼Œb æ˜¯ middle å‡½æ•°ã€‚(â€¦arg) =&gt; a(() =&gt; b(â€¦arg)) è¿™ç®€ç›´å°±æ˜¯æˆ‘ä»¬æœ€åˆè¿™ç§å†™æ³• m1(() =&gt; m2(() =&gt; m3())) çš„ç›´æ¥æ˜ å°„ã€‚æ‘˜æŠ„ä¸€ä¸‹è¿™ç¯‡å‚è€ƒä¸€ä½œè€…çš„è§£é‡Šï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯è‡ªè¡Œæ¨å¯¼ä¸€ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ç¬¬ 1 æ¬¡ reduce çš„è¿”å›å€¼ï¼Œä¸‹ä¸€æ¬¡å°†ä½œä¸º a</span><br><span class="line">arg =&gt; fn1(() =&gt; fn2(arg));</span><br><span class="line">// ç¬¬ 2 æ¬¡ reduce çš„è¿”å›å€¼ï¼Œä¸‹ä¸€æ¬¡å°†ä½œä¸º a</span><br><span class="line">arg =&gt; (arg =&gt; fn1(() =&gt; fn2(arg)))(() =&gt; fn3(arg));</span><br><span class="line">// ç­‰ä»·äº...</span><br><span class="line">arg =&gt; fn1(() =&gt; fn2(() =&gt; fn3(arg)));</span><br><span class="line">// æ‰§è¡Œæœ€åè¿”å›çš„å‡½æ•°è¿æ¥ä¸­é—´ä»¶ï¼Œè¿”å›å€¼ç­‰ä»·äº...</span><br><span class="line">fn1(() =&gt; fn2(() =&gt; fn3(() =&gt; &#123;&#125;)));</span><br></pre></td></tr></table></figure>
æ˜ç™½reduceRightåˆ°reduceè½¬æ¢ä¸æ˜¯æœ€å…³é”®çš„ï¼Œå…³é”®çš„æ˜¯æ˜ç™½ä¸Šé¢å‡ ç§å†™æ³•è®©æˆ‘ä»¬èƒ½é“¾å¼è°ƒç”¨å‡½æ•°ã€‚<br><a name="i1JRO"></a><h2 id="ä¼ é€’å‚æ•°"><a href="#ä¼ é€’å‚æ•°" class="headerlink" title="ä¼ é€’å‚æ•°"></a>ä¼ é€’å‚æ•°</h2>è®¾è®¡ä¸€ä¸ªä¸­é—´ä»¶æ¨¡å¼ï¼Œæ€ä¹ˆèƒ½å°‘å¾—äº†å‚æ•°çš„ä¼ é€’ã€‚æˆ‘ä»¬å…ˆæƒ³æƒ³<strong>å¦‚ä½•ç»„ç»‡æˆ‘ä»¬ä¸­é—´ä»¶</strong>ï¼šå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬é€šè¿‡ next æ‰§è¡Œä¸‹ä¸ªä¸­é—´ä»¶ï¼Œé‚£ä¹ˆä¼ å€¼ç»™ä¸‹ä¸ªä¸­é—´ä»¶å°±æ˜¯ç»™ next æ·»åŠ å‚æ•°ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function m1(next) &#123;</span><br><span class="line">  console.log(&quot;m1&quot;);</span><br><span class="line">  next(&quot;v2&quot;); // å°†&#x27;v2&#x27;ä¼ ç»™ä¸‹ä¸ªä¸­é—´ä»¶m2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
é‚£ä¹ˆ m2 è¯¥æ€ä¹ˆè·å–è¿™ä¸ªå€¼å‘¢ï¼Ÿå› ä¸º next ä»£è¡¨ m2 æ‰§è¡Œåçš„å€¼ï¼Œnext ä¼ é€’å‚æ•°å°±æ˜¯è¯´ m2 éœ€è¦è¿”å›å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°å°±æ˜¯ä¼ é€’çš„å€¼ï¼Œå¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function m2(next) &#123;</span><br><span class="line">  return function(action) &#123;</span><br><span class="line">    // è¿™ä¸ªactionå°±æ˜¯ä¸Šä¸€ä¸ªå‡½æ•°ä¼ æ¥çš„&#x27;v2&#x27;</span><br><span class="line">    next(action);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
è¿™ç§å†™æ³•ç­‰ä»·äºï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const m2 = next =&gt; action =&gt; &#123;</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
æ‰€ä»¥æŒ‰ç…§ä¸Šé¢è¿™ç§æ–¹å¼ç»„ç»‡æˆ‘ä»¬çš„ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å°±æ—¢èƒ½é“¾å¼æ‰§è¡Œåˆèƒ½ä¼ é€’å‚æ•°ã€‚å¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const m1 = next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;m1&quot;, action);</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br><span class="line">const m2 = next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;m2&quot;, action);</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br><span class="line">const m3 = next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;m3&quot;, action);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
é‚£æˆ‘ä»¬å¦‚ä½•å®ç°å‘¢ï¼Ÿ<br><a name="CdlL8"></a><h3 id="1ã€ç›´æ¥è°ƒç”¨ï¼š-1"><a href="#1ã€ç›´æ¥è°ƒç”¨ï¼š-1" class="headerlink" title="1ã€ç›´æ¥è°ƒç”¨ï¼š"></a>1ã€ç›´æ¥è°ƒç”¨ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m1(arg =&gt; m2(() =&gt; m3()(arg))(arg))(&quot;666&quot;);</span><br><span class="line">// æ‰“å°ï¼šm1,m2,m3éƒ½æ‰“å°666</span><br></pre></td></tr></table></figure>
<a name="uEuf6"></a><h3 id="2ã€åˆ›å»ºcreateFnå‡½æ•°ï¼š"><a href="#2ã€åˆ›å»ºcreateFnå‡½æ•°ï¼š" class="headerlink" title="2ã€åˆ›å»ºcreateFnå‡½æ•°ï¼š"></a>2ã€åˆ›å»ºcreateFnå‡½æ•°ï¼š</h3>createFnè¿”å›çš„å‡½æ•°æ·»åŠ äº†å‚æ•°actionï¼Œä»£è¡¨äº†ä¸­é—´ä»¶ä¹‹é—´çš„å‚æ•°ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// æˆ‘ä»¬ç»™è¿”å›çš„å‡½æ•°åŠ ä¸Šå‚æ•°actionå¹¶æ‰§è¡Œ</span><br><span class="line">function createFn(middle, next) &#123;</span><br><span class="line">  return function (action) &#123;</span><br><span class="line">    middle(next)(action);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">let next = () =&gt; &#123;&#125;;</span><br><span class="line">for (let i = middles.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">  next = createFn(middles[i], next);</span><br><span class="line">&#125;</span><br><span class="line">next(&quot;666&quot;); // æ‰“å°ï¼šm1,m2,m3éƒ½æ‰“å°666</span><br></pre></td></tr></table></figure>
<a name="MGpsi"></a><h3 id="3ã€-redux-çš„-reduceRight-ä¸-reduceï¼š"><a href="#3ã€-redux-çš„-reduceRight-ä¸-reduceï¼š" class="headerlink" title="3ã€ redux çš„ reduceRight ä¸ reduceï¼š"></a>3ã€ redux çš„ reduceRight ä¸ reduceï¼š</h3>è¿”å›çš„ç»“æœç›´æ¥æ‰§è¡Œï¼Œå› ä¸ºæˆ‘ä»¬åŠ äº†ä¸€å±‚è¿”å›å‡½æ•°<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  return arr.reduceRight(</span><br><span class="line">    (a, b) =&gt; b(a), // æ³¨æ„è¿™é‡Œï¼Œä¸Šä¸ªç‰ˆæœ¬è¿”å›çš„æ˜¯å‡½æ•°() =&gt; b(a)ï¼›è¿™ä¸ªç‰ˆæœ¬å˜æˆb(a)ï¼Œç›´æ¥æ‰§è¡Œäº†ï¼ŒåŸå› æ˜¯æˆ‘ä»¬ä¸­é—´ä»¶è¿”å›å‡½æ•°ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦å°†å…¶æ‰§è¡Œ</span><br><span class="line">    () =&gt; &#123;&#125;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">const mid = compose(middles);</span><br><span class="line">mid(&quot;666&quot;); // æ‰“å°ï¼šm1,m2,m3éƒ½æ‰“å°666</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  return arr.reduce((a, b) =&gt; (...arg) =&gt; a(b(...arg))); // è¿™è¾¹ä¹Ÿæ˜¯ï¼Œä»() =&gt; b(..arg)å˜æˆb(..arg)</span><br><span class="line">&#125;</span><br><span class="line">const mid = compose(middles);</span><br><span class="line">mid(&quot;666&quot;); // æ‰“å°ï¼šm1,m2,m3éƒ½æ‰“å°666</span><br></pre></td></tr></table></figure>
<a name="7ZAgx"></a><h2 id="å…±åŒçš„å±æ€§"><a href="#å…±åŒçš„å±æ€§" class="headerlink" title="å…±åŒçš„å±æ€§"></a>å…±åŒçš„å±æ€§</h2>ç°åœ¨æˆ‘ä»¬å®Œæˆäº†ä¸­é—´ä»¶çš„é“¾å¼è°ƒç”¨å’Œå‚æ•°ä¼ é€’ï¼Œå·²å®Œæˆä¸€ä¸ªç®€å•çš„ä¸­é—´ä»¶ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬è¿™é‡Œä¸æ˜¯æ™®é€šçš„ä¸­é—´ä»·ï¼Œè€Œæ˜¯ redux çš„ä¸­é—´ä»¶ã€‚æˆ‘ä»¬æƒ³è¦è¿™äº›ä¸­é—´ä»¶éƒ½æ‹¥æœ‰ä¸€ä¸ªåˆå§‹åŒ–çš„ storeï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿç†Ÿæ‚‰ redux çš„æœ‹å‹è‚¯å®šçŸ¥é“ä¸­é—´ä»¶æœ€åå†™æˆè¿™æ ·ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const m1 = store =&gt; next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;store1&quot;, store);</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br><span class="line">const m2 = store =&gt; next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;store2&quot;, store);</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br><span class="line">const m3 = store =&gt; next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;store3&quot;, store);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
æˆ‘ä»¬è¿˜æ˜¯æŒ‰ç…§ä¸Šé¢å‡ ä¸ªæ­¥éª¤æ¥å®ç°ä¸€ä¸‹ï¼Œæœ€åè®²è®²ä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆè®¾è®¡ï¼š<br><a name="Rcud0"></a><h3 id="1ã€-ç›´æ¥è°ƒç”¨"><a href="#1ã€-ç›´æ¥è°ƒç”¨" class="headerlink" title="1ã€ ç›´æ¥è°ƒç”¨"></a>1ã€ ç›´æ¥è°ƒç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const store = &#123; name: &quot;redux&quot; &#125;;</span><br><span class="line">// åŸºæœ¬å†™æ³•ï¼Œæˆ‘ä»¬å°†å‚æ•°ä¼ ç»™æ¯ä¸ªä¸­é—´ä»¶</span><br><span class="line">m1(arg =&gt; m2(() =&gt; m3()(arg))(arg))(store);</span><br></pre></td></tr></table></figure>
<a name="EiqgE"></a><h3 id="2-ä¸­é—´ä»¶å…ˆæ‰§è¡Œä¸€éå°†-store-ä¼ å…¥è¿›å»"><a href="#2-ä¸­é—´ä»¶å…ˆæ‰§è¡Œä¸€éå°†-store-ä¼ å…¥è¿›å»" class="headerlink" title="2. ä¸­é—´ä»¶å…ˆæ‰§è¡Œä¸€éå°† store ä¼ å…¥è¿›å»"></a>2. ä¸­é—´ä»¶å…ˆæ‰§è¡Œä¸€éå°† store ä¼ å…¥è¿›å»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const store = &#123; name: &quot;redux&quot; &#125;;</span><br><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">const middlesWithStore = middles.map(middle =&gt; middle(store)); // è¿™é‡Œæ‰§è¡Œäº†ç¬¬ä¸€éï¼Œå°†storeä¼ è¿›æ¥</span><br><span class="line">function createFn(middle, next) &#123;</span><br><span class="line">  return action =&gt; middle(next)(action);</span><br><span class="line">&#125;</span><br><span class="line">let next = () =&gt; () =&gt; &#123;&#125;;</span><br><span class="line">for (let i = middlesWithStore.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">  next = createFn(middlesWithStore[i], next);</span><br><span class="line">&#125;</span><br><span class="line">next(store); // æ‰“å°ï¼šstore1,store2,store3 &#123; name: &#x27;redux&#x27; &#125;</span><br></pre></td></tr></table></figure>
<a name="nUik9"></a><h3 id="3ã€-reduceRight-å’Œ-reduce-ï¼š"><a href="#3ã€-reduceRight-å’Œ-reduce-ï¼š" class="headerlink" title="3ã€ reduceRight å’Œ reduce ï¼š"></a>3ã€ reduceRight å’Œ reduce ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const store = &#123; name: &quot;redux&quot; &#125;;</span><br><span class="line">const middles = [m1, m2, m3];</span><br><span class="line">const middlesWithStore = middles.map(middle =&gt; middle(store)); // è¿™é‡Œæ‰§è¡Œäº†ç¬¬ä¸€éï¼Œå°†storeä¼ è¿›æ¥</span><br><span class="line">function compose(arr) &#123;</span><br><span class="line">  return arr.reduce((a, b) =&gt; (...args) =&gt; a(b(...args)));</span><br><span class="line">&#125;</span><br><span class="line">const mid = compose(middlesWithStore)();</span><br><span class="line">mid(store); // æ‰“å°ï¼šstore1,store2,store3 &#123; name: &#x27;redux&#x27; &#125;</span><br></pre></td></tr></table></figure>
è¿™é‡Œçœ‹èµ·æ¥ç®€å•ï¼Œå°±æ˜¯å…ˆæ‰§è¡Œä¸€éä¸­é—´ä»¶ï¼Œ<strong>ä½†ä¸ºä»€ä¹ˆå¯ä»¥å…ˆæ‰§è¡Œä¸€æ¬¡å‡½æ•°å°†æ•°æ®ï¼ˆstoreï¼‰ä¼ è¿›å»ï¼Ÿè€Œä¸”è¿™ä¸ªæ•°æ®åœ¨åæ¥çš„è°ƒç”¨ä¸­èƒ½è¢«è®¿é—®åˆ°</strong>ï¼Ÿè¿™èƒŒåæ¶‰åŠåˆ°çš„åŸºç¡€çŸ¥è¯†æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–å’Œé—­åŒ…ï¼š<br><a name="tXLDh"></a><h2 id="æŸ¯é‡ŒåŒ–ä¸é—­åŒ…"><a href="#æŸ¯é‡ŒåŒ–ä¸é—­åŒ…" class="headerlink" title="æŸ¯é‡ŒåŒ–ä¸é—­åŒ…"></a>æŸ¯é‡ŒåŒ–ä¸é—­åŒ…</h2><a name="Z0jD1"></a><h3 id="1ã€æŸ¯é‡ŒåŒ–"><a href="#1ã€æŸ¯é‡ŒåŒ–" class="headerlink" title="1ã€æŸ¯é‡ŒåŒ–"></a>1ã€æŸ¯é‡ŒåŒ–</h3>æŸ¯é‡ŒåŒ–æ˜¯ä½¿ç”¨åŒ¿åå•å‚æ•°å‡½æ•°æ¥å®ç°å¤šå‚æ•°å‡½æ•°çš„æ–¹æ³•ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const m1 = store =&gt; next =&gt; action =&gt; &#123;</span><br><span class="line">  console.log(&quot;store1&quot;, store);</span><br><span class="line">  next(action);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
ä¸Šé¢è¿™ç§å†™æ³•ï¼Œæˆ‘ä»¬è¯´æ˜¯å°†ä¸­é—´ä»¶ m1 æŸ¯é‡ŒåŒ–äº†ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯æ¯æ¬¡åªä¼ ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›çš„æ˜¯æ–°çš„å‡½æ•°ã€‚<strong>è¿”å›æ–°å‡½æ•°è¿™ä¸ªç‰¹ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºå‡½æ•°å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹å†è°ƒç”¨ï¼Œæ‰€ä»¥æœ¬æ¥ä¸€ä¸ªè¿ç»­çš„åŠ¨ä½œè¢«æ‰“æ–­äº†ï¼Œå˜æˆäº†å¯ä»¥å»¶è¿Ÿæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå‚æ•°å‰ç½®</strong>ã€‚å½“æˆ‘ä»¬æ‰§è¡Œï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const middlesWithStore = middles.map(middle =&gt; middle(store));</span><br></pre></td></tr></table></figure>
ç›¸å½“äºç»™æ¯ä¸ªä¸­é—´ä»¶éƒ½æ·»åŠ äº† store å±æ€§ï¼Œè€Œä¸”è¿”å›çš„æ˜¯å‡½æ•°ï¼Œå¯ä»¥ç­‰åˆ°ä½ éœ€è¦ç”¨å®ƒçš„æ—¶å€™å†å»ä½¿ç”¨ã€‚è¿™å°±æ˜¯æŸ¯é‡ŒåŒ–çš„å¥½å¤„ã€‚<br><a name="fTUee"></a><h3 id="2ã€é—­åŒ…"><a href="#2ã€é—­åŒ…" class="headerlink" title="2ã€é—­åŒ…"></a>2ã€é—­åŒ…</h3>é—­åŒ…ï¼šå‡½æ•°ä¸å…¶è‡ªç”±å˜é‡ç»„æˆçš„ç¯å¢ƒï¼Œè‡ªç”±å˜é‡æŒ‡ä¸å­˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚å½“å‡½æ•°æŒ‰ç…§å€¼ä¼ é€’çš„æ–¹å¼åœ¨å…¶ä»–åœ°æ–¹è¢«è°ƒç”¨æ—¶ï¼Œäº§ç”Ÿäº†é—­åŒ…ã€‚<br />ä¸Šé¢çš„ m1 å¯ä»¥å†™æˆä¸‹é¢è¿™ç§æ ¼å¼ï¼Œå¯ä»¥çŸ¥é“æŸ¯é‡ŒåŒ–ä¸­é—´å‡½æ•°å¤„äºåŒä¸€é—­åŒ…ï¼Œæ‰€ä»¥å°½ç®¡æˆ‘ä»¬æ˜¯åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨äº† next(action)ï¼Œä½†è¿˜æ˜¯ä¿å­˜äº†æœ€å¼€å§‹åˆå§‹åŒ–çš„ä½œç”¨åŸŸï¼Œå®ç°äº†çœŸæ­£çš„å‡½æ•°åˆ†å¼€æ‰§è¡Œã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function m1(store) &#123;</span><br><span class="line">  return function(next) &#123;</span><br><span class="line">    return function(action) &#123;</span><br><span class="line">      console.log(&quot;store1&quot;, store);</span><br><span class="line">      next(action);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a name="W9wVB"></a><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2>å¯ä»¥è¯´æˆ‘ä»¬æ•´ä¸ªä¸­é—´ä»¶çš„è®¾è®¡å°±æ˜¯å»ºæ„åœ¨è¿”å›å‡½æ•°å½¢æˆé—­åŒ…è¿™ç§æŸ¯é‡ŒåŒ–ç‰¹æ€§ä¸Šã€‚å®ƒè®©æˆ‘ä»¬ç¼“å­˜å‚æ•°ï¼Œåˆ†å¼€æ‰§è¡Œï¼Œé“¾å¼ä¼ é€’å‚æ•°è°ƒç”¨ã€‚æ‰€ä»¥ redux ä¸­èƒ½æå‰æ³¨å…¥ storeï¼Œèƒ½æœ‰æ•ˆä¼ é€’ actionã€‚å¯ä»¥è¯´koa/reduxçš„ä¸­é—´ä»¶æœºåˆ¶æ˜¯é—­åŒ…/æŸ¯é‡ŒåŒ–çš„ç»å…¸çš„å®ä¾‹ã€‚å¯’é£å·èµ·ï¼Œè½å¶æŠ±å†¬æ—¥ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚<br><a name="irPln"></a><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><a target="_blank" rel="noopener" href="https://juejin.im/post/5bbdcf05e51d450e6c750693">https://juejin.im/post/5bbdcf05e51d450e6c750693</a><br /><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/35040744">https://zhuanlan.zhihu.com/p/35040744</a><br /><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20597452">https://zhuanlan.zhihu.com/p/20597452</a><br /><a target="_blank" rel="noopener" href="https://github.com/brickspert/blog/issues/22">https://github.com/brickspert/blog/issues/22</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/01/21/193-%E3%80%90%E4%B8%AD%E9%97%B4%E4%BB%B6%E3%80%91%E4%BB%8Ekoa%E5%92%8Credux%E7%9C%8B%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%AD%E9%97%B4%E4%BB%B6/" data-id="ckts3eju0005b4d9kf2n31dqy" data-title="193-ã€ä¸­é—´ä»¶ã€‘ä»koaå’Œreduxçœ‹å¦‚ä½•è®¾è®¡ä¸­é—´ä»¶" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">ä¸­é—´ä»¶</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-192-ã€NPMã€‘å‰–ænpmçš„åŒ…ç®¡ç†æœºåˆ¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/01/20/192-%E3%80%90NPM%E3%80%91%E5%89%96%E6%9E%90npm%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6/" class="article-date">
  <time class="dt-published" datetime="2020-01-20T15:59:55.000Z" itemprop="datePublished">2020-01-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/01/20/192-%E3%80%90NPM%E3%80%91%E5%89%96%E6%9E%90npm%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6/">192-ã€NPMã€‘å‰–ænpmçš„åŒ…ç®¡ç†æœºåˆ¶</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a name="532Rf"></a></p>
<h2 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742526-c9461a33-782f-4d77-ba66-83397e7ed477.webp#align=left&display=inline&height=361&originHeight=594&originWidth=1080&size=0&status=done&style=none&width=657"></p>
<p>æœ¬æ–‡æ¥è‡ªå¾®ä¿¡å…¬ä¼—å·ã€codeç§˜å¯†èŠ±å›­ã€‘</p>
<p>ç°å¦‚ä»Šï¼Œå‰ç«¯å¼€å‘çš„åŒå­¦å·²ç»ç¦»ä¸å¼€ <code>npm</code> è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œå…¶ä¼˜ç§€çš„åŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶æ‰¿è½½äº†æ•´ä¸ªç¹è£å‘å±•çš„<code>NodeJS</code>ç¤¾åŒºï¼Œç†è§£å…¶å†…éƒ¨æœºåˆ¶éå¸¸æœ‰åˆ©äºåŠ æ·±æˆ‘ä»¬å¯¹æ¨¡å—å¼€å‘çš„ç†è§£ã€å„é¡¹å‰ç«¯å·¥ç¨‹åŒ–çš„é…ç½®ä»¥åŠ å¿«æˆ‘ä»¬æ’æŸ¥é—®é¢˜ï¼ˆç›¸ä¿¡ä¸å°‘åŒå­¦æ”¶åˆ°è¿‡å„ç§ä¾èµ–é—®é¢˜çš„å›°æ‰°ï¼‰çš„é€Ÿåº¦ã€‚<br />æœ¬æ–‡ä»ä¸‰ä¸ªè§’åº¦ï¼š<code>package.json</code>ã€ç‰ˆæœ¬ç®¡ç†ã€ä¾èµ–å®‰è£…ç»“åˆå…·ä½“å®ä¾‹å¯¹ <code>npm</code> çš„åŒ…ç®¡ç†æœºåˆ¶è¿›è¡Œäº†è¯¦ç»†åˆ†æã€‚<br />æˆ‘ä¹‹å‰å‘è¿‡è¿™ä¸‰ç¯‡æ–‡ç« ï¼Œå®é™…ä¸Šä¸‹é¢ä¸‰ç¯‡æ–‡ç« éƒ½æ˜¯å›´ç»•åŒ…ç‰ˆæœ¬ç®¡ç†æ¥å†™çš„ï¼ŒæŠŠä»–ä»¬ä¸²è”èµ·æ¥å¯ä»¥æ›´å…¨é¢çš„çœ‹åˆ°æ•´ä¸ªnpmçš„åŒ…ç®¡ç†æœºåˆ¶ï¼Œæœ¬ç¯‡æ–‡ç« å°±æ˜¯ä¸‰ç¯‡æ–‡ç« çš„é›†åˆï¼Œå¦å¤–å®Œå–„äº†ä¸€äº›å†…å®¹ï¼Œè®©å¤§å®¶æ›´å…¨é¢çš„ç†è§£è¿™ä¸ªé—®é¢˜ã€‚<br /><a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=Mzg2NDAzMjE5NQ==&mid=2247484994&idx=1&sn=7da1108c3858ad71c42bcb36f8ade9de&chksm=ce6ec2eef9194bf863bb5ddeb9cb5fa7507e3a5f27b6dde0f61946c2c378eb89d8f562424ca7&scene=21#wechat_redirect">package.json çŸ¥å¤šå°‘ï¼Ÿ</a><br /><a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=Mzg2NDAzMjE5NQ==&mid=2247484889&idx=1&sn=feacaf4352ae97560ed3afd244618553&chksm=ce6ec175f91948639d0bfc4a0322fb41123d2f56b884453c83f35edad7d9066ca0f080af9f4b&scene=21#wechat_redirect">NPMå¦‚ä½•ç®¡ç†ä¾èµ–åŒ…ç‰ˆæœ¬ï¼Ÿ</a><br /><a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=Mzg2NDAzMjE5NQ==&mid=2247485074&idx=1&sn=a4b39ef1fcad427e79a8714c41b8eb0b&chksm=ce6ec23ef9194b28cd007f4de1691a27ecb4742a510fb118beb37e611ed4ec211b15f74d16a6&scene=21#wechat_redirect">npm install åŸç†åˆ†æ</a><br><a name="rreeF"></a></p>
<h2 id="ä¸€ã€å‰–æ-package-json"><a href="#ä¸€ã€å‰–æ-package-json" class="headerlink" title="ä¸€ã€å‰–æ package.json"></a>ä¸€ã€å‰–æ package.json</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742525-2df8cd03-e5c3-4ee3-b636-74f0706824f8.webp#align=left&display=inline&height=370&originHeight=608&originWidth=1080&size=0&status=done&style=none&width=657"><br />åœ¨ <code>Node.js</code> ä¸­ï¼Œæ¨¡å—æ˜¯ä¸€ä¸ªåº“æˆ–æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª <code>Node.js</code> é¡¹ç›®ã€‚<code>Node.js</code> é¡¹ç›®éµå¾ªæ¨¡å—åŒ–çš„æ¶æ„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>Node.js</code> é¡¹ç›®ï¼Œæ„å‘³ç€åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—å¿…é¡»æœ‰ä¸€ä¸ªæè¿°æ–‡ä»¶ï¼Œå³ <code>package.json</code>ã€‚å®ƒæ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯å®ƒé‡Œé¢çš„é…ç½®ä½ çœŸçš„æœ‰è¯¦ç»†äº†è§£è¿‡å—ï¼Ÿé…ç½®ä¸€ä¸ªåˆç†çš„ <code>package.json</code> æ–‡ä»¶ç›´æ¥å†³å®šç€æˆ‘ä»¬é¡¹ç›®çš„è´¨é‡ï¼Œæ‰€ä»¥é¦–å…ˆå¸¦å¤§å®¶åˆ†æä¸‹ <code>package.json</code> çš„å„é¡¹è¯¦ç»†é…ç½®ã€‚<br><a name="SUckN"></a></p>
<h3 id="1-1-å¿…å¤‡å±æ€§"><a href="#1-1-å¿…å¤‡å±æ€§" class="headerlink" title="1.1 å¿…å¤‡å±æ€§"></a>1.1 å¿…å¤‡å±æ€§</h3><p><code>package.json</code> ä¸­æœ‰éå¸¸å¤šçš„å±æ€§ï¼Œå…¶ä¸­å¿…é¡»å¡«å†™çš„åªæœ‰ä¸¤ä¸ªï¼š<code>name</code> å’Œ <code>version</code> ï¼Œè¿™ä¸¤ä¸ªå±æ€§ç»„æˆä¸€ä¸ª <code>npm</code> æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ã€‚<br><a name="LISFn"></a></p>
<h4 id="npmåŒ…å‘½åè§„åˆ™"><a href="#npmåŒ…å‘½åè§„åˆ™" class="headerlink" title="npmåŒ…å‘½åè§„åˆ™"></a>npmåŒ…å‘½åè§„åˆ™</h4><p><code>name</code> å³æ¨¡å—åç§°ï¼Œå…¶å‘½åæ—¶éœ€è¦éµå¾ªå®˜æ–¹çš„ä¸€äº›è§„èŒƒå’Œå»ºè®®ï¼š</p>
<ul>
<li>åŒ…åä¼šæˆä¸ºæ¨¡å—<code>url</code>ã€å‘½ä»¤è¡Œä¸­çš„ä¸€ä¸ªå‚æ•°æˆ–è€…ä¸€ä¸ªæ–‡ä»¶å¤¹åç§°ï¼Œä»»ä½•é<code>url</code>å®‰å…¨çš„å­—ç¬¦åœ¨åŒ…åä¸­éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>validate-npm-package-name</code> åŒ…æ¥æ£€æµ‹åŒ…åæ˜¯å¦åˆæ³•ã€‚<br /></li>
<li>è¯­ä¹‰åŒ–åŒ…åï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¿«çš„æ‰¾åˆ°éœ€è¦çš„åŒ…ï¼Œå¹¶ä¸”é¿å…æ„å¤–è·å–é”™è¯¯çš„åŒ…ã€‚<br /></li>
<li>è‹¥åŒ…åç§°ä¸­å­˜åœ¨ä¸€äº›ç¬¦å·ï¼Œå°†ç¬¦å·å»é™¤åä¸å¾—ä¸ç°æœ‰åŒ…åé‡å¤<br /></li>
</ul>
<p>ä¾‹å¦‚ï¼šç”±äº<code>react-native</code>å·²ç»å­˜åœ¨ï¼Œ<code>react.native</code>ã€<code>reactnative</code>éƒ½ä¸å¯ä»¥å†åˆ›å»ºã€‚</p>
<ul>
<li>å¦‚æœä½ çš„åŒ…åä¸ç°æœ‰çš„åŒ…åå¤ªç›¸è¿‘å¯¼è‡´ä½ ä¸èƒ½å‘å¸ƒè¿™ä¸ªåŒ…ï¼Œé‚£ä¹ˆæ¨èå°†è¿™ä¸ªåŒ…å‘å¸ƒåˆ°ä½ çš„ä½œç”¨åŸŸä¸‹ã€‚<br /></li>
</ul>
<p>ä¾‹å¦‚ï¼šç”¨æˆ·å <code>conard</code>ï¼Œé‚£ä¹ˆä½œç”¨åŸŸä¸º <code>@conard</code>ï¼Œå‘å¸ƒçš„åŒ…å¯ä»¥æ˜¯<code>@conard/react</code>ã€‚<br><a name="THVal"></a></p>
<h4 id="æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨"><a href="#æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨" class="headerlink" title="æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨"></a>æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨</h4><p><code>name</code> æ˜¯ä¸€ä¸ªåŒ…çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸å¾—å’Œå…¶ä»–åŒ…åé‡å¤ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ <code>npm view packageName</code> æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨ï¼Œå¹¶å¯ä»¥æŸ¥çœ‹å®ƒçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742554-9a8927af-4e8f-4ca0-9ac6-4238a00fcd49.webp#align=left&display=inline&height=343&originHeight=564&originWidth=1080&size=0&status=done&style=none&width=657"><br />è‹¥åŒ…åç§°ä»æœªè¢«ä½¿ç”¨è¿‡ï¼Œåˆ™ä¼šæŠ›å‡º <code>404</code> é”™è¯¯ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742516-442095ad-1a97-42c5-9dde-aa6cd3f5dd1b.webp#align=left&display=inline&height=228&originHeight=375&originWidth=1080&size=0&status=done&style=none&width=657"><br />å¦å¤–ï¼Œä½ è¿˜å¯ä»¥å» <code>https://www.npmjs.com/</code> æŸ¥è¯¢æ›´å¤šæ›´è¯¦ç»†çš„åŒ…ä¿¡æ¯ã€‚<br><a name="3W5o8"></a></p>
<h3 id="1-2æè¿°ä¿¡æ¯"><a href="#1-2æè¿°ä¿¡æ¯" class="headerlink" title="1.2æè¿°ä¿¡æ¯"></a>1.2æè¿°ä¿¡æ¯</h3><p><a name="x7iBS"></a></p>
<h4 id="åŸºæœ¬æè¿°"><a href="#åŸºæœ¬æè¿°" class="headerlink" title="åŸºæœ¬æè¿°"></a>åŸºæœ¬æè¿°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;description&quot;: &quot;An enterprise-class UI design language and React components implementation&quot;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;ant&quot;,</span><br><span class="line">    &quot;component&quot;,</span><br><span class="line">    &quot;components&quot;,</span><br><span class="line">    &quot;design&quot;,</span><br><span class="line">    &quot;framework&quot;,</span><br><span class="line">    &quot;frontend&quot;,</span><br><span class="line">    &quot;react&quot;,</span><br><span class="line">    &quot;react-component&quot;,</span><br><span class="line">    &quot;ui&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>description</code>ç”¨äºæ·»åŠ æ¨¡å—çš„çš„æè¿°ä¿¡æ¯ï¼Œæ–¹ä¾¿åˆ«äººäº†è§£ä½ çš„æ¨¡å—ã€‚<br /><code>keywords</code>ç”¨äºç»™ä½ çš„æ¨¡å—æ·»åŠ å…³é”®å­—ã€‚<br />å½“ç„¶ï¼Œä»–ä»¬çš„è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ä½œç”¨ï¼Œå°±æ˜¯åˆ©äºæ¨¡å—æ£€ç´¢ã€‚å½“ä½ ä½¿ç”¨ <code>npm search</code> æ£€ç´¢æ¨¡å—æ—¶ï¼Œä¼šåˆ°<code>description</code> å’Œ <code>keywords</code> ä¸­è¿›è¡ŒåŒ¹é…ã€‚å†™å¥½ <code>description</code> å’Œ <code>keywords</code> æœ‰åˆ©äºä½ çš„æ¨¡å—è·å¾—æ›´å¤šæ›´ç²¾å‡†çš„æ›å…‰ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742515-eed623f5-4e84-4275-9cb1-d649b555ef01.webp#align=left&display=inline&height=340&originHeight=543&originWidth=1050&size=0&status=done&style=none&width=657"><br><a name="okIj4"></a></p>
<h4 id="å¼€å‘äººå‘˜"><a href="#å¼€å‘äººå‘˜" class="headerlink" title="å¼€å‘äººå‘˜"></a>å¼€å‘äººå‘˜</h4><p>æè¿°å¼€å‘äººå‘˜çš„å­—æ®µæœ‰ä¸¤ä¸ªï¼š<code>author</code> å’Œ <code>contributors</code>ï¼Œ <code>author</code> æŒ‡åŒ…çš„ä¸»è¦ä½œè€…ï¼Œä¸€ä¸ª <code>author</code> å¯¹åº”ä¸€ä¸ªäººã€‚<code>contributors</code> æŒ‡è´¡çŒ®è€…ä¿¡æ¯ï¼Œä¸€ä¸ª <code>contributors</code> å¯¹åº”å¤šä¸ªè´¡çŒ®è€…ï¼Œå€¼ä¸ºæ•°ç»„ï¼Œå¯¹äººçš„æè¿°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸‹é¢çš„ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot; : &quot;ConardLi&quot;,</span><br><span class="line">    &quot;email&quot; : &quot;lisqPersion@163.com&quot;,</span><br><span class="line">    &quot;url&quot; : &quot;https://github.com/ConardLi&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="JQLnh"></a></p>
<h4 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;homepage&quot;: &quot;http://ant.design/&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/ant-design/ant-design/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/ant-design/ant-design&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>homepage</code> ç”¨äºæŒ‡å®šè¯¥æ¨¡å—çš„ä¸»é¡µã€‚<br /><code>repository</code> ç”¨äºæŒ‡å®šæ¨¡å—çš„ä»£ç ä»“åº“ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742555-af3c5dfb-e735-4e72-a1b2-c3596091a6d3.webp#align=left&display=inline&height=393&originHeight=352&originWidth=589&size=0&status=done&style=none&width=657"><br /><code>bugs</code> æŒ‡å®šä¸€ä¸ªåœ°å€æˆ–è€…ä¸€ä¸ªé‚®ç®±ï¼Œå¯¹ä½ çš„æ¨¡å—å­˜åœ¨ç–‘é—®çš„äººå¯ä»¥åˆ°è¿™é‡Œæå‡ºé—®é¢˜ã€‚<br><a name="DC7Bz"></a></p>
<h3 id="1-3-ä¾èµ–é…ç½®"><a href="#1-3-ä¾èµ–é…ç½®" class="headerlink" title="1.3 ä¾èµ–é…ç½®"></a>1.3 ä¾èµ–é…ç½®</h3><p>æˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½ä¾èµ–ä¸€ä¸ªæˆ–å¤šä¸ªå¤–éƒ¨ä¾èµ–åŒ…ï¼Œæ ¹æ®ä¾èµ–åŒ…çš„ä¸åŒç”¨é€”ï¼Œæˆ‘ä»¬å°†ä»–ä»¬é…ç½®åœ¨ä¸‹é¢å‡ ä¸ªå±æ€§ä¸‹ï¼š<code>dependenciesã€devDependenciesã€peerDependenciesã€bundledDependenciesã€optionalDependencies</code>ã€‚<br><a name="OI27s"></a></p>
<h4 id="é…ç½®è§„åˆ™"><a href="#é…ç½®è§„åˆ™" class="headerlink" title="é…ç½®è§„åˆ™"></a>é…ç½®è§„åˆ™</h4><p>åœ¨ä»‹ç»å‡ ç§ä¾èµ–é…ç½®ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¾èµ–çš„é…ç½®è§„åˆ™ï¼Œä½ çœ‹åˆ°çš„ä¾èµ–åŒ…é…ç½®å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">      &quot;antd&quot;: &quot;ant-design/ant-design#4.0.0-alpha.8&quot;,</span><br><span class="line">      &quot;axios&quot;: &quot;^1.2.0&quot;,</span><br><span class="line">      &quot;test-js&quot;: &quot;file:../test&quot;,</span><br><span class="line">      &quot;test2-js&quot;: &quot;http://cdn.com/test2-js.tar.gz&quot;,</span><br><span class="line">      &quot;core-js&quot;: &quot;^1.1.5&quot;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>ä¾èµ–é…ç½®éµå¾ªä¸‹é¢å‡ ç§é…ç½®è§„åˆ™ï¼š</p>
<ul>
<li><p><code>ä¾èµ–åŒ…åç§°:VERSION</code><br /></p>
<ul>
<li><code>VERSION</code>æ˜¯ä¸€ä¸ªéµå¾ª<code>SemVer</code>è§„èŒƒçš„ç‰ˆæœ¬å·é…ç½®ï¼Œ<code>npm install</code> æ—¶å°†åˆ°npmæœåŠ¡å™¨ä¸‹è½½ç¬¦åˆæŒ‡å®šç‰ˆæœ¬èŒƒå›´çš„åŒ…ã€‚<br /></li>
</ul>
</li>
<li><p><code>ä¾èµ–åŒ…åç§°:DWONLOAD_URL</code><br /></p>
<ul>
<li><code>DWONLOAD_URL</code> æ˜¯ä¸€ä¸ªå¯ä¸‹è½½çš„<code>tarball</code>å‹ç¼©åŒ…åœ°å€ï¼Œæ¨¡å—å®‰è£…æ—¶ä¼šå°†è¿™ä¸ª<code>.tar</code>ä¸‹è½½å¹¶å®‰è£…åˆ°æœ¬åœ°ã€‚<br /></li>
</ul>
</li>
<li><p><code>ä¾èµ–åŒ…åç§°:LOCAL_PATH</code><br /></p>
<ul>
<li><code>LOCAL_PATH</code> æ˜¯ä¸€ä¸ªæœ¬åœ°çš„ä¾èµ–åŒ…è·¯å¾„ï¼Œä¾‹å¦‚ <code>file:../pacakges/pkgName</code>ã€‚é€‚ç”¨äºä½ åœ¨æœ¬åœ°æµ‹è¯•ä¸€ä¸ª<code>npm</code>åŒ…ï¼Œä¸åº”è¯¥å°†è¿™ç§æ–¹æ³•åº”ç”¨äºçº¿ä¸Šã€‚<br /></li>
</ul>
</li>
<li><p><code>ä¾èµ–åŒ…åç§°:GITHUB_URL</code><br /></p>
<ul>
<li><code>GITHUB_URL</code> å³ <code>github</code> çš„ <code>username/modulename</code> çš„å†™æ³•ï¼Œä¾‹å¦‚ï¼š<code>ant-design/ant-design</code>ï¼Œä½ è¿˜å¯ä»¥åœ¨åé¢æŒ‡å®š <code>tag</code> å’Œ <code>commit id</code>ã€‚<br /></li>
</ul>
</li>
<li><p><code>ä¾èµ–åŒ…åç§°:GIT_URL</code><br /></p>
<ul>
<li><code>GIT_URL</code> å³æˆ‘ä»¬å¹³æ—¶cloneä»£ç åº“çš„ <code>git url</code>ï¼Œå…¶éµå¾ªä»¥ä¸‹å½¢å¼ï¼š<br /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;protocol&gt;://[&lt;user&gt;[:&lt;password&gt;]@]&lt;hostname&gt;[:&lt;port&gt;][:][/]&lt;path&gt;[#&lt;commit-ish&gt; | #semver:&lt;semver&gt;]</span><br></pre></td></tr></table></figure>
å…¶ä¸­ <code>protocal</code> å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§å½¢å¼ï¼š</li>
</ul>
</li>
<li><p><code>git://github.com/user/project.git#commit-ish</code><br /></p>
</li>
<li><p><code>git+ssh://user@hostname:project.git#commit-ish</code><br /></p>
</li>
<li><p><code>git+ssh://user@hostname/project.git#commit-ish</code><br /></p>
</li>
<li><p><code>git+http://user@hostname/project/blah.git#commit-ish</code><br /></p>
</li>
<li><p><code>git+https://user@hostname/project/blah.git#commit-ish</code><br /><br><a name="omNsZ"></a></p>
<h4 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h4><p><code>dependencies</code> æŒ‡å®šäº†é¡¹ç›®è¿è¡Œæ‰€ä¾èµ–çš„æ¨¡å—ï¼Œå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ä¾èµ–æ¨¡å—éƒ½å¯ä»¥é…ç½®åˆ°è¿™é‡Œï¼Œä¾‹å¦‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">      &quot;lodash&quot;: &quot;^4.17.13&quot;,</span><br><span class="line">      &quot;moment&quot;: &quot;^2.24.0&quot;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><a name="35bbm"></a></p>
<h4 id="devDependencies"><a href="#devDependencies" class="headerlink" title="devDependencies"></a>devDependencies</h4><p>æœ‰ä¸€äº›åŒ…æœ‰å¯èƒ½ä½ åªæ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸­ç”¨åˆ°ï¼Œä¾‹å¦‚ä½ ç”¨äºæ£€æµ‹ä»£ç è§„èŒƒçš„ <code>eslint</code> ,ç”¨äºè¿›è¡Œæµ‹è¯•çš„ <code>jest</code> ï¼Œç”¨æˆ·ä½¿ç”¨ä½ çš„åŒ…æ—¶å³ä½¿ä¸å®‰è£…è¿™äº›ä¾èµ–ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œåè€Œå®‰è£…ä»–ä»¬ä¼šè€—è´¹æ›´å¤šçš„æ—¶é—´å’Œèµ„æºï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠè¿™äº›ä¾èµ–æ·»åŠ åˆ° <code>devDependencies</code> ä¸­ï¼Œè¿™äº›ä¾èµ–ç…§æ ·ä¼šåœ¨ä½ æœ¬åœ°è¿›è¡Œ <code>npm install</code> æ—¶è¢«å®‰è£…å’Œç®¡ç†ï¼Œä½†æ˜¯ä¸ä¼šè¢«å®‰è£…åˆ°ç”Ÿäº§ç¯å¢ƒï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;jest&quot;</span>: <span class="string">&quot;^24.3.1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;eslint&quot;</span>: <span class="string">&quot;^6.1.0&quot;</span>,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><a name="Lt80W"></a></p>
<h4 id="peerDependencies"><a href="#peerDependencies" class="headerlink" title="peerDependencies"></a>peerDependencies</h4><p><code>peerDependencies</code> ç”¨äºæŒ‡å®šä½ æ­£åœ¨å¼€å‘çš„æ¨¡å—æ‰€ä¾èµ–çš„ç‰ˆæœ¬ä»¥åŠç”¨æˆ·å®‰è£…çš„ä¾èµ–åŒ…ç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚<br />ä¸Šé¢çš„è¯´æ³•å¯èƒ½æœ‰ç‚¹å¤ªæŠ½è±¡ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿ <code>ant-design</code> æ¥ä¸¾ä¸ªä¾‹å­ï¼Œ<code>ant-design</code> çš„ <code>package.json</code> ä¸­æœ‰å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;peerDependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;&gt;=16.0.0&quot;,</span><br><span class="line">    &quot;react-dom&quot;: &quot;&gt;=16.0.0&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>å½“ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œä½¿ç”¨äº† <code>ant-design</code> ï¼Œæ‰€ä»¥ä¹Ÿè‚¯å®šéœ€è¦ä¾èµ– <code>React</code>ã€‚åŒæ—¶ï¼Œ <code>ant-design</code> ä¹Ÿæ˜¯éœ€è¦ä¾èµ– <code>React</code> çš„ï¼Œå®ƒè¦ä¿æŒç¨³å®šè¿è¡Œæ‰€éœ€è¦çš„ <code>React</code> ç‰ˆæœ¬æ˜¯<code>16.0.0</code>ï¼Œè€Œä½ å¼€å‘æ—¶ä¾èµ–çš„ <code>React</code> ç‰ˆæœ¬æ˜¯ <code>15.x</code>ï¼š<br />è¿™æ—¶ï¼Œ<code>ant-design</code> è¦ä½¿ç”¨ <code>React</code>ï¼Œå¹¶å°†å…¶å¼•å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &#x27;react&#x27;;</span><br><span class="line">import * as ReactDOM from &#x27;react-dom&#x27;;</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å–åˆ°çš„æ˜¯å®¿ä¸»ç¯å¢ƒä¹Ÿå°±æ˜¯ä½ çš„ç¯å¢ƒä¸­çš„ <code>React</code> ç‰ˆæœ¬ï¼Œè¿™å°±å¯èƒ½é€ æˆä¸€äº›é—®é¢˜ã€‚åœ¨ <code>npm2</code> çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸Šé¢çš„ <code>peerDependencies</code> å°†æ„å‘³ç€å¼ºåˆ¶å®¿ä¸»ç¯å¢ƒå®‰è£… <code>react@&gt;=16.0.0å’Œreact-dom@&gt;=16.0.0</code> çš„ç‰ˆæœ¬ã€‚<br /><code>npm3</code> ä»¥åä¸ä¼šå†è¦æ±‚ <code>peerDependencies</code> æ‰€æŒ‡å®šçš„ä¾èµ–åŒ…è¢«å¼ºåˆ¶å®‰è£…ï¼Œç›¸å <code>npm3</code> ä¼šåœ¨å®‰è£…ç»“æŸåæ£€æŸ¥æœ¬æ¬¡å®‰è£…æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœä¸æ­£ç¡®ä¼šç»™ç”¨æˆ·æ‰“å°è­¦å‘Šæç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;15.6.0&quot;,</span><br><span class="line">    &quot;antd&quot;: &quot;^3.22.0&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­ä¾èµ–äº† <code>antd</code> çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åä¾èµ–äº† <code>react</code> çš„ <code>15.6.0</code>ç‰ˆæœ¬ï¼Œåœ¨è¿›è¡Œä¾èµ–å®‰è£…æ—¶å°†ç»™å‡ºä»¥ä¸‹è­¦å‘Šï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742549-41472d90-a911-4837-bb07-bfd1a0e0e557.webp#align=left&display=inline&height=137&originHeight=198&originWidth=952&size=0&status=done&style=none&width=657"><br><a name="zIIvP"></a></p>
<h4 id="optionalDependencies"><a href="#optionalDependencies" class="headerlink" title="optionalDependencies"></a>optionalDependencies</h4><p>æŸäº›åœºæ™¯ä¸‹ï¼Œä¾èµ–åŒ…å¯èƒ½ä¸æ˜¯å¼ºä¾èµ–çš„ï¼Œè¿™ä¸ªä¾èµ–åŒ…çš„åŠŸèƒ½å¯æœ‰å¯æ— ï¼Œå½“è¿™ä¸ªä¾èµ–åŒ…æ— æ³•è¢«è·å–åˆ°æ—¶ï¼Œä½ å¸Œæœ› <code>npm install</code> ç»§ç»­è¿è¡Œï¼Œè€Œä¸ä¼šå¯¼è‡´å¤±è´¥ï¼Œä½ å¯ä»¥å°†è¿™ä¸ªä¾èµ–æ”¾åˆ° <code>optionalDependencies</code> ä¸­ï¼Œæ³¨æ„ <code>optionalDependencies</code> ä¸­çš„é…ç½®å°†ä¼šè¦†ç›–æ‰ <code>dependencies</code> æ‰€ä»¥åªéœ€åœ¨ä¸€ä¸ªåœ°æ–¹è¿›è¡Œé…ç½®ã€‚<br />å½“ç„¶ï¼Œå¼•ç”¨ <code>optionalDependencies</code> ä¸­å®‰è£…çš„ä¾èµ–æ—¶ï¼Œä¸€å®šè¦åšå¥½å¼‚å¸¸å¤„ç†ï¼Œå¦åˆ™åœ¨æ¨¡å—è·å–ä¸åˆ°æ—¶ä¼šå¯¼è‡´æŠ¥é”™ã€‚<br><a name="xfV9I"></a></p>
<h4 id="bundledDependencies"><a href="#bundledDependencies" class="headerlink" title="bundledDependencies"></a>bundledDependencies</h4><p>å’Œä»¥ä¸Šå‡ ä¸ªä¸åŒï¼Œ<code>bundledDependencies</code> çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œå¯ä»¥æŒ‡å®šä¸€äº›æ¨¡å—ï¼Œè¿™äº›æ¨¡å—å°†åœ¨è¿™ä¸ªåŒ…å‘å¸ƒæ—¶è¢«ä¸€èµ·æ‰“åŒ…ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;bundledDependencies&quot;: [&quot;package1&quot; , &quot;package2&quot;]</span><br></pre></td></tr></table></figure>
<p><a name="eewk9"></a></p>
<h3 id="1-4-åè®®"><a href="#1-4-åè®®" class="headerlink" title="1.4 åè®®"></a>1.4 åè®®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;license&quot;: &quot;MIT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>license</code> å­—æ®µç”¨äºæŒ‡å®šè½¯ä»¶çš„å¼€æºåè®®ï¼Œå¼€æºåè®®é‡Œé¢è¯¦å°½è¡¨è¿°äº†å…¶ä»–äººè·å¾—ä½ ä»£ç åæ‹¥æœ‰çš„æƒåˆ©ï¼Œå¯ä»¥å¯¹ä½ çš„çš„ä»£ç è¿›è¡Œä½•ç§æ“ä½œï¼Œä½•ç§æ“ä½œåˆæ˜¯è¢«ç¦æ­¢çš„ã€‚åŒä¸€æ¬¾åè®®æœ‰å¾ˆå¤šå˜ç§ï¼Œåè®®å¤ªå®½æ¾ä¼šå¯¼è‡´ä½œè€…ä¸§å¤±å¯¹ä½œå“çš„å¾ˆå¤šæƒåˆ©ï¼Œå¤ªä¸¥æ ¼åˆä¸ä¾¿äºä½¿ç”¨è€…ä½¿ç”¨åŠä½œå“çš„ä¼ æ’­ï¼Œæ‰€ä»¥å¼€æºä½œè€…è¦è€ƒè™‘è‡ªå·±å¯¹ä½œå“æƒ³ä¿ç•™å“ªäº›æƒåˆ©ï¼Œæ”¾å¼€å“ªäº›é™åˆ¶ã€‚</p>
<blockquote>
<p>è½¯ä»¶åè®®å¯åˆ†ä¸ºå¼€æºå’Œå•†ä¸šä¸¤ç±»ï¼Œå¯¹äºå•†ä¸šåè®®ï¼Œæˆ–è€…å«æ³•å¾‹å£°æ˜ã€è®¸å¯åè®®ï¼Œæ¯ä¸ªè½¯ä»¶ä¼šæœ‰è‡ªå·±çš„ä¸€å¥—è¡Œæ–‡ï¼Œç”±è½¯ä»¶ä½œè€…æˆ–ä¸“é—¨å¾‹å¸ˆæ’°å†™ï¼Œå¯¹äºå¤§å¤šæ•°äººæ¥è¯´ä¸å¿…è‡ªå·±èŠ±æ—¶é—´å’Œç²¾åŠ›å»å†™ç¹é•¿çš„è®¸å¯åè®®ï¼Œé€‰æ‹©ä¸€ä»½å¹¿ä¸ºæµä¼ çš„å¼€æºåè®®å°±æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
</blockquote>
</li>
</ul>
<p>ä»¥ä¸‹å°±æ˜¯å‡ ç§ä¸»æµçš„å¼€æºåè®®ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744887-af159395-e854-4b6f-a69d-e1c55e56676e.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"></p>
<ul>
<li><code>MIT</code>ï¼šåªè¦ç”¨æˆ·åœ¨é¡¹ç›®å‰¯æœ¬ä¸­åŒ…å«äº†ç‰ˆæƒå£°æ˜å’Œè®¸å¯å£°æ˜ï¼Œä»–ä»¬å°±å¯ä»¥æ‹¿ä½ çš„ä»£ç åšä»»ä½•æƒ³åšçš„äº‹æƒ…ï¼Œä½ ä¹Ÿæ— éœ€æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚<br /></li>
<li><code>Apache</code>ï¼šç±»ä¼¼äº <code>MIT</code>ï¼ŒåŒæ—¶è¿˜åŒ…å«äº†è´¡çŒ®è€…å‘ç”¨æˆ·æä¾›ä¸“åˆ©æˆæƒç›¸å…³çš„æ¡æ¬¾ã€‚<br /></li>
<li><code>GPL</code>ï¼šä¿®æ”¹é¡¹ç›®ä»£ç çš„ç”¨æˆ·å†æ¬¡åˆ†å‘æºç æˆ–äºŒè¿›åˆ¶ä»£ç æ—¶ï¼Œå¿…é¡»å…¬å¸ƒä»–çš„ç›¸å…³ä¿®æ”¹ã€‚<br /></li>
</ul>
<p>å¦‚æœä½ å¯¹å¼€æºåè®®æœ‰æ›´è¯¦ç»†çš„è¦æ±‚ï¼Œå¯ä»¥åˆ° <a target="_blank" rel="noopener" href="https://choosealicense.com/">https://choosealicense.com/</a> è·å–æ›´è¯¦ç»†çš„å¼€æºåè®®è¯´æ˜ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744913-5d19d2dd-3013-4055-bd1a-c2ea2f138b75.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br><a name="rPVSL"></a></p>
<h3 id="1-5-ç›®å½•ã€æ–‡ä»¶ç›¸å…³"><a href="#1-5-ç›®å½•ã€æ–‡ä»¶ç›¸å…³" class="headerlink" title="1.5 ç›®å½•ã€æ–‡ä»¶ç›¸å…³"></a>1.5 ç›®å½•ã€æ–‡ä»¶ç›¸å…³</h3><p><a name="fL3Aq"></a></p>
<h4 id="ç¨‹åºå…¥å£"><a href="#ç¨‹åºå…¥å£" class="headerlink" title="ç¨‹åºå…¥å£"></a>ç¨‹åºå…¥å£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;main&quot;: &quot;lib/index.js&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>main</code> å±æ€§å¯ä»¥æŒ‡å®šç¨‹åºçš„ä¸»å…¥å£æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼Œä¸Šé¢ <code>antd</code> æŒ‡å®šçš„æ¨¡å—å…¥å£ <code>lib/index.js</code> ï¼Œå½“æˆ‘ä»¬åœ¨ä»£ç ç”¨å¼•å…¥ <code>antd</code> æ—¶ï¼š<code>import &#123; notification &#125; from &#39;antd&#39;;</code> å®é™…ä¸Šå¼•å…¥çš„å°±æ˜¯ <code>lib/index.js</code> ä¸­æš´éœ²å‡ºå»çš„æ¨¡å—ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744884-7d3b34d1-d584-4a00-a55a-28b697942e42.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br><a name="t6ucZ"></a></p>
<h4 id="å‘½ä»¤è¡Œå·¥å…·å…¥å£"><a href="#å‘½ä»¤è¡Œå·¥å…·å…¥å£" class="headerlink" title="å‘½ä»¤è¡Œå·¥å…·å…¥å£"></a>å‘½ä»¤è¡Œå·¥å…·å…¥å£</h4><p>å½“ä½ çš„æ¨¡å—æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œä½ éœ€è¦ä¸ºå‘½ä»¤è¡Œå·¥å…·æŒ‡å®šä¸€ä¸ªå…¥å£ï¼Œå³æŒ‡å®šä½ çš„å‘½ä»¤åç§°å’Œæœ¬åœ°å¯æŒ‡å®šæ–‡ä»¶çš„å¯¹åº”å…³ç³»ã€‚å¦‚æœæ˜¯å…¨å±€å®‰è£…ï¼Œnpm å°†ä¼šä½¿ç”¨ç¬¦å·é“¾æ¥æŠŠå¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥åˆ° <code>/usr/local/bin</code>ï¼Œå¦‚æœæ˜¯æœ¬åœ°å®‰è£…ï¼Œä¼šé“¾æ¥åˆ° <code>./node_modules/.bin/</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;bin&quot;: &#123;</span><br><span class="line">    &quot;conard&quot;: &quot;./bin/index.js&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ä¸Šé¢çš„é…ç½®ï¼šå½“ä½ çš„åŒ…å®‰è£…åˆ°å…¨å±€æ—¶ï¼š<code>npm</code> ä¼šåœ¨ <code>/usr/local/bin</code>ä¸‹åˆ›å»ºä¸€ä¸ªä»¥ <code>conard</code> ä¸ºåå­—çš„è½¯é“¾æ¥ï¼ŒæŒ‡å‘å…¨å±€å®‰è£…ä¸‹æ¥çš„ <code>conard</code> åŒ…ä¸‹é¢çš„ <code>&quot;./bin/index.js&quot;</code>ã€‚è¿™æ—¶ä½ åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <code>conard</code> åˆ™ä¼šè°ƒç”¨é“¾æ¥åˆ°çš„è¿™ä¸ªjsæ–‡ä»¶ã€‚</p>
<blockquote>
<p>è¿™é‡Œä¸å†è¿‡å¤šå±•å¼€ï¼Œæ›´å¤šå†…å®¹åœ¨æˆ‘åç»­çš„å‘½ä»¤è¡Œå·¥å…·æ–‡ç« ä¸­ä¼šè¿›è¡Œè¯¦ç»†è®²è§£ã€‚</p>
</blockquote>
<p><a name="I2QlZ"></a></p>
<h4 id="å‘å¸ƒæ–‡ä»¶é…ç½®"><a href="#å‘å¸ƒæ–‡ä»¶é…ç½®" class="headerlink" title="å‘å¸ƒæ–‡ä»¶é…ç½®"></a>å‘å¸ƒæ–‡ä»¶é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;files&quot;: [</span><br><span class="line">      &quot;dist&quot;,</span><br><span class="line">      &quot;lib&quot;,</span><br><span class="line">      &quot;es&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>files</code> å±æ€§ç”¨äºæè¿°ä½  <code>npm publish</code> åæ¨é€åˆ° <code>npm</code> æœåŠ¡å™¨çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå¦‚æœæŒ‡å®šæ–‡ä»¶å¤¹ï¼Œåˆ™æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šåŒ…å«è¿›æ¥ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‹è½½åçš„åŒ…æ˜¯ä¸‹é¢çš„ç›®å½•ç»“æ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742584-665d4d39-9442-4d54-b159-0f293fe05b06.webp#align=left&display=inline&height=286&originHeight=194&originWidth=445&size=0&status=done&style=none&width=657"></p>
<blockquote>
<p>å¦å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡é…ç½®ä¸€ä¸ª <code>.npmignore</code> æ–‡ä»¶æ¥æ’é™¤ä¸€äº›æ–‡ä»¶, é˜²æ­¢å¤§é‡çš„åƒåœ¾æ–‡ä»¶æ¨é€åˆ° <code>npm</code>, è§„åˆ™ä¸Šå’Œä½ ç”¨çš„ <code>.gitignore</code> æ˜¯ä¸€æ ·çš„ã€‚<code>.gitignore</code> æ–‡ä»¶ä¹Ÿå¯ä»¥å……å½“<code>.npmignore</code> æ–‡ä»¶ã€‚</p>
</blockquote>
<p><a name="SGBOU"></a></p>
<h4 id="man"><a href="#man" class="headerlink" title="man"></a>man</h4><p><code>man</code> å‘½ä»¤æ˜¯ <code>Linux</code> ä¸‹çš„å¸®åŠ©æŒ‡ä»¤ï¼Œé€šè¿‡ <code>man</code> æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ <code>Linux</code> ä¸­çš„æŒ‡ä»¤å¸®åŠ©ã€é…ç½®æ–‡ä»¶å¸®åŠ©å’Œç¼–ç¨‹å¸®åŠ©ç­‰ä¿¡æ¯ã€‚<br />å¦‚æœä½ çš„ <code>node.js</code> æ¨¡å—æ˜¯ä¸€ä¸ªå…¨å±€çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œåœ¨ <code>package.json</code> é€šè¿‡ <code>man</code> Â å±æ€§å¯ä»¥æŒ‡å®š <code>man</code> å‘½ä»¤æŸ¥æ‰¾çš„æ–‡æ¡£åœ°å€ã€‚<br /><code>man</code> æ–‡ä»¶å¿…é¡»ä»¥æ•°å­—ç»“å°¾ï¼Œæˆ–è€…å¦‚æœè¢«å‹ç¼©äº†ï¼Œä»¥ <code>.gz</code> ç»“å°¾ã€‚æ•°å­—è¡¨ç¤ºæ–‡ä»¶å°†è¢«å®‰è£…åˆ° <code>man</code> çš„å“ªä¸ªéƒ¨åˆ†ã€‚å¦‚æœ <code>man</code> æ–‡ä»¶åç§°ä¸æ˜¯ä»¥æ¨¡å—åç§°å¼€å¤´çš„ï¼Œå®‰è£…çš„æ—¶å€™ä¼šç»™åŠ ä¸Šæ¨¡å—åç§°å‰ç¼€ã€‚<br />ä¾‹å¦‚ä¸‹é¢è¿™æ®µé…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;man&quot; : [</span><br><span class="line">    &quot;/Users/isaacs/dev/npm/cli/man/man1/npm-access.1&quot;,</span><br><span class="line">    &quot;/Users/isaacs/dev/npm/cli/man/man1/npm-audit.1&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>man npm-audit</code> ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744888-795c8dc5-81d6-4554-8564-c1cb6194887a.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br><a name="KGQVG"></a></p>
<h4 id="è§„èŒƒé¡¹ç›®ç›®å½•"><a href="#è§„èŒƒé¡¹ç›®ç›®å½•" class="headerlink" title="è§„èŒƒé¡¹ç›®ç›®å½•"></a>è§„èŒƒé¡¹ç›®ç›®å½•</h4><p>ä¸€ä¸ª <code>node.js</code> æ¨¡å—æ˜¯åŸºäº <code>CommonJS</code> æ¨¡å—åŒ–è§„èŒƒå®ç°çš„ï¼Œä¸¥æ ¼æŒ‰ç…§ <code>CommonJS</code> è§„èŒƒï¼Œæ¨¡å—ç›®å½•ä¸‹é™¤äº†å¿…é¡»åŒ…å«åŒ…æè¿°æ–‡ä»¶ <code>package.json</code> ä»¥å¤–ï¼Œè¿˜éœ€è¦åŒ…å«ä»¥ä¸‹ç›®å½•ï¼š</p>
<ul>
<li><code>bin</code>ï¼šå­˜æ”¾å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•<br /></li>
<li><code>lib</code>ï¼šå­˜æ”¾jsä»£ç çš„ç›®å½•<br /></li>
<li><code>doc</code>ï¼šå­˜æ”¾æ–‡æ¡£çš„ç›®å½•<br /></li>
<li><code>test</code>ï¼šå­˜æ”¾å•å…ƒæµ‹è¯•ç”¨ä¾‹ä»£ç çš„ç›®å½•<br /></li>
<li>â€¦<br /></li>
</ul>
<p>åœ¨æ¨¡å—ç›®å½•ä¸­ä½ å¯èƒ½æ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸Šç»“æ„ç»„ç»‡æˆ–å‘½åï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ <code>package.json</code> æŒ‡å®š <code>directories</code> å±æ€§æ¥æŒ‡å®šä½ çš„ç›®å½•ç»“æ„å’Œä¸Šè¿°çš„è§„èŒƒç»“æ„çš„å¯¹åº”æƒ…å†µã€‚é™¤æ­¤ä¹‹å¤– <code>directories</code> å±æ€§æš‚æ—¶æ²¡æœ‰å…¶ä»–åº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;directories&quot;: &#123;</span><br><span class="line">    &quot;lib&quot;: &quot;src/lib/&quot;,</span><br><span class="line">    &quot;bin&quot;: &quot;src/bin/&quot;,</span><br><span class="line">    &quot;man&quot;: &quot;src/man/&quot;,</span><br><span class="line">    &quot;doc&quot;: &quot;src/doc/&quot;,</span><br><span class="line">    &quot;example&quot;: &quot;src/example/&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸è¿‡å®˜æ–¹æ–‡æ¡£è¡¨ç¤ºï¼Œè™½ç„¶ç›®å‰è¿™ä¸ªå±æ€§æ²¡æœ‰ä»€ä¹ˆé‡è¦ä½œç”¨ï¼Œæœªæ¥å¯èƒ½ä¼šæ•´å‡ºä¸€äº›èŠ±æ ·å‡ºæ¥ï¼Œä¾‹å¦‚ï¼šdoc ä¸­å­˜æ”¾çš„ markdown æ–‡ä»¶ã€example ä¸­å­˜æ”¾çš„ç¤ºä¾‹æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå‹å¥½çš„å±•ç¤ºå‡ºæ¥ã€‚</p>
</blockquote>
<p><a name="wDIPj"></a></p>
<h3 id="1-6-è„šæœ¬é…ç½®"><a href="#1-6-è„šæœ¬é…ç½®" class="headerlink" title="1.6 è„šæœ¬é…ç½®"></a>1.6 è„šæœ¬é…ç½®</h3><p><a name="1PvqI"></a></p>
<h4 id="script"><a href="#script" class="headerlink" title="script"></a>script</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;jest --config .jest.js --no-cache&quot;,</span><br><span class="line">    &quot;dist&quot;: &quot;antd-tools run dist&quot;,</span><br><span class="line">    &quot;compile&quot;: &quot;antd-tools run compile&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;npm run compile &amp;&amp; npm run dist&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>scripts</code> ç”¨äºé…ç½®ä¸€äº›è„šæœ¬å‘½ä»¤çš„ç¼©å†™ï¼Œå„ä¸ªè„šæœ¬å¯ä»¥äº’ç›¸ç»„åˆä½¿ç”¨ï¼Œè¿™äº›è„šæœ¬å¯ä»¥è¦†ç›–æ•´ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸï¼Œé…ç½®åå¯ä½¿ç”¨ <code>npm run command</code> è¿›è¡Œè°ƒç”¨ã€‚å¦‚æœæ˜¯ <code>npm</code> å…³é”®å­—ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„é…ç½®åˆ¶å®šäº†ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤ï¼š<code>npm run test</code>ã€<code>npm run dist</code>ã€<code>npm run compile</code>ã€<code>npm run build</code>ã€‚<br><a name="15ULi"></a></p>
<h4 id="config"><a href="#config" class="headerlink" title="config"></a>config</h4><p><code>config</code> å­—æ®µç”¨äºé…ç½®è„šæœ¬ä¸­ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ä¸‹é¢çš„é…ç½®ï¼Œå¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨<code>process.env.npm_package_config_port</code>è¿›è¡Œè·å–ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;config&quot; : &#123; &quot;port&quot; : &quot;8080&quot; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="SAvzR"></a></p>
<h3 id="1-7-å‘å¸ƒé…ç½®"><a href="#1-7-å‘å¸ƒé…ç½®" class="headerlink" title="1.7 å‘å¸ƒé…ç½®"></a>1.7 å‘å¸ƒé…ç½®</h3><p><a name="klM6K"></a></p>
<h4 id="preferGlobal"><a href="#preferGlobal" class="headerlink" title="preferGlobal"></a>preferGlobal</h4><p>å¦‚æœä½ çš„ <code>node.js</code> æ¨¡å—ä¸»è¦ç”¨äºå®‰è£…åˆ°å…¨å±€çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé‚£ä¹ˆè¯¥å€¼è®¾ç½®ä¸º <code>true</code> ï¼Œå½“ç”¨æˆ·å°†è¯¥æ¨¡å—å®‰è£…åˆ°æœ¬åœ°æ—¶ï¼Œå°†å¾—åˆ°ä¸€ä¸ªè­¦å‘Šã€‚è¿™ä¸ªé…ç½®å¹¶ä¸ä¼šé˜»æ­¢ç”¨æˆ·å®‰è£…ï¼Œè€Œæ˜¯ä¼šæç¤ºç”¨æˆ·é˜²æ­¢é”™è¯¯ä½¿ç”¨è€Œå¼•å‘ä¸€äº›é—®é¢˜ã€‚<br><a name="ySDNA"></a></p>
<h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><p>å¦‚æœå°† <code>private</code> å±æ€§è®¾ç½®ä¸º <code>true</code>ï¼Œnpmå°†æ‹’ç»å‘å¸ƒå®ƒï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢ä¸€ä¸ªç§æœ‰æ¨¡å—è¢«æ— æ„é—´å‘å¸ƒå‡ºå»ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742604-b5307eef-88c2-4e0a-8ebe-d4a7e56a8d52.webp#align=left&display=inline&height=192&originHeight=316&originWidth=1080&size=0&status=done&style=none&width=657"><br><a name="35xA2"></a></p>
<h4 id="publishConfig"><a href="#publishConfig" class="headerlink" title="publishConfig"></a>publishConfig</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;registry&quot;: &quot;https://registry.npmjs.org/&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>å‘å¸ƒæ¨¡å—æ—¶æ›´è¯¦ç»†çš„é…ç½®ï¼Œä¾‹å¦‚ä½ å¯ä»¥é…ç½®åªå‘å¸ƒæŸä¸ª <code>tag</code>ã€é…ç½®å‘å¸ƒåˆ°çš„ç§æœ‰ <code>npm</code> æºã€‚æ›´è¯¦ç»†çš„é…ç½®å¯ä»¥å‚è€ƒ npm-config<br><a name="wMF7p"></a></p>
<h4 id="os"><a href="#os" class="headerlink" title="os"></a>os</h4><p>å‡å¦‚ä½ å¼€å‘äº†ä¸€ä¸ªæ¨¡å—ï¼Œåªèƒ½è·‘åœ¨ <code>darwin</code> ç³»ç»Ÿä¸‹ï¼Œä½ éœ€è¦ä¿è¯ <code>windows</code> ç”¨æˆ·ä¸ä¼šå®‰è£…åˆ°ä½ çš„æ¨¡å—ï¼Œä»è€Œé¿å…å‘ç”Ÿä¸å¿…è¦çš„é”™è¯¯ã€‚<br />ä½¿ç”¨ <code>os</code> å±æ€§å¯ä»¥å¸®åŠ©ä½ å®Œæˆä»¥ä¸Šçš„éœ€æ±‚ï¼Œä½ å¯ä»¥æŒ‡å®šä½ çš„æ¨¡å—åªèƒ½è¢«å®‰è£…åœ¨æŸäº›ç³»ç»Ÿä¸‹ï¼Œæˆ–è€…æŒ‡å®šä¸€ä¸ªä¸èƒ½å®‰è£…çš„ç³»ç»Ÿé»‘åå•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;os&quot; : [ &quot;darwin&quot;, &quot;linux&quot; ]</span><br><span class="line">&quot;os&quot; : [ &quot;!win32&quot; ]</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼Œæˆ‘æŠŠä¸€ä¸ªæµ‹è¯•æ¨¡å—æŒ‡å®šä¸€ä¸ªç³»ç»Ÿé»‘åå•ï¼š<code>&quot;os&quot; : [ &quot;!darwin&quot; ]</code>ï¼Œå½“æˆ‘åœ¨æ­¤ç³»ç»Ÿä¸‹å®‰è£…å®ƒæ—¶ä¼šçˆ†å‡ºå¦‚ä¸‹é”™è¯¯ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742595-16429df0-4511-405a-b45f-4bbb13213682.webp#align=left&display=inline&height=93&originHeight=137&originWidth=969&size=0&status=done&style=none&width=657"></p>
<blockquote>
<p>åœ¨nodeç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨ process.platform æ¥åˆ¤æ–­æ“ä½œç³»ç»Ÿã€‚</p>
</blockquote>
<p><a name="OZDeW"></a></p>
<h4 id="cpu"><a href="#cpu" class="headerlink" title="cpu"></a>cpu</h4><p>å’Œä¸Šé¢çš„ <code>os</code> ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>cpu</code> å±æ€§æ›´ç²¾å‡†çš„é™åˆ¶ç”¨æˆ·å®‰è£…ç¯å¢ƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;cpu&quot; : [ &quot;x64&quot;, &quot;ia32&quot; ]</span><br><span class="line">&quot;cpu&quot; : [ &quot;!arm&quot;, &quot;!mips&quot; ]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨nodeç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨ process.arch æ¥åˆ¤æ–­ cpu æ¶æ„ã€‚</p>
</blockquote>
<p><a name="tUUc9"></a></p>
<h2 id="äºŒã€å‰–æåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶"><a href="#äºŒã€å‰–æåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶" class="headerlink" title="äºŒã€å‰–æåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶"></a>äºŒã€å‰–æåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶</h2><p><code>Nodejs</code>æˆåŠŸç¦»ä¸å¼€ <code>npm</code> ä¼˜ç§€çš„ä¾èµ–ç®¡ç†ç³»ç»Ÿã€‚åœ¨ä»‹ç»æ•´ä¸ªä¾èµ–ç³»ç»Ÿä¹‹å‰ï¼Œå¿…é¡»è¦äº†è§£ <code>npm</code>å¦‚ä½•ç®¡ç†ä¾èµ–åŒ…çš„ç‰ˆæœ¬ï¼Œæœ¬ç« å°†ä»‹ç» <code>npmåŒ…</code> çš„ç‰ˆæœ¬å‘å¸ƒè§„èŒƒã€å¦‚ä½•ç®¡ç†å„ç§ä¾èµ–åŒ…çš„ç‰ˆæœ¬ä»¥åŠä¸€äº›å…³äºåŒ…ç‰ˆæœ¬çš„æœ€ä½³å®è·µã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744871-16e3ccd1-8ddc-4bde-8806-a3bb435fbcae.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br><a name="Q2qPF"></a></p>
<h3 id="2-1-æŸ¥çœ‹npmåŒ…ç‰ˆæœ¬"><a href="#2-1-æŸ¥çœ‹npmåŒ…ç‰ˆæœ¬" class="headerlink" title="2.1 æŸ¥çœ‹npmåŒ…ç‰ˆæœ¬"></a>2.1 æŸ¥çœ‹npmåŒ…ç‰ˆæœ¬</h3><p>ä½ å¯ä»¥æ‰§è¡Œ <code>npm view package version</code> æŸ¥çœ‹æŸä¸ª <code>package</code> çš„æœ€æ–°ç‰ˆæœ¬ã€‚<br />æ‰§è¡Œ <code>npm view conard versions</code> æŸ¥çœ‹æŸä¸ª <code>package</code> åœ¨npmæœåŠ¡å™¨ä¸Šæ‰€æœ‰å‘å¸ƒè¿‡çš„ç‰ˆæœ¬ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744870-c55fb6d5-75ef-43f7-90ec-97be8b156fbe.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />æ‰§è¡Œ <code>npm ls</code> å¯æŸ¥çœ‹å½“å‰ä»“åº“ä¾èµ–æ ‘ä¸Šæ‰€æœ‰åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744885-97b11132-fb70-434b-a76d-2edf9f091efa.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br><a name="jkbDb"></a></p>
<h3 id="2-2-SemVerè§„èŒƒ"><a href="#2-2-SemVerè§„èŒƒ" class="headerlink" title="2.2 SemVerè§„èŒƒ"></a>2.2 SemVerè§„èŒƒ</h3><p><code>npmåŒ…</code> ä¸­çš„æ¨¡å—ç‰ˆæœ¬éƒ½éœ€è¦éµå¾ª <code>SemVer</code>è§„èŒƒâ€”â€”ç”± <code>Github</code> èµ·è‰çš„ä¸€ä¸ªå…·æœ‰æŒ‡å¯¼æ„ä¹‰çš„ï¼Œç»Ÿä¸€çš„ç‰ˆæœ¬å·è¡¨ç¤ºè§„åˆ™ã€‚å®é™…ä¸Šå°±æ˜¯ <code>Semantic Version</code>ï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰çš„ç¼©å†™ã€‚</p>
<blockquote>
<p>SemVerè§„èŒƒå®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://semver.org/">https://semver.org/</a></p>
</blockquote>
<p><a name="rccoi"></a></p>
<h4 id="æ ‡å‡†ç‰ˆæœ¬"><a href="#æ ‡å‡†ç‰ˆæœ¬" class="headerlink" title="æ ‡å‡†ç‰ˆæœ¬"></a>æ ‡å‡†ç‰ˆæœ¬</h4><p><code>SemVer</code>è§„èŒƒçš„æ ‡å‡†ç‰ˆæœ¬å·é‡‡ç”¨ <code>X.Y.Z</code> çš„æ ¼å¼ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ä¸ºéè´Ÿçš„æ•´æ•°ï¼Œä¸”ç¦æ­¢åœ¨æ•°å­—å‰æ–¹è¡¥é›¶ã€‚X æ˜¯ä¸»ç‰ˆæœ¬å·ã€Y æ˜¯æ¬¡ç‰ˆæœ¬å·ã€è€Œ Z ä¸ºä¿®è®¢å·ã€‚æ¯ä¸ªå…ƒç´ å¿…é¡»ä»¥æ•°å€¼æ¥é€’å¢ã€‚</p>
<ul>
<li>ä¸»ç‰ˆæœ¬å·(<code>major</code>)ï¼šå½“ä½ åšäº†ä¸å…¼å®¹çš„API ä¿®æ”¹<br /></li>
<li>æ¬¡ç‰ˆæœ¬å·(<code>minor</code>)ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢<br /></li>
<li>ä¿®è®¢å·(<code>patch</code>)ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ã€‚<br /></li>
</ul>
<p>ä¾‹å¦‚ï¼š<code>1.9.1 -&gt; 1.10.0 -&gt; 1.11.0</code><br><a name="CVmPY"></a></p>
<h4 id="å…ˆè¡Œç‰ˆæœ¬"><a href="#å…ˆè¡Œç‰ˆæœ¬" class="headerlink" title="å…ˆè¡Œç‰ˆæœ¬"></a>å…ˆè¡Œç‰ˆæœ¬</h4><p>å½“æŸä¸ªç‰ˆæœ¬æ”¹åŠ¨æ¯”è¾ƒå¤§ã€å¹¶éç¨³å®šè€Œä¸”å¯èƒ½æ— æ³•æ»¡è¶³é¢„æœŸçš„å…¼å®¹æ€§éœ€æ±‚æ—¶ï¼Œä½ å¯èƒ½è¦å…ˆå‘å¸ƒä¸€ä¸ªå…ˆè¡Œç‰ˆæœ¬ã€‚<br />å…ˆè¡Œç‰ˆæœ¬å·å¯ä»¥åŠ åˆ°â€œä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·â€çš„åé¢ï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªè¿æ¥å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦å’Œç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯ã€‚</p>
<ul>
<li><p>å†…éƒ¨ç‰ˆæœ¬(<code>alpha</code>):<br /></p>
</li>
<li><p>å…¬æµ‹ç‰ˆæœ¬(<code>beta</code>):<br /></p>
</li>
<li><p>æ­£å¼ç‰ˆæœ¬çš„å€™é€‰ç‰ˆæœ¬<code>rc</code>: å³ <code>Release candiate</code><br /><br><a name="HzbHD"></a></p>
<h4 id="Reactçš„ç‰ˆæœ¬"><a href="#Reactçš„ç‰ˆæœ¬" class="headerlink" title="Reactçš„ç‰ˆæœ¬"></a>Reactçš„ç‰ˆæœ¬</h4><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ <code>React</code> çš„å†å²ç‰ˆæœ¬ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535742655-3a9c5277-5812-44d6-991f-328df4ed42c3.gif#align=left&display=inline&height=505&originHeight=447&originWidth=581&size=0&status=done&style=none&width=657"><br />å¯è§æ˜¯ä¸¥æ ¼æŒ‰ç…§ <code>SemVer</code> è§„èŒƒæ¥å‘ç‰ˆçš„ï¼š</p>
</li>
<li><p>ç‰ˆæœ¬å·ä¸¥æ ¼æŒ‰ç…§ <code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·</code> æ ¼å¼å‘½å<br /></p>
</li>
<li><p>ç‰ˆæœ¬æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œï¼š<code>16.8.0 -&gt; 16.8.1 -&gt; 16.8.2</code><br /></p>
</li>
<li><p>å‘å¸ƒé‡å¤§ç‰ˆæœ¬æˆ–ç‰ˆæœ¬æ”¹åŠ¨è¾ƒå¤§æ—¶ï¼Œå…ˆå‘å¸ƒ<code>alpha</code>ã€<code>beta</code>ã€<code>rc</code>ç­‰å…ˆè¡Œç‰ˆæœ¬<br /><br><a name="eilks"></a></p>
<h4 id="å‘å¸ƒç‰ˆæœ¬"><a href="#å‘å¸ƒç‰ˆæœ¬" class="headerlink" title="å‘å¸ƒç‰ˆæœ¬"></a>å‘å¸ƒç‰ˆæœ¬</h4><p>åœ¨ä¿®æ”¹ <code>npm</code> åŒ…æŸäº›åŠŸèƒ½åé€šå¸¸éœ€è¦å‘å¸ƒä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯ç›´æ¥å»ä¿®æ”¹ <code>package.json</code> åˆ°æŒ‡å®šç‰ˆæœ¬ã€‚å¦‚æœæ“ä½œå¤±è¯¯ï¼Œå¾ˆå®¹æ˜“é€ æˆç‰ˆæœ¬å·æ··ä¹±ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç¬¦åˆ <code>Semver</code> è§„èŒƒçš„å‘½ä»¤æ¥å®Œæˆè¿™ä¸€æ“ä½œï¼š</p>
</li>
<li><p><code>npm version patch</code> : å‡çº§ä¿®è®¢ç‰ˆæœ¬å·<br /></p>
</li>
<li><p><code>npm version minor</code> : å‡çº§æ¬¡ç‰ˆæœ¬å·<br /></p>
</li>
<li><p><code>npm version major</code> : å‡çº§ä¸»ç‰ˆæœ¬å·<br /><br><a name="dHV7c"></a></p>
<h3 id="2-3-ç‰ˆæœ¬å·¥å…·ä½¿ç”¨"><a href="#2-3-ç‰ˆæœ¬å·¥å…·ä½¿ç”¨" class="headerlink" title="2.3 ç‰ˆæœ¬å·¥å…·ä½¿ç”¨"></a>2.3 ç‰ˆæœ¬å·¥å…·ä½¿ç”¨</h3><p>åœ¨å¼€å‘ä¸­è‚¯å®šå°‘ä¸äº†å¯¹ä¸€äº›ç‰ˆæœ¬å·çš„æ“ä½œï¼Œå¦‚æœè¿™äº›ç‰ˆæœ¬å·ç¬¦åˆ <code>SemVer</code>è§„èŒƒ ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç”¨äºæ“ä½œç‰ˆæœ¬çš„npmåŒ…<code>semver</code>æ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ¯”è¾ƒç‰ˆæœ¬å¤§å°ã€æå–ç‰ˆæœ¬ä¿¡æ¯ç­‰æ“ä½œã€‚</p>
<blockquote>
<p>Npm ä¹Ÿä½¿ç”¨äº†è¯¥å·¥å…·æ¥å¤„ç†ç‰ˆæœ¬ç›¸å…³çš„å·¥ä½œã€‚</p>
</blockquote>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install semver</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ¯”è¾ƒç‰ˆæœ¬å·å¤§å°<br /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">semver.gt(&#x27;1.2.3&#x27;, &#x27;9.8.7&#x27;) // false</span><br><span class="line">semver.lt(&#x27;1.2.3&#x27;, &#x27;9.8.7&#x27;) // true</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ¤æ–­ç‰ˆæœ¬å·æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œè¿”å›è§£æåç¬¦åˆè§„èŒƒçš„ç‰ˆæœ¬å·ã€‚<br /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">semver.valid(&#x27;1.2.3&#x27;) // &#x27;1.2.3&#x27;</span><br><span class="line">semver.valid(&#x27;a.b.c&#x27;) // null</span><br></pre></td></tr></table></figure></li>
<li><p>å°†å…¶ä»–ç‰ˆæœ¬å·å¼ºåˆ¶è½¬æ¢æˆsemverç‰ˆæœ¬å·<br /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">semver.valid(semver.coerce(&#x27;v2&#x27;)) // &#x27;2.0.0&#x27;</span><br><span class="line">semver.valid(semver.coerce(&#x27;42.6.7.9.3-alpha&#x27;)) // &#x27;42.6.7&#x27;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸€äº›å…¶ä»–ç”¨æ³•<br /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">semver.clean(&#x27;  =v1.2.3   &#x27;) // &#x27;1.2.3&#x27;</span><br><span class="line">semver.satisfies(&#x27;1.2.3&#x27;, &#x27;1.x || &gt;=2.5.0 || 5.0.0 - 7.2.3&#x27;) // true</span><br><span class="line">semver.minVersion(&#x27;&gt;=1.0.0&#x27;) // &#x27;1.0.0&#x27;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šéƒ½æ˜¯semveræœ€å¸¸è§çš„ç”¨æ³•ï¼Œæ›´å¤šè¯¦ç»†å†…å®¹å¯ä»¥æŸ¥çœ‹ semveræ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://github.com/npm/node-semver">https://github.com/npm/node-semver</a><br><a name="iIJ2I"></a></p>
<h3 id="2-4-ä¾èµ–ç‰ˆæœ¬ç®¡ç†"><a href="#2-4-ä¾èµ–ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="2.4 ä¾èµ–ç‰ˆæœ¬ç®¡ç†"></a>2.4 ä¾èµ–ç‰ˆæœ¬ç®¡ç†</h3><p>æˆ‘ä»¬ç»å¸¸çœ‹åˆ°ï¼Œåœ¨ <code>package.json</code> ä¸­å„ç§ä¾èµ–çš„ä¸åŒå†™æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;signale&quot;: &quot;1.4.0&quot;,</span><br><span class="line">    &quot;figlet&quot;: &quot;*&quot;,</span><br><span class="line">    &quot;react&quot;: &quot;16.x&quot;,</span><br><span class="line">    &quot;table&quot;: &quot;~5.4.6&quot;,</span><br><span class="line">    &quot;yargs&quot;: &quot;^14.0.0&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>å‰é¢ä¸‰ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼š</p>
</li>
<li><p><code>&quot;signale&quot;: &quot;1.4.0&quot;</code>: å›ºå®šç‰ˆæœ¬å·<br /></p>
</li>
<li><p><code>&quot;figlet&quot;: &quot;*&quot;</code>: ä»»æ„ç‰ˆæœ¬ï¼ˆ<code>&gt;=0.0.0</code>ï¼‰<br /></p>
</li>
<li><p><code>&quot;react&quot;: &quot;16.x&quot;</code>: åŒ¹é…ä¸»è¦ç‰ˆæœ¬ï¼ˆ<code>&gt;=16.0.0 &lt;17.0.0</code>ï¼‰<br /></p>
</li>
<li><p><code>&quot;react&quot;: &quot;16.3.x&quot;</code>: åŒ¹é…ä¸»è¦ç‰ˆæœ¬å’Œæ¬¡è¦ç‰ˆæœ¬ï¼ˆ<code>&gt;=16.3.0 &lt;16.4.0</code>ï¼‰<br /></p>
</li>
</ul>
<p>å†æ¥çœ‹çœ‹åé¢ä¸¤ä¸ªï¼Œç‰ˆæœ¬å·ä¸­å¼•ç”¨äº† <code>~</code> å’Œ <code>^</code> ç¬¦å·ï¼š</p>
<ul>
<li><code>~</code>: å½“å®‰è£…ä¾èµ–æ—¶è·å–åˆ°æœ‰æ–°ç‰ˆæœ¬æ—¶ï¼Œå®‰è£…åˆ° <code>x.y.z</code> ä¸­ <code>z</code> çš„æœ€æ–°çš„ç‰ˆæœ¬ã€‚å³ä¿æŒä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·ä¸å˜çš„æƒ…å†µä¸‹ï¼Œä¿æŒä¿®è®¢å·çš„æœ€æ–°ç‰ˆæœ¬ã€‚<br /></li>
<li><code>^</code>: å½“å®‰è£…ä¾èµ–æ—¶è·å–åˆ°æœ‰æ–°ç‰ˆæœ¬æ—¶ï¼Œå®‰è£…åˆ° <code>x.y.z</code> ä¸­ <code>y</code> å’Œ <code>z</code> éƒ½ä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚å³ä¿æŒä¸»ç‰ˆæœ¬å·ä¸å˜çš„æƒ…å†µä¸‹ï¼Œä¿æŒæ¬¡ç‰ˆæœ¬å·ã€ä¿®è®¢ç‰ˆæœ¬å·ä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚<br /></li>
</ul>
<p>åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æœ€å¸¸è§çš„åº”è¯¥æ˜¯ <code>&quot;yargs&quot;: &quot;^14.0.0&quot;</code> è¿™ç§æ ¼å¼çš„ ä¾èµ–, å› ä¸ºæˆ‘ä»¬åœ¨ä½¿ç”¨ <code>npm install package</code> å®‰è£…åŒ…æ—¶ï¼Œ<code>npm</code> é»˜è®¤å®‰è£…å½“å‰æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶ååœ¨æ‰€å®‰è£…çš„ç‰ˆæœ¬å·å‰åŠ  <code>^</code> å·ã€‚<br />æ³¨æ„ï¼Œå½“ä¸»ç‰ˆæœ¬å·ä¸º <code>0</code> çš„æƒ…å†µï¼Œä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸ç¨³å®šç‰ˆæœ¬ï¼Œæƒ…å†µä¸ä¸Šé¢ä¸åŒï¼š</p>
<ul>
<li>ä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å·éƒ½ä¸º <code>0</code>: <code>^0.0.z</code>ã€<code>~0.0.z</code> éƒ½è¢«å½“ä½œå›ºå®šç‰ˆæœ¬ï¼Œå®‰è£…ä¾èµ–æ—¶å‡ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚<br /></li>
<li>ä¸»ç‰ˆæœ¬å·ä¸º <code>0</code>: <code>^0.y.z</code> è¡¨ç°å’Œ <code>~0.y.z</code> ç›¸åŒï¼Œåªä¿æŒä¿®è®¢å·ä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚<br /><blockquote>
<p>1.0.0 çš„ç‰ˆæœ¬å·ç”¨äºç•Œå®šå…¬å…± APIã€‚å½“ä½ çš„è½¯ä»¶å‘å¸ƒåˆ°äº†æ­£å¼ç¯å¢ƒï¼Œæˆ–è€…æœ‰ç¨³å®šçš„APIæ—¶ï¼Œå°±å¯ä»¥å‘å¸ƒ1.0.0ç‰ˆæœ¬äº†ã€‚æ‰€ä»¥ï¼Œå½“ä½ å†³å®šå¯¹å¤–éƒ¨å‘å¸ƒä¸€ä¸ªæ­£å¼ç‰ˆæœ¬çš„npmåŒ…æ—¶ï¼ŒæŠŠå®ƒçš„ç‰ˆæœ¬æ ‡ä¸º1.0.0ã€‚</p>
</blockquote>
</li>
</ul>
<p><a name="IX3Jx"></a></p>
<h3 id="2-5-é”å®šä¾èµ–ç‰ˆæœ¬"><a href="#2-5-é”å®šä¾èµ–ç‰ˆæœ¬" class="headerlink" title="2.5 é”å®šä¾èµ–ç‰ˆæœ¬"></a>2.5 é”å®šä¾èµ–ç‰ˆæœ¬</h3><p><a name="EUfVd"></a></p>
<h4 id="lockæ–‡ä»¶"><a href="#lockæ–‡ä»¶" class="headerlink" title="lockæ–‡ä»¶"></a>lockæ–‡ä»¶</h4><p>å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šå› ä¸ºå„ç§ä¾èµ–ä¸ä¸€è‡´è€Œäº§ç”Ÿå¥‡æ€ªçš„é—®é¢˜ï¼Œæˆ–è€…åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä¾èµ–è¢«æ›´æ–°ï¼Œå»ºè®®åœ¨å¼€å‘ä¸­ä½¿ç”¨ <code>package-lock.json</code>ã€‚<br />é”å®šä¾èµ–ç‰ˆæœ¬æ„å‘³ç€åœ¨æˆ‘ä»¬ä¸æ‰‹åŠ¨æ‰§è¡Œæ›´æ–°çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡å®‰è£…ä¾èµ–éƒ½ä¼šå®‰è£…å›ºå®šç‰ˆæœ¬ã€‚ä¿è¯æ•´ä¸ªå›¢é˜Ÿä½¿ç”¨ç‰ˆæœ¬å·ä¸€è‡´çš„ä¾èµ–ã€‚<br />æ¯æ¬¡å®‰è£…å›ºå®šç‰ˆæœ¬ï¼Œæ— éœ€è®¡ç®—ä¾èµ–ç‰ˆæœ¬èŒƒå›´ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹èƒ½å¤§å¤§åŠ é€Ÿä¾èµ–å®‰è£…æ—¶é—´ã€‚</p>
<blockquote>
<p>ä½¿ç”¨ package-lock.json è¦ç¡®ä¿npmçš„ç‰ˆæœ¬åœ¨5.6ä»¥ä¸Šï¼Œå› ä¸ºåœ¨5.0 - 5.6ä¸­é—´ï¼Œå¯¹ package-lock.jsonçš„å¤„ç†é€»è¾‘è¿›è¡Œè¿‡å‡ æ¬¡æ›´æ–°ï¼Œ5.6ç‰ˆæœ¬åå¤„ç†é€»è¾‘é€æ¸ç¨³å®šã€‚</p>
</blockquote>
<p>å…³äº <code>package-lock.json</code> è¯¦ç»†çš„ç»“æ„ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢çš„ç« èŠ‚è¿›è¡Œè§£æã€‚<br><a name="LSr72"></a></p>
<h4 id="å®šæœŸæ›´æ–°ä¾èµ–"><a href="#å®šæœŸæ›´æ–°ä¾èµ–" class="headerlink" title="å®šæœŸæ›´æ–°ä¾èµ–"></a>å®šæœŸæ›´æ–°ä¾èµ–</h4><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯ä¿è¯å›¢é˜Ÿä¸­ä½¿ç”¨çš„ä¾èµ–ä¸€è‡´æˆ–è€…ç¨³å®šï¼Œè€Œä¸æ˜¯æ°¸è¿œä¸å»æ›´æ–°è¿™äº›ä¾èµ–ã€‚å®é™…å¼€å‘åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬è™½ç„¶ä¸éœ€è¦æ¯æ¬¡éƒ½å»å®‰è£…æ–°çš„ç‰ˆæœ¬ï¼Œä»ç„¶éœ€è¦å®šæ—¶å»å‡çº§ä¾èµ–ç‰ˆæœ¬ï¼Œæ¥è®©æˆ‘ä»¬äº«å—ä¾èµ–åŒ…å‡çº§å¸¦æ¥çš„é—®é¢˜ä¿®å¤ã€æ€§èƒ½æå‡ã€æ–°ç‰¹æ€§æ›´æ–°ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742637-579b2577-4248-4c53-94ee-b9ca2a13e143.webp#align=left&display=inline&height=389&originHeight=639&originWidth=1080&size=0&status=done&style=none&width=657"><br />ä½¿ç”¨ <code>npm outdated</code> å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ—å‡ºæœ‰å“ªäº›è¿˜æ²¡æœ‰å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–ï¼š</p>
<ul>
<li>é»„è‰²è¡¨ç¤ºä¸ç¬¦åˆæˆ‘ä»¬æŒ‡å®šçš„è¯­æ„åŒ–ç‰ˆæœ¬èŒƒå›´ - ä¸éœ€è¦å‡çº§<br /></li>
<li>çº¢è‰²è¡¨ç¤ºç¬¦åˆæŒ‡å®šçš„è¯­æ„åŒ–ç‰ˆæœ¬èŒƒå›´ - éœ€è¦å‡çº§<br /></li>
</ul>
<p>æ‰§è¡Œ <code>npm update</code> ä¼šå‡çº§æ‰€æœ‰çš„çº¢è‰²ä¾èµ–ã€‚<br><a name="aHu9U"></a></p>
<h3 id="2-6-ä¾èµ–ç‰ˆæœ¬é€‰æ‹©çš„æœ€ä½³å®è·µ"><a href="#2-6-ä¾èµ–ç‰ˆæœ¬é€‰æ‹©çš„æœ€ä½³å®è·µ" class="headerlink" title="2.6 ä¾èµ–ç‰ˆæœ¬é€‰æ‹©çš„æœ€ä½³å®è·µ"></a>2.6 ä¾èµ–ç‰ˆæœ¬é€‰æ‹©çš„æœ€ä½³å®è·µ</h3><p><a name="3Sy34"></a></p>
<h4 id="ç‰ˆæœ¬å‘å¸ƒ"><a href="#ç‰ˆæœ¬å‘å¸ƒ" class="headerlink" title="ç‰ˆæœ¬å‘å¸ƒ"></a>ç‰ˆæœ¬å‘å¸ƒ</h4><ul>
<li><p>å¯¹å¤–éƒ¨å‘å¸ƒä¸€ä¸ªæ­£å¼ç‰ˆæœ¬çš„npmåŒ…æ—¶ï¼ŒæŠŠå®ƒçš„ç‰ˆæœ¬æ ‡ä¸º<code>1.0.0</code>ã€‚<br /></p>
</li>
<li><p>æŸä¸ªåŒ…ç‰ˆæœ¬å‘è¡Œåï¼Œä»»ä½•ä¿®æ”¹éƒ½å¿…é¡»ä»¥æ–°ç‰ˆæœ¬å‘è¡Œã€‚<br /></p>
</li>
<li><p>ç‰ˆæœ¬å·ä¸¥æ ¼æŒ‰ç…§ <code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·</code> æ ¼å¼å‘½å<br /></p>
</li>
<li><p>ç‰ˆæœ¬å·å‘å¸ƒå¿…é¡»æ˜¯ä¸¥æ ¼é€’å¢çš„<br /></p>
</li>
<li><p>å‘å¸ƒé‡å¤§ç‰ˆæœ¬æˆ–ç‰ˆæœ¬æ”¹åŠ¨è¾ƒå¤§æ—¶ï¼Œå…ˆå‘å¸ƒ<code>alphaã€betaã€rc</code>ç­‰å…ˆè¡Œç‰ˆæœ¬<br /><br><a name="EF5E2"></a></p>
<h4 id="ä¾èµ–èŒƒå›´é€‰æ‹©"><a href="#ä¾èµ–èŒƒå›´é€‰æ‹©" class="headerlink" title="ä¾èµ–èŒƒå›´é€‰æ‹©"></a>ä¾èµ–èŒƒå›´é€‰æ‹©</h4></li>
<li><p>ä¸»å·¥ç¨‹ä¾èµ–äº†å¾ˆå¤šå­æ¨¡å—ï¼Œéƒ½æ˜¯å›¢é˜Ÿæˆå‘˜å¼€å‘çš„<code>npm</code>åŒ…ï¼Œæ­¤æ—¶å»ºè®®æŠŠç‰ˆæœ¬å‰ç¼€æ”¹ä¸º<code>~</code>ï¼Œå¦‚æœé”å®šçš„è¯æ¯æ¬¡å­ä¾èµ–æ›´æ–°éƒ½è¦å¯¹ä¸»å·¥ç¨‹çš„ä¾èµ–è¿›è¡Œå‡çº§ï¼Œéå¸¸ç¹çï¼Œå¦‚æœå¯¹å­ä¾èµ–å®Œå…¨ä¿¡ä»»ï¼Œç›´æ¥å¼€å¯<code>^</code>æ¯æ¬¡å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚<br /></p>
</li>
<li><p>ä¸»å·¥ç¨‹è·‘åœ¨<code>docker</code>çº¿ä¸Šï¼Œæœ¬åœ°è¿˜åœ¨è¿›è¡Œå­ä¾èµ–å¼€å‘å’Œå‡çº§ï¼Œåœ¨<code>docker</code>ç‰ˆæœ¬å‘å¸ƒå‰è¦é”å®šæ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ï¼Œç¡®ä¿æœ¬åœ°å­ä¾èµ–å‘å¸ƒåçº¿ä¸Šä¸ä¼šå‡ºé—®é¢˜ã€‚<br /><br><a name="SPPah"></a></p>
<h4 id="ä¿æŒä¾èµ–ä¸€è‡´"><a href="#ä¿æŒä¾èµ–ä¸€è‡´" class="headerlink" title="ä¿æŒä¾èµ–ä¸€è‡´"></a>ä¿æŒä¾èµ–ä¸€è‡´</h4></li>
<li><p>ç¡®ä¿<code>npm</code>çš„ç‰ˆæœ¬åœ¨<code>5.6</code>ä»¥ä¸Šï¼Œç¡®ä¿é»˜è®¤å¼€å¯ <code>package-lock.json</code> æ–‡ä»¶ã€‚<br /></p>
</li>
<li><p>ç”±åˆå§‹åŒ–æˆå‘˜æ‰§è¡Œ <code>npm inatall</code> åï¼Œå°† <code>package-lock.json</code> æäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚ä¸è¦ç›´æ¥æäº¤ <code>node_modules</code>åˆ°è¿œç¨‹ä»“åº“ã€‚<br /></p>
</li>
<li><p>å®šæœŸæ‰§è¡Œ <code>npm update</code> å‡çº§ä¾èµ–ï¼Œå¹¶æäº¤ <code>lock</code> æ–‡ä»¶ç¡®ä¿å…¶ä»–æˆå‘˜åŒæ­¥æ›´æ–°ä¾èµ–ï¼Œä¸è¦æ‰‹åŠ¨æ›´æ”¹ <code>lock</code> æ–‡ä»¶ã€‚<br /><br><a name="CaNzu"></a></p>
<h4 id="ä¾èµ–å˜æ›´"><a href="#ä¾èµ–å˜æ›´" class="headerlink" title="ä¾èµ–å˜æ›´"></a>ä¾èµ–å˜æ›´</h4></li>
<li><p>å‡çº§ä¾èµ–: ä¿®æ”¹ <code>package.json</code>æ–‡ä»¶çš„ä¾èµ–ç‰ˆæœ¬ï¼Œæ‰§è¡Œ <code>npm install</code><br /></p>
</li>
<li><p>é™çº§ä¾èµ–: ç›´æ¥æ‰§è¡Œ <code>npm install package@version</code>(æ”¹åŠ¨<code>package.json</code>ä¸ä¼šå¯¹ä¾èµ–è¿›è¡Œé™çº§)<br /></p>
</li>
<li><p>æ³¨æ„æ”¹åŠ¨ä¾èµ–åæäº¤<code>lock</code>æ–‡ä»¶<br /><br><a name="PyTfN"></a></p>
<h2 id="ä¸‰ã€å‰–æ-npm-install-åŸç†"><a href="#ä¸‰ã€å‰–æ-npm-install-åŸç†" class="headerlink" title="ä¸‰ã€å‰–æ npm install åŸç†"></a>ä¸‰ã€å‰–æ npm install åŸç†</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744876-9faca344-8094-41ef-9a70-45a8cd0e7f82.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br /><code>npm install</code> å¤§æ¦‚ä¼šç»è¿‡ä¸Šé¢çš„å‡ ä¸ªæµç¨‹ï¼Œè¿™ä¸€ç« å°±æ¥è®²ä¸€è®²å„ä¸ªæµç¨‹çš„å®ç°ç»†èŠ‚ã€å‘å±•ä»¥åŠä¸ºä½•è¦è¿™æ ·å®ç°ã€‚<br><a name="C3fi1"></a></p>
<h3 id="3-1-åµŒå¥—ç»“æ„"><a href="#3-1-åµŒå¥—ç»“æ„" class="headerlink" title="3.1 åµŒå¥—ç»“æ„"></a>3.1 åµŒå¥—ç»“æ„</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ‰§è¡Œ <code>npm install</code> åï¼Œä¾èµ–åŒ…è¢«å®‰è£…åˆ°äº† <code>node_modules</code> ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“äº†è§£ä¸‹ï¼Œ<code>npm</code> å°†ä¾èµ–åŒ…å®‰è£…åˆ° <code>node_modules</code> çš„å…·ä½“æœºåˆ¶æ˜¯ä»€ä¹ˆã€‚<br />åœ¨ <code>npm</code> çš„æ—©æœŸç‰ˆæœ¬ï¼Œ <code>npm</code> å¤„ç†ä¾èµ–çš„æ–¹å¼ç®€å•ç²—æš´ï¼Œä»¥é€’å½’çš„å½¢å¼ï¼Œä¸¥æ ¼æŒ‰ç…§ <code>package.json</code> ç»“æ„ä»¥åŠå­ä¾èµ–åŒ…çš„ <code>package.json</code> ç»“æ„å°†ä¾èµ–å®‰è£…åˆ°ä»–ä»¬å„è‡ªçš„ <code>node_modules</code> ä¸­ã€‚ç›´åˆ°æœ‰å­ä¾èµ–åŒ…ä¸åœ¨ä¾èµ–å…¶ä»–æ¨¡å—ã€‚<br />ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬çš„æ¨¡å— <code>my-app</code> ç°åœ¨ä¾èµ–äº†ä¸¤ä¸ªæ¨¡å—ï¼š<code>buffer</code>ã€<code>ignore</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;my-app&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;buffer&quot;: &quot;^5.4.3&quot;,</span><br><span class="line">    &quot;ignore&quot;: &quot;^5.1.4&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ignore</code>æ˜¯ä¸€ä¸ªçº¯ <code>JS</code> æ¨¡å—ï¼Œä¸ä¾èµ–ä»»ä½•å…¶ä»–æ¨¡å—ï¼Œè€Œ <code>buffer</code> åˆä¾èµ–äº†ä¸‹é¢ä¸¤ä¸ªæ¨¡å—ï¼š<code>base64-js</code> ã€ <code>ieee754</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;buffer&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;base64-js&quot;: &quot;^1.0.2&quot;,</span><br><span class="line">    &quot;ieee754&quot;: &quot;^1.1.4&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼Œæ‰§è¡Œ <code>npm install</code> åï¼Œå¾—åˆ°çš„ <code>node_modules</code> ä¸­æ¨¡å—ç›®å½•ç»“æ„å°±æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744874-9a4552af-2e48-4e06-bd1c-b123a733bfcd.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />è¿™æ ·çš„æ–¹å¼ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼Œ <code>node_modules</code> çš„ç»“æ„å’Œ <code>package.json</code> ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œå±‚çº§ç»“æ„æ˜æ˜¾ï¼Œå¹¶ä¸”ä¿è¯äº†æ¯æ¬¡å®‰è£…ç›®å½•ç»“æ„éƒ½æ˜¯ç›¸åŒçš„ã€‚<br />ä½†æ˜¯ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ ä¾èµ–çš„æ¨¡å—éå¸¸ä¹‹å¤šï¼Œä½ çš„ <code>node_modules</code> å°†éå¸¸åºå¤§ï¼ŒåµŒå¥—å±‚çº§éå¸¸ä¹‹æ·±ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744867-0f28265c-54d2-4b5c-b94b-548cd83c1229.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br /></p>
</li>
<li><p>åœ¨ä¸åŒå±‚çº§çš„ä¾èµ–ä¸­ï¼Œå¯èƒ½å¼•ç”¨äº†åŒä¸€ä¸ªæ¨¡å—ï¼Œå¯¼è‡´å¤§é‡å†—ä½™ã€‚<br /></p>
</li>
<li><p>åœ¨ <code>Windows</code> ç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶è·¯å¾„æœ€å¤§é•¿åº¦ä¸º260ä¸ªå­—ç¬¦ï¼ŒåµŒå¥—å±‚çº§è¿‡æ·±å¯èƒ½å¯¼è‡´ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚<br /><br><a name="ZMrLv"></a></p>
<h3 id="3-2-æ‰å¹³ç»“æ„"><a href="#3-2-æ‰å¹³ç»“æ„" class="headerlink" title="3.2 æ‰å¹³ç»“æ„"></a>3.2 æ‰å¹³ç»“æ„</h3><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œ<code>NPM</code> åœ¨ <code>3.x</code> ç‰ˆæœ¬åšäº†ä¸€æ¬¡è¾ƒå¤§æ›´æ–°ã€‚å…¶å°†æ—©æœŸçš„åµŒå¥—ç»“æ„æ”¹ä¸ºæ‰å¹³ç»“æ„ï¼š</p>
</li>
<li><p>å®‰è£…æ¨¡å—æ—¶ï¼Œä¸ç®¡å…¶æ˜¯ç›´æ¥ä¾èµ–è¿˜æ˜¯å­ä¾èµ–çš„ä¾èµ–ï¼Œä¼˜å…ˆå°†å…¶å®‰è£…åœ¨ <code>node_modules</code> æ ¹ç›®å½•ã€‚<br /></p>
</li>
</ul>
<p>è¿˜æ˜¯ä¸Šé¢çš„ä¾èµ–ç»“æ„ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ <code>npm install</code> åå°†å¾—åˆ°ä¸‹é¢çš„ç›®å½•ç»“æ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742649-4aaf7e81-3009-4dea-a159-1f779e748d35.webp#align=left&display=inline&height=183&originHeight=112&originWidth=402&size=0&status=done&style=none&width=657"><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742618-5f15425c-e6c0-4d05-9d6d-7eb059a9f6b8.webp#align=left&display=inline&height=354&originHeight=582&originWidth=1080&size=0&status=done&style=none&width=657"><br />æ­¤æ—¶æˆ‘ä»¬è‹¥åœ¨æ¨¡å—ä¸­åˆä¾èµ–äº† <code>base64-js@1.0.1</code> ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;my-app&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;buffer&quot;: &quot;^5.4.3&quot;,</span><br><span class="line">    &quot;ignore&quot;: &quot;^5.1.4&quot;,</span><br><span class="line">    &quot;base64-js&quot;: &quot;1.0.1&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å½“å®‰è£…åˆ°ç›¸åŒæ¨¡å—æ—¶ï¼Œåˆ¤æ–­å·²å®‰è£…çš„æ¨¡å—ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆæ–°æ¨¡å—çš„ç‰ˆæœ¬èŒƒå›´ï¼Œå¦‚æœç¬¦åˆåˆ™è·³è¿‡ï¼Œä¸ç¬¦åˆåˆ™åœ¨å½“å‰æ¨¡å—çš„ <code>node_modules</code> ä¸‹å®‰è£…è¯¥æ¨¡å—ã€‚<br /></li>
</ul>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ <code>npm install</code> åå°†å¾—åˆ°ä¸‹é¢çš„ç›®å½•ç»“æ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742673-b45a7f1d-09ab-4323-a1f4-22774ce1ef81.webp#align=left&display=inline&height=375&originHeight=294&originWidth=515&size=0&status=done&style=none&width=657"><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744873-7001bdc6-523d-4b8f-8815-ea70b589214f.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />å¯¹åº”çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä»£ç ä¸­å¼•ç”¨äº†ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—æŸ¥æ‰¾æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨å½“å‰æ¨¡å—è·¯å¾„ä¸‹æœç´¢<br /></li>
<li>åœ¨å½“å‰æ¨¡å— <code>node_modules</code> è·¯å¾„ä¸‹æœç´ <br /></li>
<li>åœ¨ä¸Šçº§æ¨¡å—çš„ <code>node_modules</code> è·¯å¾„ä¸‹æœç´¢<br /></li>
<li>â€¦<br /></li>
<li>ç›´åˆ°æœç´¢åˆ°å…¨å±€è·¯å¾„ä¸­çš„ <code>node_modules</code><br /></li>
</ul>
<p>å‡è®¾æˆ‘ä»¬åˆä¾èµ–äº†ä¸€ä¸ªåŒ… <code>buffer2@^5.4.3</code>ï¼Œè€Œå®ƒä¾èµ–äº†åŒ… <code>base64-js@1.0.3</code>ï¼Œåˆ™æ­¤æ—¶çš„å®‰è£…ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744877-cd1ed81f-38f1-478b-9d7c-88309de27046.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />æ‰€ä»¥ <code>npm 3.x</code> ç‰ˆæœ¬å¹¶æœªå®Œå…¨è§£å†³è€ç‰ˆæœ¬çš„æ¨¡å—å†—ä½™é—®é¢˜ï¼Œç”šè‡³è¿˜ä¼šå¸¦æ¥æ–°çš„é—®é¢˜ã€‚<br />è¯•æƒ³ä¸€ä¸‹ï¼Œä½ çš„APPå‡è®¾æ²¡æœ‰ä¾èµ– <code>base64-js@1.0.1</code> ç‰ˆæœ¬ï¼Œè€Œä½ åŒæ—¶ä¾èµ–äº†ä¾èµ–ä¸åŒ <code>base64-js</code> ç‰ˆæœ¬çš„ <code>buffer</code> å’Œ <code>buffer2</code>ã€‚ç”±äºåœ¨æ‰§è¡Œ <code>npm install</code> çš„æ—¶å€™ï¼ŒæŒ‰ç…§ <code>package.json</code> é‡Œä¾èµ–çš„é¡ºåºä¾æ¬¡è§£æï¼Œåˆ™ <code>buffer</code> å’Œ <code>buffer2</code> åœ¨ Â <code>package.json</code> çš„æ”¾ç½®é¡ºåºåˆ™å†³å®šäº† <code>node_modules</code> çš„ä¾èµ–ç»“æ„ï¼š<br />å…ˆä¾èµ–<code>buffer2</code>ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744890-0be552c4-b052-408f-8fd7-7a9d6c28a7cc.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />å…ˆä¾èµ–<code>buffer</code>ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742730-6a7d820e-d5c0-4a84-b359-e6f12618eb5a.webp#align=left&display=inline&height=350&originHeight=575&originWidth=1080&size=0&status=done&style=none&width=657"><br />å¦å¤–ï¼Œä¸ºäº†è®©å¼€å‘è€…åœ¨å®‰å…¨çš„å‰æä¸‹ä½¿ç”¨æœ€æ–°çš„ä¾èµ–åŒ…ï¼Œæˆ‘ä»¬åœ¨ <code>package.json</code> é€šå¸¸åªä¼šé”å®šå¤§ç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€åœ¨æŸäº›ä¾èµ–åŒ…å°ç‰ˆæœ¬æ›´æ–°åï¼ŒåŒæ ·å¯èƒ½é€ æˆä¾èµ–ç»“æ„çš„æ”¹åŠ¨ï¼Œä¾èµ–ç»“æ„çš„ä¸ç¡®å®šæ€§å¯èƒ½ä¼šç»™ç¨‹åºå¸¦æ¥ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚<br><a name="k92gq"></a></p>
<h3 id="3-3-Lockæ–‡ä»¶"><a href="#3-3-Lockæ–‡ä»¶" class="headerlink" title="3.3 Lockæ–‡ä»¶"></a>3.3 Lockæ–‡ä»¶</h3><p>ä¸ºäº†è§£å†³ <code>npm install</code> çš„ä¸ç¡®å®šæ€§é—®é¢˜ï¼Œåœ¨ <code>npm 5.x</code> ç‰ˆæœ¬æ–°å¢äº† <code>package-lock.json</code> æ–‡ä»¶ï¼Œè€Œå®‰è£…æ–¹å¼è¿˜æ²¿ç”¨äº† <code>npm 3.x</code> çš„æ‰å¹³åŒ–çš„æ–¹å¼ã€‚<br /><code>package-lock.json</code> çš„ä½œç”¨æ˜¯é”å®šä¾èµ–ç»“æ„ï¼Œå³åªè¦ä½ ç›®å½•ä¸‹æœ‰ <code>package-lock.json</code> æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ æ¯æ¬¡æ‰§è¡Œ <code>npm install</code> åç”Ÿæˆçš„ <code>node_modules</code> ç›®å½•ç»“æ„ä¸€å®šæ˜¯å®Œå…¨ç›¸åŒçš„ã€‚<br />ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„ä¾èµ–ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;my-app&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;buffer&quot;: &quot;^5.4.3&quot;,</span><br><span class="line">    &quot;ignore&quot;: &quot;^5.1.4&quot;,</span><br><span class="line">    &quot;base64-js&quot;: &quot;1.0.1&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ‰§è¡Œ <code>npm install</code> åç”Ÿæˆçš„ <code>package-lock.json</code> å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;my-app&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;base64-js&quot;: &#123;</span><br><span class="line">      &quot;version&quot;: &quot;1.0.1&quot;,</span><br><span class="line">      &quot;resolved&quot;: &quot;https://registry.npmjs.org/base64-js/-/base64-js-1.0.1.tgz&quot;,</span><br><span class="line">      &quot;integrity&quot;: &quot;sha1-aSbRsZT7xze47tUTdW3i/Np+pAg=&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;buffer&quot;: &#123;</span><br><span class="line">      &quot;version&quot;: &quot;5.4.3&quot;,</span><br><span class="line">      &quot;resolved&quot;: &quot;https://registry.npmjs.org/buffer/-/buffer-5.4.3.tgz&quot;,</span><br><span class="line">      &quot;integrity&quot;: &quot;sha512-zvj65TkFeIt3i6aj5bIvJDzjjQQGs4o/sNoezg1F1kYap9Nu2jcUdpwzRSJTHMMzG0H7bZkn4rNQpImhuxWX2A==&quot;,</span><br><span class="line">      &quot;requires&quot;: &#123;</span><br><span class="line">        &quot;base64-js&quot;: &quot;^1.0.2&quot;,</span><br><span class="line">        &quot;ieee754&quot;: &quot;^1.1.4&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;dependencies&quot;: &#123;</span><br><span class="line">        &quot;base64-js&quot;: &#123;</span><br><span class="line">          &quot;version&quot;: &quot;1.3.1&quot;,</span><br><span class="line">          &quot;resolved&quot;: &quot;https://registry.npmjs.org/base64-js/-/base64-js-1.3.1.tgz&quot;,</span><br><span class="line">          &quot;integrity&quot;: &quot;sha512-mLQ4i2QO1ytvGWFWmcngKO//JXAQueZvwEKtjgQFM4jIK0kU+ytMfplL8j+n5mspOfjHwoAg+9yhb7BwAHm36g==&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ieee754&quot;: &#123;</span><br><span class="line">      &quot;version&quot;: &quot;1.1.13&quot;,</span><br><span class="line">      &quot;resolved&quot;: &quot;https://registry.npmjs.org/ieee754/-/ieee754-1.1.13.tgz&quot;,</span><br><span class="line">      &quot;integrity&quot;: &quot;sha512-4vf7I2LYV/HaWerSo3XmlMkp5eZ83i+/CDluXi/IGTs/O1sejBNhTtnxzmRZfvOUqj7lZjqHkeTvpgSFDlWZTg==&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ignore&quot;: &#123;</span><br><span class="line">      &quot;version&quot;: &quot;5.1.4&quot;,</span><br><span class="line">      &quot;resolved&quot;: &quot;https://registry.npmjs.org/ignore/-/ignore-5.1.4.tgz&quot;,</span><br><span class="line">      &quot;integrity&quot;: &quot;sha512-MzbUSahkTW1u7JpKKjY7LCARd1fU5W2rLdxlM4kdkayuCwZImjkpluF9CM1aLewYJguPDqewLam18Y6AU69A8A==&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹ä¸Šé¢çš„ç»“æ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744925-a50aefa1-3aa4-4a97-a382-1211900052dc.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />æœ€å¤–é¢çš„ä¸¤ä¸ªå±æ€§ <code>name</code> ã€<code>version</code> åŒ <code>package.json</code> ä¸­çš„ <code>name</code> å’Œ <code>version</code> ï¼Œç”¨äºæè¿°å½“å‰åŒ…åç§°å’Œç‰ˆæœ¬ã€‚<br /><code>dependencies</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å’Œ <code>node_modules</code> ä¸­çš„åŒ…ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œå¯¹è±¡çš„ <code>key</code> ä¸ºåŒ…åç§°ï¼Œå€¼ä¸ºåŒ…çš„ä¸€äº›æè¿°ä¿¡æ¯ï¼š</p>
<ul>
<li><code>version</code>ï¼šåŒ…ç‰ˆæœ¬ â€”â€” è¿™ä¸ªåŒ…å½“å‰å®‰è£…åœ¨ <code>node_modules</code> ä¸­çš„ç‰ˆæœ¬<br /></li>
<li><code>resolved</code>ï¼šåŒ…å…·ä½“çš„å®‰è£…æ¥æº<br /></li>
<li><code>integrity</code>ï¼šåŒ… <code>hash</code> å€¼ï¼ŒåŸºäº <code>Subresource Integrity</code> æ¥éªŒè¯å·²å®‰è£…çš„è½¯ä»¶åŒ…æ˜¯å¦è¢«æ”¹åŠ¨è¿‡ã€æ˜¯å¦å·²å¤±æ•ˆ<br /></li>
<li><code>requires</code>ï¼šå¯¹åº”å­ä¾èµ–çš„ä¾èµ–ï¼Œä¸å­ä¾èµ–çš„ <code>package.json</code> ä¸­ <code>dependencies</code>çš„ä¾èµ–é¡¹ç›¸åŒã€‚<br /></li>
<li><code>dependencies</code>ï¼šç»“æ„å’Œå¤–å±‚çš„ <code>dependencies</code> ç»“æ„ç›¸åŒï¼Œå­˜å‚¨å®‰è£…åœ¨å­ä¾èµ– <code>node_modules</code> ä¸­çš„ä¾èµ–åŒ…ã€‚<br /></li>
</ul>
<p>è¿™é‡Œæ³¨æ„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å­ä¾èµ–éƒ½æœ‰ <code>dependencies</code> å±æ€§ï¼Œåªæœ‰å­ä¾èµ–çš„ä¾èµ–å’Œå½“å‰å·²å®‰è£…åœ¨æ ¹ç›®å½•çš„ Â <code>node_modules</code> ä¸­çš„ä¾èµ–å†²çªä¹‹åï¼Œæ‰ä¼šæœ‰è¿™ä¸ªå±æ€§ã€‚<br />ä¾‹å¦‚ï¼Œå›é¡¾ä¸‹ä¸Šé¢çš„ä¾èµ–å…³ç³»ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744892-536d6c0f-e9d0-453a-93c7-909567660a87.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />æˆ‘ä»¬åœ¨ <code>my-app</code> ä¸­ä¾èµ–çš„ <code>base64-js@1.0.1</code> ç‰ˆæœ¬ä¸ <code>buffer</code> ä¸­ä¾èµ–çš„ <code>base64-js@^1.0.2</code> å‘ç”Ÿå†²çªï¼Œæ‰€ä»¥ Â <code>base64-js@1.0.1</code> Â éœ€è¦å®‰è£…åœ¨ <code>buffer</code> åŒ…çš„ <code>node_modules</code> ä¸­ï¼Œå¯¹åº”äº† <code>package-lock.json</code> ä¸­ <code>buffer</code> çš„ <code>dependencies</code> å±æ€§ã€‚è¿™ä¹Ÿå¯¹åº”äº† <code>npm</code> å¯¹ä¾èµ–çš„æ‰å¹³åŒ–å¤„ç†æ–¹å¼ã€‚<br />æ‰€ä»¥ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œ <code>package-lock.json</code> æ–‡ä»¶ å’Œ <code>node_modules</code> ç›®å½•ç»“æ„æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå³é¡¹ç›®ç›®å½•ä¸‹å­˜åœ¨ Â <code>package-lock.json</code> å¯ä»¥è®©æ¯æ¬¡å®‰è£…ç”Ÿæˆçš„ä¾èµ–ç›®å½•ç»“æ„ä¿æŒç›¸åŒã€‚<br />å¦å¤–ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨äº† <code>package-lock.json</code> å¯ä»¥æ˜¾è‘—åŠ é€Ÿä¾èµ–å®‰è£…æ—¶é—´ã€‚<br />æˆ‘ä»¬ä½¿ç”¨ <code>npm i --timing=true --loglevel=verbose</code> å‘½ä»¤å¯ä»¥çœ‹åˆ° <code>npm install</code> çš„å®Œæ•´è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å¯¹æ¯”ä¸‹ä½¿ç”¨ <code>lock</code> æ–‡ä»¶å’Œä¸ä½¿ç”¨ <code>lock</code> æ–‡ä»¶çš„å·®åˆ«ã€‚åœ¨å¯¹æ¯”å‰å…ˆæ¸…ç†ä¸‹<code>npm</code> ç¼“å­˜ã€‚<br />ä¸ä½¿ç”¨ <code>lock</code> æ–‡ä»¶ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535742710-47ff6566-d6df-44f7-b30d-110a59dba0a3.gif#align=left&display=inline&height=370&originHeight=360&originWidth=639&size=0&status=done&style=none&width=657"><br />ä½¿ç”¨ <code>lock</code> æ–‡ä»¶ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535742685-2ac4a78a-df7e-44e2-80f9-8f076dc928b7.gif#align=left&display=inline&height=370&originHeight=360&originWidth=639&size=0&status=done&style=none&width=657">[]<br />å¯è§ï¼Œ <code>package-lock.json</code> ä¸­å·²ç»ç¼“å­˜äº†æ¯ä¸ªåŒ…çš„å…·ä½“ç‰ˆæœ¬å’Œä¸‹è½½é“¾æ¥ï¼Œä¸éœ€è¦å†å»è¿œç¨‹ä»“åº“è¿›è¡ŒæŸ¥è¯¢ï¼Œç„¶åç›´æ¥è¿›å…¥æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒç¯èŠ‚ï¼Œå‡å°‘äº†å¤§é‡ç½‘ç»œè¯·æ±‚ã€‚<br><a name="FDHYf"></a></p>
<h4 id="ä½¿ç”¨å»ºè®®"><a href="#ä½¿ç”¨å»ºè®®" class="headerlink" title="ä½¿ç”¨å»ºè®®"></a>ä½¿ç”¨å»ºè®®</h4><p>å¼€å‘ç³»ç»Ÿåº”ç”¨æ—¶ï¼Œå»ºè®®æŠŠ <code>package-lock.json</code> æ–‡ä»¶æäº¤åˆ°ä»£ç ç‰ˆæœ¬ä»“åº“ï¼Œä»è€Œä¿è¯æ‰€æœ‰å›¢é˜Ÿå¼€å‘è€…ä»¥åŠ <code>CI</code> ç¯èŠ‚å¯ä»¥åœ¨æ‰§è¡Œ <code>npm install</code> æ—¶å®‰è£…çš„ä¾èµ–ç‰ˆæœ¬éƒ½æ˜¯ä¸€è‡´çš„ã€‚<br />åœ¨å¼€å‘ä¸€ä¸ª <code>npm</code>åŒ… æ—¶ï¼Œä½ çš„ <code>npm</code>åŒ… æ˜¯éœ€è¦è¢«å…¶ä»–ä»“åº“ä¾èµ–çš„ï¼Œç”±äºä¸Šé¢æˆ‘ä»¬è®²åˆ°çš„æ‰å¹³å®‰è£…æœºåˆ¶ï¼Œå¦‚æœä½ é”å®šäº†ä¾èµ–åŒ…ç‰ˆæœ¬ï¼Œä½ çš„ä¾èµ–åŒ…å°±ä¸èƒ½å’Œå…¶ä»–ä¾èµ–åŒ…å…±äº«åŒä¸€ <code>semver</code> èŒƒå›´å†…çš„ä¾èµ–åŒ…ï¼Œè¿™æ ·ä¼šé€ æˆä¸å¿…è¦çš„å†—ä½™ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸åº”è¯¥æŠŠ<code>package-lock.json</code> æ–‡ä»¶å‘å¸ƒå‡ºå»ï¼ˆ <code>npm</code> é»˜è®¤ä¹Ÿä¸ä¼šæŠŠ <code>package-lock.json</code> æ–‡ä»¶å‘å¸ƒå‡ºå»ï¼‰ã€‚<br><a name="pvPhw"></a></p>
<h3 id="3-4-ç¼“å­˜"><a href="#3-4-ç¼“å­˜" class="headerlink" title="3.4 ç¼“å­˜"></a>3.4 ç¼“å­˜</h3><p>åœ¨æ‰§è¡Œ <code>npm install</code> æˆ– <code>npm update</code>å‘½ä»¤ä¸‹è½½ä¾èµ–åï¼Œé™¤äº†å°†ä¾èµ–åŒ…å®‰è£…åœ¨<code>node_modules</code> ç›®å½•ä¸‹å¤–ï¼Œè¿˜ä¼šåœ¨æœ¬åœ°çš„ç¼“å­˜ç›®å½•ç¼“å­˜ä¸€ä»½ã€‚<br />é€šè¿‡ <code>npm config get cache</code> å‘½ä»¤å¯ä»¥æŸ¥è¯¢åˆ°ï¼šåœ¨ <code>Linux</code> æˆ– <code>Mac</code> é»˜è®¤æ˜¯ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ <code>.npm/_cacache</code> ç›®å½•ã€‚<br />åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆå­˜åœ¨ä¸¤ä¸ªç›®å½•ï¼š<code>content-v2</code>ã€<code>index-v5</code>ï¼Œ<code>content-v2</code> ç›®å½•ç”¨äºå­˜å‚¨ <code>tar</code>åŒ…çš„ç¼“å­˜ï¼Œè€Œ<code>index-v5</code>ç›®å½•ç”¨äºå­˜å‚¨<code>tar</code>åŒ…çš„ <code>hash</code>ã€‚<br />npm åœ¨æ‰§è¡Œå®‰è£…æ—¶ï¼Œå¯ä»¥æ ¹æ® <code>package-lock.json</code> ä¸­å­˜å‚¨çš„ <code>integrityã€versionã€name</code> ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ <code>key</code> å¯¹åº”åˆ° <code>index-v5</code> ç›®å½•ä¸‹çš„ç¼“å­˜è®°å½•ï¼Œä»è€Œæ‰¾åˆ° <code>tar</code>åŒ…çš„ <code>hash</code>ï¼Œç„¶åæ ¹æ® <code>hash</code> å†å»æ‰¾ç¼“å­˜çš„ <code>tar</code>åŒ…ç›´æ¥ä½¿ç”¨ã€‚<br />æˆ‘ä»¬å¯ä»¥æ‰¾ä¸€ä¸ªåŒ…åœ¨ç¼“å­˜ç›®å½•ä¸‹æœç´¢æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨ <code>index-v5</code> æœç´¢ä¸€ä¸‹åŒ…è·¯å¾„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;https://registry.npmjs.org/base64-js/-/base64-js-1.0.1.tgz&quot; -r index-v5</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744916-ae68a05d-0223-4dfc-a292-fc37c8ad731b.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />ç„¶åæˆ‘ä»¬å°†jsonæ ¼å¼åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;key&quot;: &quot;pacote:version-manifest:https://registry.npmjs.org/base64-js/-/base64-js-1.0.1.tgz:sha1-aSbRsZT7xze47tUTdW3i/Np+pAg=&quot;,</span><br><span class="line">  &quot;integrity&quot;: &quot;sha512-C2EkHXwXvLsbrucJTRS3xFHv7Mf/y9klmKDxPTE8yevCoH5h8Ae69Y+/lP+ahpW91crnzgO78elOk2E6APJfIQ==&quot;,</span><br><span class="line">  &quot;time&quot;: 1575554308857,</span><br><span class="line">  &quot;size&quot;: 1,</span><br><span class="line">  &quot;metadata&quot;: &#123;</span><br><span class="line">    &quot;id&quot;: &quot;base64-js@1.0.1&quot;,</span><br><span class="line">    &quot;manifest&quot;: &#123;</span><br><span class="line">      &quot;name&quot;: &quot;base64-js&quot;,</span><br><span class="line">      &quot;version&quot;: &quot;1.0.1&quot;,</span><br><span class="line">      &quot;engines&quot;: &#123;</span><br><span class="line">        &quot;node&quot;: &quot;&gt;= 0.4&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;dependencies&quot;: &#123;&#125;,</span><br><span class="line">      &quot;optionalDependencies&quot;: &#123;&#125;,</span><br><span class="line">      &quot;devDependencies&quot;: &#123;</span><br><span class="line">        &quot;standard&quot;: &quot;^5.2.2&quot;,</span><br><span class="line">        &quot;tape&quot;: &quot;4.x&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;bundleDependencies&quot;: false,</span><br><span class="line">      &quot;peerDependencies&quot;: &#123;&#125;,</span><br><span class="line">      &quot;deprecated&quot;: false,</span><br><span class="line">      &quot;_resolved&quot;: &quot;https://registry.npmjs.org/base64-js/-/base64-js-1.0.1.tgz&quot;,</span><br><span class="line">      &quot;_integrity&quot;: &quot;sha1-aSbRsZT7xze47tUTdW3i/Np+pAg=&quot;,</span><br><span class="line">      &quot;_shasum&quot;: &quot;6926d1b194fbc737b8eed513756de2fcda7ea408&quot;,</span><br><span class="line">      &quot;_shrinkwrap&quot;: null,</span><br><span class="line">      &quot;bin&quot;: null,</span><br><span class="line">      &quot;_id&quot;: &quot;base64-js@1.0.1&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;type&quot;: &quot;finalized-manifest&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ <code>_shasum</code> å±æ€§ <code>6926d1b194fbc737b8eed513756de2fcda7ea408</code> å³ä¸º <code>tar</code> åŒ…çš„ <code>hash</code>ï¼Œ <code>hash</code>çš„å‰å‡ ä½ <code>6926</code> å³ä¸ºç¼“å­˜çš„å‰ä¸¤å±‚ç›®å½•ï¼Œæˆ‘ä»¬è¿›å»è¿™ä¸ªç›®å½•æœç„¶æ‰¾åˆ°çš„å‹ç¼©åçš„ä¾èµ–åŒ…ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742736-16add4a7-fdff-4c6f-a516-b9975a6f94fc.webp#align=left&display=inline&height=113&originHeight=185&originWidth=1080&size=0&status=done&style=none&width=657"></p>
<blockquote>
<p>ä»¥ä¸Šçš„ç¼“å­˜ç­–ç•¥æ˜¯ä» npm v5 ç‰ˆæœ¬å¼€å§‹çš„ï¼Œåœ¨ npm v5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ¯ä¸ªç¼“å­˜çš„æ¨¡å—åœ¨ ~/.npm æ–‡ä»¶å¤¹ä¸­ä»¥æ¨¡å—åçš„å½¢å¼ç›´æ¥å­˜å‚¨ï¼Œå‚¨å­˜ç»“æ„æ˜¯{cache}/{name}/{version}ã€‚</p>
</blockquote>
<p><code>npm</code> æä¾›äº†å‡ ä¸ªå‘½ä»¤æ¥ç®¡ç†ç¼“å­˜æ•°æ®ï¼š</p>
<ul>
<li><code>npm cache add</code>ï¼šå®˜æ–¹è§£é‡Šè¯´è¿™ä¸ªå‘½ä»¤ä¸»è¦æ˜¯ <code>npm</code> å†…éƒ¨ä½¿ç”¨ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨æ¥æ‰‹åŠ¨ç»™ä¸€ä¸ªæŒ‡å®šçš„ package æ·»åŠ ç¼“å­˜ã€‚<br /></li>
<li><code>npm cache clean</code>ï¼šåˆ é™¤ç¼“å­˜ç›®å½•ä¸‹çš„æ‰€æœ‰æ•°æ®ï¼Œä¸ºäº†ä¿è¯ç¼“å­˜æ•°æ®çš„å®Œæ•´æ€§ï¼Œéœ€è¦åŠ ä¸Š <code>--force</code> å‚æ•°ã€‚<br /></li>
<li><code>npm cache verify</code>ï¼šéªŒè¯ç¼“å­˜æ•°æ®çš„æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ï¼Œæ¸…ç†åƒåœ¾æ•°æ®ã€‚<br /></li>
</ul>
<p>åŸºäºç¼“å­˜æ•°æ®ï¼Œnpm æä¾›äº†ç¦»çº¿å®‰è£…æ¨¡å¼ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><p><code>--prefer-offline</code>ï¼šä¼˜å…ˆä½¿ç”¨ç¼“å­˜æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„ç¼“å­˜æ•°æ®ï¼Œåˆ™ä»è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚<br /></p>
</li>
<li><p><code>--prefer-online</code>ï¼šä¼˜å…ˆä½¿ç”¨ç½‘ç»œæ•°æ®ï¼Œå¦‚æœç½‘ç»œæ•°æ®è¯·æ±‚å¤±è´¥ï¼Œå†å»è¯·æ±‚ç¼“å­˜æ•°æ®ï¼Œè¿™ç§æ¨¡å¼å¯ä»¥åŠæ—¶è·å–æœ€æ–°çš„æ¨¡å—ã€‚<br /></p>
</li>
<li><p><code>--offline</code>ï¼šä¸è¯·æ±‚ç½‘ç»œï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼Œä¸€æ—¦ç¼“å­˜æ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™å®‰è£…å¤±è´¥ã€‚<br /><br><a name="tfehL"></a></p>
<h3 id="3-5-æ–‡ä»¶å®Œæ•´æ€§"><a href="#3-5-æ–‡ä»¶å®Œæ•´æ€§" class="headerlink" title="3.5 æ–‡ä»¶å®Œæ•´æ€§"></a>3.5 æ–‡ä»¶å®Œæ•´æ€§</h3><p>ä¸Šé¢æˆ‘ä»¬å¤šæ¬¡æåˆ°äº†æ–‡ä»¶å®Œæ•´æ€§ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒå‘¢ï¼Ÿ<br />åœ¨ä¸‹è½½ä¾èµ–åŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°±èƒ½æ‹¿åˆ° <code>npm</code> å¯¹è¯¥ä¾èµ–åŒ…è®¡ç®—çš„ <code>hash</code> å€¼ï¼Œä¾‹å¦‚æˆ‘ä»¬æ‰§è¡Œ <code>npm info</code> å‘½ä»¤ï¼Œç´§è·Ÿ <code>tarball</code>(ä¸‹è½½é“¾æ¥) çš„å°±æ˜¯ <code>shasum</code>(<code>hash</code>) ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742699-a09ee38d-834b-461f-8f95-1a2453724668.webp#align=left&display=inline&height=279&originHeight=336&originWidth=792&size=0&status=done&style=none&width=657"><br />ç”¨æˆ·ä¸‹è½½ä¾èµ–åŒ…åˆ°æœ¬åœ°åï¼Œéœ€è¦ç¡®å®šåœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥åœ¨ä¸‹è½½å®Œæˆä¹‹åéœ€è¦åœ¨æœ¬åœ°åœ¨è®¡ç®—ä¸€æ¬¡æ–‡ä»¶çš„ <code>hash</code> å€¼ï¼Œå¦‚æœä¸¤ä¸ª <code>hash</code> å€¼æ˜¯ç›¸åŒçš„ï¼Œåˆ™ç¡®ä¿ä¸‹è½½çš„ä¾èµ–æ˜¯å®Œæ•´çš„ï¼Œå¦‚æœä¸åŒï¼Œåˆ™è¿›è¡Œé‡æ–°ä¸‹è½½ã€‚<br><a name="K6IjE"></a></p>
<h3 id="3-6-æ•´ä½“æµç¨‹"><a href="#3-6-æ•´ä½“æµç¨‹" class="headerlink" title="3.6 æ•´ä½“æµç¨‹"></a>3.6 æ•´ä½“æµç¨‹</h3><p>å¥½äº†ï¼Œæˆ‘ä»¬å†æ¥æ•´ä½“æ€»ç»“ä¸‹ä¸Šé¢çš„æµç¨‹ï¼š</p>
</li>
<li><p>æ£€æŸ¥ <code>.npmrc</code> æ–‡ä»¶ï¼šä¼˜å…ˆçº§ä¸ºï¼šé¡¹ç›®çº§çš„ <code>.npmrc</code> æ–‡ä»¶ &gt; ç”¨æˆ·çº§çš„ <code>.npmrc</code> æ–‡ä»¶&gt; å…¨å±€çº§çš„ <code>.npmrc</code> æ–‡ä»¶ &gt; npm å†…ç½®çš„ <code>.npmrc</code> æ–‡ä»¶<br /></p>
</li>
<li><p>æ£€æŸ¥é¡¹ç›®ä¸­æœ‰æ—  <code>lock</code> æ–‡ä»¶ã€‚<br /></p>
</li>
<li><p>æ—  <code>lock</code> æ–‡ä»¶ï¼š<br /></p>
<ul>
<li>ä¸å­˜åœ¨ç¼“å­˜ï¼š<br /></li>
<li>å­˜åœ¨ç¼“å­˜ï¼šå°†ç¼“å­˜æŒ‰ç…§ä¾èµ–ç»“æ„è§£å‹åˆ° <code>node_modules</code><br /></li>
<li>å°†ä¸‹è½½çš„åŒ…å¤åˆ¶åˆ° <code>npm</code> ç¼“å­˜ç›®å½•<br /></li>
<li>å°†ä¸‹è½½çš„åŒ…æŒ‰ç…§ä¾èµ–ç»“æ„è§£å‹åˆ° <code>node_modules</code><br /></li>
<li>é‡æ–°ä¸‹è½½<br /></li>
<li>ä» <code>npm</code> è¿œç¨‹ä»“åº“ä¸‹è½½åŒ…<br /></li>
<li>æ ¡éªŒåŒ…çš„å®Œæ•´æ€§<br /></li>
<li>æ ¡éªŒä¸é€šè¿‡ï¼š<br /></li>
<li>æ ¡éªŒé€šè¿‡ï¼š<br /></li>
<li>æ„å»ºä¾èµ–æ ‘æ—¶ï¼Œä¸ç®¡å…¶æ˜¯ç›´æ¥ä¾èµ–è¿˜æ˜¯å­ä¾èµ–çš„ä¾èµ–ï¼Œä¼˜å…ˆå°†å…¶æ”¾ç½®åœ¨ <code>node_modules</code> æ ¹ç›®å½•ã€‚<br /></li>
<li>å½“é‡åˆ°ç›¸åŒæ¨¡å—æ—¶ï¼Œåˆ¤æ–­å·²æ”¾ç½®åœ¨ä¾èµ–æ ‘çš„æ¨¡å—ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆæ–°æ¨¡å—çš„ç‰ˆæœ¬èŒƒå›´ï¼Œå¦‚æœç¬¦åˆåˆ™è·³è¿‡ï¼Œä¸ç¬¦åˆåˆ™åœ¨å½“å‰æ¨¡å—çš„ <code>node_modules</code> ä¸‹æ”¾ç½®è¯¥æ¨¡å—ã€‚<br /></li>
<li>æ³¨æ„è¿™ä¸€æ­¥åªæ˜¯ç¡®å®šé€»è¾‘ä¸Šçš„ä¾èµ–æ ‘ï¼Œå¹¶éçœŸæ­£çš„å®‰è£…ï¼Œåé¢ä¼šæ ¹æ®è¿™ä¸ªä¾èµ–ç»“æ„å»ä¸‹è½½æˆ–æ‹¿åˆ°ç¼“å­˜ä¸­çš„ä¾èµ–åŒ…<br /></li>
<li>ä» <code>npm</code> è¿œç¨‹ä»“åº“è·å–åŒ…ä¿¡æ¯<br /></li>
<li>æ ¹æ® <code>package.json</code> æ„å»ºä¾èµ–æ ‘ï¼Œæ„å»ºè¿‡ç¨‹ï¼š<br /></li>
<li>åœ¨ç¼“å­˜ä¸­ä¾æ¬¡æŸ¥æ‰¾ä¾èµ–æ ‘ä¸­çš„æ¯ä¸ªåŒ…<br /></li>
<li>å°†åŒ…è§£å‹åˆ° <code>node_modules</code><br /></li>
<li>ç”Ÿæˆ <code>lock</code> æ–‡ä»¶<br /></li>
</ul>
</li>
<li><p>æœ‰ <code>lock</code> æ–‡ä»¶ï¼š<br /></p>
<ul>
<li>æ£€æŸ¥ <code>package.json</code> ä¸­çš„ä¾èµ–ç‰ˆæœ¬æ˜¯å¦å’Œ <code>package-lock.json</code> ä¸­çš„ä¾èµ–æœ‰å†²çªã€‚<br /></li>
<li>å¦‚æœæ²¡æœ‰å†²çªï¼Œç›´æ¥è·³è¿‡è·å–åŒ…ä¿¡æ¯ã€æ„å»ºä¾èµ–æ ‘è¿‡ç¨‹ï¼Œå¼€å§‹åœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾åŒ…ä¿¡æ¯ï¼Œåç»­è¿‡ç¨‹ç›¸åŒ<br /></li>
</ul>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744893-3321d080-037b-4b81-88eb-aaa367a9d8f5.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />ä¸Šé¢çš„è¿‡ç¨‹ç®€è¦æè¿°äº† <code>npm install</code> çš„å¤§æ¦‚è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹è¿˜åŒ…å«äº†ä¸€äº›å…¶ä»–çš„æ“ä½œï¼Œä¾‹å¦‚æ‰§è¡Œä½ å®šä¹‰çš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½ å¯ä»¥æ‰§è¡Œ <code>npm install package --timing=true --loglevel=verbose</code> æ¥æŸ¥çœ‹æŸä¸ªåŒ…å…·ä½“çš„å®‰è£…æµç¨‹å’Œç»†èŠ‚ã€‚<br><a name="IZbrV"></a></p>
<h3 id="3-7-yarn"><a href="#3-7-yarn" class="headerlink" title="3.7 yarn"></a>3.7 yarn</h3><p><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744887-0e2a904e-5c06-47ec-93a2-87d4c50611dc.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br /><code>yarn</code> æ˜¯åœ¨ <code>2016</code> å¹´å‘å¸ƒçš„ï¼Œé‚£æ—¶ <code>npm</code> è¿˜å¤„äº <code>V3</code> æ—¶æœŸï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰ <code>package-lock.json</code> æ–‡ä»¶ï¼Œå°±åƒä¸Šé¢æˆ‘ä»¬æåˆ°çš„ï¼šä¸ç¨³å®šæ€§ã€å®‰è£…é€Ÿåº¦æ…¢ç­‰ç¼ºç‚¹ç»å¸¸ä¼šå—åˆ°å¹¿å¤§å¼€å‘è€…åæ§½ã€‚æ­¤æ—¶ï¼Œ<code>yarn</code> è¯ç”Ÿï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1579535744888-c339037b-03a1-4cab-b585-d88a59576952.gif#align=left&display=inline&height=1&name=image.gif&originHeight=1&originWidth=1&size=70&status=done&style=none&width=1" alt="image.gif"><br />ä¸Šé¢æ˜¯å®˜ç½‘æåˆ°çš„ <code>yarn</code> çš„ä¼˜ç‚¹ï¼Œåœ¨é‚£ä¸ªæ—¶å€™è¿˜æ˜¯éå¸¸å¸å¼•äººçš„ã€‚å½“ç„¶ï¼Œåæ¥ <code>npm</code> ä¹Ÿæ„è¯†åˆ°äº†è‡ªå·±çš„é—®é¢˜ï¼Œè¿›è¡Œäº†å¾ˆå¤šæ¬¡ä¼˜åŒ–ï¼Œåœ¨åé¢çš„ä¼˜åŒ–ï¼ˆ<code>lock</code>æ–‡ä»¶ã€ç¼“å­˜ã€é»˜è®¤-sâ€¦ï¼‰ä¸­ï¼Œæˆ‘ä»¬å¤šå¤šå°‘å°‘èƒ½çœ‹åˆ° <code>yarn</code> çš„å½±å­ï¼Œå¯è§ <code>yarn</code> çš„è®¾è®¡è¿˜æ˜¯éå¸¸ä¼˜ç§€çš„ã€‚<br /><code>yarn</code> ä¹Ÿæ˜¯é‡‡ç”¨çš„æ˜¯ <code>npm v3</code> çš„æ‰å¹³ç»“æ„æ¥ç®¡ç†ä¾èµ–ï¼Œå®‰è£…ä¾èµ–åé»˜è®¤ä¼šç”Ÿæˆä¸€ä¸ª <code>yarn.lock</code> æ–‡ä»¶ï¼Œè¿˜æ˜¯ä¸Šé¢çš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬çœ‹çœ‹ <code>yarn.lock</code> çš„ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.</span><br><span class="line"># yarn lockfile v1</span><br><span class="line">base64-js@1.0.1:</span><br><span class="line">  version &quot;1.0.1&quot;</span><br><span class="line">  resolved &quot;https://registry.yarnpkg.com/base64-js/-/base64-js-1.0.1.tgz#6926d1b194fbc737b8eed513756de2fcda7ea408&quot;</span><br><span class="line">  integrity sha1-aSbRsZT7xze47tUTdW3i/Np+pAg=</span><br><span class="line">base64-js@^1.0.2:</span><br><span class="line">  version &quot;1.3.1&quot;</span><br><span class="line">  resolved &quot;https://registry.yarnpkg.com/base64-js/-/base64-js-1.3.1.tgz#58ece8cb75dd07e71ed08c736abc5fac4dbf8df1&quot;</span><br><span class="line">  integrity sha512-mLQ4i2QO1ytvGWFWmcngKO//JXAQueZvwEKtjgQFM4jIK0kU+ytMfplL8j+n5mspOfjHwoAg+9yhb7BwAHm36g==</span><br><span class="line">buffer@^5.4.3:</span><br><span class="line">  version &quot;5.4.3&quot;</span><br><span class="line">  resolved &quot;https://registry.yarnpkg.com/buffer/-/buffer-5.4.3.tgz#3fbc9c69eb713d323e3fc1a895eee0710c072115&quot;</span><br><span class="line">  integrity sha512-zvj65TkFeIt3i6aj5bIvJDzjjQQGs4o/sNoezg1F1kYap9Nu2jcUdpwzRSJTHMMzG0H7bZkn4rNQpImhuxWX2A==</span><br><span class="line">  dependencies:</span><br><span class="line">    base64-js &quot;^1.0.2&quot;</span><br><span class="line">    ieee754 &quot;^1.1.4&quot;</span><br><span class="line">ieee754@^1.1.4:</span><br><span class="line">  version &quot;1.1.13&quot;</span><br><span class="line">  resolved &quot;https://registry.yarnpkg.com/ieee754/-/ieee754-1.1.13.tgz#ec168558e95aa181fd87d37f55c32bbcb6708b84&quot;</span><br><span class="line">  integrity sha512-4vf7I2LYV/HaWerSo3XmlMkp5eZ83i+/CDluXi/IGTs/O1sejBNhTtnxzmRZfvOUqj7lZjqHkeTvpgSFDlWZTg==</span><br><span class="line">ignore@^5.1.4:</span><br><span class="line">  version &quot;5.1.4&quot;</span><br><span class="line">  resolved &quot;https://registry.yarnpkg.com/ignore/-/ignore-5.1.4.tgz#84b7b3dbe64552b6ef0eca99f6743dbec6d97adf&quot;</span><br><span class="line">  integrity sha512-MzbUSahkTW1u7JpKKjY7LCARd1fU5W2rLdxlM4kdkayuCwZImjkpluF9CM1aLewYJguPDqewLam18Y6AU69A8A==</span><br></pre></td></tr></table></figure>
<p>å¯è§å…¶å’Œ <code>package-lock.json</code> æ–‡ä»¶è¿˜æ˜¯æ¯”è¾ƒç±»ä¼¼çš„ï¼Œè¿˜æœ‰ä¸€äº›åŒºåˆ«å°±æ˜¯ï¼š</p>
<ul>
<li><code>package-lock.json</code> ä½¿ç”¨çš„æ˜¯ <code>json</code> æ ¼å¼ï¼Œ<code>yarn.lock</code> ä½¿ç”¨çš„æ˜¯ä¸€ç§è‡ªå®šä¹‰æ ¼å¼<br /></li>
<li><code>yarn.lock</code> ä¸­å­ä¾èµ–çš„ç‰ˆæœ¬å·ä¸æ˜¯å›ºå®šçš„ï¼Œæ„å‘³ç€å•ç‹¬åˆä¸€ä¸ª <code>yarn.lock</code> ç¡®å®šä¸äº† <code>node_modules</code> ç›®å½•ç»“æ„ï¼Œè¿˜éœ€è¦å’Œ <code>package.json</code> æ–‡ä»¶è¿›è¡Œé…åˆã€‚è€Œ <code>package-lock.json</code> åªéœ€è¦ä¸€ä¸ªæ–‡ä»¶å³å¯ç¡®å®šã€‚<br /></li>
</ul>
<p><code>yarn</code> çš„ç¼“ç­–ç•¥çœ‹èµ·æ¥å’Œ <code>npm v5</code> ä¹‹å‰çš„å¾ˆåƒï¼Œæ¯ä¸ªç¼“å­˜çš„æ¨¡å—è¢«å­˜æ”¾åœ¨ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åç§°åŒ…å«äº†æ¨¡å—åç§°ã€ç‰ˆæœ¬å·ç­‰ä¿¡æ¯ã€‚ä½¿ç”¨å‘½ä»¤ <code>yarn cache dir</code> å¯ä»¥æŸ¥çœ‹ç¼“å­˜æ•°æ®çš„ç›®å½•ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/webp/186051/1579535742775-b232e73c-1ce0-4afc-a770-bd78b89bbeb8.webp#align=left&display=inline&height=385&originHeight=633&originWidth=1080&size=0&status=done&style=none&width=657"></p>
<blockquote>
<p><code>yarn</code> é»˜è®¤ä½¿ç”¨ <code>prefer-online</code> æ¨¡å¼ï¼Œå³ä¼˜å…ˆä½¿ç”¨ç½‘ç»œæ•°æ®ï¼Œå¦‚æœç½‘ç»œæ•°æ®è¯·æ±‚å¤±è´¥ï¼Œå†å»è¯·æ±‚ç¼“å­˜æ•°æ®ã€‚</p>
</blockquote>
<p><a name="wMpBF"></a></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5a6008c2f265da3e5033cd93">https://juejin.im/post/5a6008c2f265da3e5033cd93</a><br /></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/305539244/answer/551386426">https://www.zhihu.com/question/305539244/answer/551386426</a><br /></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37285173">https://zhuanlan.zhihu.com/p/37285173</a><br /></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://semver.org/lang/zh-CN/">https://semver.org/lang/zh-CN/</a><br /></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://deadhorse.me/nodejs/2014/04/27/semver-in-nodejs.html">http://deadhorse.me/nodejs/2014/04/27/semver-in-nodejs.html</a><br /></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://caibaojian.com/npm/files/package.json.html">http://caibaojian.com/npm/files/package.json.html</a><br /><br><a name="OuMZt"></a></p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å¸Œæœ›é˜…è¯»å®Œæœ¬ç¯‡æ–‡ç« èƒ½å¯¹ä½ æœ‰å¦‚ä¸‹å¸®åŠ©ï¼š</p>
</li>
<li><p>äº†è§£ <code>pacakge.json</code> ä¸­çš„å„é¡¹è¯¦ç»†é…ç½®ä»è€Œå¯¹é¡¹ç›®å·¥ç¨‹åŒ–é…ç½®æœ‰æ›´è¿›ä¸€æ­¥çš„è§è§£<br /></p>
</li>
<li><p>æŒæ¡ <code>npm</code> çš„ç‰ˆæœ¬ç®¡ç†æœºåˆ¶ï¼Œèƒ½åˆç†é…ç½®ä¾èµ–ç‰ˆæœ¬<br /></p>
</li>
<li><p>ç†è§£ <code>npm install</code> å®‰è£…åŸç†ï¼Œèƒ½åˆç†è¿ç”¨ <code>npm</code>ç¼“å­˜ã€<code>package-lock.json</code><br /></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/01/20/192-%E3%80%90NPM%E3%80%91%E5%89%96%E6%9E%90npm%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6/" data-id="ckts3ejzw00rl4d9k71btagpm" data-title="192-ã€NPMã€‘å‰–ænpmçš„åŒ…ç®¡ç†æœºåˆ¶" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-191-ã€CSSã€‘å†™ç»™è‡ªå·±çœ‹çš„shapeså¸ƒå±€æ•™ç¨‹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/01/08/191-%E3%80%90CSS%E3%80%91%E5%86%99%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9C%8B%E7%9A%84shapes%E5%B8%83%E5%B1%80%E6%95%99%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2020-01-07T16:17:09.000Z" itemprop="datePublished">2020-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/01/08/191-%E3%80%90CSS%E3%80%91%E5%86%99%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9C%8B%E7%9A%84shapes%E5%B8%83%E5%B1%80%E6%95%99%E7%A8%8B/">191-ã€CSSã€‘å†™ç»™è‡ªå·±çœ‹çš„shapeså¸ƒå±€æ•™ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a name="er6Ws"></a></p>
<h3 id="ä¸€ã€å‰è¨€-amp-ç´¢å¼•"><a href="#ä¸€ã€å‰è¨€-amp-ç´¢å¼•" class="headerlink" title="ä¸€ã€å‰è¨€&amp;ç´¢å¼•"></a>ä¸€ã€å‰è¨€&amp;ç´¢å¼•</h3><p>CSS Shapeså¸ƒå±€å¯ä»¥å®ç°ä¸è§„åˆ™çš„æ–‡å­—ç¯ç»•æ•ˆæœï¼Œéœ€è¦å’Œæµ®åŠ¨é…åˆä½¿ç”¨ã€‚<br />å…¼å®¹æ€§å¦‚ä¸‹å›¾ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566072-77759718-883a-4a50-bc7a-fe8e041cbde6.png#align=left&display=inline&height=212&originHeight=212&originWidth=489&size=0&status=done&style=none&width=489"><br />è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œç§»åŠ¨ç«¯å¯ç”¨ï¼Œå†…éƒ¨ä¸­åå°é¡¹ç›®å¯ç”¨ã€‚<br />CSS shapeså¸ƒå±€ç›¸å…³å±æ€§å¹¶ä¸å¤šï¼Œå­¦ä¹ æˆæœ¬æ¯”gridå¸ƒå±€ï¼Œflexå¸ƒå±€å°å¾ˆå¤šã€‚</p>
<table>
<thead>
<tr>
<th align="center">Shapeså¸ƒå±€ç›¸å…³å±æ€§</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><br />- <a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2019/02/css-css3-shapes/#shape-outside">shape-outside</a><br />- <a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2019/02/css-css3-shapes/#shape-margin">shape-margin</a><br />- <a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2019/02/css-css3-shapes/#shape-image-threshold">shape-image-threshold</a><br /></td>
</tr>
</tbody></table>
<p><a name="shape-outside"></a></p>
<h3 id="äºŒã€è¯¦ç»†äº†è§£shape-outside"><a href="#äºŒã€è¯¦ç»†äº†è§£shape-outside" class="headerlink" title="äºŒã€è¯¦ç»†äº†è§£shape-outside"></a>äºŒã€è¯¦ç»†äº†è§£shape-outside</h3><p><code>shape-outside</code>æ˜¯ä¸è§„åˆ™å½¢çŠ¶ç¯ç»•å¸ƒå±€çš„æ ¸å¿ƒï¼Œæ”¯æŒçš„å±æ€§å€¼åˆ†ä¸ºå¦‚ä¸‹å››å¤§ç±»ï¼š</p>
<ol>
<li>none â€“ é»˜è®¤å€¼</li>
<li><shape-box> â€“ å›¾å½¢ç›’å­ã€‚</li>
<li><basic-shape> â€“ åŸºæœ¬å›¾å½¢å‡½æ•°ã€‚</li>
<li><image> â€“ å›¾åƒç±»ã€‚</li>
</ol>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>none</code>å¾ˆå¥½ç†è§£ï¼Œè¡¨ç¤ºå°±æ˜¯æ™®é€šçš„çŸ©å½¢ç¯ç»•ã€‚</li>
<li><code>&lt;shape-box&gt;</code>ï¼ˆå›¾å½¢ç›’å­ï¼‰æ˜¯shapeç›¸å…³å¸ƒå±€ä¸­çš„ä¸€ä¸ªåè¯ï¼Œæ¯”<code>clip-path</code>å±æ€§ä¸­çš„<code>&lt;geometry-box&gt;</code>ï¼ˆå‡ ä½•ç›’å­ï¼‰æ”¯æŒçš„ç›’å­è¦å°‘ä¸€äº›ï¼Œå°±æ˜¯CSS2.1ä¸­çš„åŸºæœ¬ç›’æ¨¡å‹çš„4ç§ç›’å­ï¼Œåˆ†åˆ«æ˜¯<code>margin-box</code>ï¼Œ<code>border-box</code>ï¼Œ<code>padding-box</code>å’Œ<code>content-box</code>ã€‚è¦æ¥æŒ‡å®šæ–‡å­—ç¯ç»•çš„æ—¶å€™æ˜¯ä¾ç…§å“ªä¸ªç›’å­çš„è¾¹ç¼˜æ¥è®¡ç®—çš„ã€‚</li>
<li><code>&lt;basic-shape&gt;</code>æŒ‡çš„æ˜¯åŸºæœ¬å½¢çŠ¶å‡½æ•°ï¼Œå’ŒCSS <a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2014/12/css3-svg-clip-path/">clip-pathå‰ªè£å±æ€§</a>æ”¯æŒçš„åŸºæœ¬å½¢çŠ¶å‡½æ•°ä¸€æ¨¡ä¸€æ ·ã€‚</li>
<li><code>&lt;image&gt;</code>å€¼çš„æ˜¯å›¾åƒç±»ï¼ŒåŒ…æ‹¬URLé“¾æ¥å›¾ç‰‡ï¼Œæ¸å˜å›¾åƒï¼Œ<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2012/09/css3-background-image-cross-fade/">cross-fade()</a>ï¼Œ<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/?p=1758">element()</a>ç­‰ã€‚æ‰€æœ‰è¿™äº›å›¾åƒç±»ï¼Œ<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2017/11/css-css3-mask-masks/">CSS3 maské®ç½©å±æ€§</a>ä¹Ÿéƒ½æ”¯æŒï¼Œæœ¬æ–‡åªä¼šä»‹ç»å¸¸ç”¨çš„URLé“¾æ¥å’Œæ¸å˜å›¾åƒï¼Œå…¶ä»–å›¾ç‰‡ç±»ä¸ä»‹ç»ï¼Œæœ‰å…´è¶£å¯ä»¥è®¿é—®<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2017/11/css-css3-mask-masks/">ä»‹ç»é®ç½©çš„è¿™ç¯‡æ–‡ç« </a>ï¼Œæœ‰å®Œå…¨å±•ç¤ºã€‚</li>
</ul>
<p>ä¸åŒç±»å‹å±æ€§å€¼ä½¿ç”¨ç¤ºæ„ï¼ˆå–è‡ª<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/shape-outside">MDN</a>ï¼‰ï¼š<br /></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å…³é”®å­—å€¼ */</span></span><br><span class="line">shape-outside: none;</span><br><span class="line">shape-outside: margin-box;</span><br><span class="line">shape-outside: content-box;</span><br><span class="line">shape-outside: border-box;</span><br><span class="line">shape-outside: padding-box;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å‡½æ•°å€¼ */</span></span><br><span class="line">shape-outside: <span class="built_in">circle</span>();</span><br><span class="line">shape-outside: <span class="built_in">ellipse</span>();</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span>);</span><br><span class="line">shape-outside: <span class="built_in">polygon</span>(<span class="number">10px</span> <span class="number">10px</span>, <span class="number">20px</span> <span class="number">20px</span>, <span class="number">30px</span> <span class="number">30px</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &lt;url&gt;å€¼ */</span></span><br><span class="line">shape-outside: <span class="built_in">url</span>(<span class="string">image.png</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¸å˜å€¼ */</span></span><br><span class="line">shape-outside: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>) <span class="number">150px</span>, red <span class="number">150px</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¸€ä¸ªå®ä¾‹å¿«é€Ÿäº†è§£ä¸‹å„ä¸ªç±»å‹å±æ€§å€¼çš„ä½œç”¨å’Œè¡¨ç°ã€‚<br><a name="sMS0q"></a></p>
<h4 id="1-å…³é”®å­—å±æ€§å€¼"><a href="#1-å…³é”®å­—å±æ€§å€¼" class="headerlink" title="1. å…³é”®å­—å±æ€§å€¼"></a>1. å…³é”®å­—å±æ€§å€¼</h4><p>æµ‹è¯•HTMLå’ŒCSSä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;shape&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>åœ¨CSS Shapesé—®ä¸–ä¹‹å‰...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shape</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60px</span>; <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#cd0000</span>;</span><br><span class="line">    shape-outside: none;  <span class="comment">/* æˆ–margin-boxï¼Œborder-boxï¼Œpadding-boxï¼Œcontent-box */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¸ƒå±€è¡¨ç°å¦‚ä¸‹GIFæˆªå±ç¤ºæ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1578413566089-42f0d934-b234-4eea-a500-5cafbeb78faa.gif#align=left&display=inline&height=343&originHeight=343&originWidth=421&size=0&status=done&style=none&width=421"><br />å¯ä»¥çœ‹åˆ°ï¼Œå½“<code>shape-outside</code>å±æ€§å€¼ä¸º<code>none</code>ä»¥å¤–çš„å…¶ä»–å…³é”®å­—çš„æ—¶å€™ï¼Œå°±ç®—æ˜¯æ™®é€šçš„<code>border-radius</code>åœ†è§’ä¹Ÿèƒ½å®ç°ç¯ç»•æ•ˆæœã€‚<br />çœ¼è§ä¸ºå®ï¼Œæ‚¨å¯ä»¥ç‹ ç‹ çš„ç‚¹å‡»è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/study/201901/css-shape-outside-keywords-demo.php">CSS shape-outsideå…³é”®å­—å±æ€§å€¼æµ‹è¯•demo</a><br><a name="dIThY"></a></p>
<h4 id="2-åŸºæœ¬çš„å½¢çŠ¶å‡½æ•°"><a href="#2-åŸºæœ¬çš„å½¢çŠ¶å‡½æ•°" class="headerlink" title="2. åŸºæœ¬çš„å½¢çŠ¶å‡½æ•°"></a>2. åŸºæœ¬çš„å½¢çŠ¶å‡½æ•°</h4><p>æŒ‡çš„æ˜¯ä¸‹é¢è¿™å››ä¸ªåŸºæœ¬çš„å½¢çŠ¶å‡½æ•°ï¼š</p>
<ul>
<li>circle() â€“ åœ†</li>
<li>ellipse() â€“ æ¤­åœ†</li>
<li>inset() â€“ å†…çŸ©å½¢ï¼ˆåŒ…æ‹¬åœ†è§’çŸ©å½¢ï¼‰</li>
<li>polygon() â€“ å¤šè¾¹å½¢</li>
</ul>
<p>å…¶ä¸­ï¼š<br /><strong>circle() â€“ åœ†</strong><br />è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">circle( <span class="selector-attr">[&lt;shape-radius&gt;]</span>? <span class="selector-attr">[at &lt;position&gt;]</span>? )</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­é—®å·<code>?</code>æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œè¡¨ç¤º<code>0</code>å’Œ<code>1</code>ï¼Œä¹Ÿå°±æ˜¯è¯´<code>shape-radius</code>ï¼ˆåœ†åŠå¾„ï¼‰å’Œ<code>position</code>ï¼ˆåœ†å¿ƒä½ç½®ï¼‰éƒ½æ˜¯å¯ä»¥ç¼ºçœçš„ï¼Œè¡¨ç¤ºã€‚å› æ­¤ï¼Œä¸‹é¢çš„å†™æ³•éƒ½æ˜¯åˆæ³•çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shape-outside: <span class="built_in">circle</span>();</span><br><span class="line">shape-outside: <span class="built_in">circle</span>(<span class="number">50%</span>);</span><br><span class="line">shape-outside: <span class="built_in">circle</span>(at <span class="number">50%</span> <span class="number">50%</span>);</span><br><span class="line">shape-outside: <span class="built_in">circle</span>(<span class="number">50%</span> at <span class="number">50%</span> <span class="number">50%</span>);</span><br><span class="line">shape-outside: <span class="built_in">circle</span>(<span class="number">50px</span> at <span class="number">50px</span> <span class="number">50px</span>);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å®ç°ç±»ä¼¼ä¸‹å›¾çš„ç¯ç»•æ•ˆæœï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566147-1d8124fa-0c35-4054-aba2-3d917e598df0.png#align=left&display=inline&height=225&originHeight=225&originWidth=254&size=0&status=done&style=none&width=254"><br />å’Œå…³é”®å­—å±æ€§å€¼åŠ <code>border-radius</code>å®ç°çš„åœ†å½¢ç¯ç»•ç›¸æ¯”ï¼Œ<code>circle()</code>å¾—å®ç°ç›¸å¯¹æ›´åŠ çµæ´»ä¸€äº›ï¼Œæ¯”æ–¹è¯´æƒ³å¼„ä¸€ä¸ªåŠåœ†çš„ç¯ç»•æ•ˆæœï¼Œå¯ä»¥ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shape-outside: <span class="built_in">circle</span>(<span class="number">50%</span> at <span class="number">0%</span> <span class="number">50%</span>);</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566157-64b0da0a-540a-4eb7-a884-b7d0fa1aa163.png#align=left&display=inline&height=223&originHeight=223&originWidth=303&size=0&status=done&style=none&width=303"><br /><strong>ellipse() â€“ æ¤­åœ†</strong><br />è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ellipse( <span class="selector-attr">[&lt;shape-radius&gt;&#123;2&#125;]</span>? <span class="selector-attr">[at &lt;position&gt;]</span>? )</span><br></pre></td></tr></table></figure>

<p>xè½´åŠå¾„ï¼Œyè½´åŠå¾„ï¼Œä»¥åŠæ¤­åœ†çš„åœ†å¿ƒä½ç½®ã€‚ä»¥ä¸‹éƒ½æ˜¯åˆæ³•çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shape-outside: <span class="built_in">ellipse</span>();</span><br><span class="line">shape-outside: <span class="built_in">ellipse</span>(<span class="number">50px</span> <span class="number">75px</span>);</span><br><span class="line">shape-outside: <span class="built_in">ellipse</span>(at <span class="number">50%</span> <span class="number">50%</span>);</span><br><span class="line">shape-outside: <span class="built_in">ellipse</span>(<span class="number">50px</span> <span class="number">75px</span> at <span class="number">50%</span> <span class="number">50%</span>);</span><br></pre></td></tr></table></figure>

<p>xï¼ŒyåŠå¾„é™¤äº†å…·ä½“æ•°å€¼ï¼Œè¿˜æ”¯æŒ<code>farthest-side</code>å’Œ<code>closest-side</code>è¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œé¡¾åæ€ä¹‰ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ°æœ€é•¿è¾¹çš„é•¿åº¦å’Œæœ€çŸ­è¾¹çš„é•¿åº¦ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ellipse(farthest-side closest-side at <span class="number">25%</span> <span class="number">25%</span>)</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºåœ¨æµ®åŠ¨å…ƒç´ <code>25% 25%</code>ä½ç½®ï¼Œä»¥è·ç¦»æµ®åŠ¨å…ƒç´ æœ€é•¿è¾¹çš„è·ç¦»ä½œä¸ºæ¤­åœ†çš„xåæ ‡ï¼Œä»¥è·ç¦»æµ®åŠ¨å…ƒç´ è¾¹ç¼˜æœ€çŸ­çš„è·ç¦»ä½œä¸ºæ¤­åœ†çš„yåæ ‡ã€‚äºæ˜¯ï¼Œæœ‰å¦‚ä¸‹çš„æ•ˆæœå›¾ï¼ˆæµ®åŠ¨å…ƒç´ å°ºå¯¸100*100ï¼Œçº¢è‰²ç‚¹æ ‡è®°æ˜¯<code>25% 25%</code>ä½ç½®ï¼Œå¯ä»¥çœ‹å‡ºæ¤­åœ†çš„è½®å»“ï¼‰ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566127-e755a974-57b5-4723-bac7-ccf7b7529718.png#align=left&display=inline&height=237&originHeight=237&originWidth=347&size=0&status=done&style=none&width=347"><br />å¦‚æœæˆ‘ä»¬è°ƒæ¢ä¸€ä¸‹é¡ºåºï¼ŒæŠŠæœ€çŸ­è¾¹ä½œä¸ºxè½´ï¼Œæœ€é•¿è¾¹ä½œä¸ºyè½´ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ellipse(closest-side farthest-side at <span class="number">25%</span> <span class="number">25%</span>)</span><br></pre></td></tr></table></figure>

<p>åˆ™æœ€ç»ˆçš„è¡¨ç°å¦‚ä¸‹æˆªå›¾ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566140-83887f86-8c79-4179-9a26-3f18b17f3c2d.png#align=left&display=inline&height=259&originHeight=259&originWidth=247&size=0&status=done&style=none&width=247"><br />ä»”ç»†è§‚å¯Ÿï¼Œå°±ä¸éš¾ç†è§£<code>farthest-side</code>å’Œ<code>closest-side</code>çš„æ„æ€äº†ã€‚<br /><strong>inset() â€“ å†…çŸ©å½¢ï¼ˆåŒ…æ‹¬åœ†è§’çŸ©å½¢ï¼‰</strong><br />è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset( &lt;shape-arg&gt;&#123;<span class="number">1</span>,<span class="number">4</span>&#125; <span class="selector-attr">[round &lt;border-radius&gt;]</span>? )</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­<code>shape-arg</code>æ˜¯å¿…é¡»å‚æ•°ï¼Œå¯ä»¥æ˜¯1~4ä¸ªå€¼ã€‚å½“æä¾›æ‰€æœ‰å‰å››ä¸ªå‚æ•°æ—¶ï¼Œå®ƒä»¬è¡¨ç¤ºä»å‚è€ƒæ¡†å‘å†…çš„é¡¶éƒ¨ï¼Œå³ä¾§ï¼Œåº•éƒ¨å’Œå·¦ä¾§åç§»ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰äº†æ’å…¥çš„çŸ©å½¢çš„è¾¹ç¼˜ä½ç½®ã€‚ è¿™äº›å‚æ•°éµå¾ªè¾¹è·ç¼©å†™çš„è¯­æ³•ï¼ˆç±»ä¼¼<code>margin</code>ã€<code>padding</code>ç­‰å±æ€§ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªæˆ–4ä¸ªå€¼ã€‚<code>border-radius</code>è¡¨ç¤ºåœ†è§’å¤§å°ï¼Œå¯ä»¥ç¼ºçœã€‚<br />å› æ­¤ï¼Œä¸‹é¢è¿™äº›å†™æ³•éƒ½æ˜¯åˆæ³•çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span>);</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">20px</span>);</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span>);</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span>);</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span> round <span class="number">10px</span>);</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ä¸Šé¢æœ€åä¸€è¡Œä»£ç æ•ˆæœä¸ºï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566007-b31ec3e2-3be9-4433-ad3a-c8e3783a56ec.png#align=left&display=inline&height=220&originHeight=220&originWidth=280&size=0&status=done&style=none&width=280"><br />æ§åˆ¶å°æŸ¥çœ‹å…ƒç´ ç›’å­å¯ä»¥çœ‹åˆ°ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566143-89bc095e-7eae-4875-a407-1ae3670574a1.png#align=left&display=inline&height=237&originHeight=237&originWidth=310&size=0&status=done&style=none&width=310"><br /><strong>polygon() â€“ å¤šè¾¹å½¢</strong><br /><code>polygon()</code>å¤šè¾¹å½¢åè€Œæ˜¯è¯­æ³•æœ€å¥½ç†è§£çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">polygon( <span class="selector-attr">[&lt;fill-rule&gt;,]</span>? <span class="selector-attr">[&lt;shape-arg&gt; &lt;shape-arg&gt;]</span># )</span><br></pre></td></tr></table></figure>

<p><code>fill-rule</code>è¡¨ç¤ºå¡«å……è§„åˆ™ï¼Œå¯ä»¥æ˜¯<code>nonzero</code>ä»¥åŠ<code>evenodd</code>ï¼Œé»˜è®¤å€¼æ˜¯<code>nonzero</code>ã€‚è¿™ä¸¤ä¸ªå¡«å……è§„åˆ™æ˜¯å›¾å½¢é¢†åŸŸå¿…é¡»è¦æŒæ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œå¯ä»¥å‚è§æˆ‘ä¹‹å‰çš„æ–‡ç« â€œ<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2018/10/nonzero-evenodd-fill-mode-rule/">ææ‡‚SVG/Canvasä¸­nonzeroå’Œevenoddå¡«å……è§„åˆ™</a>â€è¿›è¡Œå­¦ä¹ ã€‚<br />åœºæ™¯<code>polygon</code>ç”¨æ³•å°±æ˜¯ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">polygon( x1 y1, x2 y2, x3 y3, ... )</span><br></pre></td></tr></table></figure>

<p>å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå¤šè¾¹å½¢çš„ç‚¹åæ ‡ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shape-outside: <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>, <span class="number">0</span> <span class="number">100px</span>, <span class="number">100px</span> <span class="number">200px</span>);</span><br><span class="line">shape-outside: <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>, <span class="number">100px</span> <span class="number">0</span>, <span class="number">0</span> <span class="number">50px</span>, <span class="number">100px</span> <span class="number">100px</span>, <span class="number">0</span> <span class="number">100px</span>);</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœç¤ºæ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566041-c7797a0f-b382-4bee-ae26-5cd48b62f711.png#align=left&display=inline&height=214&originHeight=214&originWidth=309&size=0&status=done&style=none&width=309"><br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566024-07bb1f4a-9389-480e-a912-76b7b66a72be.png#align=left&display=inline&height=232&originHeight=232&originWidth=307&size=0&status=done&style=none&width=307"><br />//zxx: Firefoxæµè§ˆå™¨å†…ç½®äº†ä¸€ä¸ªå½¢çŠ¶ç¼–è¾‘å™¨ï¼Œä½ å¯ä»¥åœ¨ Inspector ä¸­é€šè¿‡ç‚¹å‡»å¤šè¾¹å½¢å¯è§†åŒ–ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„<code>polygon()</code>åæ ‡ä»£ç ã€‚</p>
<hr>
<p><strong>å¤ç›˜æ±‡æ€»</strong><br />ä¸Šé¢æåˆ°çš„æ‰€æœ‰shapeå‡½æ•°éƒ½æœ‰demoå¯ä»¥ä½“éªŒï¼Œæ‚¨å¯ä»¥ç‹ ç‹ åœ°ç‚¹å‡»è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/study/201901/css-shape-outside-function-demo.php">CSS shape-outsideåŸºæœ¬å½¢çŠ¶æµ‹è¯•demo</a><br />çº¢è‰²çš„å›¾å½¢åªæ˜¯ä¸ºäº†æ–¹ä¾¿è®©å¤§å®¶çŸ¥é“å½¢çŠ¶æ˜¯æ€ä¹ˆæ ·å­çš„ï¼Œå®é™…å¼€å‘çš„æ—¶å€™å¯ä»¥ç›´æ¥çœç•¥ï¼Œæˆ–è€…æ¢æˆå…¶ä»–å­—ç¬¦æˆ–è€…ä½å›¾ï¼Œå¦‚ç…§ç‰‡ï¼Œé£æ™¯ç”»ï¼Œæ’ç”»ç­‰ã€‚<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566027-fb707c35-1041-4b15-8e99-6c9671d819fd.png#align=left&display=inline&height=304&originHeight=304&originWidth=421&size=0&status=done&style=none&width=421"><br><a name="cEqds"></a></p>
<h4 id="3-å›¾åƒç±»"><a href="#3-å›¾åƒç±»" class="headerlink" title="3. å›¾åƒç±»"></a>3. å›¾åƒç±»</h4><p>å›¾åƒç±»åªä¸¾URLå’Œæ¸å˜çš„ä¾‹å­ï¼Œå› ä¸ºè¿™ä¸¤ç§ç±»å‹æœ€å¸¸ç”¨ã€‚<br /><strong>URLä¸è§„åˆ™å›¾å½¢</strong><br />å·²çŸ¥æœ‰ä¸ªå›½å®¶äºŒçº§ä¿æŠ¤åŠ¨ç‰©é¹¦é¹‰çš„PNGå›¾å½¢ï¼Œå¦‚ä¸‹ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566028-29f220a5-9edc-4682-a96a-ed7404e35ba6.png#align=left&display=inline&height=297&originHeight=297&originWidth=181&size=0&status=done&style=none&width=181"><br />å¦‚ä¸‹CSSä»£ç ï¼Œå°±å¯ä»¥å®ç°æ–‡å­—ç¯ç»•è¿™ä¸ªé¹¦é¹‰è½®å»“å¸ƒå±€æ•ˆæœï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shape</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="comment">/* æ–‡å­—ç¯ç»•è¿™ä¸ªé¹¦é¹‰ */</span></span><br><span class="line">    shape-outside: <span class="built_in">url</span>(<span class="string">./birds.png</span>);</span><br><span class="line">    <span class="comment">/* é¹¦é¹‰èµ‹è‰²å¹¶æ˜¾ç¤º */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#cd0000</span>;</span><br><span class="line">    -webkit-<span class="attribute">mask</span>: <span class="built_in">url</span>(<span class="string">./birds.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">mask</span>: <span class="built_in">url</span>(<span class="string">./birds.png</span>) no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°çš„æ•ˆæœå¦‚ä¸‹æˆªå›¾æ‰€ç¤ºï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566131-cb71e59b-b41b-451a-9376-e717b1e32514.png#align=left&display=inline&height=391&originHeight=391&originWidth=487&size=0&status=done&style=none&width=487"><br />è¿™ä¸ªæ•ˆæœæœ‰ä¸“é—¨çš„demoé¡µé¢çš„ï¼Œæ‚¨å¯ä»¥ç‹ ç‹ çš„ç‚¹å‡»è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/study/201901/css-shape-outside-url-image-demo.php">CSS shape-outside PNGå›¾ç‰‡ç¯ç»•demo</a><br /><strong>æ³¨æ„ï¼š</strong><code>url()</code>é“¾æ¥çš„å›¾ç‰‡å°ºå¯¸æ— æ³•ä¿®æ”¹ï¼›<code>url()</code>é“¾æ¥çš„å›¾ç‰‡ä¸èƒ½è·¨åŸŸï¼Œå¦åˆ™ä¼šæ²¡æœ‰æ•ˆæœï¼Œå› ä¸ºæ²¡æœ‰å…¼å®¹CORSï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹å›¾çš„æŠ¥é”™æ•ˆæœï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566033-07e5477b-926b-45bb-b3a8-222fab9b0ab1.png#align=left&display=inline&height=157&originHeight=157&originWidth=456&size=0&status=done&style=none&width=456"><br />æ­¤æ—¶éœ€è¦åœ¨æœåŠ¡å™¨ä¾§ï¼Œæˆ–è€…CDNé‚£é‡Œé…ç½®â€™Access-Control-Allow-Originâ€™å¤´åŒ…å«å½“å‰é¡µé¢çš„åŸŸåã€‚<br /><strong>gradientæ¸å˜ä¸ç¯ç»•</strong><br />è¿™é‡Œçš„æ¸å˜å¯ä»¥æ˜¯<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/?p=3639">çº¿æ€§æ¸å˜</a>ä¹Ÿå¯ä»¥æ˜¯<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2017/11/css3-radial-gradient-syntax-example/">å¾„å‘æ¸å˜</a>ï¼Œä»¥åŠrepeatæ¸å˜ã€‚<br />ä¾‹å¦‚ç»˜åˆ¶æ–œå‘çº¿æ€§æ¸å˜ï¼ŒCSSå¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shape</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>; <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">    --gradient: <span class="built_in">linear-gradient</span>(to right bottom, <span class="number">#cd0000</span>, transparent <span class="number">50%</span>, transparent <span class="number">90%</span>, <span class="number">#cd0000</span>);</span><br><span class="line">    shape-outside: <span class="built_in">var</span>(--gradient);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--gradient);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/png/186051/1578413566178-ce3a6734-685a-4805-b459-dbe5244f3b49.png#align=left&display=inline&height=241&originHeight=241&originWidth=381&size=0&status=done&style=none&width=381"><br />Shapeå¸ƒå±€ä¸­æœ‰ä¸ªCSSå±æ€§åä¸º<code>[shape-image-threshold](https://www.zhangxinxu.com/wordpress/2019/02/css-css3-shapes/#shape-image-threshold)</code>ï¼Œå¯ä»¥æŒ‡å®šæ–‡å­—ç¯ç»•å›¾åƒçš„è¾¹ç•Œé€æ˜åº¦å€¼ã€‚è¿™ä¸ªåé¢ä¼šä»‹ç»ã€‚<br><a name="shape-margin"></a></p>
<h3 id="ä¸‰ã€äº†è§£shape-margin"><a href="#ä¸‰ã€äº†è§£shape-margin" class="headerlink" title="ä¸‰ã€äº†è§£shape-margin"></a>ä¸‰ã€äº†è§£shape-margin</h3><p><code>shape-margin</code>å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æ–‡å­—ç¯ç»•å›¾å½¢æ—¶å€™ï¼Œè·ç¦»è¾¹ç•Œçš„ä½ç½®ï¼Œè¿™ä¸ªå±æ€§å¾ˆæœ‰ç”¨ã€‚å› ä¸ºåœ¨Shapeå¸ƒå±€ä¸­ï¼Œæ–‡å­—ç¯ç»•æœ‰æ—¶å€™æ˜¯æ— è§†<code>margin</code>å±æ€§çš„ï¼Œæƒ³è¦æ’‘å¼€é—´è·ï¼Œå¤šåŠè¿˜å¾—ç”¨<code>shape-margin</code>å±æ€§ã€‚<br />ç”¨æ³•ç¤ºæ„ï¼š<br /></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é•¿åº¦å€¼ */</span></span><br><span class="line">shape-<span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">shape-<span class="attribute">margin</span>: <span class="number">20mm</span>;</span><br><span class="line"><span class="comment">/* ç™¾åˆ†æ¯”å€¼ */</span></span><br><span class="line">shape-<span class="attribute">margin</span>: <span class="number">60%</span>;</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶è¯¥å±æ€§åŒ…å«äº†<code>margin</code>ï¼Œä½†æ˜¯è¡Œä¸ºè¡¨ç°å’ŒCSSçš„<code>margin</code>å±æ€§å´æœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚é¦–å…ˆï¼Œ<code>shape-margin</code>åªæ”¯æŒ1ä¸ªå€¼ï¼Œ<code>margin</code>åˆ™1~4ä¸ªï¼›ç„¶å<code>shape-margin</code>çš„æœ‰æ•ˆæ•°å€¼èŒƒå›´æ˜¯æœ‰é™åˆ¶çš„ï¼Œä»0åˆ°æµ®åŠ¨å…ƒç´ çš„è¾¹ç•Œï¼ˆæ­¤æ—¶å¸ƒå±€æ•ˆæœè¡¨ç°å¦‚åŒæ™®é€šæµ®åŠ¨å¸ƒå±€ï¼‰ã€‚<br />æ‹¿å°é¹¦é¹‰æ¡ˆä¾‹ä¸¾ä¾‹å§ï¼Œä¸åŒ<code>shape-margin</code>å€¼çš„è¡¨ç°åˆ†åˆ«å¦‚ä¸‹gifåŠ¨å›¾æ‰€ç¤ºï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1578413566049-da89211a-7d9a-4eba-8d1f-327352df4480.gif#align=left&display=inline&height=380&originHeight=380&originWidth=437&size=0&status=done&style=none&width=437"><br />å¯ä»¥çœ‹åˆ°ï¼Œå½“<code>shape-margin</code>çš„å€¼è¶…è¿‡ä¸€å®šçš„æ•°é‡çš„æ—¶å€™ï¼ˆè¶…è¿‡äº†æµ®åŠ¨å…ƒç´ çš„ç›’å­çš„è¾¹ç•Œï¼‰ï¼Œæ­¤æ—¶ï¼Œçœ‹ä¸åˆ°ä»»ä½•çš„å˜åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯ï¼Œ<code>shape-margin</code>åªèƒ½æ§åˆ¶ä¸è§„åˆ™ç¯ç»•çš„é—´è·ã€‚<br />æ‚¨å¯ä»¥ç‹ ç‹ åœ°ç‚¹å‡»è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/study/201901/css-shape-margin-demo.php">CSS shape-marginæµ‹è¯•demo</a><br><a name="shape-image-threshold"></a></p>
<h3 id="å››ã€äº†è§£shape-image-threshold"><a href="#å››ã€äº†è§£shape-image-threshold" class="headerlink" title="å››ã€äº†è§£shape-image-threshold"></a>å››ã€äº†è§£shape-image-threshold</h3><p>thresholdè¿™ä¸ªå•è¯æ˜¯â€œé˜ˆ(yu)å€¼â€çš„æ„æ€ï¼Œ<code>shape-image-threshold</code>æŒ‡å›¾åƒç¯ç»•æ—¶å€™çš„åŠé€æ˜é˜ˆå€¼ï¼Œé»˜è®¤æ˜¯<code>0.0</code>ï¼Œä¹Ÿå°±æ˜¯å›¾åƒé€æ˜åº¦ä¸º<code>0</code>çš„åŒºåŸŸè¾¹ç•Œæ‰èƒ½ç¯ç»•ã€‚åŒç†ï¼Œå¦‚æœå€¼æ˜¯<code>0.5</code>è¡¨ç¤ºé€æ˜åº¦å°äº0.5çš„åŒºåŸŸéƒ½å¯ä»¥æ–‡å­—ç¯ç»•ã€‚<br />è¿™ä¸ªå±æ€§ä¹Ÿéå¸¸å®ç”¨ï¼Œä¹Ÿå¾ˆå¥½ç†è§£ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªå®è‰²åˆ°é€æ˜çš„å€¾æ–œçº¿æ€§æ¸å˜ï¼Œåˆ™ä»0~1çš„é€æ˜åº¦éƒ½è¦†ç›–åˆ°äº†ï¼Œæ­¤æ—¶ï¼Œä¸åŒçš„<code>shape-image-threshold</code>å€¼åˆ™ä¼šäº§ç”Ÿä¸åŒçš„å¸ƒå±€å˜åŒ–ï¼Œå¦‚ä¸‹GIFå›¾ç¤ºæ„ï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1578413566076-947da95b-54f9-4693-ac11-c7e5aeae6be3.gif#align=left&display=inline&height=340&originHeight=340&originWidth=412&size=0&status=done&style=none&width=412"><br />åˆ†åˆ«å±•ç¤ºäº†å¦‚ä¸‹é˜ˆå€¼çš„ç¯ç»•è¡¨ç°ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shape-image-threshold: <span class="number">0.0</span>;</span><br><span class="line">shape-image-threshold: <span class="number">0.3</span>;</span><br><span class="line">shape-image-threshold: <span class="number">0.6</span>;</span><br><span class="line">shape-image-threshold: <span class="number">0.8</span>;</span><br></pre></td></tr></table></figure>

<p>çœ¼è§ä¸ºå®ï¼Œæ‚¨å¯ä»¥ç‹ ç‹ åœ°ç‚¹å‡»è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/study/201901/css-shape-image-threshold-demo.php">CSSä¸åŒshape-image-thresholdå€¼æµ‹è¯•demo</a><br><a name="0jwvd"></a></p>
<h3 id="äº”ã€æ¡ˆä¾‹ï¼šiPhone-Xåˆ˜æµ·å¤´"><a href="#äº”ã€æ¡ˆä¾‹ï¼šiPhone-Xåˆ˜æµ·å¤´" class="headerlink" title="äº”ã€æ¡ˆä¾‹ï¼šiPhone Xåˆ˜æµ·å¤´"></a>äº”ã€æ¡ˆä¾‹ï¼šiPhone Xåˆ˜æµ·å¤´</h3><p>å®ç°ç¯ç»•iPhone Xåˆ˜æµ·å¤´çš„æ•ˆæœï¼š<br /><img src="https://cdn.nlark.com/yuque/0/2020/gif/186051/1578413566081-350a2504-57dc-4775-af19-14ed398f7957.gif#align=left&display=inline&height=491&originHeight=491&originWidth=302&size=0&status=done&style=none&width=302"><br />è¿™æ˜¯æˆ‘2å¹´å‰çš„iPhone Xåˆšå‡ºæ¥å®ç°ä»‹ç»çš„å¸ƒå±€å®ç°ï¼Œå°±æ˜¯å€ŸåŠ©CSS Shapeså¸ƒå±€ï¼Œè¯¦ç»†å®ç°å‚è§è¿™ç¯‡æ–‡ç« ï¼šâ€œ<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2017/09/css-shapes-outside-iphone-x-head/">å€ŸåŠ©CSS Shapeså®ç°å…ƒç´ æ»šåŠ¨ç¯ç»•iPhone Xçš„åˆ˜æµ·</a>â€ã€‚<br />è¿™é‡Œä¸èµ˜è¿°ã€‚<br><a name="7BYza"></a></p>
<h3 id="å…­ã€ç»“è¯­"><a href="#å…­ã€ç»“è¯­" class="headerlink" title="å…­ã€ç»“è¯­"></a>å…­ã€ç»“è¯­</h3><p>è‡³æ­¤ï¼ŒCSS3 å‡ å¤§å¸ƒå±€å…¨éƒ¨ä»‹ç»å®Œæ¯•äº†ï¼Œåˆ†åˆ«æ˜¯Flexå¸ƒå±€ï¼ŒGridå¸ƒå±€ï¼ŒColumnså¸ƒå±€ï¼Œä»¥åŠæœ¬æ–‡çš„Shapeså¸ƒå±€ï¼Œè‡³äºCSS Regionså¸ƒå±€ï¼Œçœ‹è¶‹åŠ¿ï¼Œæµè§ˆå™¨åº”è¯¥æ”¾å¼ƒæ”¯æŒäº†ï¼Œå› æ­¤ï¼Œå¿½ç•¥ï¼Œä¸åšä»‹ç»ã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2018/10/display-flex-css3-css/">å†™ç»™è‡ªå·±çœ‹çš„display: flexå¸ƒå±€æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2018/11/display-grid-css-css3/">å†™ç»™è‡ªå·±çœ‹çš„display: gridå¸ƒå±€æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2019/01/css-css3-columns-layout/">å†™ç»™è‡ªå·±çœ‹çš„CSS columnsåˆ†æ å¸ƒå±€æ•™ç¨‹</a></li>
</ul>
<p>æœ¬æ–‡è™½ç„¶æœ‰äº›ç¯‡å¹…ï¼Œä½†æ˜¯æ¯”Gridå¸ƒå±€å­¦èµ·æ¥è¦è½»æ¾å¤šäº†ã€‚<br />æ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿äº¤æµï¼<br /><img src="https://cdn.nlark.com/yuque/0/2020/svg/186051/1578413566093-20d47d86-6504-4282-9b49-0f4183e40542.svg#align=left&display=inline&height=20&originHeight=36&originWidth=36&size=0&status=done&style=none&width=20"><br />æœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œä¼šç»å¸¸æ›´æ–°çŸ¥è¯†ç‚¹ä»¥åŠä¿®æ­£ä¸€äº›é”™è¯¯ï¼Œå› æ­¤è½¬è½½è¯·ä¿ç•™åŸå‡ºå¤„ï¼Œæ–¹ä¾¿æº¯æºï¼Œé¿å…é™ˆæ—§é”™è¯¯çŸ¥è¯†çš„è¯¯å¯¼ï¼ŒåŒæ—¶æœ‰æ›´å¥½çš„é˜…è¯»ä½“éªŒã€‚<br />æœ¬æ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/?p=8453">https://www.zhangxinxu.com/wordpress/?p=8453</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/01/08/191-%E3%80%90CSS%E3%80%91%E5%86%99%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9C%8B%E7%9A%84shapes%E5%B8%83%E5%B1%80%E6%95%99%E7%A8%8B/" data-id="ckts3ejyh00mn4d9kdhoq9f0u" data-title="191-ã€CSSã€‘å†™ç»™è‡ªå·±çœ‹çš„shapeså¸ƒå±€æ•™ç¨‹" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190-ã€æ€»ç»“ã€‘2019å…¨å¹´æ€»ç»“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/01/04/190-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912019%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2020-01-04T05:26:21.000Z" itemprop="datePublished">2020-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/01/04/190-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912019%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/">190-ã€æ€»ç»“ã€‘2019å…¨å¹´æ€»ç»“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <img width="600px" src="https://blog.pingan8787.com/EveryYear/2019Summary/leo2019.JPG" />

<p>å›é¡¾è¿™ä¸€å¹´ï¼Œå‡ å¥æ€»ç»“ï¼š</p>
<blockquote>
<p>å†å¿™ä¹Ÿè¦ç•™ç‚¹å­¦ä¹ è¿›æ­¥çš„æ—¶é—´ï¼›<br>å†å°çš„äº‹ï¼Œéƒ½æ˜¯æœªæ¥çš„åŸºçŸ³ï¼›</p>
</blockquote>
<h2 id="é›¶ã€ä¸äººä¸ºå–„"><a href="#é›¶ã€ä¸äººä¸ºå–„" class="headerlink" title="é›¶ã€ä¸äººä¸ºå–„"></a>é›¶ã€ä¸äººä¸ºå–„</h2><h2 id="ä¸€ã€2019-è®¡åˆ’å®Œæˆæƒ…å†µ"><a href="#ä¸€ã€2019-è®¡åˆ’å®Œæˆæƒ…å†µ" class="headerlink" title="ä¸€ã€2019 è®¡åˆ’å®Œæˆæƒ…å†µ"></a>ä¸€ã€2019 è®¡åˆ’å®Œæˆæƒ…å†µ</h2><p>æ¯å¹´æ€»ç»“ï¼Œå†™åˆ°å›é¡¾å»å¹´è®¡åˆ’å®Œæˆæƒ…å†µï¼Œå„ç§äº‹æƒ…ä¾¿ä»¿ä½›åœ¨çœ¼å‰ä¸€é—ªè€Œè¿‡ã€‚ç¿»èµ·å»å¹´<a target="_blank" rel="noopener" href="http://pingan8787.com/2019/01/12/130-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912019%E5%85%A8%E5%B9%B4%E8%AE%A1%E5%88%92/">ã€Š130-ã€æ€»ç»“ã€‘2019å…¨å¹´è®¡åˆ’ã€‹</a>ï¼Œéšçº¦é—»åˆ°æ—¶é—´çš„å‘³é“ï¼Œè¿˜æœ‰å¤ªé˜³çš„å‘³é“ï¼Œä¸çŸ¥ä½ ä»¬ä¼šä¸ä¼šè¿™æ ·è§‰å¾—ã€‚</p>
<p>å…ˆæ”¾å‡ å¼ è¿™ä¸€å¹´çš„ä»£ç  push è®°å½•ï¼Œç´¯åŠ èµ·æ¥æ¥è¿‘ä¸€æ•´å¹´å•¦ï¼š</p>
<ul>
<li><strong>Github</strong>ï¼š</li>
</ul>
<img width="800px" src="https://blog.pingan8787.com/EveryYear/2019Summary/github.png" />

<ul>
<li><strong>Gitlab</strong>ï¼š</li>
</ul>
<img width="800px" src="https://blog.pingan8787.com/EveryYear/2019Summary/gitlab.png" />

<ul>
<li><strong>Gitee</strong>ï¼š</li>
</ul>
<img width="800px" src="https://blog.pingan8787.com/EveryYear/2019Summary/gitee.png" />


<h3 id="1-å›é¡¾å­¦ä¹ è§„åˆ’"><a href="#1-å›é¡¾å­¦ä¹ è§„åˆ’" class="headerlink" title="1. å›é¡¾å­¦ä¹ è§„åˆ’"></a>1. å›é¡¾å­¦ä¹ è§„åˆ’</h3><p>å›é¡¾ä»Šå¹´å­¦ä¹ è§„åˆ’ï¼Œå­¦ä¹ çš„çŸ¥è¯†èŒƒå›´æ›´é›†ä¸­äº†ï¼Œä¹Ÿåšåˆ°çŸ¥è¯†æ²‰æ·€ï¼Œå°†æ²‰æ·€çš„çŸ¥è¯†è½¬åŒ–ä¸ºè‡ªå·±çš„æ–‡ç« ï¼Œå¹¶åŒæ­¥åˆ°å„ä¸ªå‰ç«¯æŠ€æœ¯ç¤¾åŒºã€<a href="htt://www.pingan8787.com">åšå®¢</a>å’Œ<a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">è¯­é›€</a>ä¸Šã€‚</p>
<p>ä¸‹é¢å°†å‡ éƒ¨åˆ†å†…å®¹åˆ†åˆ«æ€»ç»“ä¸‹ï¼š</p>
<ul>
<li><strong>å‰ç«¯çŸ¥è¯†</strong></li>
</ul>
<p>å‰ç«¯åŸºç¡€çŸ¥è¯†ï¼Œæ•´ç†äº†åŒ…æ‹¬ JavaScript / ECAMScript / TypeScript / HTTP / æ•°æ®ç»“æ„ä¸ç®—æ³• / æ­£åˆ™è¡¨è¾¾å¼ / Hybrid / è®¾è®¡æ¨¡å¼ ç­‰ä¸€ç³»åˆ—åŸºç¡€å…¥é—¨çŸ¥è¯†çš„æ–‡ç« ã€‚</p>
<p>å‰ç«¯æ¡†æ¶çŸ¥è¯†ï¼Œæ•´ç†äº†åŒ…æ‹¬ Webpack / Angular / GraphQL / React / MobX å‡ ä¸ªæ¡†æ¶çš„åŸºç¡€å…¥é—¨çŸ¥è¯†çš„æ–‡ç« ã€‚</p>
<p>ä»Šå¹´ä¹Ÿå­¦ä¹ å¾ˆå¤šå…¶ä»–çŸ¥è¯†ï¼ŒåŒ…æ‹¬ JSBridge / å‰ç«¯åŸç”Ÿç«¯äº¤äº’ / ionic-native åŸç† / Auto2 / CSRFå’ŒCORS / Restfulç­‰ç­‰ç­‰ç­‰ã€‚</p>
<p>å¾ˆå¤šå·²ç»æ±‡æ€»åœ¨<a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">ã€ŠCute-Frontendã€‹</a>ä¸­ã€‚</p>
<ul>
<li><strong>åç«¯çŸ¥è¯†</strong></li>
</ul>
<p>å­¦ä¹  Eggjs + Mongodb + Redis ï¼Œå¹¶å¼€å‘å›¢é˜Ÿå†…éƒ¨é¡¹ç›®ç½‘ç›˜é¡¹ç›®ï¼Œè¯´çœŸçš„ä¹Ÿæ˜¯å­¦ä¹ äº†å¾ˆå¤šåç«¯å¼€å‘çš„æ€ç»´ã€‚<br>å¦å¤–ä»Šå¹´ä¹Ÿæœ‰ä½¿ç”¨ Nodejs å†™äº†å‡ ä¸ªç®€å•å·¥å…·ï¼Œå¦‚ï¼šFiddler è¯·æ±‚æ¥å£æ—¶é—´ç»Ÿè®¡å·¥å…· / Excel å…¬ä¼—å·æ•°æ®æ¸…æ´—å·¥å…·ã€‚</p>
<ul>
<li><strong>ä¸ªäººå“ç‰Œ</strong></li>
</ul>
<p>å…¬ä¼—å·ã€å‰ç«¯è‡ªä¹ è¯¾ã€‘ï¼šä»Šå¹´æ»¡å‹¤ï¼Œæˆªæ­¢ä»Šå¤©å·²ç»è¿ç»­æ¨é€ 461 ç¯‡ï¼ˆå«åˆ é™¤/æœªè·å¾—ç™½åå•çš„è½¬è½½/å‘é‡å¤ï¼‰ï¼Œç²‰ä¸æ•°æ¶¨äº†çº¦ 11 å€ï¼ˆä»2019/7/24å¼€å§‹ï¼‰ï¼Œé˜…è¯»é‡ç¨³å®š 160+ï¼ˆè‡ªç„¶ï¼‰ã€‚</p>
<p>ä¸ªäººåšå®¢ï¼šå°†è‡ªå·±åœ¨å…¶ä»–ç¤¾åŒºå‘çš„æ–‡ç« éƒ½åŒæ­¥åˆ°åšå®¢ï¼ŒåŸåˆ›æ–‡ç«  57 ç¯‡ï¼Œæœªè¾¾æ ‡ã€‚</p>
<p>å…¶ä»–ç¤¾åŒºï¼šä»Šå¹´æ¨é€çš„æ–‡ç« åˆ†äº«çš„å¹³å°åŒ…æ‹¬ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/user/586fc337a22b9d0058807d53/posts">æ˜é‡‘</a>ã€<a target="_blank" rel="noopener" href="https://segmentfault.com/blog/pingan8787">æ€å¦</a>ã€<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/cute-javascript">çŸ¥ä¹</a>ã€<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36380426">CSDN</a>ã€<a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">è¯­é›€</a>ã€<a target="_blank" rel="noopener" href="https://www.jianshu.com/u/2ec5d94afd60">ç®€ä¹¦</a>ã€<a target="_blank" rel="noopener" href="https://www.imooc.com/u/3591250/articles">æ…•è¯¾æ‰‹è®°</a>è¿˜æœ‰è‡ªå·±<a target="_blank" rel="noopener" href="http://www.pingan8787.com/">åšå®¢</a>å’Œ <a target="_blank" rel="noopener" href="https://github.com/pingan8787">github</a>ã€‚æ˜é‡‘ç²‰ä¸ 4429 æœªè¾¾æ ‡ï¼Œç‚¹èµæ•° 8862 ä¹Ÿæœªè¾¾æ ‡ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">Github Reading</a>ï¼šä»Šå¹´æ»¡å‹¤ï¼Œæˆªæ­¢è¿™ä¸ªæœˆå·²ç»è¿ç»­æ‰“å¡ 30 ä¸ªæœˆäº†ã€‚</p>
<h3 id="2-å›é¡¾å·¥ä½œè§„åˆ’"><a href="#2-å›é¡¾å·¥ä½œè§„åˆ’" class="headerlink" title="2. å›é¡¾å·¥ä½œè§„åˆ’"></a>2. å›é¡¾å·¥ä½œè§„åˆ’</h3><p>å·¥ä½œä¸Šï¼Œå¯¹äºè¿­ä»£éœ€æ±‚ä»»åŠ¡ï¼Œå·²ç»å…»æˆå¼€å‘å‰æ ¸å¯¹éœ€æ±‚ï¼Œææµ‹å‰æ ¸å¯¹UIç¨¿å’ŒåŸå‹ç¨¿è¿™æ ·çš„ä¹ æƒ¯ï¼Œå‡ æ¬¡è¿­ä»£ä»»åŠ¡å®ç° 0 BUGã€‚</p>
<p>è¿™ä¸€å¹´ä¹Ÿå‘å›¢é˜Ÿå‰ç«¯å­¦ä¹ äº†å¾ˆå¤šï¼Œä¸ºäººå¤„ä¸–ï¼Œå·¥ä½œæ–¹å¼ï¼Œå·¥ä½œæŠ€èƒ½ç­‰ç­‰ã€‚å¯¹äºå…¬å¸äº§å“ï¼Œä»Šå¹´ç§¯æå‚ä¸å„ç§è¿è¥æ´»åŠ¨ï¼ˆå­¦ä¹ æ‰“å¡ã€ç‚¹èµæ´»åŠ¨ã€å­¦ä¹ ä»»åŠ¡ç­‰ï¼‰ï¼Œä¹Ÿå‘è¡¨ä¸€äº›è‡ªå·±å¯¹äº§å“çš„çœ‹æ³•ï¼Œä¸¤ä¸ªä¸“æ å·æŒç»­è¾“å‡ºä¸­ã€‚</p>
<h3 id="3-å›é¡¾ç”Ÿæ´»è§„åˆ’"><a href="#3-å›é¡¾ç”Ÿæ´»è§„åˆ’" class="headerlink" title="3. å›é¡¾ç”Ÿæ´»è§„åˆ’"></a>3. å›é¡¾ç”Ÿæ´»è§„åˆ’</h3><p>ç”Ÿæ´»çš„è§„åˆ’ä¸­ï¼Œ2019å¹´ï¼Œç†¬å¤œå°‘äº†å¾ˆå¤šï¼ŒåŸºæœ¬12ç‚¹å‡†æ—¶å…³ç”µè„‘ç¡è§‰ï¼Œé™¤äº†è‡ªå·±å–œæ¬¢çš„çƒèµ›å•¦~</p>
<p>é”»ç‚¼è¿™æ–¹é¢ä¹Ÿæ˜¯é™†é™†ç»­ç»­ï¼Œå”¯ä¸€åšå¾—å¥½çš„å¯èƒ½å°±æ˜¯åšæŒè‡ªå·±åšæ—©é¥­ï¼Œç‰›å¥¶ç‡•éº¦ï¼Œç™½ç±³ç²¥ï¼Œç»¿è±†ç²¥ï¼Œç‡•éº¦ç²¥ï¼Œçƒ¤é¢åŒ…ï¼Œç…è›‹ï¼Œæ°´ç…®è›‹ï¼ŒåŸ¹æ ¹é¸¡è›‹å ¡ï¼Œä»Šå¹´çš„æ—©é¤éƒ½æ˜¯è¿™äº›ï¼Œä¹Ÿæ¯”è¾ƒæ¸…æ·¡ã€‚</p>
<p>å®¿èˆæ²¡æ¢ï¼Œä¸è¿‡ä½å¾—èˆ’é€‚å‘€ï¼Œå¦å¤–ç‹¬è‡ªå»äº†å¾ˆå¤šåœ°æ–¹ï¼Œéª‘è¡Œ 1100+ å…¬é‡Œï¼š</p>
<img width="200px" src="https://blog.pingan8787.com/EveryYear/2019Summary/bicycle.jpg" />

<p>è¾¾æˆå¦é—¨å²›æ¢åˆ°éª‘è¡ŒğŸš´çš„ä¸ªäººè®°å½•ï¼š</p>
<img width="400px" src="https://blog.pingan8787.com/EveryYear/2019Summary/xiamendao.JPG" />


<h2 id="äºŒã€2019-æ€»ç»“å’Œåˆ†æ"><a href="#äºŒã€2019-æ€»ç»“å’Œåˆ†æ" class="headerlink" title="äºŒã€2019 æ€»ç»“å’Œåˆ†æ"></a>äºŒã€2019 æ€»ç»“å’Œåˆ†æ</h2><p>è€å¥—è·¯ï¼Œç»§ç»­æŒ‰ç…§æ¯ä¸ªç±»å‹é€‰ä¸€ä»¶äº‹æƒ…æ¥è¯´ï¼š</p>
<h3 id="2019-æœ€æ­£ç¡®çš„ä¸€ä»¶äº‹"><a href="#2019-æœ€æ­£ç¡®çš„ä¸€ä»¶äº‹" class="headerlink" title="2019 æœ€æ­£ç¡®çš„ä¸€ä»¶äº‹"></a>2019 æœ€æ­£ç¡®çš„ä¸€ä»¶äº‹</h3><p>å›é¡¾è¿™ä¸€æ•´å¹´ï¼Œå‘ç”Ÿçš„äº‹æƒ…çœŸçš„å¾ˆå¤šï¼Œåšå¾—æ­£ç¡®çš„äº‹æƒ…ä¹Ÿå¾ˆå¤šï¼Œä»å¯¹äºèŒä¸šç”Ÿæ¶¯å’Œè‡ªèº«æ€§æ ¼å‡ºå‘ï¼Œæˆ‘è§‰å¾—2019æˆ‘åšå¾—æœ€æ­£ç¡®çš„ä¸€ä»¶äº‹æ˜¯<strong>12æœˆä»½å»æ­å·å‚åŠ è¯­é›€çŸ¥è¯†å¤§ä¼š</strong>ï¼Œæˆ‘ä¹Ÿæ€»ç»“ä¸€ç¯‡<a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend/uf68aa">ã€ŠåŒ—ä¸Š å¯»â€œé›€â€ã€‹</a>ã€‚</p>
<p>è¿™è¶Ÿä¸‰å¤©æ—…è¡Œï¼Œæ˜¯æˆ‘ç‹¬è‡ªä¸€äººåˆ¶å®šæ‰€æœ‰è¡Œç¨‹å’Œè®¡åˆ’ï¼Œæˆ‘é€›äº†é˜¿é‡Œå·´å·´ã€æ”¯ä»˜å®ã€èš‚èšé‡‘æœã€æ¹–ç•”èŠ±å›­è¿™äº›äº’è”ç½‘ä¼ å¥‡çš„åœ°æ–¹ï¼Œä¹Ÿå»äº†è¥¿æ¹–ã€é›·å³°å¡”ã€é’±å¡˜æ±Ÿå¤§æ¡¥ã€äº¬æ­å¤§è¿æ²³ã€æµ™æ±Ÿå¤§å­¦ã€é»„é¾™æ´ç­‰ç­‰ã€‚</p>
<p>ä¹Ÿé¢åŸºç‰ä¼¯å¤§ä½¬ï¼Œå¹¶æ‹¿åˆ°ç­¾åä¸åˆå½±ï¼ŒğŸ˜„å“ˆå“ˆã€‚</p>
<img width="300px" src="https://blog.pingan8787.com/EveryYear/2019Summary/i_and_yubo.JPG" />

<p>è¿™æ¬¡è¡Œç¨‹ï¼Œå¾ˆå¤§ç¨‹åº¦æ‹“å±•æˆ‘çš„è§†é‡ï¼Œä¸€äº›åªåœ¨äº’è”ç½‘ä¸Šå­˜åœ¨çš„åºç„¶å¤§ç‰©ï¼ŒåŸæ¥ä¹Ÿæ˜¯ç¦»æˆ‘è¿™ä¹ˆè¿‘çš„ï¼Œå¹¶ä¸”ä»Šå¹´æœ‰ä¸€æ¬¡èš‚èšé‡‘æœçš„é¢è¯•ï¼Œè™½ç„¶æŒ‚äº†ï¼Œè¿˜æ˜¯è‡ªèº«æœ¬é¢†ä¸å¤Ÿã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œäººçš„çœ¼ç•Œæ ¼å±€ä¸€ä¸‹å­äº§ç”Ÿå˜æ¢ï¼Œå¾ˆå¤šå¤±è´¥ï¼Œæˆ‘éƒ½å°†ä¹‹è§†ä¸ºç»éªŒï¼Œæœªæ¥ï¼Œå†æ¥ã€‚</p>
<h3 id="2019-æœ€é”™è¯¯çš„ä¸€ä»¶äº‹"><a href="#2019-æœ€é”™è¯¯çš„ä¸€ä»¶äº‹" class="headerlink" title="2019 æœ€é”™è¯¯çš„ä¸€ä»¶äº‹"></a>2019 æœ€é”™è¯¯çš„ä¸€ä»¶äº‹</h3><p>è¿™åº”è¯¥ç®—æ˜¯é‚£æ¬¡é¡¶æ’æ¯äº²çš„äº‹æƒ…ï¼Œè¢«å‚¬ç›¸äº²å‚¬åˆ°å‘è„¾æ°”ï¼Œé¡¶æ’æ¯äº²ï¼Œå®åœ¨æƒ­æ„§æƒ­æ„§ï¼Œè™½ç„¶å·²ç»å’Œæ¯äº²äº¤è°ˆï¼Œä½†å¿ƒé‡Œè¿˜æ˜¯æŒºæƒ­æ„§ã€‚</p>
<h3 id="2019-æœ€å¼€å¿ƒçš„ä¸€ä»¶äº‹"><a href="#2019-æœ€å¼€å¿ƒçš„ä¸€ä»¶äº‹" class="headerlink" title="2019 æœ€å¼€å¿ƒçš„ä¸€ä»¶äº‹"></a>2019 æœ€å¼€å¿ƒçš„ä¸€ä»¶äº‹</h3><p>å½“ç„¶å±äºå…¬ä¼—å·ã€å‰ç«¯è‡ªä¹ è¯¾ã€‘ï¼Œå…¨å¹´æ»¡å‹¤ï¼Œæˆªæ­¢ä»Šå¤©å·²ç»è¿ç»­æ¨é€ 461 ç¯‡ï¼ˆå«åˆ é™¤/æœªè·å¾—ç™½åå•çš„è½¬è½½/å‘é‡å¤ï¼‰ï¼Œç²‰ä¸æ•°æ¶¨äº†çº¦ 11 å€ï¼ˆä»2019/7/24å¼€å§‹ï¼‰ï¼Œé˜…è¯»é‡ç¨³å®š 160+ï¼ˆè‡ªç„¶ï¼‰ã€‚</p>
<p>å…¬ä¼—å·çš„åˆè¡·ï¼Œæ˜¯æƒ³<strong>çœ‹çœ‹è‡ªå·±èƒ½åšæŒåšè¿™ä»¶äº‹æƒ…åšå¤šä¹…</strong>ï¼Œåé¢å‘ç°ï¼Œåšè¿™ä¸ªäº‹æƒ…ç‰¹åˆ«æœ‰æ„ä¹‰ï¼Œå¯¹æˆ‘å¯¹ä»–äººéƒ½æ˜¯ã€‚</p>
<p>å¯¹æˆ‘è€Œå·²ï¼Œæ˜¯è‡ªå·±å­¦ä¹ çš„ç´ æåº“ï¼ŒåšæŒçš„åŠ¨åŠ›ï¼Œä¹Ÿæ˜¯å’Œåœˆå­äº¤æµçš„è¯é¢˜ã€‚</p>
<p>å¯¹ä»–äººè€Œè¨€ï¼Œè¿™ä¹Ÿè®¸æ˜¯ä»–ä»¬å‘ç°å®è—çš„æ—¶åˆ»ã€‚</p>
<ul>
<li><strong><a target="_blank" rel="noopener" href="https://cu2019.newrank.cn/h5.html?n=5903fb7">ã€å‰ç«¯è‡ªä¹ è¯¾ã€‘çš„2019</a></strong></li>
</ul>
<p>2019.07.24 å¼€å§‹æ­£å¼å‘å¤–éƒ¨å®£ä¼ ï¼Œè‡³ä»Šæ”¶è· 2300+ ç²‰ä¸ï¼Œä¸€ä¸ª 100+ äººå¾®ä¿¡ç¾¤ã€‚</p>
<p>ç´¯è®¡ 3W é˜…è¯»é‡ï¼Œ693 ä¸ªåœ¨çœ‹ï¼Œ362 å¤©å‘å¸ƒï¼Œ 404 ç¯‡æ–‡ç« ï¼Œ 89 ç¯‡åŸåˆ›ï¼Œ 267W å­— â€¦</p>
<p><img src="https://blog.pingan8787.com/EveryYear/2019Summary/fe-study01.png" alt="fe-study01.png"></p>
<p>å¦å¤–ä»Šå¹´ä¹Ÿå°†ä¸ºã€å‰ç«¯è‡ªä¹ è¯¾ã€‘å¼€å‘äº†<a target="_blank" rel="noopener" href="https://blog.pingan8787.com/weixin/index.html">æ–‡ç« åˆ†ç±»å¤§å…¨ï¼Œç‚¹å‡»é“¾æ¥å³å¯ä½“éªŒ</a>ï¼Œå¦å¤–ä¹Ÿæœ‰å°ç¨‹åºï¼Œåªæ˜¯å°ç¨‹åºæœ‰ç°åœ¨æ— æ³•æ‰“å¼€å…¬ä¼—å·æ–‡ç« ã€‚</p>
<h2 id="ä¸‰ã€æ€è€ƒè‡ªçœ"><a href="#ä¸‰ã€æ€è€ƒè‡ªçœ" class="headerlink" title="ä¸‰ã€æ€è€ƒè‡ªçœ"></a>ä¸‰ã€æ€è€ƒè‡ªçœ</h2><p>21ä¸–çºª20å¹´ä»£å·²ç»å¼€å§‹ã€‚   </p>
<p>æ€»ç»“è¿‡å¾€ 10 å¹´ï¼Œäººç”Ÿä¸¤å¤§äº‹æƒ…æ”¹å˜äº†æˆ‘ï¼Œäººçš„ç”Ÿè€ç—…æ­»ï¼Œçˆ±æƒ…çš„ç°å®ã€‚   </p>
<p>æ—¢ç„¶é‡åˆ°äº†ï¼Œé‚£æˆ‘å°±ç§¯æã€å‹‡æ•¢é¢å¯¹ï¼Œå»æ”¹å˜ã€‚   </p>
<p>è¿™ 10 å¹´ï¼Œä»ä¸€ä¸ªå¨‡ç”Ÿæƒ¯å…»çš„å°å­©ï¼Œåˆ°ä¸€å¿ƒåªæœ‰è¿™ä¸ªå®¶çš„å¹´è½»äººï¼ŒåŒæ‰‹ä¸å†ç¨šå«©ï¼ŒåŒè‚©ä¸å†è½»è¡ã€‚   </p>
<p>åŠªåŠ›åšå¥½è‡ªå·±ï¼Œå¼ºå¤§è‡ªå·±ï¼Œå»å­¦ä¹ ï¼Œå»è¿›æ­¥ã€‚  </p>
<p>è¿™ 10 å¹´ï¼Œæˆ‘å°½åŠ›äº†ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/01/04/190-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912019%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/" data-id="ckts3ejtz00594d9k9s5d7oy2" data-title="190-ã€æ€»ç»“ã€‘2019å…¨å¹´æ€»ç»“" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">æ€»ç»“</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-189-ã€å¾®å‰ç«¯ã€‘æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ " class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/12/24/189-%E3%80%90%E5%BE%AE%E5%89%8D%E7%AB%AF%E3%80%91%E6%AF%8F%E6%97%A5%E4%BC%98%E9%B2%9C%E4%BE%9B%E5%BA%94%E9%93%BE%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%94%B9%E9%80%A0/" class="article-date">
  <time class="dt-published" datetime="2019-12-24T14:08:53.000Z" itemprop="datePublished">2019-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/12/24/189-%E3%80%90%E5%BE%AE%E5%89%8D%E7%AB%AF%E3%80%91%E6%AF%8F%E6%97%A5%E4%BC%98%E9%B2%9C%E4%BE%9B%E5%BA%94%E9%93%BE%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%94%B9%E9%80%A0/">189-ã€å¾®å‰ç«¯ã€‘æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ </a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="ã€å¾®å‰ç«¯ã€‘7-æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ "><a href="#ã€å¾®å‰ç«¯ã€‘7-æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ " class="headerlink" title="ã€å¾®å‰ç«¯ã€‘7- æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ "></a>ã€å¾®å‰ç«¯ã€‘7- æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ </h1><p>æ–‡ æ˜é‡‘å· Terryè±† @æ¯æ—¥ä¼˜é²œ</p>
<blockquote>
<p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»æœ¬è´¦å·è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜æ¯æ—¥ä¼˜é²œå¤§å‰ç«¯å›¢é˜Ÿä»¥åŠåŸæ–‡åœ°å€ã€‚</p>
</blockquote>
<p><a name="tKl2V"></a></p>
<h2 id="ä¸€ã€éœ€æ±‚ä»¥åŠæˆæœ"><a href="#ä¸€ã€éœ€æ±‚ä»¥åŠæˆæœ" class="headerlink" title="ä¸€ã€éœ€æ±‚ä»¥åŠæˆæœ"></a>ä¸€ã€éœ€æ±‚ä»¥åŠæˆæœ</h2><p>æˆ‘æ‰€åœ¨å›¢é˜Ÿæ˜¯åštoBä¸šåŠ¡çš„ï¼ŒæŠ€æœ¯æ ˆæ˜¯Vueï¼Œå›¢é˜Ÿç›®å‰æœ‰åå¤šä¸ªå…¸å‹çš„toBä¸šåŠ¡ï¼ˆèœå•+å†…å®¹å¸ƒå±€ï¼‰ï¼Œè¿™äº›ä¸šåŠ¡éƒ½æ˜¯æœåŠ¡äºä¸€ä¸ªå¤§å¹³å°çš„ï¼Œå› ä¸ºå†å²åŸå› ï¼Œæ¯ä¸ªä¸šåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œéƒ½æœ‰ä¸€ä¸ªhtmlå…¥å£ï¼Œæ‰€ä»¥å½“ç”¨æˆ·åœ¨è¿™ä¸ªå¤§å¹³å°ä¸Šä½¿ç”¨è¿™åå¤šä¸ªä¸šåŠ¡çš„æ—¶å€™ï¼Œæ¯å½“åˆ‡æ¢ç³»ç»Ÿæ—¶ï¼Œé¡µé¢éƒ½ä¼šåˆ·æ–°ï¼Œä½“éªŒå¾ˆå·®ï¼›åœ¨å¼€å‘å±‚é¢ï¼Œè¿™åå¤šä¸ªä¸šåŠ¡åˆæœ‰å¤ªå¤šå…±åŒä¹‹å¤„ï¼Œæ¯æ¬¡ä¿®æ”¹æˆæœ¬éƒ½å¾ˆé«˜ã€‚<br />æœ€è¿‘æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„éœ€æ±‚Xï¼Œå†…å®¹æ˜¯è¿™æ ·çš„ï¼šä»åå¤šä¸ªé¡¹ç›®ä¸­ï¼Œæ¯ä¸ªé¡¹ç›®æŠ½å–è‹¥å¹²åŠŸèƒ½ç»„æˆä¸€ä¸ªæ–°é¡¹ç›®ï¼ŒåŸºäºç°æœ‰æ¶æ„çš„è¯ï¼Œæ¯å½“ç‚¹å‡»æ¥è‡ªä¸åŒç³»ç»Ÿçš„åŠŸèƒ½é¡µé¢å°±è¦åˆ·æ–°ä¸€æ¬¡ï¼Œè¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚ä¸ºäº†æ–°éœ€æ±‚Xé‡å¤å¼€å‘ä¸€éè¿™äº›ä¸šåŠ¡åŠŸèƒ½åˆä¸ç°å®ï¼Œæ‰€ä»¥ä»æŠ€æœ¯è§’åº¦æ¥çœ‹ï¼Œæ¶æ„æ”¹é€ ä¸å¯é¿å…ã€‚<br />ç»è¿‡ä¸€ç•ªè°ƒç ”æ¯”å¯¹ï¼Œæˆ‘ä»¬å†³å®šä½¿ç”¨å½“ä¸‹æ¯”è¾ƒç«çš„ <a target="_blank" rel="noopener" href="https://single-spa.js.org/">SingleSpa</a> æ¥å®Œæˆæ”¹é€ ï¼ˆiframeæ–¹æ¡ˆå°è¯•è¿‡ï¼Œä¸å¤ªé€‚åˆæˆ‘ä»¬çš„åœºæ™¯ï¼‰ï¼Œç›®å‰æ”¹é€ å·²å®Œæˆï¼Œæˆ‘ä»¬å®ç°äº†ä»¥ä¸‹æ•ˆæœï¼š</p>
<ul>
<li>åªæœ‰ä¸€ä¸ªä¸åŒ…å«å­é¡¹ç›®ï¼ˆå­é¡¹ç›®æŒ‡çš„æ˜¯é‚£åå¤šä¸ªä¸šåŠ¡ï¼‰èµ„æºçš„ä¸»é¡¹ç›®ï¼Œä¸»é¡¹ç›®åªæœ‰ä¸€ä¸ªhtmlå…¥å£ï¼Œå­é¡¹ç›®é€šè¿‡ä¸»é¡¹ç›®æ¥æŒ‰éœ€åŠ è½½ï¼Œå­ç³»ç»Ÿé—´åˆ‡æ¢ä¸å†åˆ·æ–°ï¼›</li>
<li>èœå•æ ã€ç™»å½•ã€é€€å‡ºç­‰åŠŸèƒ½éƒ½ä»å­é¡¹ç›®å‰¥ç¦»ï¼Œå†™åœ¨ä¸»é¡¹ç›®é‡Œï¼Œå†æœ‰ç›¸å…³æ”¹åŠ¨åªéœ€ä¿®æ”¹ä¸»é¡¹ç›®ï¼ŒåŒ…æ‹¬é”™è¯¯ç›‘æ§ã€åŸ‹ç‚¹ç­‰è¡Œä¸ºï¼Œåªéœ€å¤„ç†ä¸€ä¸ªä¸»é¡¹ç›®ï¼Œåå‡ ä¸ªå­é¡¹ç›®ä¸å†éœ€è¦å¤„ç†ï¼›</li>
<li>å­é¡¹ç›®åŸæœ¬éœ€è¦åŠ è½½çš„å…¬å…±éƒ¨åˆ†ï¼ˆå¦‚vueã€vuexã€vue-routerã€ivew/elementã€ç§æœ‰npmåŒ…ç­‰ï¼‰ï¼Œå…¨éƒ¨ç”±ä¸»é¡¹ç›®è°ƒåº¦ï¼Œé…åˆwebpackçš„externalsåŠŸèƒ½é€šè¿‡å¤–é“¾çš„æ–¹å¼æŒ‰éœ€åŠ è½½ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªå­é¡¹ç›®åŠ è½½è¿‡ï¼Œä¸‹ä¸€ä¸ªå­é¡¹ç›®å°±ä¸éœ€è¦å†åŠ è½½ï¼Œè¿™æ ·ä¸€æ¥æ¯ä¸ªå­é¡¹ç›®çš„distæ–‡ä»¶é‡Œå°±åªæœ‰å­é¡¹ç›®è‡ªå·±çš„ä¸šåŠ¡ä»£ç ï¼ˆæœ€ç»ˆå­é¡¹ç›®åŒ…çš„ä½“ç§¯ç¼©å°äº†80%ï¼Œåªæœ‰å‡ åkï¼‰ï¼Œé¡¹ç›®å®é™…åŠ è½½é€Ÿåº¦å¿«äº†å¾ˆå¤šï¼Œè‚‰çœ¼å¯è§ï¼›</li>
<li>å­é¡¹ç›®å¹¶æ²¡æœ‰é‡æ–°å¼€å‘ï¼Œåªæ˜¯è¿›è¡Œäº†ä¸€äº›æ”¹é€ ï¼Œæ¥å…¥äº†å¾®å‰ç«¯è¿™å¥—æ¶æ„ï¼Œæ‰€ä»¥æ–°éœ€æ±‚Xçš„å¼€å‘æˆæœ¬ä¹Ÿæå¤§çš„é™ä½äº†ï¼Œæ¥å…¥åŠŸèƒ½åŒæ—¶å¯ä¾›æœªæ¥æ–°å¢å­é¡¹ç›®ä½¿ç”¨ï¼›</li>
<li>æˆ‘ä»¬çš„é¡¹ç›®æœ‰è‡ªå·±çš„tabç³»ç»Ÿï¼ˆç±»ä¼¼æµè§ˆå™¨çš„tabé¡µç­¾ï¼‰ï¼Œè¿™äº›tabé¡µç­¾é€šè¿‡keep-aliveå’Œä¸€ç³»åˆ—å¯¹ç¼“å­˜çš„å¤„ç†ï¼Œä½¿å…¶ä½“éªŒæ¥è¿‘åŸç”Ÿæµè§ˆå™¨tabã€‚<br><a name="yyJnt"></a><h2 id="äºŒã€å±•ç¤ºä»¥åŠæŠ€æœ¯ç‚¹"><a href="#äºŒã€å±•ç¤ºä»¥åŠæŠ€æœ¯ç‚¹" class="headerlink" title="äºŒã€å±•ç¤ºä»¥åŠæŠ€æœ¯ç‚¹"></a>äºŒã€å±•ç¤ºä»¥åŠæŠ€æœ¯ç‚¹</h2><a name="SUszb"></a><h3 id="å›¾1ï¼šé¡¹ç›®å¤–è§‚ç¤ºæ„å›¾ï¼š"><a href="#å›¾1ï¼šé¡¹ç›®å¤–è§‚ç¤ºæ„å›¾ï¼š" class="headerlink" title="å›¾1ï¼šé¡¹ç›®å¤–è§‚ç¤ºæ„å›¾ï¼š"></a>å›¾1ï¼šé¡¹ç›®å¤–è§‚ç¤ºæ„å›¾ï¼š</h3><img src="https://cdn.nlark.com/yuque/0/2019/webp/186051/1577196362755-932ee761-e270-4353-9768-cdb53ea60e6f.webp#align=left&display=inline&height=855&originHeight=855&originWidth=1280&size=0&status=done&style=none&width=1280"><blockquote>
<p>åšå¾®å‰ç«¯æ”¹é€ ä¹‹å‰ï¼Œè“è‰²ç³»åŒºåŸŸéƒ½æ˜¯ç”¨å…¬å…±åŒ…çš„æ–¹å¼ç”±æ¯ä¸ªå­é¡¹ç›®å¼•å…¥ï¼Œæ‰€ä»¥å­é¡¹ç›®è¿è¡Œçš„æ—¶å€™å±•ç¤ºçš„è“è‰²ç³»éƒ¨åˆ†éƒ½æ˜¯ç›¸åŒçš„ï¼Œç»™äººä¸€ç§åœ¨ä½¿ç”¨åŒä¸€ä¸ªç³»ç»Ÿçš„é”™è§‰ï¼Œå®é™…ä¸Šåˆ‡æ¢ç³»ç»Ÿçš„æ—¶å€™æ•´ä¸ªé¡µé¢éƒ½è¦é‡æ–°è½½å…¥ã€‚</p>
</blockquote>
</li>
</ul>
<p>å¾®å‰ç«¯æ”¹é€ åï¼Œåªæœ‰æ©˜çº¢è‰²åŒºåŸŸæ˜¯å˜åŒ–çš„ï¼Œé¡µé¢ä¹Ÿä¸å†åˆ·æ–°ã€‚<br><a name="B8mXG"></a></p>
<h3 id="å›¾2ï¼šå±€éƒ¨æ•ˆæœåŠ¨å›¾"><a href="#å›¾2ï¼šå±€éƒ¨æ•ˆæœåŠ¨å›¾" class="headerlink" title="å›¾2ï¼šå±€éƒ¨æ•ˆæœåŠ¨å›¾"></a>å›¾2ï¼šå±€éƒ¨æ•ˆæœåŠ¨å›¾</h3><p><img src="https://cdn.nlark.com/yuque/0/2019/gif/186051/1577196362769-fe0a2f98-a877-4838-8ec7-79a5ede828b3.gif#align=left&display=inline&height=705&originHeight=705&originWidth=1215&size=0&status=done&style=none&width=1215"></p>
<blockquote>
<p>å›¾2å±•ç¤ºäº†å›¾1ä¸­çš„tabé¡µç­¾åŒºä»¥åŠå­é¡¹ç›®å±•ç¤ºåŒºã€‚ä¿¡æ¯åšäº†é©¬èµ›å…‹å¤„ç†ã€‚</p>
</blockquote>
<p>ä¹ä¸€çœ‹æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œä½†å¦‚æœæˆ‘è¯´è¿™äº›tab<strong>åˆ†åˆ«æ¥è‡ªäºä¸åŒgitä»“åº“çš„ç‹¬ç«‹vueé¡¹ç›®</strong>å‘¢ï¼Ÿ<br />è¿™å°±æ˜¯è¿™å¥—å¾®å‰ç«¯æ¶æ„çš„å¼ºå¤§ä¹‹å¤„ï¼Œè®©<strong>ä¸åŒå•é¡µvueé¡¹ç›®å¯ä»¥éšæ„ç»„åˆæˆä¸€ä¸ªé¡¹ç›®ï¼Œè€Œè¿™äº›é¡¹ç›®è‡ªå·±åˆæ˜¯ç‹¬ç«‹çš„vueé¡¹ç›®</strong>ã€‚</p>
<blockquote>
<p>ä»”ç»†çœ‹å›¾2ä¸­è·¯ç”±çš„å˜åŒ–ï¼Œ<strong>hashè·¯ç”±çš„ç¬¬ä¸€çº§</strong>å†³å®šäº†è¦åŠ è½½å“ªä¸ªå­é¡¹ç›®ï¼ˆworkã€smsã€tmsæ˜¯ä¸‰ä¸ªä¸åŒçš„gitå·¥ç¨‹ï¼‰ï¼Œä¸åŒå­é¡¹ç›®é—´çš„åˆ‡æ¢ä¹Ÿå®Œå…¨æ²¡æœ‰åˆ·æ–°ğŸ˜<br>ä¸ºäº†è®©tabåˆ‡æ¢ä¸åˆ·æ–°ï¼Œè¿™é‡Œä½¿ç”¨äº†keep-aliveå»ç¼“å­˜é¡µé¢ï¼Œè€ƒè™‘åˆ°å†…å­˜æ€§èƒ½ï¼Œåœ¨å…³é—­tabé¡µç­¾æ—¶é€šè¿‡ä¸€äº›æ–¹æ³•(ä¸»è¦æ˜¯keep-aliveçš„excludeå±æ€§)å»é™¤äº†keep-aliveç¼“å­˜ï¼ŒåŒæ—¶ä¸ºäº†è®©å­é¡¹ç›®é—´çš„tabåˆ‡æ¢ä¹Ÿä¸åˆ·æ–°ï¼Œå¯¹å›¾3ä¸‹é¢æåˆ°çš„åŒ…è£…å™¨ä¹Ÿè¿›è¡Œäº†ä¸å°çš„æ”¹é€ ã€‚è®©tabåˆ‡æ¢ä¸åˆ·æ–°åªæ˜¯ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œè¿™ä¸€æ­¥ä¸æ˜¯å¿…è¦çš„ï¼Œæœ‰ä¸€å®šçš„æˆæœ¬ã€‚</p>
</blockquote>
<p><a name="htxsA"></a></p>
<h3 id="å›¾3ï¼šéƒ¨ç½²æ¶æ„ç¤ºæ„å›¾"><a href="#å›¾3ï¼šéƒ¨ç½²æ¶æ„ç¤ºæ„å›¾" class="headerlink" title="å›¾3ï¼šéƒ¨ç½²æ¶æ„ç¤ºæ„å›¾"></a>å›¾3ï¼šéƒ¨ç½²æ¶æ„ç¤ºæ„å›¾</h3><p>å®ç°ä¸€å¥—å¾®å‰ç«¯æ¶æ„ï¼Œå¯ä»¥æŠŠå…¶åˆ†æˆå››éƒ¨åˆ†ï¼ˆå‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://alili.tech/archive/11052bf4/">alili.tech/archive/110â€¦</a> ï¼‰</p>
<ul>
<li>åŠ è½½å™¨ï¼šä¹Ÿå°±æ˜¯å¾®å‰ç«¯æ¶æ„çš„æ ¸å¿ƒï¼Œå›¾3ä¸­çš„â€œåŠ è½½å™¨JSæ–‡ä»¶â€å°±æ˜¯ç”±åŠ è½½å™¨æ‰“åŒ…å‹ç¼©å‡ºæ¥çš„ï¼Œè¿™æ˜¯åŸå§‹çš„åŠ è½½å™¨ï¼š<a target="_blank" rel="noopener" href="https://github.com/Fantasy9527/lotus-scaffold-micro-frontend-portal">github.com/Fantasy9527â€¦</a> â€”â€” <strong>å¯ä»¥æŠŠå®ƒç†è§£æˆç”µæº</strong></li>
<li>åŒ…è£…å™¨ï¼šæœ‰äº†åŠ è½½å™¨ï¼Œæˆ‘ä»¬è¦æŠŠç°æœ‰çš„vueé¡¹ç›®åŒ…è£…ä¸€ä¸‹ï¼Œä½¿å¾—åŠ è½½å™¨å¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼Œè¿™æ˜¯åŸå§‹çš„åŒ…è£…å™¨ï¼š<a target="_blank" rel="noopener" href="https://github.com/CanopyTax/single-spa-vue">github.com/CanopyTax/sâ€¦</a> â€”â€”  <strong>å¦‚æœæƒ³æ”¹é€ ï¼Œå»ºè®®æ”¹é€ è¿™ä¸ªéƒ¨åˆ†ï¼Œå®ƒç›¸å½“äºç”µæºé€‚é…å™¨</strong></li>
<li>ä¸»é¡¹ç›®ï¼šä¸€èˆ¬æ˜¯åŒ…å«æ‰€æœ‰é¡¹ç›®å…¬å…±éƒ¨åˆ†çš„é¡¹ç›®â€”â€” <strong>å®ƒç›¸å½“äºç”µå™¨åº•åº§</strong></li>
<li>å­é¡¹ç›®ï¼šä¼—å¤šå±•ç¤ºåœ¨ä¸»é¡¹ç›®å†…å®¹åŒºçš„é¡¹ç›®â€”â€” <strong>å®ƒç›¸å½“äºä½ è¦ä½¿ç”¨çš„ç”µå™¨</strong></li>
</ul>
<p>æ‰€ä»¥æ˜¯è¿™ä¹ˆä¸ªæ¦‚å¿µï¼š<strong>ç”µæº(åŠ è½½å™¨)â†’ç”µæºé€‚é…å™¨(åŒ…è£…å™¨)â†’ï¸ç”µå™¨åº•åº§(ä¸»é¡¹ç›®)â†’ï¸ç”µå™¨(å­é¡¹ç›®)ï¸</strong></p>
<blockquote>
<p>ä¸»é¡¹ç›®å’Œå­é¡¹ç›®éƒ½éœ€è¦ç”¨åŒ…è£…å™¨åŒ…è£…ï¼Œåªä¸è¿‡ä¸»é¡¹ç›®çš„é…ç½®å†™æ³•æœ‰ä¸åŒ<br>åŠ è½½å™¨å’ŒåŒ…è£…å™¨éœ€è¦æ ¹æ®è‡ªå·±çš„éœ€æ±‚åšä¸€äº›äºŒæ¬¡å¼€å‘</p>
</blockquote>
<p><strong>æ€»çš„æ¥è¯´æ˜¯è¿™æ ·ä¸€ä¸ªæµç¨‹ï¼šç”¨æˆ·è®¿é—®index.htmlåï¼Œæµè§ˆå™¨è¿è¡ŒåŠ è½½å™¨çš„jsæ–‡ä»¶ï¼ŒåŠ è½½å™¨å»è¯»å–å›¾4ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæ³¨å†Œé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„å„ä¸ªé¡¹ç›®åï¼Œé¦–å…ˆåŠ è½½ä¸»é¡¹ç›®(èœå•ç­‰)ï¼Œå†é€šè¿‡è·¯ç”±åˆ¤å®šï¼ŒåŠ¨æ€è¿œç¨‹åŠ è½½å­é¡¹ç›®ã€‚</strong><br />è¿™é‡Œæœ‰ä¸ª<a target="_blank" rel="noopener" href="https://github.com/joeldenning/coexisting-vue-microfrontends">vueå¾®å‰ç«¯ç‰ˆdemo</a>ï¼ŒåŒ…å«æœ€åŸºç¡€çš„<strong>æ•ˆæœä¸æºç </strong>ï¼ŒåŠ¡å¿…ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªdemoå†ç»“åˆä»¥ä¸Šç†è®ºæ¥å¸®åŠ©ç†è§£<br />*è¿œç¨‹åŠ è½½çš„å­é¡¹ç›®èµ„æºè¦åœ¨chromeçš„networkä¸­çš„xhré‚£ä¸€æ æ‰èƒ½çœ‹åˆ°<br><a name="rgOXs"></a></p>
<h3 id="å›¾4ï¼šå›¾3ä¸­çš„apps-config-js"><a href="#å›¾4ï¼šå›¾3ä¸­çš„apps-config-js" class="headerlink" title="å›¾4ï¼šå›¾3ä¸­çš„apps.config.js"></a>å›¾4ï¼šå›¾3ä¸­çš„apps.config.js</h3><p>ç”¨æˆ·è®¿é—®index.htmlåï¼ŒjsåŠ è½½å™¨ä¼šåŠ è½½apps.config.jsã€‚<br />æ— è®ºè·¯ç”±æ˜¯ä»€ä¹ˆï¼Œæ¯æ¬¡å¿…ä¼šé¦–å…ˆåŠ è½½ä¸»é¡¹ç›®ï¼Œå†æ ¹æ®è·¯ç”±æ¥åŒ¹é…è¦åŠ è½½å“ªä¸ªå­é¡¹ç›®ã€‚<br />apps.config.jsçš„ç”Ÿæˆå¦‚å›¾3çš„ç»¿è‰²éƒ¨åˆ†æ‰€ç¤º:</p>
<blockquote>
<p>åœ¨èµ„æºæœåŠ¡å™¨ä¸Šèµ·ä¸€ä¸ªç›‘å¬æœåŠ¡(æˆ‘ä½¿ç”¨çš„æ˜¯nodejsè„šæœ¬+pm2å®ˆæŠ¤)ï¼ŒåŸæœ‰å­é¡¹ç›®çš„éƒ¨ç½²æ–¹å¼å®Œå…¨ä¸å˜(å‰åç«¯å®Œå…¨åˆ†ç¦»ï¼Œèµ„æºå¸¦hash)ï¼Œå½“ç›‘å¬æœåŠ¡æ£€æµ‹åˆ°æ–‡ä»¶æ”¹åŠ¨æ—¶ï¼Œå»å­é¡¹ç›®éƒ¨ç½²æ–‡ä»¶å¤¹é‡Œæ‰¾å®ƒçš„index.htmlï¼ŒæŠŠå…¥å£jsç”¨å¦‚ä¸‹æ­£åˆ™åŒ¹é…å‡ºæ¥ï¼Œå†™å…¥apps.config.jsã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// content[i]ä¸ºå­é¡¹ç›®æ–‡ä»¶å¤¹åç§°ã€‚è¿™æ®µä»£ç æ˜¯nodejsè„šæœ¬ç‰‡æ®µã€‚</span></span><br><span class="line"><span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`src=&quot;\(\\/<span class="subst">$&#123;content[i]&#125;</span>\\/index\\.\\w&#123;8&#125;.js\)`</span>) <span class="comment">// å¯¹åº”å›¾ä¸­çš„ /brain/index.3c4b55cf.js</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>
<blockquote>
<p>å›¾4ä¸­çš„brainå³æ˜¯ä¸»é¡¹ç›®ï¼Œå®ƒçš„baseå±æ€§ä¸ºtrueï¼Œå…¶ä½™å­é¡¹ç›®çš„baseå±æ€§ä¸ºfalse</p>
</blockquote>
<p><a name="H2Rhy"></a></p>
<h2 id="ä¸‰ã€ä¸€äº›æŠ€æœ¯ç»†èŠ‚"><a href="#ä¸‰ã€ä¸€äº›æŠ€æœ¯ç»†èŠ‚" class="headerlink" title="ä¸‰ã€ä¸€äº›æŠ€æœ¯ç»†èŠ‚"></a>ä¸‰ã€ä¸€äº›æŠ€æœ¯ç»†èŠ‚</h2><p>è¿™é‡Œè¯´çš„çš„é¡¹ç›®æ‰“åŒ…éƒ½æ˜¯åŸºäºwebpackã€‚<br><a name="4lc1Y"></a></p>
<h3 id="System-js"><a href="#System-js" class="headerlink" title="System.js"></a>System.js</h3><p>å®ƒæ˜¯å®ç°è¿œç¨‹åŠ è½½å­é¡¹ç›®çš„æ ¸å¿ƒã€‚<br />æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯0.21ç‰ˆæœ¬çš„ï¼š<a target="_blank" rel="noopener" href="https://github.com/systemjs/systemjs/tree/0.21">github.com/systemjs/syâ€¦</a><br />å› ä¸ºè¦åŠ¨æ€é€šè¿‡httpå¼•å…¥å¤–éƒ¨jsï¼Œåˆä¸å½±å“åœ¨å¼€å‘çš„æ—¶å€™ä½¿ç”¨importã€requireæ–¹æ³•ï¼Œæ‰€ä»¥æ‰¾åˆ°äº†systemjsæ¥åšè¿™ä»¶äº‹ã€‚<br />æ ¹æ®systemjsæ–‡æ¡£è¯´æ˜ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå­é¡¹ç›®æ‰“æˆumdæ ¼å¼(umdç³…åˆäº†AMDå’ŒCommonJS)çš„åŒ…å³å¯åŠ¨æ€å¤–éƒ¨åŠ è½½ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯ä¸ªå­é¡¹ç›®çš„webpack.config.js</span></span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: xxx,</span><br><span class="line">    <span class="attr">publicPath</span>: xxx,</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].[chunkhash:8].js&#x27;</span>,</span><br><span class="line">    <span class="attr">chunkFilename</span>: <span class="string">&#x27;js/[name].[chunkhash:8].chunk.js&#x27;</span>,</span><br><span class="line">    <span class="attr">libraryTarget</span>: <span class="string">&#x27;umd&#x27;</span>, <span class="comment">// è¿™é‡Œä¸€å®šè¦å†™æˆumdï¼Œä¸ç„¶æ‰“å‡ºæ¥çš„åŒ…system.jsæ— æ³•è¯»å–</span></span><br><span class="line">    <span class="attr">library</span>: xxx, <span class="comment">//æ¨¡å—çš„åç§°</span></span><br><span class="line">&#125;,</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>
<p><a name="ZHCNo"></a></p>
<h3 id="Webpack-Externals"><a href="#Webpack-Externals" class="headerlink" title="Webpack Externals"></a>Webpack Externals</h3><p>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/externals/">www.webpackjs.com/configuratiâ€¦</a><br />è¿™ä¹ˆå¤šåŒç±»å‹çš„vueé¡¹ç›®ï¼Œä¸€å®šæœ‰å¤§é‡çš„é‡å¤ä»£ç ã€é‡å¤å¼•ç”¨ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€å—å·¨å¤§çš„æ€§èƒ½ä¼˜åŒ–ç‚¹ï¼Œé€šè¿‡é…ç½®externalså¯ä»¥æå¤§å‡å°å­é¡¹ç›®æ‰“åŒ…å‡ºæ¥çš„ä½“ç§¯ã€‚<br />æˆ‘å¹¶æ²¡æœ‰å®Œå…¨æŒ‰ç…§æ–‡æ¡£è¯´æ˜çš„æ–¹å¼æ¥ä»CDNå¼•å…¥ï¼ŒåŸå› æ˜¯è¿™æ ·çš„ï¼šå…¥å£index.htmlåªæœ‰ä¸€ä¸ªï¼Œå¦‚æœæŒ‰æ–‡æ¡£æ¥åšï¼Œä¸€æ¬¡å¼•å…¥æ‰€æœ‰CDNèµ„æºï¼Œå¯èƒ½å­é¡¹ç›®Aç”¨å¾—åˆ°è¿™äº›ï¼Œä½†å­é¡¹ç›®Bç”¨ä¸åˆ°è¿™äº›ï¼Œè€Œæˆ‘åªè®¿é—®äº†å­é¡¹ç›®Bè€Œå·²ï¼Œè¿™æ ·ä¸å°±å¤šåŠ è½½äº†æ— ç”¨çš„èµ„æºå—ï¼Ÿ<br />ç»è¿‡ä¸€ç•ªè°ƒç ”ï¼ŒåŒæ ·åˆ©ç”¨systemjsè§£å†³äº†è¿™ä¸ªé—®é¢˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯ä¸ªå­é¡¹ç›®è‡ªå·±çš„webpack.config.jsï¼Œæ ¹æ®ä½¿ç”¨æƒ…å†µè®¾ç½®externals</span></span><br><span class="line"> <span class="attr">externals</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;axios&#x27;</span>: <span class="string">&#x27;axios&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;vue&#x27;</span>: <span class="string">&#x27;Vue&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;vue-router&#x27;</span>: <span class="string">&#x27;VueRouter&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;vuex&#x27;</span>: <span class="string">&#x27;Vuex&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;iview&#x27;</span>: <span class="string">&#x27;iview&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;moment&#x27;</span>: <span class="string">&#x27;moment&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;echarts&#x27;</span>: <span class="string">&#x27;echarts&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;@mfb/pc-utils-micro&#x27;</span>:<span class="string">&#x27;@mfb/pc-utils-micro&#x27;</span>, <span class="comment">// ç§æœ‰å…¬å…±æ–¹æ³•åŒ…</span></span><br><span class="line">      <span class="string">&#x27;@mfb/pc-components-micro&#x27;</span>:<span class="string">&#x27;@mfb/pc-components-micro&#x27;</span>, <span class="comment">// ç§æœ‰å…¬å…±ç»„ä»¶åŒ…</span></span><br><span class="line">      <span class="comment">// &#x27;@mfb/pc-components-micro&#x27;:&#x27;@mfb/pc-components-micro-0.2.1&#x27;, // å¦‚æœéœ€è¦æŒ‡å®šç‰ˆæœ¬,åˆ™ç”¨è¿™ä¸€è¡Œæ›¿æ¢ä¸Šä¸€è¡Œ </span></span><br><span class="line">      ...</span><br><span class="line">  &#125;,</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// index.html æ•´ä¸ªå¾®å‰ç«¯çš„å”¯ä¸€å…¥å£</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;system.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  SystemJS.config(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">map</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;Vue&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/vue/2.5.17/vue.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;vue&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/vue/2.5.17/vue.min.js&quot;</span>, <span class="comment">// å› ä¸ºiviewå‰ç½®éœ€è¦vueï¼Œæ˜¯å°å†™çš„ï¼Œå°±åˆå£°æ˜äº†ä¸€æ¬¡</span></span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;Vuex&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/vuex/3.0.1/vuex.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;VueRouter&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/vueRouter/3.0.1/vue-router.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;iview&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/iview/3.3.2/iview.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;moment&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/moment/2.22.2/moment.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;axios&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/axios/0.15.3/axios.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;echarts&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/echarts/4.2.1/echarts.min.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;@mfb/pc-utils-micro&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/mfb-pc-utils-micro/mfb-pc-utils-micro-0.0.6.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;@mfb/pc-components-micro&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/mfb-pc-components-micro/mfb-pc-components-micro-0.0.42.js&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;@mfb/pc-components-micro-0.2.1&quot;</span>: <span class="string">&quot;//xxx.cdn.cn/static/mfb-pc-components-micro/mfb-pc-components-micro-0.2.1.js&quot;</span> <span class="comment">// å¦‚æœéœ€è¦æŒ‡å®šç‰ˆæœ¬</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œsystemjsåªæ˜¯åœ¨åŠ è½½index.htmlæ—¶æ³¨å†Œäº†è¿™äº›CDNåœ°å€ï¼Œä¸ä¼šç›´æ¥å»åŠ è½½ï¼Œå½“å­é¡¹ç›®é‡Œç”¨åˆ°çš„æ—¶å€™ï¼Œsystemjsä¼šæ¥ç®¡æ¨¡å—å¼•å…¥ï¼Œsystemjsä¼šå»ä¸Šé¢æ³¨å†Œçš„mapä¸­æŸ¥æ‰¾åŒ¹é…çš„æ¨¡å—ï¼Œå°±å†åŠ¨æ€å»åŠ è½½èµ„æºã€‚è¿™æ ·å°±é¿å…äº†ä¸åŒå­é¡¹ç›®åœ¨è¿™å¥—æ¶æ„ä¸‹äº§ç”Ÿçš„å¤šä½™åŠ è½½ã€‚</p>
<blockquote>
<p>æŒ‰æˆ‘ä»¬çš„é…ç½®ï¼Œwebpackæ‰“åŒ…åï¼Œexternalsé…ç½®çš„æ¨¡å—ä¸ä¼šæ‰“åŒ…è¿›bundleï¼Œä¼šè¢«æ‘˜å‡ºæ¥æŒ‰umdè§„èŒƒé€šè¿‡requre/defineæ–¹å¼å»åŠ è½½ã€‚<br>çœ‹systemjsæºç ä¼šå‘ç°å®ƒé‡æ–°å®šä¹‰äº†requireå’Œdefineæ–¹æ³•ï¼Œæ‰€ä»¥å®ƒèƒ½æ¥ç®¡externalsçš„å¤–éƒ¨å¼•å…¥è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><a name="uloS1"></a></p>
<h2 id="å››ã€æ€»ç»“ä½“ä¼š"><a href="#å››ã€æ€»ç»“ä½“ä¼š" class="headerlink" title="å››ã€æ€»ç»“ä½“ä¼š"></a>å››ã€æ€»ç»“ä½“ä¼š</h2><p><em>æˆ‘æœ€ç›´ç™½çš„æ„Ÿå—æ˜¯å®ç°äº†é¡¹ç›®çº§åˆ«çš„æ¨¡å—åŒ–ï¼ŒæŠŠä¸åŒé¡¹ç›®å˜æˆäº†ä¸€ä¸ªä¸ªæ¨¡å—æ¥æ‹¼è£…ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´æ¨¡å—åŒ–ä»é¡¹ç›®å†…æå‡åˆ°äº†é¡¹ç›®æœ¬èº«</em><br /><strong>æ€»ç»“ä¸€ä¸‹ä½¿ç”¨è¿™å¥—æ¶æ„æ”¶åˆ°çš„å¥½å¤„ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</strong></p>
<ul>
<li>ç¼©å°é¡¹ç›®æ‰“åŒ…ä½“ç§¯(å¹³å‡æ¯ä¸ªå­é¡¹ç›®bundleä¸åˆ°100k)ï¼Œè€Œæ•´åˆåçš„å…¬å…±èµ„æºåªéœ€åŠ è½½ä¸€æ¬¡ï¼Œæ€§èƒ½å¾—åˆ°å¾ˆå¤§æå‡ (æŠ€æœ¯è§’åº¦)</li>
<li>ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œç”¨æˆ·æ„ŸçŸ¥ä¸åˆ°è‡ªå·±åœ¨ä½¿ç”¨å¤šä¸ªä¸åŒçš„é¡¹ç›®ï¼Œæ›´åŠ å¹³é¡ºæµç•… (äº§å“è§’åº¦)</li>
<li>ä¸åŒgitçš„é¡¹ç›®ç»è¿‡æ”¹é€ åï¼Œå¯ä»¥éšæ„ä»¥é¡¹ç›®å†…æ¯ä¸ªè·¯ç”±é¡µé¢ä¸ºå•å…ƒæ‹¼è£…æˆä¸€ä¸ªæ–°é¡¹ç›®ï¼Œäº§å“çµæ´»æ€§æœ¬è´¨ä¸Šå¾—åˆ°æå‡ (äº§å“/æŠ€æœ¯è§’åº¦)</li>
<li>æŠ€æœ¯å°æ–°ï¼Œä½¿ç”¨ä¸šç•Œæ¯”è¾ƒå…ˆè¿›çš„å¾®å‰ç«¯ç†å¿µï¼Œå‡ åä¸ªé¡¹ç›®ï¼Œæˆåƒä¸Šç™¾ä¸ªåŠŸèƒ½ä¹Ÿèƒ½å¾ˆå¥½çš„åˆ†æ¨¡å—ç®¡ç†ã€‚ (ç®¡ç†è§’åº¦)</li>
</ul>
<p><strong>ä¹Ÿæ˜¯æœ‰å¾ˆå¤šéº»çƒ¦ä¹‹å¤„ï¼Œéœ€è¦æ¶ˆè€—ä¸€å®šæˆæœ¬ï¼š</strong></p>
<ul>
<li>å› ä¸ºå¤šä¸ªvueå®ä¾‹åœ¨åŒä¸€ä¸ªdocumenté‡Œï¼Œéœ€è¦é¿å…å…¨å±€å˜é‡æ±¡æŸ“ã€å…¨å±€ç›‘å¬æ±¡æŸ“ã€æ ·å¼æ±¡æŸ“ç­‰ï¼Œéœ€è¦åˆ¶å®šæ¥å…¥è§„èŒƒã€‚</li>
<li>ä½¿ç”¨äº†externalæŠ½ç¦»å…¬å…±æ¨¡å—(æ¯”å¦‚Vueã€Vue-routerç­‰)åï¼Œæ„é€ å‡½æ•°(æˆ–è€…Class)çš„æ±¡æŸ“ä¹Ÿéœ€è¦é¿å…ï¼Œæ¯”å¦‚Vue.mixinã€Vue.componentsã€Vue<br>.useç­‰ç­‰éƒ½éœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œå»é¿å…å®ƒä»¬äº§ç”Ÿå†²çªã€‚</li>
<li>å¦‚æœä½ ä¹Ÿæƒ³è¦tabåˆ‡æ¢ä¸åˆ·æ–°(ä½¿ç”¨keep-alive)ï¼Œé‚£éœ€è¦åšçš„å·¥ä½œæ›´å¤šï¼Œä¸»è¦æ˜¯å¤„ç†ç¼“å­˜ï¼Œé˜²æ­¢å †å†…å­˜æº¢å‡ºï¼ˆç”¨chromeè‡ªå¸¦çš„performance monitoræŸ¥çœ‹ï¼‰ï¼Œè¿˜æœ‰é¡¹ç›®é—´åˆ‡æ¢æ—¶è·¯ç”±é’©å­ç­‰ç­‰çš„å¤„ç†ã€‚</li>
</ul>
<p>ä¸è¿‡è·Ÿæ”¶ç›Šæ¯”èµ·æ¥ï¼Œè¿™äº›æˆæœ¬å°±ä¸ç®—ä»€ä¹ˆäº†~<br />æœ€åè¦è¯´ä¸€ä¸‹ï¼Œ<strong>å¹¶ä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½é€‚åˆå¾®å‰ç«¯</strong>ï¼Œå°¤å…¶æ˜¯é¡¹ç›®è§„æ¨¡å°ã€æ•°é‡å°‘çš„åœºæ™¯ä¸å»ºè®®ä½¿ç”¨ã€‚<br />ä»€ä¹ˆæ ·çš„<strong>åœºæ™¯</strong>é€‚åˆè¿™å¥—æ¶æ„å‘¢ï¼Ÿä¸€èˆ¬æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>é¡¹ç›®å¾ˆ<strong>å¤š</strong>ï¼Œè§„æ¨¡å¾ˆ<strong>å¤§</strong>ï¼Œéƒ½æ˜¯æ¯ä¸ªé¡¹ç›®<strong>ç‹¬ç«‹ä½¿ç”¨</strong>gitæ­¤ç±»ä»“åº“ç»´æŠ¤çš„ã€æŠ€æœ¯æ ˆä¸ºvue/react/angularçš„è¿™ç±»åº”ç”¨</li>
<li>éœ€è¦æ•´åˆåˆ°ç»Ÿä¸€å¹³å°ä¸Šï¼Œä½ æ­£åœ¨å¯»æ‰¾<strong>å¯èƒ½æ¯”iframeæ›´åˆé€‚</strong>çš„æ›¿ä»£æ–¹æ¡ˆ</li>
<li>é¡¹ç›®Aæœ‰åŠŸèƒ½A1ã€A2ã€A3,é¡¹ç›®Bæœ‰åŠŸèƒ½B1ã€B2ã€B3ï¼Œäº§å“ç»ç†è¦ä½ æŠŠA2ã€B1ã€B3ç»„åˆæˆä¸€ä¸ª<strong>åŒ…å«è¿™äº›åŠŸèƒ½çš„æ–°é¡¹ç›®</strong></li>
</ul>
<p><strong>å¯èƒ½ä½ ä¼šé—®ï¼šä¸ºä»€ä¹ˆä¸ä¸€å¼€å§‹å°±æŠŠæ‰€æœ‰éœ€è¦æ•´åˆçš„åŠŸèƒ½ç”¨ä¸€ä¸ªgitæ¥ç»´æŠ¤ï¼Ÿ</strong><br />ç­”ï¼šç†æƒ³æ˜¯ç¾å¥½çš„ï¼Œè°ä¹Ÿæ²¡æœ‰å…ˆçŸ¥èƒ½åŠ›ï¼Œéšç€å…¬å¸ä¸šåŠ¡å‘å±•äº¦æˆ–æ˜¯ç»„ç»‡æ¶æ„çš„æ”¹å˜ã€äººå‘˜æ›´è¿­ï¼Œä»¥ä¸Šåœºæ™¯æ˜¯å‡ ä¹ä¸å¯é¿å…çš„ï¼›æˆ‘å¾ˆéš¾æƒ³è±¡åå¤šä¸ªé¡¹ç›®çš„å¥½å‡ ç™¾ä¸ªåŠŸèƒ½éƒ½åœ¨ä¸€ä¸ªgité‡Œç®¡ç†èµ·æ¥æœ‰å¤šå›°éš¾ã€‚<br /><strong>å¯èƒ½ä½ è¿˜ä¼šé—®ï¼Œé‚£æˆ‘æŠŠéœ€è¦æ•´åˆçš„ä¸šåŠ¡æ•´åˆæˆåˆ°ä¸€ä¸ªgitä»“åº“å‘¢ï¼Ÿ</strong><br />ç­”ï¼šè¿™å½“ç„¶æ˜¯ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œå‰ææ˜¯æ•´åˆçš„æˆæœ¬ä½ èƒ½æ¥å—ï¼›å¹¶ä¸”å°†æ¥è¿˜æœ‰è¿™ç±»éœ€æ±‚å‘¢ï¼Ÿæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ•´åˆä¸šåŠ¡ä»£ç åˆ°åŒä¸€ä¸ªgitä»“åº“å—ï¼Ÿå‡è®¾æ‰€æœ‰äººéƒ½åªç»´æŠ¤è¿™ä¸ªæ•´åˆå®Œçš„gitä»“åº“ï¼Œå¹¶è¡Œçš„éœ€æ±‚çº¿å¤šäº†ï¼Œä¸Šçº¿æ—¶é—´ä¼šä¸ä¼šæ‹¥æŒ¤ï¼Ÿä¸€ä¸ªåŠŸèƒ½äº§ç”Ÿäº†è‡´å‘½é”™è¯¯ï¼Œä¼šä¸ä¼šæ‰€æœ‰åŠŸèƒ½è·Ÿç€å‡ºé—®é¢˜ï¼Ÿ<br />æœ€åæˆ‘æƒ³è¯´ï¼š<br /><em><strong>æˆ‘ä»¬åšè¿™å¥—æ¡†æ¶çš„åˆè¡·æ˜¯è§£å†³çœ¼å‰çš„é—®é¢˜ï¼Œç„¶è€Œå‘ç°å®ƒé™„å¸¦çš„æ½œåŠ›ä»·å€¼å´æ¯”æƒ³è±¡çš„å¤šå¾—å¤šã€‚</strong></em></p>
<p>ä½œè€…ï¼šæ¯æ—¥ä¼˜é²œå¤§å‰ç«¯å›¢é˜Ÿ<br />é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/5d7f702ce51d4561f777e258">https://juejin.im/post/5d7f702ce51d4561f777e258</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/12/24/189-%E3%80%90%E5%BE%AE%E5%89%8D%E7%AB%AF%E3%80%91%E6%AF%8F%E6%97%A5%E4%BC%98%E9%B2%9C%E4%BE%9B%E5%BA%94%E9%93%BE%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%94%B9%E9%80%A0/" data-id="ckts3ejty00544d9k5zoh9geg" data-title="189-ã€å¾®å‰ç«¯ã€‘æ¯æ—¥ä¼˜é²œä¾›åº”é“¾å‰ç«¯å›¢é˜Ÿå¾®å‰ç«¯æ”¹é€ " class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">å¾®å‰ç«¯</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-188-ã€å‰ç«¯çŸ¥ä¹ç³»åˆ—ã€‘Fileå’ŒFileListå’ŒFileReaderå¯¹è±¡è¯¦è§£" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/12/18/188-%E3%80%90%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97%E3%80%91File%E5%92%8CFileList%E5%92%8CFileReader%E5%AF%B9%E8%B1%A1%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time class="dt-published" datetime="2019-12-18T15:48:33.000Z" itemprop="datePublished">2019-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/12/18/188-%E3%80%90%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97%E3%80%91File%E5%92%8CFileList%E5%92%8CFileReader%E5%AF%B9%E8%B1%A1%E8%AF%A6%E8%A7%A3/">188-ã€å‰ç«¯çŸ¥ä¹ç³»åˆ—ã€‘Fileå’ŒFileListå’ŒFileReaderå¯¹è±¡è¯¦è§£</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/blog/File_FileList_FileReader%E5%B0%81%E9%9D%A2%E5%9B%BE.png" alt="File_FileList_FileReaderå°é¢å›¾.png"></p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘åœ¨æˆ‘çš„ã€<a target="_blank" rel="noopener" href="http://www.pingan8787.com/">ä¸ªäººåšå®¢</a>ã€‘<br>æ›´å¤šä¸°å¯Œçš„å‰ç«¯å­¦ä¹ èµ„æ–™ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘çš„ <strong>Github</strong>: <a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo-JavaScript">ã€ŠLeo-JavaScriptã€‹</a>ï¼Œå†…å®¹æ¶µç›–<strong>æ•°æ®ç»“æ„ä¸ç®—æ³•</strong>ã€<strong>HTTP</strong>ã€<strong>Hybrid</strong>ã€<strong>é¢è¯•é¢˜</strong>ã€<strong>React</strong>ã€<strong>Angular</strong>ã€<strong>TypeScript</strong>å’Œ<strong>Webpack</strong>ç­‰ç­‰ã€‚<br>ç‚¹ä¸ª Star ä¸è¿·è·¯~</p>
</blockquote>
<p>æ¬¢è¿é˜…è¯»ã€Šå‰ç«¯çŸ¥ä¹ç³»åˆ—ã€‹ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5df838e3e51d455830351a3c">ã€Šã€å‰ç«¯çŸ¥ä¹ã€‘443- ArrayBuffer ä¸ Blob å¯¹è±¡è¯¦è§£ã€‹</a></li>
</ul>
<p><img src="http://images.pingan8787.com/blog/%E5%89%8D%E7%AB%AF%E8%87%AA%E4%B9%A0%E8%AF%BE%E2%80%94%E2%80%94banner.png" alt="å‰ç«¯è‡ªä¹ è¯¾â€”â€”banner"></p>
<p><code>File</code> å¯¹è±¡ã€<code>FileList</code> å¯¹è±¡ä¸ <code>FileReader</code> å¯¹è±¡å¤§å®¶æˆ–è®¸ä¸å¤ªé™Œç”Ÿï¼Œå¸¸è§äºæ–‡ä»¶ä¸Šä¼ ä¸‹è½½æ“ä½œå¤„ç†ï¼ˆå¦‚å¤„ç†å›¾ç‰‡ä¸Šä¼ é¢„è§ˆï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œç›‘æ§æ–‡ä»¶ä¸Šä¼ è¿›åº¦ç­‰é—®é¢˜ï¼‰ã€‚</p>
<p>é‚£ä¹ˆæœ¬æ–‡å°†ä¸å¤§å®¶æ·±å…¥ä»‹ç»ä¸¤è€…ã€‚</p>
<h2 id="ä¸€ã€File-å¯¹è±¡"><a href="#ä¸€ã€File-å¯¹è±¡" class="headerlink" title="ä¸€ã€File å¯¹è±¡"></a>ä¸€ã€File å¯¹è±¡</h2><h3 id="1-æ¦‚å¿µä»‹ç»"><a href="#1-æ¦‚å¿µä»‹ç»" class="headerlink" title="1. æ¦‚å¿µä»‹ç»"></a>1. æ¦‚å¿µä»‹ç»</h3><p><code>File</code> å¯¹è±¡æä¾›æœ‰å…³æ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¹¶å…è®¸ç½‘é¡µä¸­çš„ JavaScript è¯»å†™æ–‡ä»¶ã€‚</p>
<p>æœ€å¸¸è§çš„ä½¿ç”¨åœºåˆæ˜¯è¡¨å•çš„æ–‡ä»¶ä¸Šä¼ æ§ä»¶ï¼Œç”¨æˆ·åœ¨ä¸€ä¸ª <code>&lt;input type=&quot;file&quot;&gt;</code> å…ƒç´ ä¸Šé€‰æ‹©æ–‡ä»¶åï¼Œæµè§ˆå™¨ä¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢æ˜¯æ¯ä¸€ä¸ªç”¨æˆ·é€‰ä¸­çš„æ–‡ä»¶ï¼Œå®ƒä»¬éƒ½æ˜¯ <code>File</code> å®ä¾‹å¯¹è±¡ã€‚</p>
<p>å¦å¤–å€¼å¾—æåˆ°ä¸€ç‚¹ï¼š<code>File</code> å¯¹è±¡æ˜¯ä¸€ç§ç‰¹æ®Š <code>Blob</code> å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥ç”¨åœ¨ä»»æ„çš„ <code>Blob</code> å¯¹è±¡çš„ <code>context</code> ä¸­ã€‚æ¯”å¦‚è¯´ï¼Œ <code>FileReader</code>, <code>URL.createObjectURL()</code>, <code>createImageBitmap()</code>, åŠ <code>XMLHttpRequest.send()</code> éƒ½èƒ½å¤„ç† <code>Blob</code> å’Œ <code>File</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">// &lt;input id=&quot;fileItem&quot; type=&quot;file&quot;&gt;</span></span><br><span class="line"><span class="keyword">const</span> file = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;fileItem&#x27;</span>).files[<span class="number">0</span>];</span><br><span class="line">file <span class="keyword">instanceof</span> File <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="2-å¯¹è±¡ä½¿ç”¨"><a href="#2-å¯¹è±¡ä½¿ç”¨" class="headerlink" title="2. å¯¹è±¡ä½¿ç”¨"></a>2. å¯¹è±¡ä½¿ç”¨</h3><p>æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª <code>File()</code> æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>File</code> å®ä¾‹å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myFile = <span class="keyword">new</span> File(bits, name[, options]);</span><br></pre></td></tr></table></figure>

<p>å‚æ•°ï¼š</p>
<ul>
<li><code>bits</code>ï¼š</li>
</ul>
<p>ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ–‡ä»¶çš„å†…å®¹ã€‚æˆå‘˜å¯ä»¥æ˜¯ <code>ArrayBuffer</code>ï¼Œ<code>ArrayBufferView</code>ï¼Œ<code>Blob</code>ï¼Œæˆ–è€… <code>DOMString </code>å¯¹è±¡çš„ <code>Array</code>ï¼Œæˆ–è€…ä»»ä½•è¿™äº›å¯¹è±¡çš„ç»„åˆã€‚</p>
<p>é€šè¿‡è¿™ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥å®ç° <code>ArrayBuffer</code>ï¼Œ<code>ArrayBufferView</code>ï¼Œ<code>Blob</code> è½¬æ¢ä¸º <code>File</code> å¯¹è±¡ã€‚</p>
<ul>
<li><code>name</code>ï¼š</li>
</ul>
<p>å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–‡ä»¶åæˆ–æ–‡ä»¶è·¯å¾„ã€‚</p>
<ul>
<li><code>options</code>ï¼š</li>
</ul>
<p>é…ç½®å¯¹è±¡ï¼Œè®¾ç½®å®ä¾‹çš„å±æ€§ã€‚è¯¥å‚æ•°å¯é€‰ã€‚å¯é€‰å€¼æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<p><code>type</code>:  <code>DOMString</code>ï¼Œè¡¨ç¤ºå°†è¦æ”¾åˆ°æ–‡ä»¶ä¸­çš„å†…å®¹çš„ MIME ç±»å‹ã€‚é»˜è®¤å€¼ä¸º <code>&quot;&quot;</code> ã€‚<br><code>lastModified</code>:  æ•°å€¼ï¼Œè¡¨ç¤ºæ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´çš„ Unix æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ã€‚é»˜è®¤å€¼ä¸º <code>Date.now()</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myFile = <span class="keyword">new</span> File([<span class="string">&#x27;leo1&#x27;</span>, <span class="string">&#x27;leo2&#x27;</span>], <span class="string">&#x27;leo.txt&#x27;</span>, &#123;<span class="attr">type</span>: <span class="string">&#x27;text/plain&#x27;</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®å·²æœ‰çš„ blob å¯¹è±¡åˆ›å»º File å¯¹è±¡:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myFile = <span class="keyword">new</span> File([blob], <span class="string">&#x27;leo.png&#x27;</span>, &#123;<span class="attr">type</span>: <span class="string">&#x27;image/png&#x27;</span>&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="3-å®ä¾‹å±æ€§å’Œæ–¹æ³•"><a href="#3-å®ä¾‹å±æ€§å’Œæ–¹æ³•" class="headerlink" title="3. å®ä¾‹å±æ€§å’Œæ–¹æ³•"></a>3. å®ä¾‹å±æ€§å’Œæ–¹æ³•</h3><h4 id="3-1-å®ä¾‹å±æ€§"><a href="#3-1-å®ä¾‹å±æ€§" class="headerlink" title="3.1 å®ä¾‹å±æ€§"></a>3.1 å®ä¾‹å±æ€§</h4><p>å®ä¾‹æœ‰ä»¥ä¸‹å‡ ä¸ªå±æ€§ï¼š</p>
<ul>
<li><code>File.lastModified</code>ï¼šæœ€åä¿®æ”¹æ—¶é—´ã€‚åªè¯»</li>
</ul>
<p>è‡ª UNIX æ—¶é—´èµ·å§‹å€¼ï¼ˆ1970å¹´1æœˆ1æ—¥ 00:00:00 UTCï¼‰ä»¥æ¥çš„æ¯«ç§’æ•°</p>
<ul>
<li><code>File.name</code>ï¼šæ–‡ä»¶åæˆ–æ–‡ä»¶è·¯å¾„ã€‚åªè¯»   </li>
</ul>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè¿”å›å€¼ä¸åŒ…å«æ–‡ä»¶è·¯å¾„ ã€‚</p>
<ul>
<li><code>File.size</code>ï¼šæ–‡ä»¶å¤§å°ï¼ˆå•ä½å­—èŠ‚ï¼‰ã€‚åªè¯»   </li>
<li><code>File.type</code>ï¼šæ–‡ä»¶çš„ MIME ç±»å‹ã€‚åªè¯»   </li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">// &lt;input id=&quot;fileItem&quot; type=&quot;file&quot;&gt;</span></span><br><span class="line"><span class="keyword">const</span> myFile = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;fileItem&#x27;</span>)</span><br><span class="line">myFile.addEventListener(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> file = <span class="built_in">this</span>.files[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(file.name);</span><br><span class="line">    <span class="built_in">console</span>.log(file.size);</span><br><span class="line">    <span class="built_in">console</span>.log(file.lastModified);</span><br><span class="line">    <span class="built_in">console</span>.log(file.lastModifiedDate);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3-2-å®ä¾‹æ–¹æ³•"><a href="#3-2-å®ä¾‹æ–¹æ³•" class="headerlink" title="3.2 å®ä¾‹æ–¹æ³•"></a>3.2 å®ä¾‹æ–¹æ³•</h4><p><code>File</code> å¯¹è±¡æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä» Blob æ¥å£ç»§æ‰¿äº†ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li><code>Blob.slice([start[, end[, contentType]]])</code></li>
</ul>
<p>è¿”å›ä¸€ä¸ªæ–°çš„ <code>Blob</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«æœ‰æº <code>Blob</code> å¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚</p>
<h3 id="4-å…¼å®¹æ€§"><a href="#4-å…¼å®¹æ€§" class="headerlink" title="4. å…¼å®¹æ€§"></a>4. å…¼å®¹æ€§</h3><p><img src="http://images.pingan8787.com/blog/File%E5%AF%B9%E8%B1%A1%E5%85%BC%E5%AE%B9%E6%80%A7.png" alt="Fileå¯¹è±¡å…¼å®¹æ€§.png"></p>
<h2 id="äºŒã€FileList-å¯¹è±¡"><a href="#äºŒã€FileList-å¯¹è±¡" class="headerlink" title="äºŒã€FileList å¯¹è±¡"></a>äºŒã€FileList å¯¹è±¡</h2><h3 id="1-æ¦‚å¿µä»‹ç»-1"><a href="#1-æ¦‚å¿µä»‹ç»-1" class="headerlink" title="1. æ¦‚å¿µä»‹ç»"></a>1. æ¦‚å¿µä»‹ç»</h3><p><code>FileList</code> å¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ª <code>File</code> å®ä¾‹ï¼Œä¸»è¦å‡ºç°åœ¨ä¸¤ç§åœºåˆï¼š</p>
<ul>
<li>é€šè¿‡ <code>&lt;input type=&quot;file&quot;&gt;</code> æ§ä»¶çš„ <code>files</code> å±æ€§ï¼Œè¿”å›ä¸€ä¸ª <code>FileList</code> å®ä¾‹ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œå½“ <code>input</code> å…ƒç´ æ‹¥æœ‰ <code>multiple</code> å±æ€§ï¼Œåˆ™å¯ä»¥ç”¨å®ƒæ¥é€‰æ‹©å¤šä¸ªæ–‡ä»¶ã€‚</p>
<ul>
<li>é€šè¿‡æ‹–æ”¾æ–‡ä»¶ï¼ŒæŸ¥çœ‹ <code>DataTransfer.files</code> å±æ€§ï¼Œè¿”å›ä¸€ä¸ª <code>FileList</code> å®ä¾‹ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">// &lt;input id=&quot;fileItem&quot; type=&quot;file&quot;&gt;</span></span><br><span class="line"><span class="keyword">const</span> files = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;fileItem&#x27;</span>).files;</span><br><span class="line">files <span class="keyword">instanceof</span> FileList <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> firstFile = files[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<h3 id="2-å¯¹è±¡ä½¿ç”¨-1"><a href="#2-å¯¹è±¡ä½¿ç”¨-1" class="headerlink" title="2. å¯¹è±¡ä½¿ç”¨"></a>2. å¯¹è±¡ä½¿ç”¨</h3><p>æ‰€æœ‰ <code>type</code> å±æ€§ä¸º <code>file</code> çš„ <code>&lt;input&gt;</code> å…ƒç´ éƒ½æœ‰ä¸€ä¸ª <code>files</code> å±æ€§ï¼Œ<strong>ç”¨æ¥å­˜å‚¨ç”¨æˆ·æ‰€é€‰æ‹©çš„æ–‡ä»¶</strong>. ä¾‹å¦‚:</p>
<h3 id="3-å®ä¾‹å±æ€§å’Œæ–¹æ³•-1"><a href="#3-å®ä¾‹å±æ€§å’Œæ–¹æ³•-1" class="headerlink" title="3. å®ä¾‹å±æ€§å’Œæ–¹æ³•"></a>3. å®ä¾‹å±æ€§å’Œæ–¹æ³•</h3><h4 id="3-1-å®ä¾‹å±æ€§-1"><a href="#3-1-å®ä¾‹å±æ€§-1" class="headerlink" title="3.1 å®ä¾‹å±æ€§"></a>3.1 å®ä¾‹å±æ€§</h4><p>å®ä¾‹åªæœ‰ä¸€ä¸ªå±æ€§ï¼š</p>
<ul>
<li><code>FileList.length</code>ï¼šè¿”å›åˆ—è¡¨ä¸­çš„æ–‡ä»¶æ•°é‡ã€‚åªè¯»</li>
</ul>
<h4 id="3-2-å®ä¾‹æ–¹æ³•-1"><a href="#3-2-å®ä¾‹æ–¹æ³•-1" class="headerlink" title="3.2 å®ä¾‹æ–¹æ³•"></a>3.2 å®ä¾‹æ–¹æ³•</h4><p>å®ä¾‹åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><code>FileList.item()</code>ï¼šç”¨æ¥è¿”å›æŒ‡å®šä½ç½®çš„å®ä¾‹ï¼Œä» 0 å¼€å§‹ã€‚</li>
</ul>
<p>ç”±äº <code>FileList</code> å®ä¾‹æ˜¯ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œå³<code> myFileList[0]</code> ç­‰åŒäº <code>myFileList.item(0)</code> ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨ä¸åˆ° <code>item() </code>æ–¹æ³•ã€‚</p>
<h3 id="4-å…¼å®¹æ€§-1"><a href="#4-å…¼å®¹æ€§-1" class="headerlink" title="4. å…¼å®¹æ€§"></a>4. å…¼å®¹æ€§</h3><p><img src="http://images.pingan8787.com/blog/FileList%E5%AF%B9%E8%B1%A1%E5%85%BC%E5%AE%B9%E6%80%A7.png" alt="FileListå¯¹è±¡å…¼å®¹æ€§.png"></p>
<h3 id="5-å®ä¾‹"><a href="#5-å®ä¾‹" class="headerlink" title="5. å®ä¾‹"></a>5. å®ä¾‹</h3><p>é€‰æ‹©å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶è·å–æ¯ä¸ªæ–‡ä»¶ä¿¡æ¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">// &lt;input id=&quot;myfiles&quot; multiple type=&quot;file&quot;&gt;</span></span><br><span class="line"><span class="keyword">const</span> myFile = <span class="built_in">document</span>.querySelector(<span class="string">&quot;#myfiles&quot;</span>);</span><br><span class="line">myFile.addEventListener(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> files = <span class="built_in">this</span>.files;</span><br><span class="line">    <span class="keyword">let</span> fileLength = files.length;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ( i &lt; fileLength) &#123;</span><br><span class="line">        <span class="keyword">let</span> file = files[i];</span><br><span class="line">        <span class="built_in">console</span>.log(file.name);</span><br><span class="line">        i++;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€FileReader-å¯¹è±¡"><a href="#ä¸‰ã€FileReader-å¯¹è±¡" class="headerlink" title="ä¸‰ã€FileReader å¯¹è±¡"></a>ä¸‰ã€FileReader å¯¹è±¡</h2><h3 id="1-æ¦‚å¿µä»‹ç»-2"><a href="#1-æ¦‚å¿µä»‹ç»-2" class="headerlink" title="1. æ¦‚å¿µä»‹ç»"></a>1. æ¦‚å¿µä»‹ç»</h3><p><code>FileReader</code> å¯¹è±¡å…è®¸ Web åº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ï¼ˆæˆ–åŸå§‹æ•°æ®ç¼“å†²åŒºï¼‰çš„å†…å®¹ï¼Œä½¿ç”¨ <code>File</code> æˆ– <code>Blob</code> å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚</p>
<p>ç®€å•ç†è§£ï¼Œå°±æ˜¯ç”¨äºè¯»å– <code>File</code> å¯¹è±¡æˆ– <code>Blob</code> å¯¹è±¡æ‰€åŒ…å«çš„æ–‡ä»¶å†…å®¹ã€‚</p>
<h3 id="2-å¯¹è±¡ä½¿ç”¨-2"><a href="#2-å¯¹è±¡ä½¿ç”¨-2" class="headerlink" title="2. å¯¹è±¡ä½¿ç”¨"></a>2. å¯¹è±¡ä½¿ç”¨</h3><p>æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª <code>FileReader</code> æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>FileReader</code> å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br></pre></td></tr></table></figure>

<h3 id="3-å®ä¾‹å±æ€§å’Œæ–¹æ³•-2"><a href="#3-å®ä¾‹å±æ€§å’Œæ–¹æ³•-2" class="headerlink" title="3. å®ä¾‹å±æ€§å’Œæ–¹æ³•"></a>3. å®ä¾‹å±æ€§å’Œæ–¹æ³•</h3><p><code>FileReader</code> å¯¹è±¡æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•è¾ƒå¤šã€‚</p>
<h4 id="3-1-å®ä¾‹å±æ€§-2"><a href="#3-1-å®ä¾‹å±æ€§-2" class="headerlink" title="3.1 å®ä¾‹å±æ€§"></a>3.1 å®ä¾‹å±æ€§</h4><ul>
<li><code>FileReader.error</code> : è¡¨ç¤ºåœ¨è¯»å–æ–‡ä»¶æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚åªè¯»</li>
<li><code>FileReader.readyState</code> : æ•´æ•°ï¼Œè¡¨ç¤ºè¯»å–æ–‡ä»¶æ—¶çš„å½“å‰çŠ¶æ€ã€‚åªè¯»</li>
</ul>
<p>å…±æœ‰ä¸‰ç§çŠ¶æ€ï¼š<br>0 : EMPTYï¼Œè¡¨ç¤ºå°šæœªåŠ è½½ä»»ä½•æ•°æ®ï¼›<br>1 : LOADINGï¼Œè¡¨ç¤ºæ•°æ®æ­£åœ¨åŠ è½½ï¼›<br>2 : DONEï¼Œè¡¨ç¤ºåŠ è½½å®Œæˆï¼›</p>
<ul>
<li><code>FileReader.result</code> è¯»å–å®Œæˆåçš„æ–‡ä»¶å†…å®¹ã€‚åªè¯»</li>
</ul>
<p>ä»…åœ¨è¯»å–æ“ä½œå®Œæˆåæ‰æœ‰æ•ˆï¼Œè¿”å›çš„æ•°æ®æ ¼å¼<strong>å–å†³äºä½¿ç”¨å“ªä¸ªæ–¹æ³•æ¥å¯åŠ¨è¯»å–æ“ä½œ</strong>ã€‚</p>
<h4 id="3-2-äº‹ä»¶å¤„ç†"><a href="#3-2-äº‹ä»¶å¤„ç†" class="headerlink" title="3.2 äº‹ä»¶å¤„ç†"></a>3.2 äº‹ä»¶å¤„ç†</h4><ul>
<li><code>FileReader.onabort</code> : å¤„ç†<code>abort</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œ<strong>è¢«ä¸­æ–­</strong>æ—¶è§¦å‘ã€‚</li>
<li><code>FileReader.onerror</code> : å¤„ç†<code>error</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œ<strong>å‘ç”Ÿé”™è¯¯</strong>æ—¶è§¦å‘ã€‚</li>
<li><code>FileReader.onload</code> : å¤„ç†<code>load</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œ<strong>å®Œæˆ</strong>æ—¶è§¦å‘ã€‚</li>
<li><code>FileReader.onloadstart</code> : å¤„ç†<code>loadstar</code>täº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œ<strong>å¼€å§‹</strong>æ—¶è§¦å‘ã€‚</li>
<li><code>FileReader.onloadend</code> : å¤„ç†<code>loadend</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“<strong>ä½œç»“æŸ</strong>æ—¶ï¼ˆè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼‰è§¦å‘ã€‚</li>
<li><code>FileReader.onprogress</code> : å¤„ç†<code>progress</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–<strong>Blob</strong>æ—¶è§¦å‘ã€‚</li>
</ul>
<h4 id="3-3-å®ä¾‹æ–¹æ³•"><a href="#3-3-å®ä¾‹æ–¹æ³•" class="headerlink" title="3.3 å®ä¾‹æ–¹æ³•"></a>3.3 å®ä¾‹æ–¹æ³•</h4><ul>
<li><code>FileReader.abort()</code>ï¼šç»ˆæ­¢è¯»å–æ“ä½œï¼Œ<code>readyState</code> å±æ€§å°†å˜æˆ2ã€‚</li>
<li><code>FileReader.readAsArrayBuffer()</code>ï¼šä»¥ <code>ArrayBuffer</code> çš„æ ¼å¼è¯»å–æ–‡ä»¶ï¼Œè¯»å–å®Œæˆå <code>result</code> å±æ€§å°†è¿”å›ä¸€ä¸ª <code>ArrayBuffer</code> å®ä¾‹ã€‚</li>
<li><code>FileReader.readAsBinaryString()</code>ï¼šè¯»å–å®Œæˆåï¼Œ <code>result</code> å±æ€§å°†<strong>è¿”å›åŸå§‹çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²</strong>ã€‚</li>
<li><code>FileReader.readAsDataURL()</code>ï¼šè¯»å–å®Œæˆåï¼Œ <code>result</code> å±æ€§å°†è¿”å›ä¸€ä¸ª Data URL æ ¼å¼ï¼ˆBase64 ç¼–ç ï¼‰çš„å­—ç¬¦ä¸²ï¼Œä»£è¡¨æ–‡ä»¶å†…å®¹ã€‚</li>
</ul>
<p>å¯¹äºå›¾ç‰‡æ–‡ä»¶ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç”¨äº<code>&lt;img&gt;</code>å…ƒç´ çš„ <code>src</code> å±æ€§ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¸èƒ½ç›´æ¥è¿›è¡Œ Base64 è§£ç ï¼Œå¿…é¡»æŠŠå‰ç¼€ <code>data:*/*;base64</code> ,ä»å­—ç¬¦ä¸²é‡Œåˆ é™¤ä»¥åï¼Œå†è¿›è¡Œè§£ç ã€‚</p>
<ul>
<li><code>FileReader.readAsText()</code>ï¼šè¯»å–å®Œæˆåï¼Œ <code>result</code> å±æ€§å°†è¿”å›æ–‡ä»¶å†…å®¹çš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä»£è¡¨æ–‡ä»¶çš„ Blob å®ä¾‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºæ–‡æœ¬ç¼–ç ï¼Œé»˜è®¤ä¸º <code>UTF-8</code>ã€‚</p>
<h3 id="4-å…¼å®¹æ€§-2"><a href="#4-å…¼å®¹æ€§-2" class="headerlink" title="4. å…¼å®¹æ€§"></a>4. å…¼å®¹æ€§</h3><p><img src="http://images.pingan8787.com/blog/FileReader%E5%AF%B9%E8%B1%A1%E5%85%BC%E5%AE%B9%E6%80%A7.png" alt="FileReaderå¯¹è±¡å…¼å®¹æ€§.png"></p>
<h3 id="5-å®ä¾‹-1"><a href="#5-å®ä¾‹-1" class="headerlink" title="5. å®ä¾‹"></a>5. å®ä¾‹</h3><p>è¿™é‡Œä¸¾ä¸€ä¸ªå›¾ç‰‡é¢„è§ˆçš„å®ä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* HTML ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">  &lt;input type=&quot;file&quot; onchange=&quot;previewFile()&quot;&gt;</span></span><br><span class="line"><span class="comment">  &lt;img src=&quot;&quot; height=&quot;200&quot;&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">previewFile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> preview = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> file    = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;input[type=file]&#x27;</span>).files[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">let</span> reader  = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">  reader.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    preview.src = reader.result;</span><br><span class="line">  &#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (file) &#123;</span><br><span class="line">    reader.readAsDataURL(file);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€å‚è€ƒèµ„æ–™"><a href="#å››ã€å‚è€ƒèµ„æ–™" class="headerlink" title="å››ã€å‚è€ƒèµ„æ–™"></a>å››ã€å‚è€ƒèµ„æ–™</h2><ol>
<li><a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/bom/file.html">ã€ŠFile å¯¹è±¡ï¼ŒFileList å¯¹è±¡ï¼ŒFileReader å¯¹è±¡ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API">MDN</a></li>
</ol>
<h2 id="äº”ã€å…³äºæˆ‘"><a href="#äº”ã€å…³äºæˆ‘" class="headerlink" title="äº”ã€å…³äºæˆ‘"></a>äº”ã€å…³äºæˆ‘</h2><blockquote>
<p>æœ¬æ–‡é¦–å‘åœ¨ <a target="_blank" rel="noopener" href="http://www.pingan8787.com/">pingan8787ä¸ªäººåšå®¢</a>ï¼Œå¦‚éœ€è½¬è½½è¯·ä¿ç•™ä¸ªäººä»‹ç»ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#x67;&#x61;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;">&#112;&#x69;&#x6e;&#x67;&#x61;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/12/18/188-%E3%80%90%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97%E3%80%91File%E5%92%8CFileList%E5%92%8CFileReader%E5%AF%B9%E8%B1%A1%E8%AF%A6%E8%A7%A3/" data-id="ckts3ejtx00514d9k97dm4skr" data-title="188-ã€å‰ç«¯çŸ¥ä¹ç³»åˆ—ã€‘Fileå’ŒFileListå’ŒFileReaderå¯¹è±¡è¯¦è§£" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSSåŠ¨ç”»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTPåè®®</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">ä¸­é—´ä»¶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">äººå·¥æ™ºèƒ½</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">å…¨æ ˆå¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">å‰ç«¯æ¢ç´¢</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">å¸¸ç”¨æŠ€æœ¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">å¾®å‰ç«¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">æ€»ç»“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">æœºå™¨å­¦ä¹ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">æ„å»ºå·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">æºç </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">æºç ç²¾è¯»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">çƒ­é—¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">ç”Ÿæ´»æ‚è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">ç¼–è¯‘åŸç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">ç½‘ç»œè¯·æ±‚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">é‡æ¸©åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">é¢è¯•é¢˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSSåŠ¨ç”»</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTPåè®®</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">ä¸­é—´ä»¶</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">äººå·¥æ™ºèƒ½</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">å…¨æ ˆå¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">å‰ç«¯å¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">å‰ç«¯æ¢ç´¢</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">åŸåˆ›</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">å¸¸ç”¨æŠ€æœ¯</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">å¾®å‰ç«¯</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">æ€»ç»“</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">æœºå™¨å­¦ä¹ </a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">æ„å»ºå·¥å…·</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">æ­£åˆ™è¡¨è¾¾å¼</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">æºç </a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">æºç ç²¾è¯»</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">çƒ­é—¨</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">ç”Ÿæ´»æ‚è®°</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">ç®—æ³•</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">ç¼–è¯‘åŸç†</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">ç½‘ç»œè¯·æ±‚</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">è¯»ä¹¦ç¬”è®°</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">é‡æ¸©åŸºç¡€</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">é¢è¯•é¢˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-ã€æ€»ç»“ã€‘å¦‚ä½•ä¼˜é›…çš„åœ¨å¾®ä¿¡å°ç¨‹åºä½¿ç”¨SVGå­—ä½“å›¾æ ‡</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-ã€HTTPã€‘å¦‚ä½•ä¼˜é›…çš„ç®¡ç†HTTPè¯·æ±‚å’Œå“åº”æ‹¦æˆªå™¨ï¼Ÿ</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-ã€Vueã€‘ä»æ‰‹å†™Vue3çš„Reactivityå¼€å§‹æ·±å…¥Vue3æºç </a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-ã€Chromeã€‘5ä¸ªChromeè°ƒè¯•æ··åˆåº”ç”¨çš„æŠ€å·§</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-ã€å‰ç«¯æ¢ç´¢ã€‘æ¢ç´¢Snabbdomæ¨¡å—ç³»ç»ŸåŸç†</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>