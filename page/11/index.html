<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/11/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-127-【JavaScript】【重温基础】13-迭代器和生成器" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/01/06/127-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9113-%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2019-01-06T11:31:04.000Z" itemprop="datePublished">2019-01-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/01/06/127-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9113-%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/">127-【JavaScript】【重温基础】13.迭代器和生成器</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#x67;&#97;&#110;&#56;&#x37;&#x38;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#109;">&#112;&#x69;&#110;&#x67;&#97;&#110;&#56;&#x37;&#x38;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>本文是 <strong>重温基础</strong> 系列文章的第十三篇。<br>今日感受：每次自我年终总结，都会有各种情绪和收获。</p>
<p><strong>本章节复习的是JS中的迭代器和生成器，常常用来处理集合。</strong>   </p>
<p>前置知识：<br>JavaScrip已经提供多个迭代集合的方法，从简单的<code>for</code>循环到<code>map()</code>和<code>filter()</code>。<br>迭代器和生成器将迭代的概念直接带入核心语言，并提供一种机制来自定义<code>for...of</code>循环的行为。   </p>
<p><strong>本文会将知识点分为两大部分，简单介绍和详细介绍</strong>：<br>简单介绍，适合基础入门会使用的目标；<br>详细介绍，会更加深入的做介绍，适合理解原理；  </p>
<h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p>当我们使用循环语句迭代数据时，需初始化一个变量来记录每一次迭代在数据集合中的位置：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; a.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这边的<code>i</code>就是我们用来记录迭代位置的变量，但是在<strong>ES6</strong>开始，JavaScrip引入了迭代器这个特性，并且<strong>新的数组方法</strong>和<strong>新的集合类型</strong>(如<code>Set集合</code>与<code>Map集合</code>)都依赖迭代器的实现，这个新特性对于<strong>高效的数据处理</strong>而言是不可或缺的，在语言的其他特性中也都有迭代器的身影：新的<code>for-of循环</code>、展开运算符(<code>...</code>)，甚至连<strong>异步编程</strong>都可以使用迭代器。   </p>
<p>本文主要会介绍ES6中新增的迭代器(Iterator)和生成器(Generator)。   </p>
<h1 id="2-迭代器-简单介绍"><a href="#2-迭代器-简单介绍" class="headerlink" title="2. 迭代器(简单介绍)"></a>2. 迭代器(简单介绍)</h1><p>迭代器是一种特殊对象，它具有一些专门为迭代过程设计的专有接口，所有的迭代器对象都有一个<code>next()</code>方法，每次调用都会返回一个结果对象。<br>这个结果对象，有两个属性：   </p>
<ul>
<li><code>value</code>: 表示下一个将要返回的值。   </li>
<li><code>done</code>: 一个布尔值，若没有更多可返回的数据时，值为<code>true</code>，否则<code>false</code>。   </li>
</ul>
<p>如果最后一个值返回后，再调用<code>next()</code>，则返回的对象的<code>done</code>值为<code>true</code>，而<code>value</code>值如果没有值的话，返回的为<code>undefined</code>。   </p>
<p><strong>ES5</strong>实现一个迭代器：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myIterator</span>(<span class="params">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">next</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> done = i &gt;= list.length;</span><br><span class="line">            <span class="keyword">var</span> value = !done ? list[i++] : <span class="literal">undefined</span>;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="attr">done</span> : done,</span><br><span class="line">                <span class="attr">value</span> : value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iterator = myIterator([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 1&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 2&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 3&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br><span class="line"><span class="comment">// 以后的调用都一样</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>从上面代码可以看出，ES5的实现还是比较麻烦，而ES6新增的生成器，可以使得创建迭代器对象的过程更加简单。   </p>
<h1 id="3-生成器-简单介绍"><a href="#3-生成器-简单介绍" class="headerlink" title="3. 生成器(简单介绍)"></a>3. 生成器(简单介绍)</h1><p>生成器是一种返回迭代器的函数，通过<code>function</code>关键字后的星号(<code>*</code>)来表示，函数中会用到新的关键字<code>yield</code>。星号可以紧挨着<code>function</code>关键字，也可以在中间添加一个空格。     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">myIterator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterator = myIterator();</span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 1&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 2&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 3&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br><span class="line"><span class="comment">// 以后的调用都一样</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>生成器函数最有趣的部分是，每当执行完一条<code>yield</code>语句后函数就会自动停止执行，比如上面代码，当<code>yield 1;</code>执行完后，便不会执行任何语句，而是等到再调用迭代器的<code>next()</code>方法才会执行下一个语句，即<code>yield 2;</code>.<br>使用<code>yield</code>关键字可以返回任何值和表达式，因为可以通过生成器函数批量给迭代器添加元素：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">myIterator</span>(<span class="params">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span>  i = <span class="number">0</span>; i&lt; list.length ; i ++)&#123;</span><br><span class="line">        <span class="keyword">yield</span> list[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iterator = myIterator([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 1&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 2&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: false, value: 3&#125;&quot;</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br><span class="line"><span class="comment">// 以后的调用都一样</span></span><br><span class="line">iterator.next();  <span class="comment">// &quot;&#123;done: true, value: undefined&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>生成器的适用返回很广，可以将它用于所有支持函数使用的地方。   </p>
<h1 id="4-迭代器（详细介绍）"><a href="#4-迭代器（详细介绍）" class="headerlink" title="4. 迭代器（详细介绍）"></a>4. 迭代器（详细介绍）</h1><h2 id="4-1-Iterator迭代器概念"><a href="#4-1-Iterator迭代器概念" class="headerlink" title="4.1 Iterator迭代器概念"></a>4.1 Iterator迭代器概念</h2><blockquote>
<p><strong>Iterator</strong>是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 <strong>Iterator</strong> 接口，就可以完成迭代操作（即依次处理该数据结构的所有成员）。  </p>
</blockquote>
<p><strong>Iterator三个作用</strong>：</p>
<ul>
<li>为各种数据结构，提供一个<strong>统一</strong>的、<strong>简便</strong>的访问接口；  </li>
<li>使得数据结构的成员能够按某种次序排列；  </li>
<li><strong>Iterator</strong> 接口主要供ES6新增的<code>for...of</code>消费；  </li>
</ul>
<h2 id="4-2-Iterator迭代过程"><a href="#4-2-Iterator迭代过程" class="headerlink" title="4.2 Iterator迭代过程"></a>4.2 Iterator迭代过程</h2><ol>
<li>创建一个指针对象，指向当前数据结构的起始位置。也就是说，迭代器对象本质上，就是一个指针对象。   </li>
<li>第一次调用指针对象的<code>next</code>方法，可以将指针指向数据结构的第一个成员。</li>
<li>第二次调用指针对象的<code>next</code>方法，指针就指向数据结构的第二个成员。</li>
<li>不断调用指针对象的<code>next</code>方法，直到它指向数据结构的结束位置。</li>
</ol>
<p>每一次调用<code>next</code>方法，都会返回数据结构的当前成员的信息。具体来说，就是返回一个包含<code>value</code>和<code>done</code>两个属性的对象。</p>
<ul>
<li><code>value</code>属性是当前成员的值;  </li>
<li><code>done</code>属性是一个布尔值，表示迭代是否结束;   </li>
</ul>
<p>模拟<code>next</code>方法返回值：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nextIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> nextIndex &lt; arr.length ?</span><br><span class="line">            &#123;<span class="attr">value</span>: arr[nextIndex++], <span class="attr">done</span>: <span class="literal">false</span>&#125;:</span><br><span class="line">            &#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = f([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]);</span><br><span class="line">a.next(); <span class="comment">// &#123; value: &quot;a&quot;, done: false &#125;</span></span><br><span class="line">a.next(); <span class="comment">// &#123; value: &quot;b&quot;, done: false &#125;</span></span><br><span class="line">a.next(); <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-3-默认Iterator接口"><a href="#4-3-默认Iterator接口" class="headerlink" title="4.3 默认Iterator接口"></a>4.3 默认Iterator接口</h2><p>若数据<strong>可迭代</strong>，即一种数据部署了Iterator接口。<br>ES6中默认的Iterator接口部署在数据结构的<code>Symbol.iterator</code>属性，即如果一个数据结构具有<code>Symbol.iterator</code>属性，就可以认为是<strong>可迭代</strong>。<br><code>Symbol.iterator</code>属性本身是函数，是当前数据结构默认的迭代器生成函数。执行这个函数，就会返回一个迭代器。至于属性名<code>Symbol.iterator</code>，它是一个表达式，返回<code>Symbol</code>对象的<code>iterator</code>属性，这是一个预定义好的、类型为 Symbol 的特殊值，所以要放在方括号内（参见《Symbol》一章）。   </p>
<p><strong>原生具有Iterator接口的数据结构有</strong>：   </p>
<ul>
<li>Array</li>
<li>Map</li>
<li>Set</li>
<li>String</li>
<li>TypedArray</li>
<li>函数的 arguments 对象</li>
<li>NodeList 对象</li>
</ul>
<h2 id="4-4-Iterator使用场景"><a href="#4-4-Iterator使用场景" class="headerlink" title="4.4 Iterator使用场景"></a>4.4 Iterator使用场景</h2><ul>
<li><p><strong>(1)解构赋值</strong><br>对数组和 <code>Set</code> 结构进行解构赋值时，会默认调用<code>Symbol.iterator</code>方法。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>().add(<span class="string">&#x27;a&#x27;</span>).add(<span class="string">&#x27;b&#x27;</span>).add(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> [x, y] = a;       <span class="comment">// x = &#x27;a&#x27;  y = &#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> [a1, ...a2] = a;  <span class="comment">// a1 = &#x27;a&#x27; a2 = [&#x27;b&#x27;,&#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>(2)扩展运算符</strong><br>扩展运算符（<code>...</code>）也会调用默认的 Iterator 接口。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">[...a];            <span class="comment">//  [&#x27;h&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, ...a, <span class="string">&#x27;d&#x27;</span>];  <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>(2)yield</strong>*<br><code>yield*</code>后面跟的是一个可迭代的结构，它会调用该结构的迭代器接口。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span>* [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = a();</span><br><span class="line">b.next() <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">b.next() <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">b.next() <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">b.next() <span class="comment">// &#123; value: 4, done: false &#125;</span></span><br><span class="line">b.next() <span class="comment">// &#123; value: 5, done: false &#125;</span></span><br><span class="line">b.next() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>(4)其他场合</strong><br>由于数组的迭代会调用迭代器接口，所以任何接受数组作为参数的场合，其实都调用了迭代器接口。下面是一些例子。  </p>
</li>
<li><p>for…of</p>
</li>
<li><p>Array.from()</p>
</li>
<li><p>Map(), Set(), WeakMap(), WeakSet()（比如<code>new Map([[&#39;a&#39;,1],[&#39;b&#39;,2]])</code>）</p>
</li>
<li><p>Promise.all()</p>
</li>
<li><p>Promise.race()</p>
</li>
</ul>
<h2 id="4-5-for…of循环"><a href="#4-5-for…of循环" class="headerlink" title="4.5 for…of循环"></a>4.5 for…of循环</h2><p>只要数据结构部署了<code>Symbol.iterator</code>属性，即具有 iterator 接口，可以用<code>for...of</code>循环迭代它的成员。也就是说，<code>for...of</code>循环内部调用的是数据结构的<code>Symbol.iterato</code>方法。<br><strong>使用场景</strong>：<br><code>for...of</code>可以使用在<strong>数组</strong>，**<code>Set</code>和<code>Map</code>结构<strong>，</strong>类数组对象<strong>，</strong>Genetator对象<strong>和</strong>字符串**。   </p>
<ul>
<li><p><strong>数组</strong><br><code>for...of</code>循环可以代替数组实例的<code>forEach</code>方法。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;; <span class="comment">// a b c</span></span><br><span class="line"></span><br><span class="line">a.forEach(<span class="function">(<span class="params">ele, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(ele);    <span class="comment">// a b c</span></span><br><span class="line">    <span class="built_in">console</span>.log(index);  <span class="comment">// 0 1 2 </span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>与<code>for...in</code>对比，<code>for...in</code>只能获取对象键名，不能直接获取键值，而<code>for...of</code>允许直接获取键值。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;;  <span class="comment">// a b c</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;;  <span class="comment">// 0 1 2</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>Set和Map</strong><br>可以使用数组作为变量，如<code>for (let [k,v] of b)&#123;...&#125;</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;; <span class="comment">// a b c</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">b.set(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line">b.set(<span class="string">&#x27;age&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">b.set(<span class="string">&#x27;aaa&#x27;</span>,<span class="string">&#x27;bbb&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [k,v] <span class="keyword">of</span> b)&#123;<span class="built_in">console</span>.log(k + <span class="string">&quot;:&quot;</span> + v)&#125;;</span><br><span class="line"><span class="comment">// name:leo</span></span><br><span class="line"><span class="comment">// age:18</span></span><br><span class="line"><span class="comment">// aaa:bbb</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>类数组对象</strong>   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a )&#123;<span class="built_in">console</span>.log(k)&#125;; <span class="comment">// h e l l o</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM NodeList对象</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> b )&#123;</span><br><span class="line">    k.classList.add(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// arguments对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">arguments</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>); <span class="comment">// a b</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>对象</strong><br>普通对象不能直接使用<code>for...of</code>会报错，要部署Iterator才能使用。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>:<span class="string">&#x27;aa&#x27;</span>,<span class="attr">b</span>:<span class="string">&#x27;bb&#x27;</span>,<span class="attr">c</span>:<span class="string">&#x27;cc&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;; <span class="comment">// a b c</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;<span class="built_in">console</span>&gt;log(k)&#125;; <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-6-跳出for…of"><a href="#4-6-跳出for…of" class="headerlink" title="4.6 跳出for…of"></a>4.6 跳出for…of</h2><p>使用<code>break</code>来实现。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&gt;<span class="number">100</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="5-生成器（详细介绍）"><a href="#5-生成器（详细介绍）" class="headerlink" title="5. 生成器（详细介绍）"></a>5. 生成器（详细介绍）</h1><h2 id="5-1-基本概念"><a href="#5-1-基本概念" class="headerlink" title="5.1 基本概念"></a>5.1 基本概念</h2><p><code>Generator</code>生成器函数是一种异步编程解决方案。<br><strong>原理</strong>：<br>执行<code>Genenrator</code>函数会返回一个遍历器对象，依次遍历<code>Generator</code>函数内部的每一个状态。<br><code>Generator</code>函数是一个普通函数，有以下两个特征：  </p>
<ul>
<li><code>function</code>关键字与函数名之间有个星号；   </li>
<li>函数体内使用<code>yield</code>表达式，定义不同状态；   </li>
</ul>
<p>通过调用<code>next</code>方法，将指针移向下一个状态，直到遇到下一个<code>yield</code>表达式（或<code>return</code>语句）为止。简单理解，<code>Generator</code>函数分段执行，<code>yield</code>表达式是暂停执行的标记，而<code>next</code>恢复执行。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;hi&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;ending&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = f();</span><br><span class="line">a.next();  <span class="comment">// &#123;value: &#x27;hi&#x27;, done : false&#125;</span></span><br><span class="line">a.next();  <span class="comment">// &#123;value: &#x27;leo&#x27;, done : false&#125;</span></span><br><span class="line">a.next();  <span class="comment">// &#123;value: &#x27;ending&#x27;, done : true&#125;</span></span><br><span class="line">a.next();  <span class="comment">// &#123;value: undefined, done : false&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-2-yield表达式"><a href="#5-2-yield表达式" class="headerlink" title="5.2 yield表达式"></a>5.2 yield表达式</h2><p><code>yield</code>表达式是暂停标志，遍历器对象的<code>next</code>方法的运行逻辑如下：   </p>
<ol>
<li>遇到<code>yield</code>就暂停执行，将这个<code>yield</code>后的表达式的值，作为返回对象的<code>value</code>属性值。  </li>
<li>下次调用<code>next</code>往下执行，直到遇到下一个<code>yield</code>。  </li>
<li>直到函数结束或者<code>return</code>为止，并返回<code>return</code>语句后面表达式的值，作为返回对象的<code>value</code>属性值。  </li>
<li>如果该函数没有<code>return</code>语句，则返回对象的<code>value</code>为<code>undefined</code> 。   </li>
</ol>
<p><strong>注意：</strong>   </p>
<ul>
<li><p><code>yield</code>只能用在<code>Generator</code>函数里使用，其他地方使用会报错。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误1</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    yiled <span class="number">1</span>;  <span class="comment">// SyntaxError: Unexpected number</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误2  forEach参数是个普通函数</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, [[<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]];</span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> * (<span class="params">i</span>)</span>&#123;</span><br><span class="line">    i.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">m</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> m !== <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">yield</span> * f (m);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">yield</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> f(a))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>yield</code>表达式如果用于另一个表达式之中，必须放在<strong>圆括号</strong>内。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">a</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span> + <span class="keyword">yield</span>);     <span class="comment">//  SyntaxErro</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span> + <span class="keyword">yield</span> <span class="number">123</span>); <span class="comment">//  SyntaxErro</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span> + (<span class="keyword">yield</span>));     <span class="comment">//  ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span> + (<span class="keyword">yield</span> <span class="number">123</span>)); <span class="comment">//  ok</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>yield</code>表达式用做函数参数或放在表达式右边，可以<strong>不加括号</strong>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">a</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    f(<span class="keyword">yield</span> <span class="string">&#x27;a&#x27;</span>, <span class="keyword">yield</span> <span class="string">&#x27;b&#x27;</span>);    <span class="comment">//  ok</span></span><br><span class="line">    lei i = <span class="keyword">yield</span>;              <span class="comment">//  ok</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-3-next方法"><a href="#5-3-next方法" class="headerlink" title="5.3 next方法"></a>5.3 next方法</h2><p><code>yield</code>本身没有返回值，或者是总返回<code>undefined</code>，<code>next</code>方法可带一个参数，作为上一个<code>yield</code>表达式的返回值。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; <span class="literal">true</span>; k++)&#123;</span><br><span class="line">        <span class="keyword">let</span> a = <span class="keyword">yield</span> k;</span><br><span class="line">        <span class="keyword">if</span>(a)&#123;k = -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g =f();</span><br><span class="line">g.next();    <span class="comment">// &#123;value: 0, done: false&#125;</span></span><br><span class="line">g.next();    <span class="comment">// &#123;value: 1, done: false&#125;</span></span><br><span class="line">g.next(<span class="literal">true</span>);    <span class="comment">// &#123;value: 0, done: false&#125;</span></span><br></pre></td></tr></table></figure>
<p>这一特点，可以让<code>Generator</code>函数开始执行之后，可以从外部向内部注入不同值，从而调整函数行为。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">let</span> z = <span class="keyword">yield</span> (y/<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> (x + y + z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = f(<span class="number">5</span>);</span><br><span class="line">a.next();   <span class="comment">// &#123;value : 6 ,done : false&#125;</span></span><br><span class="line">a.next();   <span class="comment">// &#123;value : NaN ,done : false&#125;  </span></span><br><span class="line">a.next();   <span class="comment">// &#123;value : NaN ,done : true&#125;</span></span><br><span class="line"><span class="comment">// NaN因为yeild返回的是对象 和数字计算会NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = f(<span class="number">5</span>);</span><br><span class="line">b.next();     <span class="comment">// &#123;value : 6 ,done : false&#125;</span></span><br><span class="line">b.next(<span class="number">12</span>);   <span class="comment">// &#123;value : 8 ,done : false&#125;</span></span><br><span class="line">b.next(<span class="number">13</span>);   <span class="comment">// &#123;value : 42 ,done : false&#125;</span></span><br><span class="line"><span class="comment">// x 5 y 24 z 13</span></span><br></pre></td></tr></table></figure>

<h2 id="5-4-for…of循环"><a href="#5-4-for…of循环" class="headerlink" title="5.4 for…of循环"></a>5.4 for…of循环</h2><p><code>for...of</code>循环会自动遍历，不用调用<code>next</code>方法，需要注意的是，<code>for...of</code>遇到<code>next</code>返回值的<code>done</code>属性为<code>true</code>就会终止，<code>return</code>返回的不包括在<code>for...of</code>循环中。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> f())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 2 3 4  没有 5 </span></span><br></pre></td></tr></table></figure>

<h2 id="5-5-Generator-prototype-throw"><a href="#5-5-Generator-prototype-throw" class="headerlink" title="5.5 Generator.prototype.throw()"></a>5.5 Generator.prototype.throw()</h2><p><code>throw</code>方法用来向函数外抛出错误，并且在Generator函数体内捕获。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> * (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123; <span class="keyword">yield</span> &#125;</span><br><span class="line">    <span class="keyword">catch</span> (e) &#123; <span class="built_in">console</span>.log(<span class="string">&#x27;内部捕获&#x27;</span>, e) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = f();</span><br><span class="line">a.next();</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    a.throw(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    a.throw(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;外部捕获&#x27;</span>,e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 内部捕获 a</span></span><br><span class="line"><span class="comment">// 外部捕获 b</span></span><br></pre></td></tr></table></figure>

<h2 id="5-6-Generator-prototype-return"><a href="#5-6-Generator-prototype-return" class="headerlink" title="5.6 Generator.prototype.return()"></a>5.6 Generator.prototype.return()</h2><p><code>return</code>方法用来返回给定的值，并结束遍历Generator函数，如果<code>return</code>方法没有参数，则返回值的<code>value</code>属性为<code>undefined</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = f();</span><br><span class="line">g.next();          <span class="comment">// &#123;value : 1, done : false&#125;</span></span><br><span class="line">g.return(<span class="string">&#x27;leo&#x27;</span>);   <span class="comment">// &#123;value : &#x27;leo&#x27;, done &quot; true&#125;</span></span><br><span class="line">g.next();          <span class="comment">// &#123;value : undefined, done : true&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-7-next-throw-return-共同点"><a href="#5-7-next-throw-return-共同点" class="headerlink" title="5.7 next()/throw()/return()共同点"></a>5.7 next()/throw()/return()共同点</h2><p>相同点就是都是用来恢复Generator函数的执行，并且使用不同语句替换<code>yield</code>表达式。  </p>
<ul>
<li><code>next()</code>将<code>yield</code>表达式替换成一个值。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> * (<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> r = <span class="keyword">yield</span> x + y;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = f(<span class="number">1</span>, <span class="number">2</span>); </span><br><span class="line">g.next();   <span class="comment">// &#123;value : 3, done : false&#125;</span></span><br><span class="line">g.next(<span class="number">1</span>);  <span class="comment">// &#123;value : 1, done : true&#125;</span></span><br><span class="line"><span class="comment">// 相当于把 let r = yield x + y;</span></span><br><span class="line"><span class="comment">// 替换成 let r = 1;</span></span><br></pre></td></tr></table></figure></li>
<li><code>throw()</code>将<code>yield</code>表达式替换成一个<code>throw</code>语句。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g.throw(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;报错&#x27;</span>));  <span class="comment">// Uncaught Error:报错</span></span><br><span class="line"><span class="comment">// 相当于将 let r = yield x + y</span></span><br><span class="line"><span class="comment">// 替换成 let r = throw(new Error(&#x27;报错&#x27;));</span></span><br></pre></td></tr></table></figure></li>
<li><code>next()</code>将<code>yield</code>表达式替换成一个<code>return</code>语句。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g.return(<span class="number">2</span>); <span class="comment">// &#123;value: 2, done: true&#125;</span></span><br><span class="line"><span class="comment">// 相当于将 let r = yield x + y</span></span><br><span class="line"><span class="comment">// 替换成 let r = return 2;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-8-yield-表达式"><a href="#5-8-yield-表达式" class="headerlink" title="5.8 yield* 表达式"></a>5.8 yield* 表达式</h2><p>用于在一个Generator中执行另一个Generator函数，如果没有使用<code>yield*</code>会没有效果。     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">yield</span> * a();</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> b())&#123;<span class="built_in">console</span>.log(k)&#125;</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h2 id="5-9-应用场景"><a href="#5-9-应用场景" class="headerlink" title="5.9 应用场景"></a>5.9 应用场景</h2><ol>
<li><p><strong>控制流管理</strong><br>解决回调地狱：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用前</span></span><br><span class="line">f1(<span class="function"><span class="keyword">function</span>(<span class="params">v1</span>)</span>&#123;</span><br><span class="line">    f2(<span class="function"><span class="keyword">function</span>(<span class="params">v2</span>)</span>&#123;</span><br><span class="line">        f3(<span class="function"><span class="keyword">function</span>(<span class="params">v3</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// ... more and more</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用Promise </span></span><br><span class="line"><span class="built_in">Promise</span>.resolve(f1)</span><br><span class="line">    .then(f2)</span><br><span class="line">    .then(f3)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">v4</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span> (<span class="params">err</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;).done();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用Generator</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span> (<span class="params">v1</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> v2 = <span class="keyword">yield</span> f1(v1);</span><br><span class="line">        <span class="keyword">let</span> v3 = <span class="keyword">yield</span> f1(v2);</span><br><span class="line">        <span class="keyword">let</span> v4 = <span class="keyword">yield</span> f1(v3);</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">        <span class="comment">// console.log(err)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g</span> (<span class="params">task</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = task.next(task.value);</span><br><span class="line">  <span class="comment">// 如果Generator函数未结束，就继续调用</span></span><br><span class="line">  <span class="keyword">if</span>(!obj.done)&#123;</span><br><span class="line">      task.value = obj.value;</span><br><span class="line">      g(task);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">g( f(initValue) );</span><br></pre></td></tr></table></figure></li>
<li><p><strong>异步编程的使用</strong><br>在真实的异步任务封装的情况：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fetch = <span class="built_in">require</span>(<span class="string">&#x27;node-fetch&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> url = <span class="string">&#x27;http://www.baidu.com&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">yield</span> fetch(url);</span><br><span class="line">    <span class="built_in">console</span>.log(res.bio);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 执行该函数</span></span><br><span class="line"><span class="keyword">let</span> g = f();</span><br><span class="line"><span class="keyword">let</span> result = g.next();</span><br><span class="line"><span class="comment">// 由于fetch返回的是Promise对象，所以用then</span></span><br><span class="line">result.value.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> data.json();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    g.next(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Iterators_and_generators">1.MDN 迭代器和生成器</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaohuochai/p/7253466.html">2.ES6中的迭代器(Iterator)和生成器(Generator)</a>   </p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#x67;&#x61;&#110;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#46;&#99;&#111;&#x6d;">&#112;&#x69;&#x6e;&#x67;&#x61;&#110;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#46;&#99;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/01/06/127-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9113-%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/" data-id="ckts3ejxx00lo4d9k3r40hz5d" data-title="127-【JavaScript】【重温基础】13.迭代器和生成器" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-126-【总结】2018全年总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/01/06/126-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912018%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2019-01-06T04:41:13.000Z" itemprop="datePublished">2019-01-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/01/06/126-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912018%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/">126-【总结】2018全年总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#x67;&#97;&#x6e;&#56;&#55;&#56;&#55;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;">&#112;&#x69;&#x6e;&#x67;&#97;&#x6e;&#56;&#55;&#56;&#55;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>
<hr>
<p>今年一整年，有这么几个感悟：   </p>
<blockquote>
<p>我相信每个人都是幸运，而且聪明。<br>厚积才能薄发，基础牢固才能做好。<br>做出改变，做好调整，接受挑战，对自己有好处。<br>自律很重要。      </p>
</blockquote>
<h1 id="零、瞎聊瞎感慨"><a href="#零、瞎聊瞎感慨" class="headerlink" title="零、瞎聊瞎感慨"></a>零、瞎聊瞎感慨</h1><p>2018年，我很高兴，体重比和一个朋友打赌说的那个数字多了15斤，哇。<br>2018年，我也很难过，离开了一群很棒的小伙伴，哎。  </p>
<p>这一年，我买了好几本新书，但都没有看完。<br>这一年，我独自去了很多地方，锻炼自己的内心。  </p>
<p>程序员第二年，我边放边学了深度学习，有点时间不够。<br>程序员第二年，我可以总结文章，和同事朋友聊代码聊网络聊计算机原理算法（也是皮毛）。   </p>
<p>当了第26年的儿子和弟弟，我多往母亲的卡里打了很多钱（我的能力范围内），让家人省心但也让家人操心了。<br>当了第26年的儿子和弟弟，我更多的替哥哥姐姐着想，也更清楚家的重要。   </p>
<p>离开第三年，思想总在围城，但总有一件事能让人彻底释放。<br>离开第三年，清空以后，发现我应该我可以做更多事情。</p>
<p>这一年的其他角色，有好有坏，愿随时间长河，消逝，冲散，堆积，沉淀。</p>
<h1 id="一、2018计划完成情况"><a href="#一、2018计划完成情况" class="headerlink" title="一、2018计划完成情况"></a>一、2018计划完成情况</h1><p>开始写这篇总结的时候，我翻了一下 <a target="_blank" rel="noopener" href="http://pingan8787.com/2018/02/21/49-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912017%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/">49-【总结】2017全年总结</a> 也深深回忆了一下，感叹，感谢你们。   </p>
<p>我忐忑的打开  <a href="pingan8787.com/2018/02/21/49-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912018%E5%85%A8%E5%B9%B4%E8%AE%A1%E5%88%92/">49-【总结】2018全年计划</a>，总觉得，这一年，这么快，也这么慢。   </p>
<h2 id="1-1-2018计划概述"><a href="#1-1-2018计划概述" class="headerlink" title="1.1 2018计划概述"></a>1.1 2018计划概述</h2><p>大概整理一些：<br><strong>学习上</strong>   </p>
<ul>
<li><p>前端：<br>前端知识的基础打牢固，学习React框架，深入研究Vuejs源码，和其他NPM包。   </p>
</li>
<li><p>后端：<br>学习Nodejs，从Express/Koa去实践，Mongodb也要研究和运用。   </p>
</li>
<li><p>客户端开发：<br>移动端APP从RN和Weex入手，桌面端放弃掉。  </p>
</li>
<li><p>博客：<br>改版和模块进来，Github和掘金，开始发原创和维护自己的项目。   </p>
</li>
<li><p>机器学习：<br>深入去学习这块，可以从图像识别入手，另外可以考虑物联网方面。  </p>
</li>
<li><p>计算机研究：<br>从一本书开始研究计算机原理，《算法导论》去学习算法，适当学习计算机通信知识。</p>
</li>
</ul>
<p><strong>生活上</strong>   </p>
<ul>
<li><p>日常生活：<br>换个新宿舍，自己学着做健康早餐，考完驾照，和女票游玩一次。   </p>
</li>
<li><p>健康生活：<br>多跑步，研究健康饮食。</p>
</li>
<li><p>家庭生活：<br>替母亲分担，争取过年给更大礼物，帮家里重新装修，多和哥哥姐姐分享交流，找个女票。  </p>
</li>
</ul>
<h2 id="1-2-2018计划统计"><a href="#1-2-2018计划统计" class="headerlink" title="1.2 2018计划统计"></a>1.2 2018计划统计</h2><p>检查了下 <strong>2018全年计划</strong> 的完成情况，有些高兴，有些失望，也有些欣慰。<br>先来一张github的contributions图：   </p>
<p><img src="http://images.pingan8787.com/github2018.png" alt="github2018"> </p>
<p><strong>学习上</strong>   </p>
<ul>
<li><p>前端：<br>前端基础知识已经复习起来了，在掘金整理了一个系列的文章，还在更新中。<br><a target="_blank" rel="noopener" href="https://juejin.im/user/586fc337a22b9d0058807d53/posts">pingan8787 掘金</a> 和<br><a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b106f265da61764aa0c1">【复习资料】ES6/ES7/ES8/ES9资料整理(个人整理)</a><br>这两块大的文章。<br>React有学习一些，Vuejs源码也有研究一些，但是现在的工作，用的都是Angular，所以React和Vuejs对于我而言更多的意义是参考和学习。<br>NPM包，今年就研究了lodash的源码。</p>
</li>
<li><p>后端：<br><code>Nodejs</code>和<code>Mongodb</code>开始学习，有用了<code>Express</code>和<code>Mongodb</code>做了个自己用的小记事本，源码放在 <a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Nodejs/tree/master/express/express%2Bmongoose%20%E6%97%A5%E8%AE%B0%E6%9C%AC">小小日记本</a> 里面，功能比较简单，以后还会开发新的项目。   </p>
</li>
<li><p>客户端开发：<br>移动端APP：RN研究过一点皮毛，但是如今主攻<code>flutter</code>这个非常棒，也要学习<code>dart</code>，桌面端放弃掉。  </p>
</li>
<li><p>博客：<br>博客：添加了【微博】【评论】【样式】等一些东西。<br>模块：添加了【ES规范小册】，后面还会有【ES基础】【ES面试】等。<br>Github掘金简书思否：开始在同步自己的原创文章，目前主要两块<a target="_blank" rel="noopener" href="https://juejin.im/user/586fc337a22b9d0058807d53/posts">pingan8787 掘金</a> 和<br><a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b106f265da61764aa0c1">【复习资料】ES6/ES7/ES8/ES9资料整理(个人整理)</a> ，也有一些其他的。<br>另外我的<a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">每日文章</a>系列也坚持了2018年完整一年了。</p>
</li>
<li><p>机器学习：<br>深度学习这块，今年算是从入门到入门吧，后面真的是没有时间去研究，也没有机会去实战，导致<code>python</code>的也不熟练，如果接下来还继续，会考虑<code>JavaScript</code>实现。但是原理和高数这些，还是得实打实。   </p>
</li>
<li><p>计算机研究：<br>今年通过网易云课堂学了一些大学计算机基础的知识，了解了很多原理层面的知识，不过还要再深入点。   </p>
</li>
</ul>
<p><strong>生活上</strong>   </p>
<ul>
<li><p>日常生活：<br>宿舍还是没搬，在这里离公司比较近，而且房东一家都很好，觉得可以再住一年。<br>健康早餐，一直在坚持煮粥或者燕麦或者核桃粉，搭配面包或包子，感觉还是很棒的。<br>女票木有，驾照科三挂了就没去了，因为烦也因为不好请假那么多天事情也多。  </p>
</li>
<li><p>健康生活：<br>好像今年，跑的真的很少，主要是骑行，30多公里是最多的。</p>
</li>
<li><p>家庭生活：<br>借着让母亲帮忙存钱的理由，往家里多寄了更多钱，也存好给母亲买礼物的钱。<br>家里重新装修好了，家电设备也换了新的了。<br>哥哥姐姐交流更多，也更多的互相理解。   </p>
</li>
</ul>
<h1 id="二、2018总结和分析"><a href="#二、2018总结和分析" class="headerlink" title="二、2018总结和分析"></a>二、2018总结和分析</h1><p>总结和分析，按照以前的框架，总结了下这一年：   </p>
<h2 id="2-1-最正确的一件事"><a href="#2-1-最正确的一件事" class="headerlink" title="2.1 最正确的一件事"></a>2.1 最正确的一件事</h2><p>在这一年，做正确的事情，很多，但不可否认，在我内心认为，做得最重要的事情，是来到现在的公司。<br>写下这句，心里有点惭愧，但确实是如此，我追求技能提高，技术进步，价值提升，我追求事业追求理想。<br>我在WLHD很开心，也很自豪，一群小伙伴，每个人都这么的友善和友好，感谢每个人也很感谢镇智的亦师亦友。<br><img src="http://images.pingan8787.com/2018%E6%80%BB%E7%BB%93-%E8%9B%8B%E7%B3%95.png" alt="WLHD生日蛋糕">   </p>
<p>之所以作为最正确的一件事情，是因为进入到EXE的三个月，我真的学习到很多，跟我自己理想的，计划的是一致的，总结有这几方面：   </p>
<ul>
<li>公司主项目，是我所喜欢的，是用户使用频率高，贴近生活的，有前景和价值的，是正导向的。   </li>
<li>公司福利，比较符合我的想法。   </li>
<li>项目技术栈，是<code>Angular</code>这个我爱恨交加的框架，虽然现在我负责的还是用1的版本，但是<code>Angular</code>确实是个好家伙，国外大厂都喜欢，并且项目也混合这其他技术进来，好像还有一些我不知道的，也有一些未来的尝试（具体涉及到的名称我删除掉了）。   </li>
<li>团队协作，是<code>git流</code>，这真的是超级棒，代码管理起来非常方便（虽然刚开始用的时候踩了很多坑），公司用的<code>JIRA</code>也特别棒。   </li>
<li>团队氛围，开发职责分明，有大牛，还有宝哥这个超神的人，每周二周四晚上的技术分享会，技术氛围特别好。   </li>
</ul>
<p>在公司每次和同事，特别是宝哥，都会给我们讲很多很棒的知识，大到前沿技术小到源码阅读等，受到宝哥的影响，我开始尝试学习和分享，坚持下来。感觉很棒。<br>家里没有矿也没有油，我只能激励自己，做得更好，希望路过我的世界的你们，都能好，能更好。    </p>
<h2 id="2-2-最错误的一件事"><a href="#2-2-最错误的一件事" class="headerlink" title="2.2 最错误的一件事"></a>2.2 最错误的一件事</h2><p>可能，没有最，因为我回忆了好久，没有想到最错误。<br>但有一件事，我心里比较清楚，只是有点愧疚，不想写，愿这样做，会是做好的结果。   </p>
<h2 id="2-3-最疯狂的一件事"><a href="#2-3-最疯狂的一件事" class="headerlink" title="2.3 最疯狂的一件事"></a>2.3 最疯狂的一件事</h2><p>这必须是<strong>世界杯</strong>，哈哈，四年一届，2014年的世界杯，我还在实习，不得不说时间过得真的快。<br>这届世界杯，我差不多看了35场左右，基本都是半夜12点 2点 4点开始的球赛，有时候一个晚上2场，直接看到早上，并且第二天要上班，然而我还能精神，也是不容易。<br>这届世界杯，喜怒哀乐都有，花了点小球买了球，德国的早早淘汰，中国的迟迟观望，法国克罗地亚的超常发挥，日本韩国的眼前一亮，西班牙葡萄牙的惊险刺激，还有一些熟悉的名字：莫德里奇 C罗 梅西 姆巴佩 凯恩 库尔图瓦 萨拉赫 久巴 苏亚雷斯 小豌豆 佩佩 德赫亚 伊涅斯塔 吉鲁 格里兹曼 阿圭罗 伊瓜因 等等等等，太多了太棒了。<br>我也在想，下届世界杯，那时候的我，会是神马样？  </p>
<h2 id="2-4-最开心的一件事"><a href="#2-4-最开心的一件事" class="headerlink" title="2.4 最开心的一件事"></a>2.4 最开心的一件事</h2><p>还是和去年一样，一整年下来，大大小小的开心事，贼多呢，but，最开心，应该是和我哥一起做了一个小项目，一个很有意思的项目。<br>这个项目我们两个人，一个出想法，一个敲代码，我感觉很棒，和哥哥齐心协力，赚钱，兄弟应该是这样的。<br>虽然呢，赚不多，但是，是好的开始，兄弟应该一起加油的。<br>现在也是经常跟我哥一起聊一些赚钱的项目，聊一些我们的人生观价值观等，对一些事情的看法，更加互相了解，我哥是我的榜样。   </p>
<h2 id="2-5-2018工作学习上"><a href="#2-5-2018工作学习上" class="headerlink" title="2.5 2018工作学习上"></a>2.5 2018工作学习上</h2><p>现在是北京时间（2019.01.06 02:14），可能写完会更晚。<br>工作上分为两块：   </p>
<ul>
<li><p>WLHD期间：   </p>
</li>
<li><p><em>第一阶段：</em>*<br>人工智能研究，还在为人工智能深度学习挥洒汗水，虽然工作上没有实际用到，但是更重要的意义在于，让我拓展了视野，知道更广阔的计算机世界，还有知识与实践结合，也清楚了人工智能对于未来的意义所在。   </p>
</li>
<li><p><em>第二阶段：</em>*<br>公司旧项目维护和新项目开展，大约有半年左右，这段时间，对于后台管理系统的完善，我有个更清晰的认识，就是对于开发后台管理系统，要多考虑数据默认值，搜索性能，路由安全权限，组件模块化。对于公司人才的招聘，我也是有些自己的感想，由于团队小，招聘进来的人，需要性格跟团队合得来，技术上需要看得到热情。   </p>
</li>
<li><p><em>第三阶段：</em>*<br>项目转型，转型往往会使人一下子难以适应，产生迷茫，自己该坚持的事情依然坚持，但环境却在变化，变化着，有时候转过身来才发现，原来自己再原地走。   </p>
</li>
<li><p>EXE期间：   </p>
</li>
<li><p><em>第一阶段：</em>*<br>适应期，这段时间有各种不适应，也担心出错，也积极去融入团队和公司，这段时间经历了尴尬的团队成员的认识，经历了公司的羽毛球比赛，经历了合并掉其他同事的代码，经历了发版之前的代码大修改，经历了好多次的通宵，经历了一次严重的感冒，经历…   </p>
</li>
<li><p><em>第二阶段：</em>*<br>稳定成长期，这段时间算开始稳定和熟悉了，日常工作也开始正常，也跟着公司的脚步开始学习一些新技术，特别是<code>flutter</code>，真香。<br>现在也更懂得项目的团队协作方式，并且这是非常重要的，好比前面写到的。  </p>
</li>
</ul>
<p>学习上：   </p>
<ul>
<li>今年也参加了好几个前端技术分享会，确实，大公司大团队新技术，这些都是让我大开眼界，更加坚信前端的未来前景。     </li>
<li>这一年学习的新知识可以说是内容多范围广，大到人工智能机器学习，小到冒泡算法等，学的越多，越需要总结和记录。      </li>
</ul>
<h2 id="2-6-2018感情上"><a href="#2-6-2018感情上" class="headerlink" title="2.6 2018感情上"></a>2.6 2018感情上</h2><p>这一年的感情生活，相比去年，有进步，被困扰的感情，已经都放开了，放过彼此，我也过得更好，对于自己内心的想法，还是早点告知免得浪费对方时间。出现在我的世界的人，依然在。<br>这一年，似乎对于找女朋友的看法，也在转变，有很多的应该，也有很多的至少，这算是一些条件。<br>反正，对我来说，能聊的开心，这是重要的。   </p>
<h2 id="2-7-2018养成新习惯"><a href="#2-7-2018养成新习惯" class="headerlink" title="2.7 2018养成新习惯"></a>2.7 2018养成新习惯</h2><p>这一年新养成的一些习惯，相比去年，增加了几个，也时常告诉着自己，自律自律自律：   </p>
<ul>
<li>第一个，学习上，开始去按照一个系列的内容，去系统的学习和回顾知识，这包括我整理下来的<a target="_blank" rel="noopener" href="https://juejin.im/user/586fc337a22b9d0058807d53/posts">pingan8787 掘金</a> 和<br><a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b106f265da61764aa0c1">【复习资料】ES6/ES7/ES8/ES9资料整理(个人整理)</a> 这两个系列，按照系列的课程系统学习，是一种循序渐进的过程，才能深入去学习。现在的系统学习，我更偏向于，学习+记录，将复习和学习完的知识点，按照自己的逻辑写一遍，补充完善，成为自己的东西，也方便以后查阅。   </li>
<li>第二个，迁移自己的开发环境，慢慢把自己开发环境往Mac迁移，因为公司给的电脑是Win的额，只能用自己的Mac系统，不过确实Mac很适合我们前端开发呢。   </li>
<li>第三个，更注重健康生活，每天必须坚持做的几个：早上不会着急马上起床，必须伸懒腰全身舒展后休息一会才起床，毕竟急急忙忙起床会影响一天的工作情绪；早起必须做早操，活动下全身，很棒的感觉；晚上睡觉前必须做几组俯卧撑，已经是习惯了。   </li>
<li>第四个，坚持公众号推送，不为给别人看，只为自己做积累。      </li>
</ul>
<h2 id="2-8-2018小小欣慰的事"><a href="#2-8-2018小小欣慰的事" class="headerlink" title="2.8 2018小小欣慰的事"></a>2.8 2018小小欣慰的事</h2><p>我更愿意，花时间去看一些书，虽然是后半年才开始，新加入两本书《南方高速》和《地球上最后的夜晚》，似乎境界还不足理解作者真正或深入的内涵，但看书，确实能让人静心，养性，抛开外面的纷繁世界，沉浸自我。</p>
<h1 id="完、再来几句"><a href="#完、再来几句" class="headerlink" title="完、再来几句"></a>完、再来几句</h1><p>原来，总结就是个回忆的过程，各种感受都会有，相信我们现在走的每一步，都是我们的成长，以后成为自己喜欢的那个人。<br>这一年，也更加相信“你在成就公司，公司也在成就你”这句话了。    </p>
<p>Tips:我用Markdown也算是熟练一些了，比起去年总结的排版好看多了呢。    </p>
<p>完：2019.01.06 12:39</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/01/06/126-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%912018%E5%85%A8%E5%B9%B4%E6%80%BB%E7%BB%93/" data-id="ckts3ejso001o4d9keh4ngqex" data-title="126-【总结】2018全年总结" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-125-【JavaScript】【重温基础】12-使用对象" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/01/02/125-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9112-%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time class="dt-published" datetime="2019-01-02T13:47:15.000Z" itemprop="datePublished">2019-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/01/02/125-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9112-%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1/">125-【JavaScript】【重温基础】12.使用对象</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#110;&#x67;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;">&#x70;&#105;&#110;&#x67;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>本文是 <strong>重温基础</strong> 系列文章的第十二篇。<br>今日感受：需要总结下2018。</p>
<p>这几天，重重的感冒发烧，在家休息好几天，伤···。</p>
<p><strong>本章节复习的是JS中对象的使用，这是重点。</strong>    </p>
<p>前置知识：<br>JavaScrip的设计是一个简单的基于对象的范式。<br>对象是一系列属性的集合，一个属性包含一个键和一个值，也叫<strong>键值对</strong>。<br>若一个属性的值，是一个函数，则称这个属性为方法。   </p>
<p>一个对象，可以有很多方法，就像一个杯子，可以有颜色，重量，形状等属性。  </p>
<p><strong>注意：</strong><br>对象的名称，对大小写敏感。 </p>
<h1 id="1-创建对象"><a href="#1-创建对象" class="headerlink" title="1.创建对象"></a>1.创建对象</h1><p>本文主要是复习对象的使用，至于对象的创建，下面这里简单介绍一下常见的创建对象的方法：   </p>
<p><strong>创建方法1</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();  <span class="comment">// 声明一个空对象</span></span><br></pre></td></tr></table></figure>

<p><strong>创建方法2</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;            <span class="comment">// 声明一个空对象</span></span><br></pre></td></tr></table></figure>
<p>上面的<code>name</code>是对象<code>obj</code>中的一个属性，对应的值为<code>&quot;leo&quot;</code>。  </p>
<h1 id="2-设置对象属性和访问属性"><a href="#2-设置对象属性和访问属性" class="headerlink" title="2.设置对象属性和访问属性"></a>2.设置对象属性和访问属性</h1><p>设置对象属性，也有两种方法：<br><strong>直接设置</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">obj.name = <span class="string">&quot;leo&quot;</span>;        <span class="comment">// 为对象添加属性和值</span></span><br></pre></td></tr></table></figure>

<p><strong>创建时设置</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line">obj.name = <span class="string">&quot;leo&quot;</span>;        <span class="comment">// 为对象添加属性和值</span></span><br></pre></td></tr></table></figure>

<p>当一个对象定义了一个属性，我们可以用点符号（<code>.</code>）来访问它。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.name; <span class="comment">// &quot;leo&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：   </p>
<ul>
<li><p>属性的另外一种写法：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> n = <span class="string">&quot;name&quot;</span>;</span><br><span class="line">obj[n] = <span class="string">&quot;leo&quot;</span>;   <span class="comment">// 属性名使用变量</span></span><br><span class="line">obj[<span class="string">&quot;height&quot;</span>] = <span class="number">188</span>;     <span class="comment">// 字符串</span></span><br><span class="line">obj[<span class="string">&quot;age&quot;</span> + <span class="string">&quot;Is&quot;</span>] = <span class="number">15</span>;  <span class="comment">// 字符串拼接</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">obj = &#123;</span></span><br><span class="line"><span class="comment">    ageIs: 15</span></span><br><span class="line"><span class="comment">    height: 188</span></span><br><span class="line"><span class="comment">    name: &quot;leo&quot;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li><p>属性的值也可以是个方法：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">obj.getTime = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">&#125;</span><br><span class="line">obj.getTime();  <span class="comment">// 访问属性的方法</span></span><br><span class="line"><span class="comment">//Wed Jan 02 2019 21:07:59 GMT+0800 (中国标准时间) </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="3-枚举对象的所有属性"><a href="#3-枚举对象的所有属性" class="headerlink" title="3.枚举对象的所有属性"></a>3.枚举对象的所有属性</h1><p>从 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_5_support_in_Mozilla">ECMAScript 5</a> 开始，有三种原生的方法用于列出或枚举对象的属性：   </p>
<h2 id="3-1-for…in-循环"><a href="#3-1-for…in-循环" class="headerlink" title="3.1 for…in 循环"></a>3.1 for…in 循环</h2><p>该方法依次访问一个对象及其<strong>原型链</strong>中所有可枚举的属性。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;obj.&quot;</span> + i + <span class="string">&quot; = &quot;</span> + obj[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&quot;obj.a = 1&quot;</span></span><br><span class="line"><span class="comment">&quot;obj.b = 2&quot;</span></span><br><span class="line"><span class="comment">&quot;obj.c = 3&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-Object-keys-o"><a href="#3-2-Object-keys-o" class="headerlink" title="3.2 Object.keys(o)"></a>3.2 Object.keys(o)</h2><p>该方法返回一个对象 <code>o</code> 自身包含（<strong>不包括原型中</strong>）的所有属性的名称的数组。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Object</span>.keys(obj);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val,index,array</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&quot;key:&quot;</span> + val+<span class="string">&quot;,val:&quot;</span>+obj[val])</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">key:a,val:1</span></span><br><span class="line"><span class="comment">key:b,val:2</span></span><br><span class="line"><span class="comment">key:c,val:3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


<h2 id="3-3-Object-getOwnPropertyNames-o"><a href="#3-3-Object-getOwnPropertyNames-o" class="headerlink" title="3.3 Object.getOwnPropertyNames(o)"></a>3.3 Object.getOwnPropertyNames(o)</h2><p>该方法返回一个数组，它包含了对象 <code>o</code> 所有拥有的属性（<strong>无论是否可枚举</strong>）的名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Object</span>.getOwnPropertyNames(obj);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val,index,array</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&quot;key:&quot;</span> + val+<span class="string">&quot;,val:&quot;</span>+obj[val])</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">key:a,val:1</span></span><br><span class="line"><span class="comment">key:b,val:2</span></span><br><span class="line"><span class="comment">key:c,val:3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


<h1 id="4-ES6新增：对象的拓展"><a href="#4-ES6新增：对象的拓展" class="headerlink" title="4.ES6新增：对象的拓展"></a>4.ES6新增：对象的拓展</h1><h2 id="4-1-属性的简洁表示"><a href="#4-1-属性的简洁表示" class="headerlink" title="4.1 属性的简洁表示"></a>4.1 属性的简洁表示</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;a1&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = &#123; a &#125;;  <span class="comment">// b =&gt; &#123; a : &#x27;a1&#x27; &#125;</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> b = &#123; <span class="attr">a</span> : a &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;a, b&#125;; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">a</span>:a ,<span class="attr">b</span>:b&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    fun () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="attr">fun</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-2-属性名表达式"><a href="#4-2-属性名表达式" class="headerlink" title="4.2 属性名表达式"></a>4.2 属性名表达式</h2><p><code>JavaScript</code>提供2种方法<strong>定义对象的属性</strong>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1 标识符作为属性名</span></span><br><span class="line">a.f = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法2 字符串作为属性名</span></span><br><span class="line">a[<span class="string">&#x27;f&#x27;</span> + <span class="string">&#x27;un&#x27;</span>] = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>
<p>延伸出来的还有：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hi leo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = &#123;</span><br><span class="line">    [a]: <span class="literal">true</span>,</span><br><span class="line">    [<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;bc&#x27;</span>]: <span class="number">123</span>,</span><br><span class="line">    [<span class="string">&#x27;my&#x27;</span> + <span class="string">&#x27;fun&#x27;</span>] ()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;hi&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// b.a =&gt; undefined ; b.abc =&gt; 123 ; b.myfun() =&gt; &#x27;hi&#x27;</span></span><br><span class="line"><span class="comment">// b[a] =&gt; true ; b[&#x27;abc&#x27;] =&gt; 123 ; b[&#x27;myfun&#x27;] =&gt; ƒ [&#x27;my&#x27; + &#x27;fun&#x27;] ()&#123; return &#x27;hi&#x27;; &#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：<br>属性名表达式不能与简洁表示法同时使用，否则报错。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;aa&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="string">&#x27;bb&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b1 = &#123;[a1]&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确</span></span><br><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;aa&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b1 = &#123; [a1] : <span class="string">&#x27;bb&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="4-3-Object-is"><a href="#4-3-Object-is" class="headerlink" title="4.3 Object.is()"></a>4.3 Object.is()</h2><p><code>Object.is()</code> 用于比较两个值是否严格相等，在ES5时候只要使用<strong>相等运算符</strong>(<code>==</code>)和<strong>严格相等运算符</strong>(<code>===</code>)就可以做比较，但是它们都有缺点，前者会<strong>自动转换数据类型</strong>，后者的<code>NaN</code>不等于自身，以及<code>+0</code>等于<code>-0</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.is(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(&#123;&#125;, &#123;&#125;);    <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line">+<span class="number">0</span> === -<span class="number">0</span> ;           <span class="comment">// true</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>;          <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="built_in">Object</span>.is(+<span class="number">0</span>,-<span class="number">0</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>);   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="4-4-Object-assign"><a href="#4-4-Object-assign" class="headerlink" title="4.4 Object.assign()"></a>4.4 Object.assign()</h2><p><code>Object.assign()</code>方法用于对象的合并，将原对象的所有可枚举属性复制到目标对象。<br><strong>基础用法</strong>：<br>第一个参数是<strong>目标对象</strong>，后面参数都是<strong>源对象</strong>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(a,b);  <span class="comment">// a=&gt; &#123;a:1,b:2&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：  </p>
<ul>
<li>若目标对象与源对象有同名属性，则后面属性会覆盖前面属性。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123;<span class="attr">b</span>:<span class="number">3</span>, <span class="attr">c</span>:<span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(a, b); <span class="comment">// a =&gt; &#123;a:1, b:3, c:4&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>若只有<strong>一个</strong>参数，则返回该参数。 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(a) === a;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>若参数<strong>不是对象</strong>，则先转成对象后返回。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="built_in">Object</span>.assign(<span class="number">2</span>); <span class="comment">// &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>由于<code>undefined</code>或<code>NaN</code>无法转成对象，所以做为参数会报错。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(<span class="literal">undefined</span>) <span class="comment">// 报错</span></span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="literal">NaN</span>);      <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure></li>
<li><code>Object.assign()</code>实现的是浅拷贝。   </li>
</ul>
<p><code>Object.assign()</code>拷贝得到的是这个对象的引用。这个对象的任何变化，都会反映到目标对象上面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">Object</span>.assign(&#123;&#125;,a);</span><br><span class="line">a.a.b = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b.a.b);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>将数组当做对象处理，键名为数组下标，键值为数组下标对应的值。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// [4, 5, 3]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="5-ES8新增：Object-values-，Object-entries"><a href="#5-ES8新增：Object-values-，Object-entries" class="headerlink" title="5.ES8新增：Object.values()，Object.entries()"></a>5.ES8新增：Object.values()，Object.entries()</h1><p>ES7中新增加的 <code>Object.values()</code>和<code>Object.entries()</code>与之前的<code>Object.keys()</code>类似，返回数组类型。<br>回顾下<code>Object.keys()</code>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">f1</span>: <span class="string">&#x27;hi&#x27;</span>, <span class="attr">f2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.keys(a); <span class="comment">// [&#x27;f1&#x27;, &#x27;f2&#x27;]</span></span><br></pre></td></tr></table></figure>
<h2 id="5-1-Object-values"><a href="#5-1-Object-values" class="headerlink" title="5.1 Object.values()"></a>5.1 Object.values()</h2><p>返回一个数组，成员是参数对象自身的（不含继承的）所有<strong>可遍历属性</strong>的键值。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">f1</span>: <span class="string">&#x27;hi&#x27;</span>, <span class="attr">f2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.values(a); <span class="comment">// [&#x27;hi&#x27;, &#x27;leo&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>如果参数不是对象，则返回空数组：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.values(<span class="number">10</span>);   <span class="comment">// []</span></span><br><span class="line"><span class="built_in">Object</span>.values(<span class="literal">true</span>); <span class="comment">// []</span></span><br></pre></td></tr></table></figure>

<h2 id="5-2-Object-entries"><a href="#5-2-Object-entries" class="headerlink" title="5.2 Object.entries()"></a>5.2 Object.entries()</h2><p>返回一个数组，成员是参数对象自身的（不含继承的）所有<strong>可遍历属性</strong>的键值对数组。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">f1</span>: <span class="string">&#x27;hi&#x27;</span>, <span class="attr">f2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.entries(a); <span class="comment">// [[&#x27;f1&#x27;,&#x27;hi&#x27;], [&#x27;f2&#x27;, &#x27;leo&#x27;]]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>用途1</strong>：<br>遍历对象属性。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">f1</span>: <span class="string">&#x27;hi&#x27;</span>, <span class="attr">f2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(a))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">        <span class="string">`<span class="subst">$&#123;<span class="built_in">JSON</span>.stringfy(k)&#125;</span>:<span class="subst">$&#123;<span class="built_in">JSON</span>.stringfy(v)&#125;</span>`</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;f1&#x27;:&#x27;hi&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;f2&#x27;:&#x27;leo&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>用途2</strong>：<br>将对象转为真正的Map结构。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">f1</span>: <span class="string">&#x27;hi&#x27;</span>, <span class="attr">f2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">Object</span>.entries(a));</span><br></pre></td></tr></table></figure>
手动实现<code>Object.entries()</code>方法：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generator函数实现：  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">entries</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">        <span class="keyword">yield</span> [k ,obj[k]];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 非Generator函数实现：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">entries</span> (<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">        arr.push([k, obj[k]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="6-ES8新增：Object-getOwnPropertyDescriptors"><a href="#6-ES8新增：Object-getOwnPropertyDescriptors" class="headerlink" title="6.ES8新增：Object.getOwnPropertyDescriptors()"></a>6.ES8新增：Object.getOwnPropertyDescriptors()</h1><p>之前有<code>Object.getOwnPropertyDescriptor</code>方法会返回某个对象属性的描述对象，新增的<code>Object.getOwnPropertyDescriptors()</code>方法，返回指定对象所有自身属性（非继承属性）的描述对象，所有原对象的属性名都是该对象的属性名，对应的属性值就是该属性的描述对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="attr">a1</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="keyword">get</span> <span class="title">f1</span>()&#123; <span class="keyword">return</span> <span class="number">100</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropetyDescriptors(a);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123; </span></span><br><span class="line"><span class="comment">    a:&#123; configurable:true, enumerable:true, value:1, writeable:true&#125;</span></span><br><span class="line"><span class="comment">    f1:&#123; configurable:true, enumerable:true, get:f, set:undefined&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>实现原理：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOwnPropertyDescriptors</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="built_in">Reflect</span>.ownKeys(obj)) &#123;</span><br><span class="line">    result[key] = <span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>引入这个方法，主要是为了解决<code>Object.assign()</code>无法正确拷贝<code>get</code>属性和<code>set</code>属性的问题。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="keyword">set</span> <span class="title">f</span>(<span class="params">v</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(b, a);</span><br><span class="line"><span class="built_in">Object</span>.a(b, <span class="string">&#x27;f&#x27;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">f = &#123;</span></span><br><span class="line"><span class="comment">    configurable: true,</span></span><br><span class="line"><span class="comment">    enumable: true,</span></span><br><span class="line"><span class="comment">    value: undefined,</span></span><br><span class="line"><span class="comment">    writeable: true</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><code>value</code>为<code>undefined</code>是因为<code>Object.assign</code>方法不会拷贝其中的<code>get</code>和<code>set</code>方法，使用<code>getOwnPropertyDescriptors</code>配合<code>Object.defineProperties</code>方法来实现正确的拷贝：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="keyword">set</span> <span class="title">f</span>(<span class="params">v</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(b, <span class="built_in">Object</span>.getOwnPropertyDescriptors(a));</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(b, <span class="string">&#x27;f&#x27;</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    configurable: true,</span></span><br><span class="line"><span class="comment">    enumable: true,</span></span><br><span class="line"><span class="comment">    get: undefined,</span></span><br><span class="line"><span class="comment">    set: function()&#123;...&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><code>Object.getOwnPropertyDescriptors</code>方法的配合<code>Object.create</code>方法，将对象属性克隆到一个新对象，实现浅拷贝。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clone = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.getPrototypeOf(obj),</span><br><span class="line">  <span class="built_in">Object</span>.getOwnPropertyDescriptors(obj));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">const</span> shallowClone = <span class="function">(<span class="params">obj</span>) =&gt;</span> <span class="built_in">Object</span>.create(</span><br><span class="line">  <span class="built_in">Object</span>.getPrototypeOf(obj),</span><br><span class="line">  <span class="built_in">Object</span>.getOwnPropertyDescriptors(obj)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h1 id="7-ES9新增：对象的拓展运算符"><a href="#7-ES9新增：对象的拓展运算符" class="headerlink" title="7.ES9新增：对象的拓展运算符"></a>7.ES9新增：对象的拓展运算符</h1><h2 id="7-1-介绍"><a href="#7-1-介绍" class="headerlink" title="7.1 介绍"></a>7.1 介绍</h2><p>对象的拓展运算符，即对象的Rest/Spread属性，可将对象解构赋值用于从一个对象取值，搜键值对分配到指定对象上，与数组的拓展运算符类似：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>  &#123;x, y, ...z&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>, <span class="attr">a</span>:<span class="number">3</span>, <span class="attr">b</span>:<span class="number">4</span>&#125;;</span><br><span class="line">x;  <span class="comment">// 1</span></span><br><span class="line">y;  <span class="comment">// 2</span></span><br><span class="line">z;  <span class="comment">// &#123;a:3, b:4&#125; </span></span><br></pre></td></tr></table></figure>
<p>对象的解构赋值要求等号右边必须是个对象，所以如果等号右边是<code>undefined</code>或<code>null</code>就会报错无法转成对象。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;a, ...b&#125; = <span class="literal">null</span>;      <span class="comment">// 运行时报错</span></span><br><span class="line"><span class="keyword">let</span> &#123;a, ...b&#125; = <span class="literal">undefined</span>; <span class="comment">// 运行时报错</span></span><br></pre></td></tr></table></figure>
<p>解构赋值必须是最后一个参数，否则报错。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;...a, b, c&#125; = obj;     <span class="comment">// 语法错误</span></span><br><span class="line"><span class="keyword">let</span> &#123;a, ...b, c&#125; = obj;     <span class="comment">// 语法错误</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：</p>
<ul>
<li>1.解构赋值是浅拷贝。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a1</span>: &#123;<span class="attr">a2</span>: <span class="string">&#x27;leo&#x27;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;...b&#125; = a;</span><br><span class="line">a.a1.a2 = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">b.a1.a2 = <span class="string">&#x27;leo&#x27;</span>;</span><br></pre></td></tr></table></figure></li>
<li>2.拓展运算符的解构赋值，不能复制继承自原型对象的属性。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> o2 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line">o2.__proto__ = o1;</span><br><span class="line"><span class="keyword">let</span> &#123; ...o3 &#125; = o2;</span><br><span class="line">o3;    <span class="comment">// &#123; b: 2 &#125;</span></span><br><span class="line">o3.a;  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="7-2-使用场景"><a href="#7-2-使用场景" class="headerlink" title="7.2 使用场景"></a>7.2 使用场景</h2><ul>
<li>1.取出参数对象所有可遍历属性，拷贝到当前对象中。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a1</span>:<span class="number">1</span>, <span class="attr">a2</span>:<span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123; ...a &#125;;</span><br><span class="line">b;   <span class="comment">// &#123; a1:1, a2:2 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类似Object.assign方法</span></span><br></pre></td></tr></table></figure></li>
<li>2.合并两个对象。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a1</span>:<span class="number">1</span>, <span class="attr">a2</span>:<span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123; <span class="attr">b1</span>:<span class="number">11</span>, <span class="attr">b2</span>:<span class="number">22</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> ab = &#123; ...a, ...b &#125;; <span class="comment">// &#123;a1: 1, a2: 2, b1: 11, b2: 22&#125;</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> ab = <span class="built_in">Object</span>.assign(&#123;&#125;, a, b);</span><br></pre></td></tr></table></figure></li>
<li>3.将自定义属性放在拓展运算符后面，覆盖对象原有的同名属性。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a1</span>:<span class="number">1</span>, <span class="attr">a2</span>:<span class="number">2</span>, <span class="attr">a3</span>:<span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> r = &#123; ...a, <span class="attr">a3</span>:<span class="number">666</span> &#125;;   </span><br><span class="line"><span class="comment">// r &#123;a1: 1, a2: 2, a3: 666&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> r = &#123; ...a, ...&#123; <span class="attr">a3</span>:<span class="number">666</span> &#125;&#125;;</span><br><span class="line"><span class="comment">// r &#123;a1: 1, a2: 2, a3: 666&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="built_in">Object</span>.assign(&#123;&#125;, a, &#123; <span class="attr">a3</span>:<span class="number">666</span> &#125;);</span><br><span class="line"><span class="comment">// r &#123;a1: 1, a2: 2, a3: 666&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>4.将自定义属性放在拓展运算符前面，就会成为设置新对象的默认值。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a1</span>:<span class="number">1</span>, <span class="attr">a2</span>:<span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> r = &#123; <span class="attr">a3</span>:<span class="number">666</span>, ...a &#125;;</span><br><span class="line"><span class="comment">// r &#123;a3: 666, a1: 1, a2: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="built_in">Object</span>.assign(&#123;&#125;, &#123;<span class="attr">a3</span>:<span class="number">666</span>&#125;, a);</span><br><span class="line"><span class="comment">// r &#123;a3: 666, a1: 1, a2: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="built_in">Object</span>.assign(&#123;<span class="attr">a3</span>:<span class="number">666</span>&#125;, a);</span><br><span class="line"><span class="comment">// r &#123;a3: 666, a1: 1, a2: 2&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>5.拓展运算符后面可以使用表达式。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    ...(x&gt;<span class="number">1</span>? &#123;<span class="attr">a</span>:!:&#123;&#125;),</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>6.拓展运算符后面如果是个空对象，则没有任何效果。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;...&#123;&#125;, <span class="attr">a</span>:<span class="number">1</span>&#125;;  <span class="comment">// &#123;a:1&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>7.若参数是<code>null</code>或<code>undefined</code>则忽略且不报错。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; ...null, ...undefined &#125;; <span class="comment">// 不报错</span></span><br></pre></td></tr></table></figure></li>
<li>8.若有取值函数<code>get</code>则会执行。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不会打印 因为f属性只是定义 而不没执行</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    ...a1,</span><br><span class="line">    <span class="keyword">get</span> <span class="title">f</span>()&#123;<span class="built_in">console</span>.log(<span class="number">1</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 会打印 因为f执行了</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    ...a1,</span><br><span class="line">    ...&#123;</span><br><span class="line">        <span class="keyword">get</span> <span class="title">f</span>()&#123;<span class="built_in">console</span>.log(<span class="number">1</span>)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>1.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects">MDN 使用对象</a><br>2.<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/js/js_obj_intro.asp">W3school JavaScript 对象</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#x6e;&#103;&#97;&#110;&#x38;&#55;&#x38;&#x37;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;">&#x70;&#x69;&#x6e;&#103;&#97;&#110;&#x38;&#55;&#x38;&#x37;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/01/02/125-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9112-%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1/" data-id="ckts3ejsn001m4d9kfhiw1dg3" data-title="125-【JavaScript】【重温基础】12.使用对象" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-124-【JavaScript】【重温基础】11-Map和Set对象" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/27/124-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9111-Map%E5%92%8CSet%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time class="dt-published" datetime="2018-12-26T23:21:14.000Z" itemprop="datePublished">2018-12-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/27/124-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9111-Map%E5%92%8CSet%E5%AF%B9%E8%B1%A1/">124-【JavaScript】【重温基础】11.Map和Set对象</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#110;&#x67;&#x61;&#x6e;&#x38;&#55;&#x38;&#x37;&#x40;&#113;&#x71;&#x2e;&#x63;&#111;&#109;">&#x70;&#105;&#110;&#x67;&#x61;&#x6e;&#x38;&#55;&#x38;&#x37;&#x40;&#113;&#x71;&#x2e;&#x63;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的Map和Set对象，是个集合。</strong>   </p>
<p>前置知识：<br>Map和Set对象是在ES6中被引入的，作为一种由<code>key</code>值标记的数据容器。<br>Map和Set对象承载的数据元素可以按照插入时的顺序，被迭代遍历。   </p>
<h1 id="1-Set对象"><a href="#1-Set对象" class="headerlink" title="1 Set对象"></a>1 Set对象</h1><p><strong>介绍</strong>:<br><code>Set</code>数据结构类似数组，但所有成员的值<strong>唯一</strong>。<br><code>Set</code>本身为一个构造函数，用来生成<code>Set</code>数据结构，使用<code>add</code>方法来添加新成员。      </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">5</span>].forEach(<span class="function"><span class="params">x</span>=&gt;</span>a.add(x));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>
<p><strong>基础使用</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line">[...a]; <span class="comment">// [1,2,3,4]</span></span><br><span class="line">a.size; <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组去重</span></span><br><span class="line">[...new <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>])];<span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：   </p>
<ul>
<li>向<code>Set</code>中添加值的时候，不会类型转换，即<code>5</code>和<code>&#39;5&#39;</code>是不同的。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...new <span class="built_in">Set</span>([<span class="number">5</span>,<span class="string">&#x27;5&#x27;</span>])]; <span class="comment">// [5, &quot;5&quot;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>属性和方法</strong>：   </p>
<ul>
<li><p>属性：  </p>
<ul>
<li><code>Set.prototype.constructor</code>：构造函数，默认就是<code>Set</code>函数。   </li>
<li><code>Set.prototype.size</code>：返回<code>Set</code>实例的成员总数。  </li>
</ul>
</li>
<li><p>操作方法：  </p>
<ul>
<li><code>add(value)</code>：添加某个值，返回 Set 结构本身。  </li>
<li><code>delete(value)</code>：删除某个值，返回一个布尔值，表示删除是否成功。  </li>
<li><code>has(value)</code>：返回一个布尔值，表示该值是否为Set的成员。  </li>
<li><code>clear()</code>：清除所有成员，没有返回值。  </li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">a.add(<span class="number">1</span>).add(<span class="number">2</span>); <span class="comment">// a =&gt; Set(2) &#123;1, 2&#125;</span></span><br><span class="line">a.has(<span class="number">2</span>);        <span class="comment">// true</span></span><br><span class="line">a.has(<span class="number">3</span>);        <span class="comment">// false</span></span><br><span class="line">a.delete(<span class="number">2</span>);     <span class="comment">// true  a =&gt; Set(1) &#123;1&#125;</span></span><br><span class="line">a.clear();       <span class="comment">// a =&gt; Set(0) &#123;&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>数组去重</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<h1 id="2-Set的应用"><a href="#2-Set的应用" class="headerlink" title="2 Set的应用"></a>2 Set的应用</h1><p><strong>数组去重</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1</span></span><br><span class="line">[...new <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>])]; <span class="comment">// [1,2,3,4]</span></span><br><span class="line"><span class="comment">// 方法2</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>]));    <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>
<p><strong>遍历和过滤</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// map 遍历操作</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].map(<span class="function"><span class="params">x</span> =&gt;</span>x*<span class="number">2</span>));<span class="comment">// b =&gt; Set(4) &#123;2,4,6,8&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// filter 过滤操作</span></span><br><span class="line"><span class="keyword">let</span> c = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span>(x%<span class="number">2</span>) == <span class="number">0</span>)); <span class="comment">// b =&gt; Set(2) &#123;2,4&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>获取并集、交集和差集</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 并集</span></span><br><span class="line"><span class="keyword">let</span> c1 = <span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b]);  <span class="comment">// Set &#123;1,2,3,4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 交集</span></span><br><span class="line"><span class="keyword">let</span> c2 = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> b.has(x))); <span class="comment">// set &#123;2,3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 差集</span></span><br><span class="line"><span class="keyword">let</span> c3 = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> !b.has(x))); <span class="comment">// set &#123;1&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>遍历方法：  <ul>
<li><code>keys()</code>：返回<strong>键名</strong>的遍历器。  </li>
<li><code>values()</code>：返回<strong>键值</strong>的遍历器。  </li>
<li><code>entries()</code>：返回<strong>键值对</strong>的遍历器。  </li>
<li><code>forEach()</code>：使用回调函数遍历<strong>每个成员</strong>。  </li>
</ul>
</li>
</ul>
<p><code>Set</code>遍历顺序是<strong>插入顺序</strong>，当保存多个回调函数，只需按照顺序调用。但由于<code>Set</code>结构<strong>没有键名只有键值</strong>，所以<code>keys()</code>和<code>values()</code>是返回结果相同。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> a.keys())&#123;<span class="built_in">console</span>.log(i)&#125;;   <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> a.values())&#123;<span class="built_in">console</span>.log(i)&#125;; <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> a.entries())&#123;<span class="built_in">console</span>.log(i)&#125;; </span><br><span class="line"><span class="comment">// [&#x27;a&#x27;,&#x27;a&#x27;] [&#x27;b&#x27;,&#x27;b&#x27;] [&#x27;c&#x27;,&#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>并且 还可以使用<code>for...of</code>直接遍历<code>Set</code>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;<span class="built_in">console</span>.log(k)&#125;;   <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>
<p><code>forEach</code>与数组相同，对每个成员执行操作，且无返回值。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]);</span><br><span class="line">a.forEach(<span class="function">(<span class="params">v,k</span>) =&gt;</span> <span class="built_in">console</span>.log(k + <span class="string">&#x27; : &#x27;</span> + v));</span><br></pre></td></tr></table></figure>


<h1 id="3-Map对象"><a href="#3-Map对象" class="headerlink" title="3 Map对象"></a>3 Map对象</h1><p>由于传统的<code>JavaScript</code>对象只能用字符串当做键，给开发带来很大限制，ES6增加<code>Map</code>数据结构，使得<strong>各种类型的值</strong>(包括对象)都可以作为键。<br><code>Map</code>结构提供了“<strong>值—值</strong>”的对应，是一种更完善的 Hash 结构实现。<br><strong>基础使用</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">let</span> b = &#123;<span class="attr">name</span>: <span class="string">&#x27;leo&#x27;</span> &#125;;</span><br><span class="line">a.set(b,<span class="string">&#x27;my name&#x27;</span>); <span class="comment">// 添加值</span></span><br><span class="line">a.get(b);           <span class="comment">// 获取值</span></span><br><span class="line">a.size;      <span class="comment">// 获取总数</span></span><br><span class="line">a.has(b);    <span class="comment">// 查询是否存在</span></span><br><span class="line">a.delete(b); <span class="comment">// 删除一个值</span></span><br><span class="line">a.clear();   <span class="comment">// 清空所有成员 无返回</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：  </p>
<ul>
<li>传入数组作为参数，<strong>指定键值对的数组</strong>。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;age&#x27;</span>,<span class="number">18</span>]</span><br><span class="line">])</span><br></pre></td></tr></table></figure></li>
<li>如果对同一个键<strong>多次赋值</strong>，后面的值将<strong>覆盖前面的值</strong>。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">a.set(<span class="number">1</span>,<span class="string">&#x27;aaa&#x27;</span>).set(<span class="number">1</span>,<span class="string">&#x27;bbb&#x27;</span>);</span><br><span class="line">a.get(<span class="number">1</span>); <span class="comment">// &#x27;bbb&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>如果读取一个未知的键，则返回<code>undefined</code>。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Map</span>().get(<span class="string">&#x27;abcdef&#x27;</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
<li><strong>同样的值</strong>的两个实例，在 Map 结构中被视为两个键。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">let</span> a1 = [<span class="string">&#x27;aaa&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = [<span class="string">&#x27;aaa&#x27;</span>];</span><br><span class="line">a.set(a1,<span class="number">111</span>).set(a2,<span class="number">222</span>);</span><br><span class="line">a.get(a1); <span class="comment">// 111</span></span><br><span class="line">a.get(a2); <span class="comment">// 222</span></span><br></pre></td></tr></table></figure></li>
<li>*遍历方法**：<br>Map 的遍历顺序就是插入顺序。  </li>
<li><code>keys()</code>：返回键名的遍历器。</li>
<li><code>values()</code>：返回键值的遍历器。</li>
<li><code>entries()</code>：返回所有成员的遍历器。</li>
<li><code>forEach()</code>：遍历 Map 的所有成员。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;age&#x27;</span>,<span class="number">18</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> a.keys())&#123;...&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> a.values())&#123;...&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> a.entries())&#123;...&#125;;</span><br><span class="line">a.forEach(<span class="function">(<span class="params">v,k,m</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`key:<span class="subst">$&#123;k&#125;</span>,value:<span class="subst">$&#123;v&#125;</span>,map:<span class="subst">$&#123;m&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>*将Map结构转成数组结构**：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;age&#x27;</span>,<span class="number">18</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a1 = [...a.keys()];   <span class="comment">// a1 =&gt; [&quot;name&quot;, &quot;age&quot;]</span></span><br><span class="line"><span class="keyword">let</span> a2 = [...a.values()]; <span class="comment">// a2 =&gt;  [&quot;leo&quot;, 18]</span></span><br><span class="line"><span class="keyword">let</span> a3 = [...a.entries()];<span class="comment">// a3 =&gt; [[&#x27;name&#x27;,&#x27;leo&#x27;], [&#x27;age&#x27;,18]]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="4-Map与其他数据结构互相转换"><a href="#4-Map与其他数据结构互相转换" class="headerlink" title="4 Map与其他数据结构互相转换"></a>4 Map与其他数据结构互相转换</h1><ul>
<li><p>Map 转 数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="literal">true</span>,<span class="number">1</span>).set(&#123;<span class="attr">f</span>:<span class="number">2</span>&#125;,[<span class="string">&#x27;abc&#x27;</span>]);</span><br><span class="line">[...a]; <span class="comment">// [[true:1], [ &#123;f:2&#125;,[&#x27;abc&#x27;] ]]</span></span><br></pre></td></tr></table></figure></li>
<li><p>数组 转 Map  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [ [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>], [<span class="number">1</span>, <span class="string">&#x27;hi&#x27;</span> ]]</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Map</span>(a);</span><br></pre></td></tr></table></figure></li>
<li><p>Map 转 对象<br>如果所有 Map 的键都是字符串，它可以无损地转为对象。<br>如果有非字符串的键名，那么这个键名会被转成字符串，再作为对象的键名。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [k,v] <span class="keyword">of</span> s) &#123;</span><br><span class="line">    obj[k] = v;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">&#x27;yes&#x27;</span>, <span class="literal">true</span>).set(<span class="string">&#x27;no&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line">fun(a)</span><br><span class="line"><span class="comment">// &#123; yes: true, no: false &#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>对象 转 Map   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">    a.set(k, obj[k]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun(&#123;<span class="attr">yes</span>: <span class="literal">true</span>, <span class="attr">no</span>: <span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">// Map &#123;&quot;yes&quot; =&gt; true, &quot;no&quot; =&gt; false&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>Map 转 JSON   </p>
</li>
<li><p><em>(1)Map键名都是字符串，转为对象JSON：</em>*   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [k,v] <span class="keyword">of</span> s) &#123;</span><br><span class="line">        obj[k] = v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(obj)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">&#x27;yes&#x27;</span>, <span class="literal">true</span>).set(<span class="string">&#x27;no&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line">fun(a);</span><br><span class="line"><span class="comment">// &#x27;&#123;&quot;yes&quot;:true,&quot;no&quot;:false&#125;&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p><em>(2)Map键名有非字符串，转为数组JSON：</em>*    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span> (<span class="params">map</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify([...map]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="literal">true</span>, <span class="number">7</span>).set(&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">&#x27;abc&#x27;</span>]);</span><br><span class="line">fun(a)</span><br><span class="line"><span class="comment">// &#x27;[[true,7],[&#123;&quot;foo&quot;:3&#125;,[&quot;abc&quot;]]]&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>JSON 转 Map  </p>
</li>
<li><p><em>(1)所有键名都是字符串：</em>*   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> strMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(s)) &#123;</span><br><span class="line">    strMap.set(k, s[k]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> strMap;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(strMap);</span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="string">&#x27;&#123;&quot;yes&quot;: true, &quot;no&quot;: false&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">// Map &#123;&#x27;yes&#x27; =&gt; true, &#x27;no&#x27; =&gt; false&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p><em>(2)整个 JSON 就是一个数组，且每个数组成员本身，又是一个有两个成员的数组</em>*:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">JSON</span>.parse(s));</span><br><span class="line">&#125;</span><br><span class="line">fun2(<span class="string">&#x27;[[true,7],[&#123;&quot;foo&quot;:3&#125;,[&quot;abc&quot;]]]&#x27;</span>)</span><br><span class="line"><span class="comment">// Map &#123;true =&gt; 7, Object &#123;foo: 3&#125; =&gt; [&#x27;abc&#x27;]&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/set-map">1.阮一峰ES6入门</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#103;&#x61;&#x6e;&#x38;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#x6d;">&#112;&#x69;&#110;&#103;&#x61;&#x6e;&#x38;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/27/124-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9111-Map%E5%92%8CSet%E5%AF%B9%E8%B1%A1/" data-id="ckts3ejsm001k4d9k35ab4dge" data-title="124-【JavaScript】【重温基础】11.Map和Set对象" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-123-【JavaScript】【重温基础】10-数组" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/24/123-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9110-%E6%95%B0%E7%BB%84/" class="article-date">
  <time class="dt-published" datetime="2018-12-24T15:10:17.000Z" itemprop="datePublished">2018-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/24/123-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9110-%E6%95%B0%E7%BB%84/">123-【JavaScript】【重温基础】10.数组</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#x61;&#110;&#56;&#55;&#56;&#55;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;">&#x70;&#105;&#x6e;&#x67;&#x61;&#110;&#56;&#55;&#56;&#55;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的数组，以索引进行排序。</strong>  </p>
<p>前置知识：<br>数组是一个有序的数据集合，使用数组名称和索引进行访问。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>在JavaScript中数组没有明确数据类型。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="string">&#x27;hi&#x27;</span>, <span class="literal">undefined</span>, fun()];</span><br></pre></td></tr></table></figure>

<h1 id="1-创建数组"><a href="#1-创建数组" class="headerlink" title="1.创建数组"></a>1.创建数组</h1><p>创建数组方法有3种：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(ele1, ele2, ele3, ..., eleN);</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>(ele1, ele2, ele3, ..., eleN);</span><br><span class="line"><span class="keyword">let</span> arr = [ele1, ele2, ele3, ..., eleN];</span><br></pre></td></tr></table></figure>
<p>上面是已知数组元素，另外一种还有<strong>创建一个长度不为0，且有没有任何元素的数组</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> len = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(len); <span class="comment">// 方法1</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>(len);     <span class="comment">// 方法2</span></span><br><span class="line"><span class="keyword">let</span> arr = [];             <span class="comment">// 方法3</span></span><br><span class="line">arr.length = len;</span><br></pre></td></tr></table></figure>
<p>若传入的数组长度不是整数，则报错：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3.5</span>); </span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>(<span class="number">3.5</span>); </span><br><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line">arr.length = <span class="number">3.5</span>;</span><br><span class="line"><span class="comment">//Uncaught RangeError: Invalid array length</span></span><br></pre></td></tr></table></figure>
<p>其中要注意这两种创建方法是不同的：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">4</span>);   <span class="comment">// [empty × 4]</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>];            <span class="comment">// [4]</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> arr1)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;  <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> arr2)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h1 id="2-使用数组"><a href="#2-使用数组" class="headerlink" title="2.使用数组"></a>2.使用数组</h1><h2 id="2-1-简单使用"><a href="#2-1-简单使用" class="headerlink" title="2.1 简单使用"></a>2.1 简单使用</h2><p>获取数组指定位置的值：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line">a[<span class="number">0</span>];  <span class="comment">// 1</span></span><br><span class="line">a[<span class="number">2</span>];  <span class="comment">// 5</span></span><br><span class="line">a[<span class="number">3</span>];  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>获取数组长度：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line">a.length;    <span class="comment">// 3</span></span><br><span class="line">a[<span class="string">&quot;length&quot;</span>]; <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>设置数组指定位置的值：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">9</span>;</span><br><span class="line">a[<span class="number">2</span>] = <span class="number">99</span>;</span><br><span class="line">a[<span class="number">3</span>] = <span class="number">999</span>;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-理解数组length"><a href="#2-2-理解数组length" class="headerlink" title="2.2 理解数组length"></a>2.2 理解数组length</h2><ul>
<li>数组的索引值是从<code>0</code>开始，即上面数组索引<code>0</code>的是<code>1</code>,索引<code>1</code>的值是<code>2</code>，依次下去。  </li>
<li>数组<code>length</code>永远返回的是数组最后一个元素的索引加1。   </li>
<li>可通过<code>arr.length = 0</code>来清空数组。   </li>
<li>可通过<code>arr.length = len</code>来设置数组长度。</li>
</ul>
<h2 id="2-3-遍历数组"><a href="#2-3-遍历数组" class="headerlink" title="2.3 遍历数组"></a>2.3 遍历数组</h2><p>遍历数组就是以某种方法处理数组的每个元素，简单如下：   </p>
<ul>
<li><p>使用<code>for</code>循环：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>, <span class="string">&quot;robin&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line">    <span class="comment">// 处理元素的操作</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`第<span class="subst">$&#123;i&#125;</span>个元素是：<span class="subst">$&#123;arr[i]&#125;</span>；`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 第0个元素是：pingan；</span></span><br><span class="line"><span class="comment">// 第1个元素是：leo；</span></span><br><span class="line"><span class="comment">// 第2个元素是：robin；</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用<code>for...in</code>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>, <span class="string">&quot;robin&quot;</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`第<span class="subst">$&#123;i&#125;</span>个元素是：<span class="subst">$&#123;arr[i]&#125;</span>；`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 第0个元素是：pingan；</span></span><br><span class="line"><span class="comment">// 第1个元素是：leo；</span></span><br><span class="line"><span class="comment">// 第2个元素是：robin；</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用<code>forEach</code>：<br><code>arr.forEach(callback)</code> 接收一个回调方法。<br><code>callback(val, index, array)</code> : 接收三个参数：   </p>
<ul>
<li><code>val</code> : 当前处理的元素；   </li>
<li><code>index</code> : 当前处理的元素的索引；   </li>
<li><code>array</code> : 正在处理的数组；   </li>
</ul>
</li>
</ul>
<p>可参考<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">MDN Array.prototype.forEach</a> 的详细介绍。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>, <span class="string">&quot;robin&quot;</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val, i, array</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`第<span class="subst">$&#123;i&#125;</span>个元素是：<span class="subst">$&#123;val&#125;</span>；`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="3-数组方法（访问和修改）"><a href="#3-数组方法（访问和修改）" class="headerlink" title="3. 数组方法（访问和修改）"></a>3. 数组方法（访问和修改）</h1><table>
<thead>
<tr>
<th>方法名称</th>
<th>方法介绍</th>
</tr>
</thead>
<tbody><tr>
<td><code>concat()</code></td>
<td>连接两个或更多的数组，并返回结果。</td>
</tr>
<tr>
<td><code>join()</code></td>
<td>把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>删除并返回数组的最后一个元素</td>
</tr>
<tr>
<td><code>push()</code></td>
<td>向数组的末尾添加一个或更多元素，并返回新的长度。</td>
</tr>
<tr>
<td><code>reverse()</code></td>
<td>颠倒数组中元素的顺序。</td>
</tr>
<tr>
<td><code>shift()</code></td>
<td>删除并返回数组的第一个元素</td>
</tr>
<tr>
<td><code>slice()</code></td>
<td>从某个已有的数组返回选定的元素</td>
</tr>
<tr>
<td><code>sort()</code></td>
<td>对数组的元素进行排序</td>
</tr>
<tr>
<td><code>splice()</code></td>
<td>删除元素，并向数组添加新元素。</td>
</tr>
<tr>
<td><code>toSource()</code></td>
<td>返回该对象的源代码。</td>
</tr>
<tr>
<td><code>toString()</code></td>
<td>把数组转换为字符串，并返回结果。</td>
</tr>
<tr>
<td><code>toLocaleString()</code></td>
<td>把数组转换为本地数组，并返回结果。</td>
</tr>
<tr>
<td><code>unshift()</code></td>
<td>向数组的开头添加一个或更多元素，并返回新的长度。</td>
</tr>
<tr>
<td><code>valueOf()</code></td>
<td>返回数组对象的原始值</td>
</tr>
<tr>
<td><code>indexOf()</code></td>
<td>在数组中搜索指定元素并返回第一个匹配的索引</td>
</tr>
<tr>
<td><code>lastIndexOf()</code></td>
<td>在数组中搜索指定元素并返回最后一个匹配的索引</td>
</tr>
</tbody></table>
<p>可参考<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/jsref/jsref_obj_array.asp">W3school JavaScript Array 对象</a> 的详细介绍。   </p>
<h2 id="3-1-concat"><a href="#3-1-concat" class="headerlink" title="3.1 concat()"></a>3.1 concat()</h2><p>连接两个或更多的数组，并返回一个新数组。   </p>
<ul>
<li>语法:<br><code>arr.concat(a1, a2, ..., an)</code>;</li>
<li>参数:<br><code>arr</code>：目标数组；<br><code>a1,a2,...,an</code>：需要合并的元素；  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = [<span class="number">9</span>,<span class="number">99</span>,<span class="number">999</span>];</span><br><span class="line"><span class="keyword">let</span> a = a1.concat(a2);</span><br><span class="line"><span class="comment">// [1, 2, 3, 9, 99, 999]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2-join"><a href="#3-2-join" class="headerlink" title="3.2 join()"></a>3.2 join()</h2><p>使用指定分隔符，连接两个或多个数组的元素，返回一个字符串。   </p>
<ul>
<li>语法:<br><code>arr.join(sep)</code>;</li>
<li>参数:<br><code>arr</code>：目标数组；<br><code>sep</code>：连接的分隔符，默认值为“<code>,</code>”；  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>, <span class="string">&quot;robin&quot;</span>];</span><br><span class="line">arr.join();    <span class="comment">// &quot;pingan,leo,robin&quot;</span></span><br><span class="line">arr.join(<span class="string">&quot;&quot;</span>);  <span class="comment">// &quot;pinganleorobin&quot;</span></span><br><span class="line">arr.join(<span class="string">&quot;,&quot;</span>); <span class="comment">// &quot;pingan,leo,robin&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-3-pop-和push"><a href="#3-3-pop-和push" class="headerlink" title="3.3 pop()和push()"></a>3.3 pop()和push()</h2><ul>
<li><p><code>pop()</code>: 删除并返回数组<strong>最后一个元素</strong>，<strong>改变原数组</strong>。   </p>
</li>
<li><p><code>push(item)</code>: 向<strong>数组末尾</strong>添加一个或多个元素，<strong>改变原数组</strong>，返回新的数组长度。<br>方便记忆和理解：两个都是从数组<strong>末尾</strong>操作，<code>pop()</code>是删除最后一个元素，<code>push()</code>是向最后一位添加新的元素。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = arr.pop();              <span class="comment">// &quot;leo&quot;</span></span><br><span class="line"><span class="keyword">let</span> a2 = arr.push(<span class="string">&quot;robin&quot;</span>,<span class="string">&quot;hi&quot;</span>); <span class="comment">// 3</span></span><br><span class="line">arr;   <span class="comment">// [&quot;pingan&quot;, &quot;robin&quot;, &quot;hi&quot;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-4-shift-和unshift"><a href="#3-4-shift-和unshift" class="headerlink" title="3.4 shift()和unshift()"></a>3.4 shift()和unshift()</h2><ul>
<li><code>shift()</code>: 删除并返回数组<strong>第一个元素</strong>，<strong>改变原数组</strong>。   </li>
<li><code>unshift(item)</code>: 向<strong>数组头部</strong>添加一个或多个元素，<strong>改变原数组</strong>，返回新的数组长度。   </li>
</ul>
<p>方便记忆和理解：两个都是从数组<strong>头部</strong>操作，<code>shift()</code>是删除第一个元素，<code>unshift()</code>是向第一位添加新的元素。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;pingan&quot;</span>, <span class="string">&quot;leo&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = arr.shift();               <span class="comment">// &quot;pingan&quot;</span></span><br><span class="line"><span class="keyword">let</span> a2 = arr.unshift(<span class="string">&quot;robin&quot;</span>,<span class="string">&quot;hi&quot;</span>); <span class="comment">// 3</span></span><br><span class="line">arr;   <span class="comment">// [&quot;robin&quot;, &quot;hi&quot;, &quot;leo&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-5-reverse"><a href="#3-5-reverse" class="headerlink" title="3.5 reverse()"></a>3.5 reverse()</h2><p>颠倒数组中元素的顺序，<strong>改变原数组</strong>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.reverse();  <span class="comment">// [4, 3, 2, 1]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-6-slice"><a href="#3-6-slice" class="headerlink" title="3.6 slice()"></a>3.6 slice()</h2><p>用于提取数组中一个片段，作为新数组返回。<br><code>slice(start[,end])</code>: 接收2个参数：   </p>
<ul>
<li><code>start</code>:  必需，指定起始索引，若负数则从数组最后开始算起，<code>-1</code>为倒数第一位，<code>-2</code>为倒数第二位，以此类推。  </li>
<li><code>end</code>： 可选，指定结束索引，若没传则表示到数组结束。   </li>
</ul>
<p><strong>注意</strong>：<br><code>end</code>若有指定的话，是不包含<code>end</code>索引上的值。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = arr.slice(<span class="number">2</span>);    <span class="comment">// [3, 5, 6]</span></span><br><span class="line"><span class="keyword">let</span> a2 = arr.slice(<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-7-splice"><a href="#3-7-splice" class="headerlink" title="3.7 splice()"></a>3.7 splice()</h2><p>从数组中删除指定索引开始的项目，然后返回被删除的项目。    </p>
<ul>
<li>语法：<br><code>arr.splice(index, num, a1, a2,...,an)</code>;</li>
<li>参数：<br><code>index</code>: 必需，起始位置的索引，若负数则从数组最后开始算起；<br><code>num</code>：必需，删除的数量，若为0则不删除；<br><code>a1,a2,...an</code>：可选，为数组添加的元素；   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> a = arr.splice(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;hi&quot;</span>, <span class="string">&quot;leo&quot;</span>);</span><br><span class="line"><span class="comment">// a =&gt;  [2, 3]</span></span><br><span class="line"><span class="comment">// arr =&gt;  [1, &quot;hi&quot;, &quot;leo&quot;, 4]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-8-sort"><a href="#3-8-sort" class="headerlink" title="3.8 sort()"></a>3.8 sort()</h2><p>对数组的元素进行排序，<strong>改变原数组</strong>。<br>可接受一个回调方法作为比较函数，来决定排序方式。<br>比较函数应该具有两个参数 <code>a</code> 和 <code>b</code>，返回值如下：<br>若 <code>a</code> 小于 <code>b</code>，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。<br>若 <code>a</code> 等于 <code>b</code>，则返回 0。<br>若 <code>a</code> 大于 <code>b</code>，则返回一个大于 0 的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line">a1.sort(); <span class="comment">// [1, 10, 3, 6, 9]</span></span><br><span class="line">a1.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? <span class="number">1</span> : a &lt; b ? -<span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;)         <span class="comment">// [1, 3, 6, 9, 10]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-9-indexOf-和lastIndexOf"><a href="#3-9-indexOf-和lastIndexOf" class="headerlink" title="3.9 indexOf()和lastIndexOf()"></a>3.9 indexOf()和lastIndexOf()</h2><p>两者都是在数组搜索指定元素，只是<code>indexOf()</code>返回的是搜索到的<strong>第一个元素</strong>的索引，而<code>lastIndexOf()</code>返回的是搜索到的<strong>最后一个元素</strong>的索引。<br>语法：<br><code>indexOf(ele[,start])</code>和<code>lastIndexOf(ele[,start])</code>;<br>参数：   </p>
<ul>
<li><code>ele</code>:  需要搜索的元素。   </li>
<li><code>start</code>:  开始搜索的索引。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;hh1&quot;</span>, <span class="string">&quot;hh2&quot;</span>, <span class="string">&quot;hh2&quot;</span>, <span class="string">&quot;hh2&quot;</span>, <span class="string">&quot;hh3&quot;</span>, <span class="string">&quot;hh4&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = arr.indexOf(<span class="string">&quot;hh2&quot;</span>);      <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> a2 = arr.lastIndexOf(<span class="string">&quot;hh2&quot;</span>);  <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">let</span> a3 = arr.indexOf(<span class="string">&quot;hh2&quot;</span>,<span class="number">2</span>);    <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="4-数组方法（迭代）"><a href="#4-数组方法（迭代）" class="headerlink" title="4. 数组方法（迭代）"></a>4. 数组方法（迭代）</h1><table>
<thead>
<tr>
<th>方法名称</th>
<th>方法介绍</th>
</tr>
</thead>
<tbody><tr>
<td><code>forEach()</code></td>
<td>为数组中的每个元素执行一次回调函数。</td>
</tr>
<tr>
<td><code>every()</code></td>
<td>如果数组中的每个元素都满足测试函数，则返回 true，否则返回 false。</td>
</tr>
<tr>
<td><code>some()</code></td>
<td>如果数组中至少有一个元素满足测试函数，则返回 true，否则返回 false。</td>
</tr>
<tr>
<td><code>filter()</code></td>
<td>将所有在过滤函数中返回 true 的数组元素放进一个新数组中并返回。</td>
</tr>
<tr>
<td><code>map()</code></td>
<td>返回一个由回调函数的返回值组成的新数组。</td>
</tr>
<tr>
<td><code>reduce()</code></td>
<td>从左到右为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</td>
</tr>
<tr>
<td><code>reduceRight()</code></td>
<td>从右到左为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</td>
</tr>
</tbody></table>
<p><strong>以下是ES6规范新增的数组方法：</strong>    </p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法介绍</th>
</tr>
</thead>
<tbody><tr>
<td><code>keys() </code></td>
<td>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键。</td>
</tr>
<tr>
<td><code>values() </code></td>
<td>返回一个数组迭代器对象，该迭代器会包含所有数组元素的值。</td>
</tr>
<tr>
<td><code>entries() </code></td>
<td>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键值对。</td>
</tr>
<tr>
<td><code>find() </code></td>
<td>找到第一个满足测试函数的元素并返回那个元素的值，如果找不到，则返回 undefined。</td>
</tr>
<tr>
<td><code>findIndex() </code></td>
<td>找到第一个满足测试函数的元素并返回那个元素的索引，如果找不到，则返回 -1。</td>
</tr>
</tbody></table>
<p>可参考<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">MDN Array</a> 的详细介绍。   </p>
<h2 id="4-1-forEach"><a href="#4-1-forEach" class="headerlink" title="4.1 forEach()"></a>4.1 forEach()</h2><p>对数组的每个元素执行一次提供的函数。   </p>
<p>语法：<br><code>arr.forEach(callback)</code>。  </p>
<p>参数：<br><code>callback(val, index, arr)</code> : 需要执行的函数，接收三个参数：   </p>
<ul>
<li><code>val</code> : 正在处理的当前元素;   </li>
<li><code>index</code> : 可选，正在处理的当前元素的索引;   </li>
<li><code>arr</code> : 可选，正在操作的数组;   </li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>];</span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    arr[index] = val * <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line">a ; <span class="comment">// [2, 6, 10, 14]</span></span><br></pre></td></tr></table></figure>

<h2 id="4-2-every"><a href="#4-2-every" class="headerlink" title="4.2 every()"></a>4.2 every()</h2><p>测试数组的所有元素是否<strong>都通过</strong>了指定函数的测试。<br>语法：<br><code>arr.every(callback)</code>。  </p>
<p>参数：<br><code>callback(val, index, arr)</code> : 需要执行的函数，接收三个参数：   </p>
<ul>
<li><code>val</code> : 正在处理的当前元素;   </li>
<li><code>index</code> : 可选，正在处理的当前元素的索引;   </li>
<li><code>arr</code> : 可选，正在操作的数组;   </li>
</ul>
<p>返回值：<br>若都通过返回<code>true</code>，否则返回<code>false</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;aa&quot;</span>, <span class="number">13</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> res = a.every(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">res;<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> r = b.every(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">r;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="4-3-some"><a href="#4-3-some" class="headerlink" title="4.3 some()"></a>4.3 some()</h2><p>测试数组中的某些元素是否通过由提供的函数实现的测试。<br>语法：<br><code>arr.some(callback)</code>。  </p>
<p>参数：<br><code>callback(val, index, arr)</code> : 需要执行的函数，接收三个参数：   </p>
<ul>
<li><code>val</code> : 正在处理的当前元素;   </li>
<li><code>index</code> : 可选，正在处理的当前元素的索引;   </li>
<li><code>arr</code> : 可选，正在操作的数组;   </li>
</ul>
<p>返回值：<br>若有一个通过返回<code>true</code>，否则返回<code>false</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;aa&quot;</span>, <span class="number">13</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> res = a.some(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">res;<span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> r = b.some(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">r;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="4-4-filter"><a href="#4-4-filter" class="headerlink" title="4.4 filter()"></a>4.4 filter()</h2><p>将所有在过滤函数中返回 <code>true</code> 的数组元素放进一个新数组中并返回。   </p>
<p>语法：<br><code>arr.filter(callback)</code>。  </p>
<p>参数：<br><code>callback(val, index, arr)</code> : 需要执行的函数，接收三个参数：   </p>
<ul>
<li><code>val</code> : 正在处理的当前元素;   </li>
<li><code>index</code> : 可选，正在处理的当前元素的索引;   </li>
<li><code>arr</code> : 可选，正在操作的数组;   </li>
</ul>
<p>返回值：<br>一个返回通过测试的元素的数组，若都没有则返回空数组。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;aa&quot;</span>, <span class="number">13</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> res = a.filter(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">res;<span class="comment">//[1, 13, 6]</span></span><br></pre></td></tr></table></figure>

<h2 id="4-5-map"><a href="#4-5-map" class="headerlink" title="4.5 map()"></a>4.5 map()</h2><p>传入一个操作函数，对每个元素执行此方法，并返回一个执行后的数组。   </p>
<p>语法：<br><code>arr.map(callback)</code>。  </p>
<p>参数：<br><code>callback(val, index, arr)</code> : 需要执行的函数，接收三个参数：   </p>
<ul>
<li><code>val</code> : 正在处理的当前元素;   </li>
<li><code>index</code> : 可选，正在处理的当前元素的索引;   </li>
<li><code>arr</code> : 可选，正在操作的数组;   </li>
</ul>
<p>返回值：<br>一个新数组，每个元素都是回调函数的结果。 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> b = a.map(<span class="function"><span class="keyword">function</span>(<span class="params">val, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> val + <span class="number">2</span>;</span><br><span class="line">&#125;)</span><br><span class="line">b; <span class="comment">//[3, 5, 7]</span></span><br></pre></td></tr></table></figure>


<h1 id="5-数组的拓展-ES6"><a href="#5-数组的拓展-ES6" class="headerlink" title="5. 数组的拓展(ES6)"></a>5. 数组的拓展(ES6)</h1><h2 id="5-1-拓展运算符"><a href="#5-1-拓展运算符" class="headerlink" title="5.1 拓展运算符"></a>5.1 拓展运算符</h2><p>拓展运算符使用(<code>...</code>)，类似<code>rest</code>参数的逆运算，将数组转为用(<code>,</code>)分隔的参数序列。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);   <span class="comment">// 1 2 3 </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>, ...[<span class="number">2</span>,<span class="number">3</span>], <span class="number">4</span>); <span class="comment">// 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<p>拓展运算符主要使用在函数调用。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line">f(...[<span class="number">1</span>, <span class="number">2</span>]); <span class="comment">// 1 2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g</span> (<span class="params">a, b, c, d, e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b, c, d, e);</span><br><span class="line">&#125;</span><br><span class="line">g(<span class="number">0</span>, ...[<span class="number">1</span>, <span class="number">2</span>], <span class="number">3</span>, ...[<span class="number">4</span>]); <span class="comment">// 0 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<p><strong>若拓展运算符后面是个空数组，则不产生效果</strong>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...[], <span class="number">1</span>]; <span class="comment">// [1]</span></span><br></pre></td></tr></table></figure>

<p><strong>替代apply方法</strong>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6之前</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b, c</span>)</span>&#123;...&#125;;</span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">f.apply(<span class="literal">null</span>, a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6之后</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b, c</span>)</span>&#123;...&#125;;</span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">f(...a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6之前</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6之后</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>]);</span><br></pre></td></tr></table></figure>

<p><strong>拓展运算符的运用</strong> </p>
<ul>
<li><strong>(1)复制数组</strong>：<br>通常我们直接复制数组时，只是浅拷贝，如果要实现深拷贝，可以使用拓展运算符。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通常情况 浅拷贝</span></span><br><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = a1; </span><br><span class="line">a2[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a1,a2); <span class="comment">// [3,2] [3,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拓展运算符 深拷贝</span></span><br><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = [...a1];</span><br><span class="line"><span class="comment">// let [...a2] = a1; // 作用相同</span></span><br><span class="line">a2[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a1,a2); <span class="comment">// [1,2] [3,2]</span></span><br></pre></td></tr></table></figure></li>
<li><strong>(2)合并数组</strong>：<br>注意，这里合并数组，只是浅拷贝。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = [<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> a3 = [<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 </span></span><br><span class="line"><span class="keyword">let</span> a4 = a1.concat(a2, a3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> a5 = [...a1, ...a2, ...a3];</span><br><span class="line"></span><br><span class="line">a4[<span class="number">0</span>] === a1[<span class="number">0</span>]; <span class="comment">// true</span></span><br><span class="line">a5[<span class="number">0</span>] === a1[<span class="number">0</span>]; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li><strong>(3)与解构赋值结合</strong>：<br>与解构赋值结合生成数组，但是使用拓展运算符需要放到参数最后一个，否则报错。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, ...b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]; </span><br><span class="line"><span class="comment">// a =&gt; 1  b =&gt; [2,3,4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, ...b] = [];</span><br><span class="line"><span class="comment">// a =&gt; undefined b =&gt; []</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, ...b] = [<span class="string">&quot;abc&quot;</span>];</span><br><span class="line"><span class="comment">// a =&gt; &quot;abc&quot;  b =&gt; []</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-2-Array-from"><a href="#5-2-Array-from" class="headerlink" title="5.2 Array.from()"></a>5.2 Array.from()</h2><p>将 <strong>类数组对象</strong> 和 <strong>可遍历的对象</strong>，转换成真正的数组。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类数组对象</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span>:<span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可遍历的对象</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;);</span><br><span class="line"><span class="keyword">let</span> c = <span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]).map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</span><br><span class="line"><span class="keyword">let</span> d = <span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x));</span><br></pre></td></tr></table></figure>

<h2 id="5-3-Array-of"><a href="#5-3-Array-of" class="headerlink" title="5.3 Array.of()"></a>5.3 Array.of()</h2><p>将一组数值，转换成<strong>数组</strong>，弥补<code>Array</code>方法参数不同导致的差异。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);    <span class="comment">// [1,2,3]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>).length; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>();       <span class="comment">// []</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>);      <span class="comment">// [,] 1个参数时，为指定数组长度</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// [1,2,3] 多于2个参数，组成新数组</span></span><br></pre></td></tr></table></figure>

<h2 id="5-4-find-和findIndex"><a href="#5-4-find-和findIndex" class="headerlink" title="5.4 find()和findIndex()"></a>5.4 find()和findIndex()</h2><p><code>find()</code>方法用于找出第一个符合条件的数组成员，参数为一个回调函数，所有成员依次执行该回调函数，返回第一个返回值为<code>true</code>的成员，如果没有一个符合则返回<code>undefined</code>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].find( <span class="function"><span class="params">a</span> =&gt;</span> a &lt; <span class="number">3</span> ); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>回调函数接收三个参数，当前值、当前位置和原数组。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].find(<span class="function">(<span class="params">value, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>findIndex()</code>方法与<code>find()</code>类似，返回第一个符合条件的数组成员的<strong>位置</strong>，如果都不符合则返回<code>-1</code>。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].findIndex(<span class="function">(<span class="params">v,i,a</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v&gt;<span class="number">2</span>;</span><br><span class="line">&#125;); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="5-5-fill"><a href="#5-5-fill" class="headerlink" title="5.5 fill()"></a>5.5 fill()</h2><p>用于用指定值<strong>填充</strong>一个数组，通常用来<strong>初始化空数组</strong>，并抹去数组中已有的元素。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="string">&#x27;a&#x27;</span>);   <span class="comment">// [&#x27;a&#x27;,&#x27;a&#x27;,&#x27;a&#x27;]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].fill(<span class="string">&#x27;a&#x27;</span>);        <span class="comment">// [&#x27;a&#x27;,&#x27;a&#x27;,&#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>并且<code>fill()</code>的第二个和第三个参数指定填充的<strong>起始位置</strong>和<strong>结束位置</strong>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].fill(<span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//  [1, &quot;a&quot;, 3]</span></span><br></pre></td></tr></table></figure>

<h2 id="5-6-entries-keys-values"><a href="#5-6-entries-keys-values" class="headerlink" title="5.6 entries(),keys(),values()"></a>5.6 entries(),keys(),values()</h2><p>主要用于遍历数组，<code>entries()</code>对键值对遍历，<code>keys()</code>对键名遍历，<code>values()</code>对键值遍历。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>].keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>].values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;a&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>].entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0 &#x27;a&#x27;</span></span><br><span class="line"><span class="comment">// 1 &#x27;b&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-7-includes"><a href="#5-7-includes" class="headerlink" title="5.7 includes()"></a>5.7 includes()</h2><p>用于表示数组是否包含给定的值，与字符串的<code>includes</code>方法类似。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">2</span>);     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">4</span>);     <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].includes(<span class="literal">NaN</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>第二个参数为<strong>起始位置</strong>，默认为<code>0</code>，如果负数，则表示倒数的位置，如果大于数组长度，则重置为<code>0</code>开始。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,<span class="number">3</span>);    <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,<span class="number">4</span>);    <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,-<span class="number">1</span>);   <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].includes(<span class="number">3</span>,-<span class="number">4</span>);   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="5-8-flat-flatMap"><a href="#5-8-flat-flatMap" class="headerlink" title="5.8 flat(),flatMap()"></a>5.8 flat(),flatMap()</h2><p><code>flat()</code>用于将数组一维化，返回一个新数组，不影响原数组。<br>默认一次只一维化一层数组，若需多层，则传入一个整数参数指定层数。<br>若要一维化所有层的数组，则传入<code>Infinity</code>作为参数。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">2</span>,<span class="number">3</span>]].flat();        <span class="comment">// [1,2,2,3]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>,[<span class="number">5</span>,<span class="number">6</span>]]]].flat(<span class="number">3</span>); <span class="comment">// [1,2,3,4,5,6]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>,[<span class="number">5</span>,<span class="number">6</span>]]]].flat(<span class="string">&#x27;Infinity&#x27;</span>); <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>
<p><code>flatMap()</code>是将原数组每个对象先执行一个函数，在对返回值组成的数组执行<code>flat()</code>方法，返回一个新数组，不改变原数组。<br> <code>flatMap()</code>只能展开一层。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].flatMap(<span class="function">(<span class="params">x</span>) =&gt;</span> [x, x * <span class="number">2</span>]); </span><br><span class="line"><span class="comment">// [2, 4, 3, 6, 4, 8] </span></span><br></pre></td></tr></table></figure>


<h1 id="6-数组的拓展-ES7"><a href="#6-数组的拓展-ES7" class="headerlink" title="6. 数组的拓展(ES7)"></a>6. 数组的拓展(ES7)</h1><h2 id="6-1-Array-prototype-includes-方法"><a href="#6-1-Array-prototype-includes-方法" class="headerlink" title="6.1 Array.prototype.includes()方法"></a>6.1 Array.prototype.includes()方法</h2><p><code>includes()</code>用于查找一个值是否在数组中，如果在返回<code>true</code>，否则返回<code>false</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>].includes(<span class="string">&#x27;a&#x27;</span>);     <span class="comment">// true</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>].includes(<span class="string">&#x27;d&#x27;</span>);     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><code>includes()</code>方法接收两个参数，<strong>搜索的内容</strong>和<strong>开始搜索的索引</strong>，默认值为<strong>0</strong>，若搜索值在数组中则返回<code>true</code>否则返回<code>false</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>].includes(<span class="string">&#x27;b&#x27;</span>);      <span class="comment">// true</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>].includes(<span class="string">&#x27;b&#x27;</span>, <span class="number">1</span>);   <span class="comment">// true</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>].includes(<span class="string">&#x27;b&#x27;</span>, <span class="number">2</span>);   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>与<code>indexOf</code>方法对比，下面方法效果相同：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>].indexOf(<span class="string">&#x27;b&#x27;</span>) &gt; -<span class="number">1</span>;  <span class="comment">// true</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>].includes(<span class="string">&#x27;b&#x27;</span>);      <span class="comment">// true </span></span><br></pre></td></tr></table></figure>
<p><strong>includes()与indexOf对比：</strong>   </p>
<ul>
<li><code>includes</code>相比<code>indexOf</code>更具语义化，<code>includes</code>返回的是是否存在的具体结果，值为布尔值，而<code>indexOf</code>返回的是搜索值的下标。  </li>
<li><code>includes</code>相比<code>indexOf</code>更准确，<code>includes</code>认为两个<code>NaN</code>相等，而<code>indexOf</code>不会。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="literal">NaN</span>, <span class="number">3</span>];</span><br><span class="line">a.indexOf(<span class="literal">NaN</span>);     <span class="comment">// -1</span></span><br><span class="line">a.includes(<span class="literal">NaN</span>);    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
另外在判断<code>+0</code>与<code>-0</code>时，<code>includes</code>和<code>indexOf</code>的返回相同。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, +<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>].includes(-<span class="number">0</span>);   <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, +<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>].indexOf(-<span class="number">0</span>);    <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>1.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections">MDN 索引集合类</a><br>2.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">MDN 数组对象</a><br>3.<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/jsref/jsref_obj_array.asp">W3school JavaScript Array 对象</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#55;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;">&#x70;&#x69;&#110;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#55;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/24/123-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%9110-%E6%95%B0%E7%BB%84/" data-id="ckts3ejxw00lm4d9k33yn3gje" data-title="123-【JavaScript】【重温基础】10.数组" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-122-【JavaScript】【重温基础】9-正则表达式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/23/122-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%919-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2018-12-23T13:07:46.000Z" itemprop="datePublished">2018-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/23/122-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%919-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">122-【JavaScript】【重温基础】9.正则表达式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#110;&#103;&#97;&#x6e;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#112;&#105;&#110;&#103;&#97;&#x6e;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的正则表达式，JS中用来匹配字符串的强大工具。</strong>  </p>
<p>前置知识：<br>JS中的正则表达式是用来匹配字符串中指定字符组合的模式。<br>另外需要记住：正则表达式也是对象。   </p>
<h1 id="1-创建正则表达式"><a href="#1-创建正则表达式" class="headerlink" title="1.创建正则表达式"></a>1.创建正则表达式</h1><ul>
<li>使用一个正则表达式字面量：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/ab+c/</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[a-zA-z]/gi</span>;</span><br></pre></td></tr></table></figure></li>
<li>使用<code>RegExp</code>对象：<br><code>new RegExp(str[, attr])</code>接收2个参数，<code>str</code>是一个字符串，指定正则表达式匹配规则，<code>attr</code>可选，表示匹配模式，值有<code>g</code>(全局匹配),<code>i</code>(区分大小写的匹配)和<code>m</code>(多行匹配)。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;ab+c&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/^[a-zA-z]/</span>, <span class="string">&quot;gi&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;^[a-zA-z]&quot;</span>, <span class="string">&quot;gi&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>正则表达式的返回值，是一个新的<code>RegExp</code>对象，具有指定的模式和标志。<br><strong>返回信息介绍</strong>：     </p>
<table>
<thead>
<tr>
<th>对象</th>
<th>属性</th>
<th>描述</th>
<th>案例中对应的值</th>
</tr>
</thead>
<tbody><tr>
<td><code>reg</code></td>
<td><code>lastIndex</code></td>
<td>下一个匹配的索引（仅在使用<code>g</code>参数时可用）</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>reg</code></td>
<td><code>source</code></td>
<td>模式文本。在正则表达式创建时更新，不执行。</td>
<td><code>&quot;ab+c&quot;</code></td>
</tr>
<tr>
<td><code>reg</code></td>
<td><code>ignoreCase</code></td>
<td>是否使用了 “i” 标记使正则匹配忽略大小写。</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>reg</code></td>
<td><code>global</code></td>
<td>是否使用了 “g” 标记来进行全局的匹配。</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>reg</code></td>
<td><code>multiline</code></td>
<td>是否使用了 “m” 标记使正则工作在多行模式。</td>
<td><code>false</code></td>
</tr>
</tbody></table>
<p><strong>关于正则表达式的一些方法属性，文章后面介绍，这里先复习定义和使用</strong>。   </p>
<h1 id="2-使用正则表达式"><a href="#2-使用正则表达式" class="headerlink" title="2.使用正则表达式"></a>2.使用正则表达式</h1><p>JS的正则表达式可以被用于：  </p>
<ul>
<li><code>RegExp</code>对象的<code>exec</code>和<code>test</code>方法；   </li>
<li><code>String</code>对象的<code>match</code>、<code>replace</code>、<code>search</code>和<code>split</code>方法。   </li>
</ul>
<h2 id="2-1-RegExp对象方法"><a href="#2-1-RegExp对象方法" class="headerlink" title="2.1 RegExp对象方法"></a>2.1 RegExp对象方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td><code>exec</code></td>
<td>检索字符串中指定的值。返回找到的值，并确定其位置。</td>
</tr>
<tr>
<td><code>test</code></td>
<td>检索字符串中指定的值。返回 <code>true</code> 或 <code>false</code>。</td>
</tr>
</tbody></table>
<h3 id="2-1-1-exec-str"><a href="#2-1-1-exec-str" class="headerlink" title="2.1.1 exec(str)"></a>2.1.1 <code>exec(str)</code></h3><p><code>str</code>: 需要检索的字符串。<br>若检索成功，返回匹配的数组，否则返回null。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;leo&quot;</span>, <span class="string">&quot;g&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> result = reg.exec(str);</span><br><span class="line"><span class="comment">// 也可以写成</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="regexp">/leo/g</span>.exec(<span class="string">&quot;hello leo!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">    0: &quot;leo&quot;,</span></span><br><span class="line"><span class="comment">    groups: undefined,</span></span><br><span class="line"><span class="comment">    index: 6,</span></span><br><span class="line"><span class="comment">    input: &quot;hello leo!&quot;,</span></span><br><span class="line"><span class="comment">    length: 1</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result2 = <span class="regexp">/(leo \S)/g</span>.exec(<span class="string">&quot;hello leo hi leo!&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    0: &quot;leo hi&quot;</span></span><br><span class="line"><span class="comment">    1: &quot;leo hi&quot;</span></span><br><span class="line"><span class="comment">    2: &quot;hi&quot;</span></span><br><span class="line"><span class="comment">    groups: undefined</span></span><br><span class="line"><span class="comment">    index: 6</span></span><br><span class="line"><span class="comment">    input: &quot;hello leo hi leo!&quot;</span></span><br><span class="line"><span class="comment">    length: 3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><strong>返回信息介绍</strong>：  </p>
<table>
<thead>
<tr>
<th>对象</th>
<th>属性</th>
<th>描述</th>
<th>案例中对应的值</th>
</tr>
</thead>
<tbody><tr>
<td><code>result</code></td>
<td><code>[0]</code></td>
<td>匹配到的所有字符串</td>
<td><code>&quot;leo&quot;</code></td>
</tr>
<tr>
<td><code>result</code></td>
<td><code>input</code></td>
<td>初始字符串。</td>
<td><code>&quot;hello leo!&quot;</code></td>
</tr>
<tr>
<td><code>result</code></td>
<td><code>index</code></td>
<td>在输入的字符串中匹配到的以0开始的索引值。</td>
<td><code>6</code></td>
</tr>
<tr>
<td><code>result2</code></td>
<td><code>[1],...,[n]</code></td>
<td>括号中的分组捕获</td>
<td><code>[1]=&gt; &quot;leo hi&quot;;[2] =&gt; &quot;hi&quot;</code></td>
</tr>
</tbody></table>
<h3 id="2-1-2-test-str"><a href="#2-1-2-test-str" class="headerlink" title="2.1.2 test(str)"></a>2.1.2 <code>test(str)</code></h3><p><code>str</code>:需要检索的字符串。<br>若匹配成功返回<code>true</code>否则<code>false</code>。<br>等价于 <code>reg.exec(str) != null</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = <span class="regexp">/^leo/</span>.test(str);   <span class="comment">// fasle</span></span><br><span class="line"><span class="keyword">let</span> res1 = <span class="regexp">/^leo/</span>.test(str);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><code>^str</code>表示匹配以<code>str</code>开头的字符串，这些符号文章后面会介绍。  </p>
<h2 id="2-2-String对象方法"><a href="#2-2-String对象方法" class="headerlink" title="2.2 String对象方法"></a>2.2 String对象方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td><code>search</code></td>
<td>检索与正则表达式相匹配的值。</td>
</tr>
<tr>
<td><code>match</code></td>
<td>找到一个或多个正则表达式的匹配。</td>
</tr>
<tr>
<td><code>replace</code></td>
<td>替换与正则表达式匹配的子串。</td>
</tr>
<tr>
<td><code>split</code></td>
<td>把字符串分割为字符串数组。</td>
</tr>
</tbody></table>
<h3 id="2-2-1-search"><a href="#2-2-1-search" class="headerlink" title="2.2.1 search"></a>2.2.1 <code>search</code></h3><p><code>str.search(reg)</code>：<br><code>str</code>:被检索的源字符串。<br><code>reg</code>:可以是需要检索的<strong>字符串</strong>，也可以是需要检索的<code>RegExp</code>对象，可以添加标志，如<code>i</code>。   </p>
<p>若检索成功，返回<strong>第一个</strong>与<code>RegExp</code>对象匹配的字符串的起始位置，否则返回<code>-1</code>。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.search(<span class="regexp">/leo/g</span>);  <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str1 = <span class="string">&quot;hello leoleoleoleo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res1 = str.search(<span class="regexp">/leo/g</span>); <span class="comment">// 6</span></span><br><span class="line"><span class="keyword">let</span> res2 = str.search(<span class="regexp">/pingan/g</span>); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-2-match"><a href="#2-2-2-match" class="headerlink" title="2.2.2 match"></a>2.2.2 <code>match</code></h3><p><code>str.match(reg)</code>：<br><code>str</code>:被检索的源字符串。<br><code>reg</code>:可以是需要检索的<strong>字符串</strong>，也可以是需要检索的<code>RegExp</code>对象，可以添加标志，如<code>i</code>。   </p>
<p>若检索成功，返回与<code>reg</code>匹配的所有结果的一个<strong>数组</strong>，数组的第一项是进行匹配完整的字符串，之后的项是用圆括号捕获的结果，否则返回<code>null</code>。    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;For more information, see Chapter 3.4.5.1&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/see (chapter \d+(\.\d)*)/i</span>;</span><br><span class="line"><span class="keyword">let</span> result = str.match(reg);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">logs [ &#x27;see Chapter 3.4.5.1&#x27;,</span></span><br><span class="line"><span class="comment">       &#x27;Chapter 3.4.5.1&#x27;,</span></span><br><span class="line"><span class="comment">       &#x27;.1&#x27;,</span></span><br><span class="line"><span class="comment">       index: 22,</span></span><br><span class="line"><span class="comment">       input: &#x27;For more information, see Chapter 3.4.5.1&#x27; ]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><code>&#39;see Chapter 3.4.5.1&#39;</code> 是整个匹配。<br><code>&#39;Chapter 3.4.5.1&#39;</code> 被<code>&#39;(chapter \d+(\.\d)*)&#39;</code>捕获。<br><code>&#39;.1&#39;</code> 是被<code>&#39;(\.\d)&#39;</code>捕获的最后一个值。<br><code>&#39;index&#39;</code> 属性<code>(22) </code>是整个匹配从零开始的索引。<br><code>&#39;input&#39;</code> 属性是被解析的原始字符串。   </p>
<h3 id="2-2-3-replace"><a href="#2-2-3-replace" class="headerlink" title="2.2.3 replace"></a>2.2.3 <code>replace</code></h3><p>将字符串中<strong>指定字符</strong>替换成<strong>其他字符</strong>，或替换成一个与正则表达式匹配的字符串。<br><code>str.replace(sub/reg,val)</code>: </p>
<ul>
<li><code>str</code>: 源字符串   </li>
<li><code>sub</code>: 使用字符串来检索被替换的文本   </li>
<li><code>reg</code>: 使用RegExp对象来检索来检索被替换的文本</li>
<li><code>val</code>: 指定替换文本<br>返回替换成功之后的字符串，不改变源字符串内容。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.replace(<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;pingan&#x27;</span>);<span class="comment">//&quot;hello pingan!&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>val可以使用特殊变量名</strong>：  </p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>代表的值</th>
</tr>
</thead>
<tbody><tr>
<td><code>$$</code></td>
<td>插入一个 “$”。</td>
</tr>
<tr>
<td><code>$&amp;</code></td>
<td>插入匹配的子串。</td>
</tr>
<tr>
<td><code>$</code></td>
<td>插入当前匹配的子串左边的内容。</td>
</tr>
<tr>
<td><code>$&#39;</code></td>
<td>插入当前匹配的子串右边的内容。</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>假如第一个参数是 RegExp对象，并且 n 是个小于100的非负整数，那么插入第 n 个括号匹配的字符串。提示：索引是从1开始</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.replace(<span class="regexp">/(\w+)\s* \s*(\w+)/</span>, <span class="string">&quot;$2:$1&quot;</span>);</span><br><span class="line"><span class="comment">// &quot;leo:hello!&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-4-split"><a href="#2-2-4-split" class="headerlink" title="2.2.4 split"></a>2.2.4 <code>split</code></h3><p>将一个字符串，按照指定符号分割成一个字符串数组。<br><code>str.split(sub[, maxlength])</code>:  </p>
<ul>
<li><code>str</code>: 源字符串   </li>
<li><code>sub</code>: 指定的分割符号或正则   </li>
<li><code>maxlength</code>: 源字符串   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.split();   <span class="comment">//[&quot;hello leo!&quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.split(<span class="string">&quot;&quot;</span>); <span class="comment">//[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot; &quot;, &quot;l&quot;, &quot;e&quot;, &quot;o&quot;, &quot;!&quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.split(<span class="string">&quot; &quot;</span>);<span class="comment">//[&quot;hello&quot;, &quot;leo!&quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.split(<span class="regexp">/\s+/</span>);<span class="comment">//[&quot;hello&quot;, &quot;leo!&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = str.split(<span class="string">&quot;&quot;</span>,<span class="number">3</span>);<span class="comment">//[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-3-使用情况"><a href="#2-3-使用情况" class="headerlink" title="2.3 使用情况"></a>2.3 使用情况</h2><ul>
<li>当我们想要查找一个字符串中的一个匹配<strong>是否找到</strong>，可以用<code>test</code>或<code>search</code>方法。     </li>
<li>当我们想要得到匹配的<strong>更多信息</strong>，我们就需要用到<code>exec</code>或<code>match</code>方法。   </li>
</ul>
<h1 id="3-正则表达式符号介绍"><a href="#3-正则表达式符号介绍" class="headerlink" title="3.正则表达式符号介绍"></a>3.正则表达式符号介绍</h1><p>详细的每个符号的用法，可以查阅 <a href="www.w3school.com.cn/jsref/jsref_obj_regexp.asp">W3school JavaScript RegExp 对象</a></p>
<h2 id="3-1-修饰符"><a href="#3-1-修饰符" class="headerlink" title="3.1 修饰符"></a>3.1 修饰符</h2><table>
<thead>
<tr>
<th>修饰符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>i</code></td>
<td>执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td><code>g</code></td>
<td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td><code>m</code></td>
<td>执行多行匹配。</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="regexp">/Leo/i</span>.test(str); <span class="comment">// i 不区分大小写 所以返回true</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="regexp">/Leo/</span>.test(str);  <span class="comment">// fasle</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-方括号"><a href="#3-2-方括号" class="headerlink" title="3.2 方括号"></a>3.2 方括号</h2><p>用于查找指定返回之内的字符：   </p>
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>[abc]</code></td>
<td>查找方括号之间的任何字符。</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>查找任何不在方括号之间的字符。</td>
</tr>
<tr>
<td><code>[0-9]</code></td>
<td>查找任何从 0 至 9 的数字。</td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>查找任何从小写 a 到小写 z 的字符。</td>
</tr>
<tr>
<td><code>[A-Z]</code></td>
<td>查找任何从大写 A 到大写 Z 的字符。</td>
</tr>
<tr>
<td><code>[A-z]</code></td>
<td>查找任何从大写 A 到小写 z 的字符。</td>
</tr>
<tr>
<td><code>[adgk]</code></td>
<td>查找给定集合内的任何字符。</td>
</tr>
<tr>
<td><code>[^adgk]</code></td>
<td>查找给定集合外的任何字符。</td>
</tr>
<tr>
<td><code>(red)</code></td>
<td>查找任何指定的选项。</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/[a-m]/g</span>);</span><br><span class="line"><span class="comment">//[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;l&quot;, &quot;e&quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/[^a-m]/g</span>);</span><br><span class="line"><span class="comment">//[&quot;o&quot;, &quot; &quot;, &quot;o&quot;, &quot;!&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-元字符"><a href="#3-3-元字符" class="headerlink" title="3.3 元字符"></a>3.3 元字符</h2><p>元字符是拥有特殊含义的字符：   </p>
<table>
<thead>
<tr>
<th>元字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>.</code></td>
<td>查找单个字符，除了换行和行结束符。</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>查找单词字符。</td>
</tr>
<tr>
<td><code>\W</code></td>
<td>查找非单词字符。</td>
</tr>
<tr>
<td><code>\d</code></td>
<td>查找数字。</td>
</tr>
<tr>
<td><code>\D</code></td>
<td>查找非数字字符。</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>查找空白字符。</td>
</tr>
<tr>
<td><code>\S</code></td>
<td>查找非空白字符。</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>匹配单词边界。</td>
</tr>
<tr>
<td><code>\B</code></td>
<td>匹配非单词边界。</td>
</tr>
<tr>
<td><code>\0</code></td>
<td>查找 NUL 字符。</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>查找换行符。</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>查找换页符。</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>查找回车符。</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>查找制表符。</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>查找垂直制表符。</td>
</tr>
<tr>
<td><code>\xxx</code></td>
<td>查找以八进制数 xxx 规定的字符。</td>
</tr>
<tr>
<td><code>\xdd</code></td>
<td>查找以十六进制数 dd 规定的字符。</td>
</tr>
<tr>
<td><code>\uxxxx</code></td>
<td>查找以十六进制数 xxxx 规定的 Unicode 字符。</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo hi pingan!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/o\s/g</span>);</span><br><span class="line"><span class="comment">//[&quot;o &quot;, &quot;o &quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/\s/g</span>);</span><br><span class="line"><span class="comment">//[&quot; &quot;, &quot; &quot;, &quot; &quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="3-4-量词"><a href="#3-4-量词" class="headerlink" title="3.4 量词"></a>3.4 量词</h2><table>
<thead>
<tr>
<th>量词</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>n+</code></td>
<td>匹配任何包含至少一个 n 的字符串。</td>
</tr>
<tr>
<td><code>n*</code></td>
<td>匹配任何包含零个或多个 n 的字符串。</td>
</tr>
<tr>
<td><code>n?</code></td>
<td>匹配任何包含零个或一个 n 的字符串。</td>
</tr>
<tr>
<td><code>n&#123;X&#125;</code></td>
<td>匹配包含 X 个 n 的序列的字符串。</td>
</tr>
<tr>
<td><code>n&#123;X,Y&#125;</code></td>
<td>匹配包含 X 至 Y 个 n 的序列的字符串。</td>
</tr>
<tr>
<td><code>n&#123;X,&#125;</code></td>
<td>匹配包含至少 X 个 n 的序列的字符串。</td>
</tr>
<tr>
<td><code>n$</code></td>
<td>匹配任何结尾为 n 的字符串。</td>
</tr>
<tr>
<td><code>^n</code></td>
<td>匹配任何开头为 n 的字符串。</td>
</tr>
<tr>
<td><code>?=n</code></td>
<td>匹配任何其后紧接指定字符串 n 的字符串。</td>
</tr>
<tr>
<td><code>?!n</code></td>
<td>匹配任何其后没有紧接指定字符串 n 的字符串。</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello leo!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/^hello/g</span>);</span><br><span class="line"><span class="comment">// [&quot;hello&quot;]</span></span><br><span class="line"><span class="keyword">let</span> res = str.match(<span class="regexp">/^pingan/g</span>);</span><br><span class="line"><span class="comment">//null</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="4-正则表达式拓展（ES6）"><a href="#4-正则表达式拓展（ES6）" class="headerlink" title="4. 正则表达式拓展（ES6）"></a>4. 正则表达式拓展（ES6）</h1><h2 id="4-1-介绍"><a href="#4-1-介绍" class="headerlink" title="4.1 介绍"></a>4.1 介绍</h2><p>在ES5中有两种情况。   </p>
<ul>
<li>参数是<strong>字符串</strong>，则第二个参数为正则表达式的修饰符。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;i&#x27;</span>);</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="regexp">/abx/i</span>;</span><br></pre></td></tr></table></figure></li>
<li>参数是<strong>正则表达式</strong>，返回一个原表达式的拷贝，且不能有第二个参数，否则报错。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/abc/i</span>);</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="regexp">/abx/i</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/abc/</span>, <span class="string">&#x27;i&#x27;</span>);</span><br><span class="line"><span class="comment">//  Uncaught TypeError</span></span><br></pre></td></tr></table></figure>
ES6中使用：<br>第一个参数是正则对象，第二个是指定修饰符，如果第一个参数已经有修饰符，则会被第二个参数覆盖。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/abc/ig</span>, <span class="string">&#x27;i&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-2-字符串的正则方法"><a href="#4-2-字符串的正则方法" class="headerlink" title="4.2 字符串的正则方法"></a>4.2 字符串的正则方法</h2><p>常用的四种方法：<code>match()</code>、<code>replace()</code>、<code>search()</code>和<code>split()</code>。   </p>
<h2 id="4-3-u修饰符"><a href="#4-3-u修饰符" class="headerlink" title="4.3 u修饰符"></a>4.3 u修饰符</h2><p>添加<code>u</code>修饰符，是为了处理大于<code>uFFFF</code>的Unicode字符，即正确处理四个字节的UTF-16编码。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/^\uD83D/u.test(<span class="string">&#x27;\uD83D\uDC2A&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="regexp">/^\uD83D/</span>.test(<span class="string">&#x27;\uD83D\uDC2A&#x27;</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>由于ES5之前不支持四个字节UTF-16编码，会识别为两个字符，导致第二行输出<code>true</code>，加入<code>u</code>修饰符后ES6就会识别为一个字符，所以输出<code>false</code>。   </p>
<p><strong>注意：</strong><br>加上<code>u</code>修饰符后，会改变下面正则表达式的行为：   </p>
<ul>
<li>(1)点字符<br>点字符(<code>.</code>)在正则中表示除了<strong>换行符</strong>以外的任意单个字符。对于码点大于<code>0xFFFF</code>的Unicode字符，点字符不能识别，必须加上<code>u</code>修饰符。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;𠮷&quot;</span>;</span><br><span class="line"><span class="regexp">/^.$/</span>.test(a);  <span class="comment">// false</span></span><br><span class="line"><span class="regexp">/^.$/u</span>.test(a); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>(2)Unicode字符表示法<br>使用ES6新增的大括号表示Unicode字符时，必须在表达式添加<code>u</code>修饰符，才能识别大括号。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/\u&#123;<span class="number">61</span>&#125;/.test(<span class="string">&#x27;a&#x27;</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="regexp">/\u&#123;61&#125;/u</span>.test(<span class="string">&#x27;a&#x27;</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="regexp">/\u&#123;20BB7&#125;/u</span>.test(<span class="string">&#x27;𠮷&#x27;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>(3)量词<br>使用<code>u</code>修饰符后，所有量词都会正确识别码点大于<code>0xFFFF</code>的 Unicode 字符。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/a&#123;<span class="number">2</span>&#125;/.test(<span class="string">&#x27;aa&#x27;</span>);    <span class="comment">// true</span></span><br><span class="line"><span class="regexp">/a&#123;2&#125;/u</span>.test(<span class="string">&#x27;aa&#x27;</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="regexp">/𠮷&#123;2&#125;/</span>.test(<span class="string">&#x27;𠮷𠮷&#x27;</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="regexp">/𠮷&#123;2&#125;/u</span>.test(<span class="string">&#x27;𠮷𠮷&#x27;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>(4)i修饰符<br>不加<code>u</code>修饰符，就无法识别非规范的<code>K</code>字符。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/[a-z]/i.test(<span class="string">&#x27;\u212A&#x27;</span>) <span class="comment">// false</span></span><br><span class="line">/[a-z]/iu.test(<span class="string">&#x27;\u212A&#x27;</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>检查是否设置<code>u</code>修饰符：</strong><br>使用<code>unicode</code>属性。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="regexp">/hello/</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="regexp">/hello/u</span>;</span><br><span class="line"></span><br><span class="line">a.unicode <span class="comment">// false</span></span><br><span class="line">b.unicode <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="4-4-y修饰符"><a href="#4-4-y修饰符" class="headerlink" title="4.4 y修饰符"></a>4.4 y修饰符</h2><p><code>y</code>修饰符与<code>g</code>修饰符类似，也是全局匹配，后一次匹配都是从上一次匹配成功的下一个位置开始。区别在于，<code>g</code>修饰符<strong>只要</strong>剩余位置中存在匹配即可，而<code>y</code>修饰符是必须从<strong>剩余第一个</strong>开始。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">&#x27;aaa_aa_a&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> r1 = <span class="regexp">/a+/g</span>;</span><br><span class="line"><span class="keyword">var</span> r2 = <span class="regexp">/a+/y</span>;</span><br><span class="line"></span><br><span class="line">r1.exec(s) <span class="comment">// [&quot;aaa&quot;]</span></span><br><span class="line">r2.exec(s) <span class="comment">// [&quot;aaa&quot;]</span></span><br><span class="line"></span><br><span class="line">r1.exec(s) <span class="comment">// [&quot;aa&quot;]  剩余 &#x27;_aa_a&#x27;</span></span><br><span class="line">r2.exec(s) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p><strong><code>lastIndex</code>属性</strong>:<br>指定匹配的开始位置：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="regexp">/a/y</span>;</span><br><span class="line">a.lastIndex = <span class="number">2</span>;  <span class="comment">// 从2号位置开始匹配</span></span><br><span class="line">a.exec(<span class="string">&#x27;wahaha&#x27;</span>); <span class="comment">// null</span></span><br><span class="line">a.lastIndex = <span class="number">3</span>;  <span class="comment">// 从3号位置开始匹配</span></span><br><span class="line"><span class="keyword">let</span> c = a.exec(<span class="string">&#x27;wahaha&#x27;</span>);</span><br><span class="line">c.index;          <span class="comment">// 3</span></span><br><span class="line">a.lastIndex;      <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p><strong>返回多个匹配</strong>：<br>一个<code>y</code>修饰符对<code>match</code>方法只能返回第一个匹配，与<code>g</code>修饰符搭配能返回所有匹配。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;a1a2a3&#x27;</span>.match(<span class="regexp">/a\d/y</span>);  <span class="comment">// [&quot;a1&quot;]</span></span><br><span class="line"><span class="string">&#x27;a1a2a3&#x27;</span>.match(<span class="regexp">/a\d/gy</span>); <span class="comment">// [&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;]</span></span><br></pre></td></tr></table></figure>
<p><strong>检查是否使用<code>y</code>修饰符</strong>：<br>使用<code>sticky</code>属性检查。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="regexp">/hello\d/y</span>;</span><br><span class="line">a.sticky;     <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="4-5-flags属性"><a href="#4-5-flags属性" class="headerlink" title="4.5 flags属性"></a>4.5 flags属性</h2><p><code>flags</code>属性返回所有正则表达式的修饰符。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/abc/ig.flags;  <span class="comment">// &#x27;gi&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="5-正则表达式拓展（ES9）"><a href="#5-正则表达式拓展（ES9）" class="headerlink" title="5. 正则表达式拓展（ES9）"></a>5. 正则表达式拓展（ES9）</h1><p>在正则表达式中，点(<code>.</code>)可以表示任意单个字符，除了两个：用<code>u</code>修饰符解决<strong>四个字节的UTF-16字符</strong>，另一个是行终止符。<br><strong>终止符</strong>即表示一行的结束，如下四个字符属于“行终止符”：  </p>
<ul>
<li>U+000A 换行符（\n）</li>
<li>U+000D 回车符（\r）</li>
<li>U+2028 行分隔符（line separator）</li>
<li>U+2029 段分隔符（paragraph separator）<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/foo.bar/.test(<span class="string">&#x27;foo\nbar&#x27;</span>)</span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>
上面代码中，因为<code>.</code>不匹配<code>\n</code>，所以正则表达式返回<code>false</code>。<br>换个醒，可以匹配任意单个字符：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/foo[^]bar/.test(<span class="string">&#x27;foo\nbar&#x27;</span>)</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
ES9引入<code>s</code>修饰符，使得<code>.</code>可以匹配任意单个字符：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/foo.bar/s.test(<span class="string">&#x27;foo\nbar&#x27;</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
这被称为<code>dotAll</code>模式，即点（<code>dot</code>）代表一切字符。所以，正则表达式还引入了一个<code>dotAll</code>属性，返回一个布尔值，表示该正则表达式是否处在<code>dotAll</code>模式。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> re = <span class="regexp">/foo.bar/</span>s;</span><br><span class="line"><span class="comment">// 另一种写法</span></span><br><span class="line"><span class="comment">// const re = new RegExp(&#x27;foo.bar&#x27;, &#x27;s&#x27;);</span></span><br><span class="line"></span><br><span class="line">re.test(<span class="string">&#x27;foo\nbar&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">re.dotAll <span class="comment">// true</span></span><br><span class="line">re.flags <span class="comment">// &#x27;s&#x27;</span></span><br></pre></td></tr></table></figure>
<code>/s</code>修饰符和多行修饰符<code>/m</code>不冲突，两者一起使用的情况下，<code>.</code>匹配所有字符，而<code>^</code>和<code>$</code>匹配每一行的行首和行尾。</li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>1.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">MDN 正则表达式</a><br>2.<a href="www.w3school.com.cn/jsref/jsref_obj_regexp.asp">W3school JavaScript RegExp 对象</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#x61;&#110;&#x38;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#46;&#x63;&#x6f;&#x6d;">&#x70;&#105;&#x6e;&#x67;&#x61;&#110;&#x38;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#46;&#x63;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/23/122-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%919-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" data-id="ckts3ejsl001j4d9k8ppi8bt1" data-title="122-【JavaScript】【重温基础】9.正则表达式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-121-【JavaScript】【重温基础】8-字符串" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/22/121-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%918-%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="article-date">
  <time class="dt-published" datetime="2018-12-22T14:08:13.000Z" itemprop="datePublished">2018-12-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/22/121-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%918-%E5%AD%97%E7%AC%A6%E4%B8%B2/">121-【JavaScript】【重温基础】8.字符串</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#103;&#97;&#110;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#x63;&#x6f;&#109;">&#x70;&#105;&#x6e;&#103;&#97;&#110;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的字符串，还有字符串的相关属性和方法。</strong>     </p>
<p>前置知识：<br>JavaScript中的字符串的每个元素，在字符串中都占据一个位置，第一个元素的索引值为0，往后累加，另外创建字符串有2个方法：   </p>
<ul>
<li>1.字面量创建：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello&#x27;</span>;  <span class="comment">// &quot;hello&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &quot;string&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>2.字符串对象创建：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;hello&#x27;</span>); <span class="comment">//String &#123;&quot;hello&quot;&#125;</span></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>
实际开发中，除非必要，建议使用<strong>字面量创建</strong>，因为两种创建方法会有差异：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="string">&quot;1+1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&quot;1+1&quot;</span>);</span><br><span class="line"><span class="built_in">eval</span>(a1); <span class="comment">// number  2</span></span><br><span class="line"><span class="built_in">eval</span>(a2); <span class="comment">// string  &quot;1+1&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>*String**有一个<code>length</code>属性，表示字符串中字符个数：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">a.length; <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="1-String对象方法："><a href="#1-String对象方法：" class="headerlink" title="1.String对象方法："></a>1.String对象方法：</h1><p>String对象的方法非常多，建议大家可以到 <a href="www.w3school.com.cn/jsref/jsref_obj_string.asp">W3school JavaScript String 对象</a> 学习完整的内容。   </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>charAt</code>, <code>charCodeAt</code>, <code>codePointAt</code></td>
<td>返回字符串指定位置的字符或者字符编码。</td>
</tr>
<tr>
<td><code>indexOf</code>, <code>lastIndexOf</code></td>
<td>分别返回字符串中指定子串的位置或最后位置。</td>
</tr>
<tr>
<td><code>startsWith</code>, <code>endsWith</code>,<code> includes</code></td>
<td>返回字符串是否以指定字符串开始、结束或包含指定字符串。</td>
</tr>
<tr>
<td><code>concat</code></td>
<td>连接两个字符串并返回新的字符串。</td>
</tr>
<tr>
<td><code>fromCharCode</code>, <code>fromCodePoint</code></td>
<td>从指定的Unicode值序列构造一个字符串。这是一个String类方法，不是实例方法。</td>
</tr>
<tr>
<td><code>split</code></td>
<td>通过将字符串分离成一个个子串来把一个String对象分裂到一个字符串数组中。</td>
</tr>
<tr>
<td><code>slice</code></td>
<td>从一个字符串提取片段并作为新字符串返回。</td>
</tr>
<tr>
<td><code>substring</code>, <code>substr</code></td>
<td>分别通过指定起始和结束位置，起始位置和长度来返回字符串的指定子集。</td>
</tr>
<tr>
<td><code>match</code>, <code>replace</code>,<code> search</code></td>
<td>通过正则表达式来工作.</td>
</tr>
<tr>
<td><code>toLowerCase</code>, <code>toUpperCase</code></td>
<td>分别返回字符串的小写表示和大写表示。</td>
</tr>
<tr>
<td><code>normalize</code></td>
<td>按照指定的一种 Unicode 正规形式将当前字符串正规化。</td>
</tr>
<tr>
<td><code>repeat</code></td>
<td>将字符串内容重复指定次数后返回。</td>
</tr>
<tr>
<td><code>trim</code></td>
<td>去掉字符串开头和结尾的空白字符。</td>
</tr>
</tbody></table>
<h2 id="1-1-charAt"><a href="#1-1-charAt" class="headerlink" title="1.1 charAt"></a>1.1 charAt</h2><p>作用：查找字符串中<strong>指定位置</strong>的<strong>内容</strong>。<br><code>str.charAt(index)</code>  index : 查找的字符的下标(大于等于0，若小于0则返回空字符串)，若没传则表示1。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;hello leo!&quot;</span></span><br><span class="line">a.charAt();  <span class="comment">// &quot;h&quot;</span></span><br><span class="line">a.charAt(<span class="number">1</span>); <span class="comment">// &quot;e&quot;</span></span><br><span class="line">a.charAt(-<span class="number">1</span>);<span class="comment">// &quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2-indexOf和lastIndexOf"><a href="#1-2-indexOf和lastIndexOf" class="headerlink" title="1.2.indexOf和lastIndexOf"></a>1.2.indexOf和lastIndexOf</h2><p>作用：查找<strong>指定字符串</strong>的<strong>位置</strong>。<br><code>indexOf</code>和<code>lastIndexOf</code>相同点：<br>  两者接收的参数一致，没有查到内容，返回<code>-1</code>。<br><code>indexOf</code>和<code>lastIndexOf</code>不同点：<br>  若查找到内容，则<code>indexOf</code>返回<strong>第一次出现的索引</strong>而<code>lastIndexOf</code>返回<strong>最后一次出现的索引</strong>。   </p>
<p><code>str.indexOf(value[, fromIndex])</code>接收2个参数：   </p>
<ul>
<li><code>value</code> : 需要查找的字符串内容；   </li>
<li><code>fromIndex</code> : 可选，开始查找的位置，默认0；</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>;     </span><br><span class="line"><span class="keyword">let</span> b = a.indexOf(<span class="string">&#x27;lo&#x27;</span>);  <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">let</span> c = a.indexOf(<span class="string">&#x27;lo&#x27;</span>,<span class="number">4</span>);<span class="comment">// -1</span></span><br><span class="line"><span class="keyword">let</span> e = a.lastIndexOf(<span class="string">&#x27;l&#x27;</span>);  <span class="comment">// 6</span></span><br><span class="line"><span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string">**一定要注意：**   </span></span><br><span class="line"><span class="string">1. 当`</span>fromIndex &gt; a.length<span class="string">`，则`</span>fromIndex<span class="string">`被视为`</span>a.length<span class="string">`。   </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>;  </span><br><span class="line"><span class="keyword">let</span> b = a.indexOf(<span class="string">&#x27;lo&#x27;</span>,<span class="number">99</span>);<span class="comment">// -1</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>当<code>fromIndex &lt; 0</code>，则<code>fromIndex</code>被视为<code>0</code>。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>;  </span><br><span class="line"><span class="keyword">let</span> b = a.indexOf(<span class="string">&#x27;lo&#x27;</span>,-<span class="number">1</span>);<span class="comment">// 3</span></span><br></pre></td></tr></table></figure></li>
<li><code>indexOf</code>和<code>lastIndexOf</code>区分大小写。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>; </span><br><span class="line"><span class="keyword">let</span> b = a.indexOf(<span class="string">&#x27;Lo&#x27;</span>); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>
<h2 id="1-3-concat"><a href="#1-3-concat" class="headerlink" title="1.3 concat"></a>1.3 concat</h2>作用：连接字符串。<br><code>concat()</code>接收任意个参数作为连接的字符串，返回一个合并后的新字符串。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27; leo &#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="string">&#x27;!&#x27;</span></span><br><span class="line">a.concat(b,c); <span class="comment">// &quot;hello leo !&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="1-4-split"><a href="#1-4-split" class="headerlink" title="1.4 split"></a>1.4 split</h2><p>作用：把字符串分割为字符串数组，并可以指定分隔符。<br><code>split(separator[,limit])</code>可以接收2个参数：   </p>
<ul>
<li><code>separator</code>：必需，字符串或者正则表达式，作为分割的内容；   </li>
<li><code>limit</code>：可选，作为指定返回的数组的最大长度；   </li>
</ul>
<p>若<code>separator</code>为<code>&quot;&quot;</code>，则字符串会在每个字符之间分割； </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;How are you doing today?&#x27;</span>;</span><br><span class="line">a.split();</span><br><span class="line"><span class="comment">// [&quot;How are you doing today?&quot;]</span></span><br><span class="line">a.split(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="comment">// [&quot;H&quot;, &quot;o&quot;, &quot;w&quot;, &quot; &quot;, &quot;a&quot;, &quot;r&quot;, &quot;e&quot;, &quot; &quot;, &quot;y&quot;, &quot;o&quot;, &quot;u&quot;, &quot; &quot;, &quot;d&quot;, &quot;o&quot;, &quot;i&quot;, &quot;n&quot;, &quot;g&quot;, &quot; &quot;, &quot;t&quot;, &quot;o&quot;, &quot;d&quot;, &quot;a&quot;, &quot;y&quot;, &quot;?&quot;]</span></span><br><span class="line">a.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="comment">// [&quot;How&quot;, &quot;are&quot;, &quot;you&quot;, &quot;doing&quot;, &quot;today?&quot;]</span></span><br><span class="line">a.split(<span class="string">&quot;&quot;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// [&quot;H&quot;, &quot;o&quot;, &quot;w&quot;, &quot; &quot;]</span></span><br><span class="line">a.split(<span class="string">&quot; &quot;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// [&quot;How&quot;, &quot;are&quot;, &quot;you&quot;, &quot;doing&quot;]</span></span><br></pre></td></tr></table></figure>
<p>使用其他分割符号：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;ni,hao,a!&quot;</span>;</span><br><span class="line">a.split(<span class="string">&quot;,&quot;</span>); <span class="comment">// [&quot;ni&quot;, &quot;hao&quot;, &quot;a!&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="1-5-slice"><a href="#1-5-slice" class="headerlink" title="1.5 slice"></a>1.5 slice</h2><p>作用：提取并返回字符串的片断。<br><code>slice([start,end])</code> 可以接收2个参数：   </p>
<ul>
<li><code>start</code>：要提取的片段的起始下标，若小于零，则从字符串尾部开始算起，如-1表示字符串最后一个字符，-2为倒数第二个字符等等。     </li>
<li><code>end</code>：要提取的片段的结束下标，若没有传入，则表示从start到字符串结尾，若为负数则从字符串尾部开始算起。   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;How are you doing today?&#x27;</span>;</span><br><span class="line">a.slice();      <span class="comment">// &quot;How are you doing today?&quot;</span></span><br><span class="line">a.slice(<span class="number">1</span>);     <span class="comment">// &quot;ow are you doing today?&quot;</span></span><br><span class="line">a.slice(-<span class="number">1</span>);    <span class="comment">// &#x27;?&#x27;</span></span><br><span class="line">a.slice(<span class="number">1</span>,<span class="number">5</span>);   <span class="comment">// &quot;ow a&quot;</span></span><br><span class="line">a.slice(<span class="number">1</span>,-<span class="number">1</span>);  <span class="comment">// &quot;ow are you doing today&quot;</span></span><br><span class="line">a.slice(-<span class="number">2</span>,-<span class="number">1</span>); <span class="comment">// &quot;y&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="2-字符串拓展（ES6）"><a href="#2-字符串拓展（ES6）" class="headerlink" title="2.字符串拓展（ES6）"></a>2.字符串拓展（ES6）</h1><h2 id="2-1-includes-startsWith-endsWith"><a href="#2-1-includes-startsWith-endsWith" class="headerlink" title="2.1 includes(),startsWith(),endsWith()"></a>2.1 includes(),startsWith(),endsWith()</h2><p>在我们判断字符串是否包含另一个字符串时，ES6之前，我们只有<code>typeof</code>方法，ES6之后我们又多了三种方法：   </p>
<ul>
<li><strong>includes()</strong>:返回<strong>布尔值</strong>，表示<strong>是否找到参数字符串</strong>。 </li>
<li><strong>startsWith()</strong>:返回<strong>布尔值</strong>，表示参数字符串是否在原字符串的<strong>头部</strong>。 </li>
<li><strong>endsWith()</strong>:返回<strong>布尔值</strong>，表示参数字符串是否在原字符串的<strong>尾部</strong>。 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>;</span><br><span class="line">a.startsWith(<span class="string">&#x27;leo&#x27;</span>);   <span class="comment">// false</span></span><br><span class="line">a.endsWith(<span class="string">&#x27;o&#x27;</span>);       <span class="comment">// true</span></span><br><span class="line">a.includes(<span class="string">&#x27;lo&#x27;</span>);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
并且这三个方法都支持第二个参数，表示起始搜索的位置。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello leo&#x27;</span>;</span><br><span class="line">a.startsWith(<span class="string">&#x27;leo&#x27;</span>,<span class="number">1</span>);   <span class="comment">// false</span></span><br><span class="line">a.endsWith(<span class="string">&#x27;o&#x27;</span>,<span class="number">5</span>);       <span class="comment">// true</span></span><br><span class="line">a.includes(<span class="string">&#x27;lo&#x27;</span>,<span class="number">6</span>);      <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<code>endsWith</code> 是针对前 <code>n</code> 个字符，而其他两个是针对从第<code>n</code>个位置直到结束。  </li>
</ul>
<h2 id="2-2-repeat"><a href="#2-2-repeat" class="headerlink" title="2.2 repeat()"></a>2.2 repeat()</h2><p><code>repeat</code>方法返回一个新字符串，表示将原字符串重复<code>n</code>次。<br><strong>基础用法</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="number">3</span>);        <span class="comment">// &#x27;ababab&#x27;</span></span><br><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="number">0</span>);        <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>特殊用法</strong>:    </p>
<ul>
<li>参数为<code>小数</code>，则取整  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="number">2.3</span>);      <span class="comment">// &#x27;abab&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>参数为<code>负数</code>或<code>Infinity</code>，则报错  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(-<span class="number">1</span>);       <span class="comment">// RangeError</span></span><br><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="literal">Infinity</span>); <span class="comment">// RangeError</span></span><br></pre></td></tr></table></figure></li>
<li>参数为<code>0到-1的小数</code>或<code>NaN</code>，则取0  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(-<span class="number">0.5</span>);     <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="literal">NaN</span>);      <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>参数为<code>字符串</code>，则转成<code>数字</code>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="string">&#x27;ab&#x27;</span>);     <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;ab&#x27;</span>.repeat(<span class="string">&#x27;3&#x27;</span>);      <span class="comment">// &#x27;ababab&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-3-padStart-padEnd"><a href="#2-3-padStart-padEnd" class="headerlink" title="2.3 padStart(),padEnd()"></a>2.3 padStart(),padEnd()</h2><p>用于将字符串<strong>头部</strong>或<strong>尾部</strong>补全长度，<code>padStart()</code>为<strong>头部补全</strong>，<code>padEnd()</code>为<strong>尾部补全</strong>。<br>这两个方法接收<strong>2个</strong>参数，第一个指定<strong>字符串最小长度</strong>，第二个<strong>用于补全的字符串</strong>。<br><strong>基础用法</strong> ：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.padStart(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>);   <span class="comment">// &#x27;ababx&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.padEnd(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>);     <span class="comment">// &#x27;xabab&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>特殊用法</strong>:  </p>
<ul>
<li>原字符串长度，大于或等于指定最小长度，则返回原字符串。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;xyzabc&#x27;</span>.padStart(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>); <span class="comment">// &#x27;xyzabc&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>用来补全的字符串长度和原字符串长度之和，超过指定最小长度，则截去超出部分的补全字符串。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ab&#x27;</span>.padStart(<span class="number">5</span>,<span class="string">&#x27;012345&#x27;</span>); <span class="comment">// &quot;012ab&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>省略第二个参数，则用<code>空格</code>补全。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.padStart(<span class="number">4</span>);           <span class="comment">// &#x27;    x&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.padEnd(<span class="number">4</span>);             <span class="comment">// &#x27;x    &#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4-模版字符串"><a href="#2-4-模版字符串" class="headerlink" title="2.4 模版字符串"></a>2.4 模版字符串</h2>用于拼接字符串，ES6之前：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;abc&#x27;</span> + </span><br><span class="line">    <span class="string">&#x27;def&#x27;</span> + </span><br><span class="line">    <span class="string">&#x27;ghi&#x27;</span>;</span><br></pre></td></tr></table></figure>
ES6之后：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">`</span></span><br><span class="line"><span class="string">    abc</span></span><br><span class="line"><span class="string">    def</span></span><br><span class="line"><span class="string">    ghi</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure></li>
<li><em>拼接变量</em>*:<br>在**反引号(`)**中使用<code>$&#123;&#125;</code>包裹变量或方法。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6之前</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;abc&#x27;</span> + v1 + <span class="string">&#x27;def&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6之后</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">`abc<span class="subst">$&#123;v1&#125;</span>def`</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="3-字符串拓展（ES7）"><a href="#3-字符串拓展（ES7）" class="headerlink" title="3.字符串拓展（ES7）"></a>3.字符串拓展（ES7）</h1><p>用来为字符串填充特定字符串，并且都有两个参数：<strong>字符串目标长度</strong>和<strong>填充字段</strong>，第二个参数可选，默认空格。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;es8&#x27;</span>.padStart(<span class="number">2</span>);          <span class="comment">// &#x27;es8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padStart(<span class="number">5</span>);          <span class="comment">// &#x27;  es8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padStart(<span class="number">6</span>, <span class="string">&#x27;woof&#x27;</span>);  <span class="comment">// &#x27;wooes8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padStart(<span class="number">14</span>, <span class="string">&#x27;wow&#x27;</span>);  <span class="comment">// &#x27;wowwowwowwoes8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padStart(<span class="number">7</span>, <span class="string">&#x27;0&#x27;</span>);     <span class="comment">// &#x27;0000es8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padEnd(<span class="number">2</span>);            <span class="comment">// &#x27;es8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padEnd(<span class="number">5</span>);            <span class="comment">// &#x27;es8  &#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padEnd(<span class="number">6</span>, <span class="string">&#x27;woof&#x27;</span>);    <span class="comment">// &#x27;es8woo&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padEnd(<span class="number">14</span>, <span class="string">&#x27;wow&#x27;</span>);    <span class="comment">// &#x27;es8wowwowwowwo&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.padEnd(<span class="number">7</span>, <span class="string">&#x27;6&#x27;</span>);       <span class="comment">// &#x27;es86666&#x27;</span></span><br></pre></td></tr></table></figure>
<p>从上面结果来看，填充函数只有在字符长度小于目标长度时才有效，若字符长度已经等于或小于目标长度时，填充字符不会起作用，而且目标长度如果小于字符串本身长度时，字符串也不会做截断处理，只会原样输出。    </p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Text_formatting">MDN Text formatting</a>   </li>
<li><a href="www.w3school.com.cn/jsref/jsref_obj_string.asp">W3school JavaScript String 对象</a></li>
</ol>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#x61;&#x6e;&#56;&#x37;&#x38;&#55;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#x70;&#105;&#x6e;&#x67;&#x61;&#x6e;&#56;&#x37;&#x38;&#55;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/22/121-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%918-%E5%AD%97%E7%AC%A6%E4%B8%B2/" data-id="ckts3ejsk001g4d9kfmosc9ka" data-title="121-【JavaScript】【重温基础】8.字符串" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-120-【JavaScrjpt】【重温基础】7.时间对象" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/20/120-%E3%80%90JavaScrjpt%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%917.%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time class="dt-published" datetime="2018-12-20T15:47:22.000Z" itemprop="datePublished">2018-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/20/120-%E3%80%90JavaScrjpt%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%917.%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1/">120-【JavaScrjpt】【重温基础】7.时间对象</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;">&#112;&#x69;&#x6e;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的时间对象，一些处理的方法。</strong>    </p>
<p><strong>前置知识</strong>：<br>JavaScript中的时间是以1970年1月1日00:00:00以来的毫秒数来储存数据类型。<br><code>Data</code>对象的范围是相对距离UTC1970年1月1日的前后100,000,000天。<br>创建一个时间对象：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>([params]);</span><br></pre></td></tr></table></figure>
<p>参数<code>params</code>可以是：   </p>
<ul>
<li>无参数：默认创建今天的日期和时间。</li>
<li>一个符合以下格式的表示日期的字符串:    </li>
</ul>
<p>“月 日, 年 时:分:秒.”或者”年月日 时分秒”  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;2018-12-20&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>如果你省略时、分、秒，那么他们的值将被设置为0。    </p>
<ul>
<li>一个年，月，日的整型值的集合： <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">12</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure></li>
<li>一个年，月，日，时，分，秒的集合：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">12</span>, <span class="number">20</span>, <span class="number">23</span>, <span class="number">20</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>这里Date对象涉及到的方法特别多，请移步<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/jsref/jsref_obj_date.asp">W3school JavaScript Date 对象</a>   </p>
<h1 id="1-Date对象的方法"><a href="#1-Date对象的方法" class="headerlink" title="1.Date对象的方法"></a>1.Date对象的方法</h1><p>常用处理的方法有以下几类：   </p>
<ul>
<li>“<code>set</code>“：用于设置Date对象的日期和时间的值。  </li>
<li>“<code>get</code>“：用去获取Date对象的日期和时间的值。  </li>
<li>“<code>to</code>“：用于返回Date对象的字符串格式的值。  </li>
<li>“<code>parse</code>和<code>UTC</code>“：用于解析Date字符串。   </li>
</ul>
<p><strong>需要注意的Date对象的一些数值问题：</strong>   </p>
<ul>
<li>秒/分： 0 - 59；   </li>
<li>时： 0 - 23；</li>
<li>星期： 0(周日) - 6(周六)</li>
<li>日期： 1 - 31</li>
<li>月份： 0(一月) - 11(十二月)</li>
<li>年份： 从1900开始的年数  </li>
</ul>
<p>例如：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2018-12-10&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> d1 = d.getMonth();    <span class="comment">// 11</span></span><br><span class="line"><span class="keyword">let</span> d2 = d.getFullYear(); <span class="comment">// 2018</span></span><br></pre></td></tr></table></figure>
<p>获取今年剩下的天数：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> e = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">11</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999</span>);  <span class="comment">// 设置年月日时分秒</span></span><br><span class="line">e.setFullYear(d.getFullYear); <span class="comment">// 设置为今年</span></span><br><span class="line"><span class="keyword">let</span> m = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;  <span class="comment">// 每日毫秒数</span></span><br><span class="line"><span class="keyword">let</span> result = (e.getTime() - d.getTime()) / m;</span><br><span class="line">result = <span class="built_in">Math</span>.round(result);  <span class="comment">// 返回今年剩余天数</span></span><br></pre></td></tr></table></figure>

<p>这里Date对象涉及到的方法特别多，请移步<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/jsref/jsref_obj_date.asp">W3school JavaScript Date 对象</a>   </p>
<p><strong>注意：</strong>  </p>
<blockquote>
<p>格林尼治标准时间(GMT)英国、爱尔兰、冰岛和葡萄牙属于该时区。这个时区与中国北京时间的时差是8个小时，也就是说比北京时间晚8个小时。   </p>
</blockquote>
<h1 id="2-使用Date对象"><a href="#2-使用Date对象" class="headerlink" title="2.使用Date对象"></a>2.使用Date对象</h1><h2 id="2-1-设置日期"><a href="#2-1-设置日期" class="headerlink" title="2.1 设置日期"></a>2.1 <strong>设置日期</strong></h2><p>为一个时间对象设置指定日期（2018年12月20日），注意这里：和前面说的一样，12月在JS的Date对象中，是用<code>11</code>表示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">d.setFullYear(<span class="number">2018</span>,<span class="number">11</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<p>设置时间对象<code>10</code>天以后：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">d.setDate(d.getDate() + <span class="number">10</span>); <span class="comment">// 先获取当天的日期，再设置到指定天数以后</span></span><br></pre></td></tr></table></figure>

<h2 id="2-2-比较时间"><a href="#2-2-比较时间" class="headerlink" title="2.2 比较时间"></a>2.2 <strong>比较时间</strong></h2><p>通常情况下，像下面这样简单比较：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> e = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">d.setFullYear(<span class="number">2018</span>,<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line"><span class="keyword">let</span> r = d &gt; e ? <span class="string">&#x27;good&#x27;</span> : <span class="string">&#x27;nice&#x27;</span> ; <span class="comment">// nice</span></span><br></pre></td></tr></table></figure>
<p>还可以比较两个日期相差多少天：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2018-10-10&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> d2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2018-11-11&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> d3 = (d2 - d1) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>);  <span class="comment">// 32</span></span><br></pre></td></tr></table></figure>

<h2 id="2-3-计算N天后星期几"><a href="#2-3-计算N天后星期几" class="headerlink" title="2.3 计算N天后星期几"></a>2.3 <strong>计算N天后星期几</strong></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">Number</span>(num) === <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> d1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        <span class="keyword">let</span> d2 = d1.setDate(d1.getDate() + <span class="built_in">Number</span>(num));</span><br><span class="line">        <span class="keyword">let</span> n = <span class="keyword">new</span> <span class="built_in">Date</span>(d2).getDay();</span><br><span class="line">        <span class="keyword">let</span> s = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (n)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span> : </span><br><span class="line">                s = <span class="string">&quot;星期天&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span> : </span><br><span class="line">                s = <span class="string">&quot;星期一&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span> : </span><br><span class="line">                s = <span class="string">&quot;星期二&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span> : </span><br><span class="line">                s = <span class="string">&quot;星期三&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span> : </span><br><span class="line">                s = <span class="string">&quot;星期四&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span> : </span><br><span class="line">                s = <span class="string">&quot;星期五&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span> : </span><br><span class="line">                s = <span class="string">&quot;星期六&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">&#x27;请输入正确数字！&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-4-格式化日期"><a href="#2-4-格式化日期" class="headerlink" title="2.4 格式化日期"></a>2.4 格式化日期</h2><p>常见的日期格式化为字符串的方法有这些：</p>
<ul>
<li><p><code>toDateString()</code>——以特定于实现的格式显示星期几、月、日和年；</p>
</li>
<li><p><code>toTimeString()</code>——以特定于实现的格式显示时、分、秒和时区；</p>
</li>
<li><p><code>toLocaleDateString()</code>——以特定与地区的格式显示星期几、月、日和年；</p>
</li>
<li><p><code>toLocaleTimeString()</code>——以特定于实现的格式显示时、分、秒；</p>
</li>
<li><p><code>toUTCString()</code>——以特定于实现的格式完整的UTC日期。</p>
</li>
</ul>
<p><strong>获取并格式化日期：年-月-日</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params">date</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> date.getFullYear() + <span class="string">&#x27;-&#x27;</span> + (date.getMonth() + <span class="number">1</span>) + <span class="string">&#x27;-&#x27;</span> + date.getDate();</span><br><span class="line">&#125;</span><br><span class="line">d(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// &quot;2018-12-20&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>日期字符串转为 年-月-日</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(str.replace(<span class="regexp">/-/g</span>, <span class="string">&#x27;/&#x27;</span>)));</span><br><span class="line">    <span class="comment">// 或者</span></span><br><span class="line">    <span class="comment">// return new Date(str.replace(/-/g, &#x27;/&#x27;));</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>获取当前星期几</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="string">&quot;今天是星期&quot;</span> + <span class="string">&quot;日一二三四五六&quot;</span>.charat(<span class="keyword">new</span> <span class="built_in">Date</span>().getDay());</span><br></pre></td></tr></table></figure>

<h2 id="2-5-获取某年某月的天数"><a href="#2-5-获取某年某月的天数" class="headerlink" title="2.5 获取某年某月的天数"></a>2.5 获取某年某月的天数</h2><p>这里有个小技巧，若给<code>new Date()</code>传入一个如<code>aaaa/aa/0</code>参数时，可以得到<code>aa</code>月的<strong>前一个月的最后一天</strong>，如传入<code>2018/12/0</code>会得到<code>2018/11/30</code>。   </p>
<p><strong>值得注意的是：</strong> 在Chrome浏览器上并不支持，会返回<code>Invalid Date</code>导致结果为<code>NaN</code>，但是我们可以使用<code>aaaa,aa,0</code>形式作为参数，下面分别写出这两种：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// aaaa/aa/0形式 只要传入年和月 </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params">y, m</span>)</span>&#123;</span><br><span class="line">    m = <span class="built_in">parseInt</span>(m, <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> r = <span class="keyword">new</span> <span class="built_in">Date</span>(y + <span class="string">&#x27;/&#x27;</span> + m + <span class="string">&#x27;/0&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> r.getDate();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// aaaa,aa,0形式 只要传入年和月 </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params">y, m</span>)</span>&#123;</span><br><span class="line">    m = <span class="built_in">parseInt</span>(m, <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> r = <span class="keyword">new</span> <span class="built_in">Date</span>(y, m, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> r.getDate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-6-获取上个月-下个月日期-“yyyy-mm-dd”"><a href="#2-6-获取上个月-下个月日期-“yyyy-mm-dd”" class="headerlink" title="2.6 获取上个月/下个月日期(“yyyy-mm-dd”)"></a>2.6 获取上个月/下个月日期(“yyyy-mm-dd”)</h2><p>传入参数的格式”yyyy-mm-dd”，其实也可以是Date()对象，大家可以自行尝试。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上个月 date格式&quot;yyyy-mm-dd&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_date</span> (<span class="params">date</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = date.split(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> y = arr[<span class="number">0</span>] , m = arr[<span class="number">1</span>], d = arr[<span class="number">2</span>];  <span class="comment">// 获取当前的年月日</span></span><br><span class="line">    <span class="comment">// ES6语法 let [y,m,d] = arr;</span></span><br><span class="line">    <span class="keyword">let</span> day = <span class="keyword">new</span> <span class="built_in">Date</span>(y,m,<span class="number">0</span>);</span><br><span class="line">    day = day.getDate(); <span class="comment">// 获取当前月份的天数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> y2 = y, m2 = <span class="built_in">parseInt</span>(m) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(m2 == <span class="number">0</span>)&#123;</span><br><span class="line">        y2 = <span class="built_in">parseInt</span>(y2) -<span class="number">1</span>;</span><br><span class="line">        m2 = <span class="number">12</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> d2 = d, day2 = <span class="keyword">new</span> <span class="built_in">Date</span>(y2, m2, <span class="number">0</span>);</span><br><span class="line">    day2 = day2.getDate();</span><br><span class="line">    <span class="keyword">if</span>(d2 &gt; day2)&#123;</span><br><span class="line">        d2 = day2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(m2 &lt; <span class="number">10</span>)&#123;</span><br><span class="line">        m2 = <span class="string">&#x27;0&#x27;</span> + m2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> y2 + <span class="string">&#x27;-&#x27;</span> + m2 + <span class="string">&#x27;-&#x27;</span> + d2;</span><br><span class="line">&#125;</span><br><span class="line">my_date(<span class="string">&#x27;2018-1-20&#x27;</span>);  <span class="comment">//&quot;2017-12-20&quot;</span></span><br></pre></td></tr></table></figure>
<p>下个月的计算方法也是相似：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上个月 date格式&quot;yyyy-mm-dd&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_date</span> (<span class="params">date</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = date.split(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> y = arr[<span class="number">0</span>] , m = arr[<span class="number">1</span>], d = arr[<span class="number">2</span>];  <span class="comment">// 获取当前的年月日</span></span><br><span class="line">    <span class="keyword">let</span> day = <span class="keyword">new</span> <span class="built_in">Date</span>(y,m,<span class="number">0</span>);</span><br><span class="line">    day = day.getDate(); <span class="comment">// 获取当前月份的天数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 和计算上个月的区别   </span></span><br><span class="line">    <span class="keyword">let</span> y2 = y, m2 = <span class="built_in">parseInt</span>(m) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(m2 == <span class="number">13</span>)&#123;   </span><br><span class="line">        y2 = <span class="built_in">parseInt</span>(y2) + <span class="number">1</span>;</span><br><span class="line">        m2 = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> d2 = d, day2 = <span class="keyword">new</span> <span class="built_in">Date</span>(y2, m2, <span class="number">0</span>);</span><br><span class="line">    day2 = day2.getDate();</span><br><span class="line">    <span class="keyword">if</span>(d2 &gt; day2)&#123;</span><br><span class="line">        d2 = day2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(m2 &lt; <span class="number">10</span>)&#123;</span><br><span class="line">        m2 = <span class="string">&#x27;0&#x27;</span> + m2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> y2 + <span class="string">&#x27;-&#x27;</span> + m2 + <span class="string">&#x27;-&#x27;</span> + d2;</span><br><span class="line">&#125;</span><br><span class="line">my_date(<span class="string">&#x27;2018-12-20&#x27;</span>);  <span class="comment">// &quot;2019-01-20&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Numbers_and_dates">1.MDN 数字和日期</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/moqiutao/p/4875946.html">2. JS日期Date详解与实例扩展</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#103;&#x61;&#110;&#x38;&#55;&#56;&#55;&#64;&#113;&#x71;&#x2e;&#99;&#111;&#109;">&#112;&#x69;&#x6e;&#103;&#x61;&#110;&#x38;&#55;&#56;&#55;&#64;&#113;&#x71;&#x2e;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/20/120-%E3%80%90JavaScrjpt%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%917.%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1/" data-id="ckts3ejsj001e4d9kes6m6csp" data-title="120-【JavaScrjpt】【重温基础】7.时间对象" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-119-【JavaScript】【重温基础】6-数字" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/19/119-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%916-%E6%95%B0%E5%AD%97/" class="article-date">
  <time class="dt-published" datetime="2018-12-19T15:46:23.000Z" itemprop="datePublished">2018-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/19/119-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%916-%E6%95%B0%E5%AD%97/">119-【JavaScript】【重温基础】6.数字</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#110;&#103;&#x61;&#x6e;&#56;&#55;&#56;&#55;&#x40;&#113;&#113;&#46;&#99;&#x6f;&#x6d;">&#x70;&#105;&#110;&#103;&#x61;&#x6e;&#56;&#55;&#56;&#55;&#x40;&#113;&#113;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的数字类型，涉及的API比较多。</strong>   </p>
<p>前置基础：<br>在JavaScript中，数字为双精度浮点类型（即一个数字范围只能在-(2<sup>53</sup>-1)和(2<sup>53</sup>-1)之间），整数类型也一样。<br>另外数字类型也可以是以下三种符号值：   </p>
<ul>
<li><code>+Infinity</code> ： 正无穷； </li>
<li><code>-Infinity</code> ： 负无穷； </li>
<li><code>NaN</code> ： 非数字(not a number)；</li>
</ul>
<h1 id="1-数字对象"><a href="#1-数字对象" class="headerlink" title="1.数字对象"></a>1.数字对象</h1><p>JS中内置了<code>Number</code>对象的一些常量属性：  </p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>Number.MAX_VALUE</code></td>
<td>可表示的最大值</td>
</tr>
<tr>
<td><code>Number.MIN_VALUE</code></td>
<td>可表示的最小值</td>
</tr>
<tr>
<td><code>Number.NaN</code></td>
<td>特指“非数字”</td>
</tr>
<tr>
<td><code>Number.NEGATIVE_INFINITY</code></td>
<td>特指“负无穷”;在溢出时返回</td>
</tr>
<tr>
<td><code>Number.POSITIVE_INFINITY</code></td>
<td>特指“正无穷”;在溢出时返回</td>
</tr>
<tr>
<td><code>Number.EPSILON</code></td>
<td>表示1和比最接近1且大于1的最小Number之间的差别</td>
</tr>
<tr>
<td><code>Number.MIN_SAFE_INTEGER</code></td>
<td>JavaScript最小安全整数.</td>
</tr>
<tr>
<td><code>Number.MAX_SAFE_INTEGER</code></td>
<td>JavaScript最大安全整数.</td>
</tr>
</tbody></table>
<p>注意：以上所有属性都是<strong>不可写，不可枚举，也不可配置</strong>。 </p>
<ul>
<li><code>Number.MAX_VALUE</code>   </li>
</ul>
<p><code>Number.MAX_VALUE</code>是 <code>Number</code> 对象的一个<strong>静态属性</strong>，值接近于 <code>1.79E+308</code>。大于 <code>Number.MAX_VALUE</code> 的值代表 “<code>Infinity</code>“。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">if</span>(a &lt; <span class="built_in">Number</span>.MAX_VALUE)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// success</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Number.MIN_VALUE</code>    </li>
</ul>
<p><code>Number.MIN_VALUE</code>是 <code>Number</code> 对象的一个<strong>静态属性</strong>，值接近于 <code>5e-324</code>，是 JavaScript 里最接近 0 的正值，而不是最小的负值。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">if</span>(a &gt; <span class="built_in">Number</span>.MIN_VALUE)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// success</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Number.NaN</code>   </li>
</ul>
<p><code>Number.NaN</code> 表示“非数字”，和 <code>NaN</code> 一样。   </p>
<ul>
<li><code>Number.POSITIVE_INFINITY</code>    </li>
</ul>
<p><code>Number.POSITIVE_INFINITY</code> 属性表示正无穷大，值同全局对象 <code>Infinity</code> 属性的值相同。     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="built_in">Number</span>.MAX_VALUE * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(a == <span class="built_in">Number</span>.POSITIVE_INFINITY)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// success</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Number.NEGATIVE_INFINITY</code>    </li>
</ul>
<p><code>Number.NEGATIVE_INFINITY</code> 属性表示负无穷大，值和全局对象的 <code>Infinity</code> 属性的<strong>负值</strong>相同。     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = - <span class="built_in">Number</span>.MAX_VALUE * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(a == <span class="built_in">Number</span>.NEGATIVE_INFINITY)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// success</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Number.EPSILON</code>   </li>
</ul>
<p><code>Number.EPSILON</code>属性表示 1 与Number可表示的大于 1 的最小的浮点数之间的差值，值接近于 2<sup>-52</sup> 。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">0.1</span>, b = <span class="number">0.2</span>, c = <span class="number">0.3</span>;</span><br><span class="line"><span class="keyword">let</span> d = (<span class="built_in">Math</span>.abs(a + b - c) &lt; <span class="built_in">Number</span>.EPSILON);</span><br><span class="line">d; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Number.MIN_SAFE_INTEGER</code>   </li>
</ul>
<p>JS中最小的安全的integer型数字 (-(2<sup>53</sup> - 1))。   </p>
<ul>
<li><code>Number.MAX_SAFE_INTEGER</code>   </li>
</ul>
<p>JS中最大的安全的integer型数字 (2<sup>53</sup> - 1)。   </p>
<h1 id="2-数字方法"><a href="#2-数字方法" class="headerlink" title="2.数字方法"></a>2.数字方法</h1><p>常见的方法有： </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>Number.parseFloat()</code></td>
<td>把字符串参数解析成浮点数，和全局方法 <code>parseFloat()</code> 作用一致.</td>
</tr>
<tr>
<td><code>Number.parseInt()</code></td>
<td>把字符串解析成特定基数对应的整型数字，和全局方法 <code>parseInt()</code> 作用一致.</td>
</tr>
<tr>
<td><code>Number.isFinite()</code></td>
<td>判断传递的值是否为有限数字。</td>
</tr>
<tr>
<td><code>Number.isInteger()</code></td>
<td>判断传递的值是否为整数。</td>
</tr>
<tr>
<td><code>Number.isNaN()</code></td>
<td>判断传递的值是否为 <code>NaN</code>.</td>
</tr>
<tr>
<td><code>Number.isSafeInteger()</code></td>
<td>判断传递的值是否为安全整数。</td>
</tr>
</tbody></table>
<p>使用方法：  </p>
<ul>
<li>Number.parseFloat()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="number">3.1415</span>, a2 = <span class="string">&#x27;3.1114&#x27;</span>;</span><br><span class="line"><span class="built_in">Number</span>.parseFloat(a1);  <span class="comment">// 3.1415;</span></span><br><span class="line"><span class="built_in">Number</span>.parseFloat(a2);  <span class="comment">// 3.1111;</span></span><br><span class="line"><span class="built_in">parseFloat</span>(a1);         <span class="comment">// 3.1415;</span></span><br><span class="line"><span class="built_in">parseFloat</span>(a2);         <span class="comment">// 3.1111;</span></span><br><span class="line"><span class="built_in">Number</span>.parseFloat  == <span class="built_in">parseFloat</span>;<span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>Number.parseInt()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;0110&#x27;</span>;</span><br><span class="line"><span class="built_in">Number</span>.parseInt(a1, <span class="number">2</span>);     <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">Number</span>.parseInt(a1, <span class="number">10</span>);    <span class="comment">// 110</span></span><br><span class="line"><span class="built_in">Number</span>.parseInt = <span class="built_in">parseInt</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>Number.isFinite()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">Infinity</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">NaN</span>);       <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(-<span class="literal">Infinity</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="number">0</span>);         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="number">2e64</span>);      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">&#x27;0&#x27;</span>);       <span class="comment">// false, 全局函数 isFinite(&#x27;0&#x27;) 会返回 true</span></span><br></pre></td></tr></table></figure></li>
<li>Number.isInteger()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">0</span>);         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">1</span>);         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(-<span class="number">100000</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">0.1</span>);       <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="built_in">Math</span>.PI);   <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">Infinity</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(-<span class="literal">Infinity</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="string">&quot;10&quot;</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">true</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">false</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger([<span class="number">1</span>]);       <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
<li>Number.isNaN()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>);           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="built_in">Number</span>.NaN);    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">0</span> / <span class="number">0</span>)          <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 下面这几个如果使用全局的 isNaN() 时，会返回 true。</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;NaN&quot;</span>);         <span class="comment">// false，字符串 &quot;NaN&quot; 不会被隐式转换成数字 NaN。</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">undefined</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(&#123;&#125;);            <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;blabla&quot;</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 下面的都返回 false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">37</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;37&quot;</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;37.37&quot;</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot; &quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li>Number.isSafeInteger()    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">3</span>);                    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">53</span>))       <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">53</span>) - <span class="number">1</span>)   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="literal">NaN</span>);                  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="literal">Infinity</span>);             <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="string">&quot;3&quot;</span>);                  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">3.1</span>);                  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">3.0</span>);                  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>数字类型原型上的方法:   </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>案例</th>
</tr>
</thead>
<tbody><tr>
<td><code>toExponential()</code></td>
<td>返回一个数字的指数形式的字符串</td>
<td>1.23e+2</td>
</tr>
<tr>
<td><code>toFixed()</code></td>
<td>返回指定小数位数的表示形式</td>
<td>var a=123,b=a.toFixed(2)//b=”123.00”</td>
</tr>
<tr>
<td><code>toPrecision()</code></td>
<td>返回一个指定精度的数字。</td>
<td>a=123中，3会由于精度限制消失var a=123,b=a.toPrecision(2)//b=”1.2e+2”</td>
</tr>
</tbody></table>
<ul>
<li><code>toExponential()</code></li>
</ul>
<p>以<strong>指数表示法</strong>返回该数值<strong>字符串</strong>表示形式，可接收一个参数指定小数点后几位数字。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">99.6633</span>;</span><br><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;字符串：&#x27;</span> + a.toExponential(); <span class="comment">// &quot;字符串：9.96633e+1&quot;</span></span><br><span class="line"><span class="keyword">let</span> a2 = <span class="string">&#x27;字符串：&#x27;</span> + a.toExponential(<span class="number">2</span>);<span class="comment">// &quot;字符串：9.97e+1&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>toFixed()</code>   </li>
</ul>
<p>使用定点表示法来格式化一个数，可接收一个参数指定保留小数点后几位，取值为0-20之间。<br>注意： 返回的数据类型是字符串类型。       </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1.2345</span>;</span><br><span class="line">a.toFixed();   <span class="comment">// &quot;1&quot;</span></span><br><span class="line">a.toFixed(<span class="number">2</span>);  <span class="comment">// &quot;1.23&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>toPrecision()</code>   </li>
</ul>
<p>以<strong>指定的精度返</strong>回该数值对象的字符串表示，可接收一个参数，用来指定有效数个数的整数。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1.2345</span>;</span><br><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;字符串：&#x27;</span> + a.toPrecision(); <span class="comment">// &quot;字符串：1.2345&quot;</span></span><br><span class="line"><span class="keyword">let</span> a2 = <span class="string">&#x27;字符串：&#x27;</span> + a.toPrecision(<span class="number">1</span>);<span class="comment">// &quot;字符串：1&quot;</span></span><br><span class="line"><span class="keyword">let</span> a2 = <span class="string">&#x27;字符串：&#x27;</span> + a.toPrecision(<span class="number">2</span>);<span class="comment">// &quot;字符串：1.2&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="3-数学对象"><a href="#3-数学对象" class="headerlink" title="3.数学对象"></a>3.数学对象</h1><p>JS内置的数学对象<code>Math</code>，有很多属性和方法，这里需要注意的是<code>Math</code>对象中的三角函数参数都是<strong>弧度制</strong>的。   </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>abs()</code></td>
<td>绝对值</td>
</tr>
<tr>
<td><code>sin()</code>, <code>cos()</code>, <code>tan()</code></td>
<td>标准三角函数;参数为弧度</td>
</tr>
<tr>
<td><code>asin()</code>, <code>acos()</code>, <code>atan()</code>, <code>atan2()</code></td>
<td>反三角函数; 返回值为弧度</td>
</tr>
<tr>
<td><code>sinh()</code>, <code>cosh()</code>, <code>tanh()</code></td>
<td>双曲三角函数; 返回值为弧度.</td>
</tr>
<tr>
<td><code>asinh()</code>, <code>acosh()</code>, <code>atanh()</code></td>
<td>反双曲三角函数;返回值为弧度.</td>
</tr>
<tr>
<td><code>pow()</code>, <code>exp()</code>, <code>expm1()</code>, <code>log10()</code>, <code>log1p()</code>, <code>log2()</code></td>
<td>指数与对数函数</td>
</tr>
<tr>
<td><code>floor()</code>, <code>ceil()</code></td>
<td>返回最大/最小整数小于/大于或等于参数</td>
</tr>
<tr>
<td><code>min()</code>,<code> max()</code></td>
<td>返回一个以逗号间隔的数字参数列表中的较小或较大值(分别地)</td>
</tr>
<tr>
<td><code>random()</code></td>
<td>返回0和1之间的随机数。</td>
</tr>
<tr>
<td><code>round()</code>,<code>fround()</code>, <code>trunc()</code></td>
<td>四舍五入和截断函数</td>
</tr>
<tr>
<td><code>sqrt()</code>, <code>cbrt()</code>, <code>hypot()</code></td>
<td>平方根，立方根，平方参数的和的平方根</td>
</tr>
<tr>
<td><code>sign()</code></td>
<td>数字的符号, 说明数字是否为正、负、零。</td>
</tr>
<tr>
<td><code>clz32()</code>,<code>imul()</code></td>
<td>在32位2进制表示中，开头的0的数量.返回传入的两个参数相乘结果的类C的32位表现形式</td>
</tr>
</tbody></table>
<p>完整的描述和使用方法，建议查看 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math">MDN Math</a>   </p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Numbers_and_dates">1.MDN 数字和日期</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#x61;&#x6e;&#x38;&#x37;&#56;&#55;&#64;&#113;&#113;&#46;&#99;&#x6f;&#x6d;">&#x70;&#105;&#x6e;&#x67;&#x61;&#x6e;&#x38;&#x37;&#56;&#55;&#64;&#113;&#113;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/19/119-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%916-%E6%95%B0%E5%AD%97/" data-id="ckts3ejsi001b4d9k4xwq9wor" data-title="119-【JavaScript】【重温基础】6.数字" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-118-【JavaScript】【重温基础】5-表达式和运算符" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/17/118-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%915-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/" class="article-date">
  <time class="dt-published" datetime="2018-12-17T15:53:34.000Z" itemprop="datePublished">2018-12-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/17/118-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%915-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/">118-【JavaScript】【重温基础】5.表达式和运算符</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#103;&#x61;&#110;&#56;&#x37;&#x38;&#x37;&#64;&#113;&#x71;&#46;&#x63;&#x6f;&#109;">&#x70;&#x69;&#110;&#103;&#x61;&#110;&#56;&#x37;&#x38;&#x37;&#64;&#113;&#x71;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的表达式和运算符，用好这些可以大大提高开发效率。</strong>    </p>
<p>一些基础：JavaScript中运算符有一元、二元和三元（条件）运算符，常见写法：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 操作数 + 运算符 + 操作数</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运算符 + 操作数</span></span><br><span class="line">x ++;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作数 + 运算符</span></span><br><span class="line">++ x;</span><br></pre></td></tr></table></figure>


<p>本文将介绍一下几类运算符：   </p>
<ul>
<li>赋值运算符(Assignment operators)</li>
<li>比较运算符(Comparison operators)</li>
<li>算数运算符(Arithmetic operators)</li>
<li>位运算符(Bitwise operators)</li>
<li>逻辑运算符(Logical operators)</li>
<li>字符串运算符(String operators)</li>
<li>条件（三元）运算符(Conditional operator)</li>
<li>逗号运算符(Comma operator)</li>
<li>一元运算符(Unary operators)</li>
<li>关系运算符(Relational operator)</li>
</ul>
<h1 id="1-赋值运算符"><a href="#1-赋值运算符" class="headerlink" title="1.赋值运算符"></a>1.赋值运算符</h1><p>最简单的赋值运算符是 <code>=</code> ，它将右边操作数的值赋值给左边的操作数，如 <code>a = b</code>。<br>另外常见的复合赋值运算符有如下：   </p>
<table>
<thead>
<tr>
<th>名称</th>
<th>简写的操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>赋值</td>
<td><code>x = y</code></td>
<td><code>x = y</code></td>
</tr>
<tr>
<td>加法赋值</td>
<td><code>x += y</code></td>
<td><code>x = x + y</code></td>
</tr>
<tr>
<td>减法赋值</td>
<td><code>x -= y</code></td>
<td><code>x = x - y</code></td>
</tr>
<tr>
<td>乘法赋值</td>
<td><code>x *= y</code></td>
<td><code>x = x * y</code></td>
</tr>
<tr>
<td>除法赋值</td>
<td><code>x /= y</code></td>
<td><code>x = x / y</code></td>
</tr>
<tr>
<td>求余赋值</td>
<td><code>x %= y</code></td>
<td><code>x = x % y</code></td>
</tr>
<tr>
<td>求幂赋值</td>
<td><code>x **= y</code></td>
<td><code>x = x ** y</code></td>
</tr>
<tr>
<td>左移位赋值</td>
<td><code>x &lt;&lt;= y</code></td>
<td><code>x = x &lt;&lt; y</code></td>
</tr>
<tr>
<td>右移位赋值</td>
<td><code>x &gt;&gt;= y</code></td>
<td><code>x = x &gt;&gt; y</code></td>
</tr>
<tr>
<td>无符号右移位赋值</td>
<td><code>x &gt;&gt;&gt;= y</code></td>
<td><code>x = x &gt;&gt;&gt; y</code></td>
</tr>
<tr>
<td>按位与赋值</td>
<td><code>x &amp;= y</code></td>
<td><code>x = x &amp; y</code></td>
</tr>
<tr>
<td>按位异或赋值</td>
<td><code>x ^= y</code></td>
<td><code>x = x ^ y</code></td>
</tr>
<tr>
<td>按位或赋值</td>
<td>`x</td>
<td>= y`</td>
</tr>
</tbody></table>
<p>另外在ES6中，新增一类<strong>解构赋值</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用解构赋值</span></span><br><span class="line"><span class="keyword">let</span> a1 = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> a2 = a[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用解构赋值</span></span><br><span class="line"><span class="keyword">let</span> [a1, a2] = a;</span><br></pre></td></tr></table></figure>

<h1 id="2-比较运算符"><a href="#2-比较运算符" class="headerlink" title="2.比较运算符"></a>2.比较运算符</h1><p>通过比较两个比较对象来返回一个是否为真的布尔值，当两个比较的对象不是相同类型，JavaScript会尝试将两个比较对象转换成相同类型进行比较:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;12&#x27;</span>;</span><br><span class="line">a &gt; b; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>常用的比较运算符有：   </p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
<th align="center">返回true的示例</th>
</tr>
</thead>
<tbody><tr>
<td>等于 <code>==</code></td>
<td>操作符两边数据相等</td>
<td align="center"><code>3 == &#39;3&#39;</code></td>
</tr>
<tr>
<td>不等于 <code>!==</code></td>
<td>操作符两边数据不相等</td>
<td align="center"><code>3 != &#39;4&#39;</code></td>
</tr>
<tr>
<td>全等 <code>===</code></td>
<td>操作符两边数据相等且类型相同</td>
<td align="center"><code>3 === 3</code></td>
</tr>
<tr>
<td>不全等 <code>!==</code></td>
<td>操作符两边数据不相等或类型不相同</td>
<td align="center"><code>3 !== &#39;3&#39;</code></td>
</tr>
<tr>
<td>大于 <code>&gt;</code></td>
<td>判断操作符左边大于右边</td>
<td align="center"><code>3 &gt; 2</code></td>
</tr>
<tr>
<td>大于等于 <code>&gt;=</code></td>
<td>判断操作符左边大于或等于右边</td>
<td align="center"><code>3 &gt;= 2</code></td>
</tr>
<tr>
<td>小于 <code>&lt;</code></td>
<td>判断操作符左边小于右边</td>
<td align="center"><code>3 &lt; 4</code></td>
</tr>
<tr>
<td>小于等于 <code>&lt;=</code></td>
<td>判断操作符左边小于或等于右边</td>
<td align="center"><code>3 &lt;= 4</code></td>
</tr>
</tbody></table>
<p><strong>注意：</strong><br><code>=&gt;</code>不是运算符，而是ES6中新增的<strong>箭头函数</strong>的标记符号。   </p>
<h1 id="3-算数运算符"><a href="#3-算数运算符" class="headerlink" title="3.算数运算符"></a>3.算数运算符</h1><p>除了标准的加减乘除这些基本运算符，JavaScript还提供一些新的算数运算符：    </p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>求余 <code>%</code></td>
<td>返回相除之后的余数</td>
<td><code>11 % 5</code> 返回 1</td>
</tr>
<tr>
<td>自增 <code>++</code></td>
<td><code>++N</code>返回加一以后的值，<code>N++</code>返回原数值然后加一</td>
<td><code>++3</code>返回4，<code>3++</code>返回3</td>
</tr>
<tr>
<td>自减 <code>--</code></td>
<td><code>--N</code>返回减一以后的值，<code>N--</code>返回原数值然后减一</td>
<td><code>--3</code>返回2，<code>3--</code>返回3</td>
</tr>
<tr>
<td>一元负值符 <code>-</code></td>
<td>返回操作数的负数，若不是<code>Number</code>则试图转换为<code>Number</code>再取负值</td>
<td><code>-&#39;-2&#39;</code> 返回<code>2</code>；<code>-2</code>返回<code>2</code></td>
</tr>
<tr>
<td>一元正值符 <code>+</code></td>
<td>若操作数不是<code>Number</code>类型则试图转换为<code>Number</code></td>
<td><code>+&#39;-2&#39;</code> 返回<code>-2</code>；<code>+&#39;2&#39;</code>返回<code>2</code></td>
</tr>
<tr>
<td>指数运算符 <code>**</code></td>
<td>计算底数<code>a</code>的指数<code>n</code>次方</td>
<td><code>2 ** 3</code> 返回 8</td>
</tr>
</tbody></table>
<h1 id="4-位运算符"><a href="#4-位运算符" class="headerlink" title="4.位运算符"></a>4.位运算符</h1><p>位运算符是在数字底层（即表示数字的 32 个数位）进行操作的。<br><a target="_blank" rel="noopener" href="http://www.w3school.com.cn/js/pro_js_operators_bitwise.asp">复习数字32位数的表示</a>   </p>
<p><strong>由于 <code>|</code> 在markdown语法会被识别成表格的语法，所以这里用小写 <code>l</code> 代替</strong>。   </p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>按位与 <code>AND</code> <code>&amp;</code></td>
<td>在<code>a</code>和<code>b</code>的位表示中，每一个对应的位都为1则返回1，否则0</td>
<td><code>a &amp; b</code></td>
</tr>
<tr>
<td>按位或 <code>OR</code> <code>l</code></td>
<td>在<code>a</code>和<code>b</code>的位表示中，每一个对应的位，只要有一个为1则返回1，否则0</td>
<td><code>a l b</code></td>
</tr>
<tr>
<td>按位异或 <code>XOR</code> <code>^</code></td>
<td>在<code>a</code>和<code>b</code>的位表示中，每一个对应的位，两个不相同则返回1，否则0</td>
<td><code>a ^ b</code></td>
</tr>
<tr>
<td>按位非 <code>NOT</code> <code>~</code></td>
<td>反转被操作数的位</td>
<td><code>~a</code></td>
</tr>
<tr>
<td>左移 <code>shift</code> <code>&lt;&lt;</code></td>
<td>将<code>a</code>的二进制串向左移动<code>b</code>位,右边移入0</td>
<td><code>a &lt;&lt; b</code></td>
</tr>
<tr>
<td>算术右移 <code>&gt;&gt;</code></td>
<td>译注:算术右移左边空出的位是根据最高位是0和1来进行填充的</td>
<td><code>a &gt;&gt; b</code></td>
</tr>
<tr>
<td>无符号右移(左边空出位用0填充) <code>&gt;&gt;&gt;</code></td>
<td>把<code>a</code>的二进制表示向右移动<code>b</code>位，丢弃被移出的所有位，并把左边空出的位都填充为0</td>
<td><code>a &gt;&gt;&gt; b</code></td>
</tr>
</tbody></table>
<p>示例解释：<br>1的二进制表示为 <code>0 0 0 0 0 0 1</code><br>3的二进制表示为 <code>0 0 0 0 0 1 1</code>   </p>
<ul>
<li>1.按位与 <code>&amp;</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &amp; <span class="number">3</span> ; <span class="comment">// 1</span></span><br><span class="line"><span class="number">1</span> | <span class="number">3</span> ; <span class="comment">// 3</span></span><br><span class="line"><span class="number">1</span> ^ <span class="number">3</span> ; <span class="comment">// 2</span></span><br><span class="line">~<span class="number">1</span> ;    <span class="comment">// -2</span></span><br><span class="line"><span class="number">1</span>&gt;&gt;<span class="number">1</span>  ; <span class="comment">// 0</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h2><ul>
<li><p>1.16进制颜色值转RGB：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hexToRGB</span>(<span class="params">hex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> h = hex.replace(<span class="string">&#x27;#&#x27;</span>,<span class="string">&#x27;0x&#x27;</span>),</span><br><span class="line">        r = h &gt;&gt; <span class="number">16</span>,</span><br><span class="line">        g = h &gt;&gt; <span class="number">8</span> &amp; <span class="number">0xff</span>,</span><br><span class="line">        b = h &amp; <span class="number">0xff</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`rgb(<span class="subst">$&#123;r&#125;</span>,<span class="subst">$&#123;g&#125;</span>,<span class="subst">$&#123;b&#125;</span>)`</span></span><br><span class="line">&#125;</span><br><span class="line">hexToRGB(<span class="string">&#x27;#eeddff&#x27;</span>);           <span class="comment">// &quot;rgb(238,221,255)&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>2.RGB转16进制：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RGBToHex</span>(<span class="params">rgb</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> r = rgb.split(<span class="regexp">/[^\d]+/</span>),</span><br><span class="line">        c = r[<span class="number">1</span>]&lt;&lt;<span class="number">16</span> | r[<span class="number">2</span>]&lt;&lt;<span class="number">8</span> | r[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;c.toString(<span class="number">16</span>)&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line">RGBToHex(<span class="string">&#x27;rgb(238,221,255)&#x27;</span>); <span class="comment">// &quot;#eeddff&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="5-逻辑运算符"><a href="#5-逻辑运算符" class="headerlink" title="5.逻辑运算符"></a>5.逻辑运算符</h1><p>常用来处理布尔值，但是当处理非布尔值的时候，往往返回非布尔值：     </p>
<p><strong>由于 <code>|</code> 在markdown语法会被识别成表格的语法，所以这里用小写 <code>l</code> 代替</strong>。  </p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>逻辑与 <code>&amp;&amp;</code></td>
<td>若<code>a</code>和<code>b</code>都能转为<code>true</code>则返回<code>true</code></td>
<td><code>1+1==2 &amp;&amp; 1-1==0</code> 返回 <code>true</code></td>
</tr>
<tr>
<td>逻辑或 <code>ll</code></td>
<td>若<code>a</code>和<code>b</code>其中一个能转为<code>true</code>则返回<code>true</code>，若都是<code>false</code>则返回<code>false</code></td>
<td><code>1+1==3 ll 1-1==0</code> 返回 <code>true</code></td>
</tr>
<tr>
<td>逻辑非 <code>!</code></td>
<td>若<code>a</code>能转为<code>true</code>则返回<code>false</code></td>
<td><code>!1+1==2</code> 返回 <code>false</code></td>
</tr>
</tbody></table>
<p><strong>注意</strong>： 能被转成<code>false</code>的值有<code>null</code>，<code>0</code>，<code>NaN</code>，空字符串<code>&quot;&quot;</code>和<code>undefined</code>。<br>几个示例：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="literal">true</span> &amp;&amp; <span class="literal">true</span>;    <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> a2 = <span class="literal">true</span> &amp;&amp; <span class="literal">false</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> a3 = <span class="literal">false</span> &amp;&amp; <span class="literal">true</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> a4 = <span class="literal">false</span> &amp;&amp; <span class="literal">false</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> a5 = <span class="literal">false</span> &amp;&amp; <span class="string">&quot;leo&quot;</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> a6 = <span class="literal">true</span> &amp;&amp; <span class="string">&quot;leo&quot;</span>;   <span class="comment">// &quot;leo&quot;</span></span><br><span class="line"><span class="keyword">let</span> a7 = <span class="string">&quot;leo&quot;</span> &amp;&amp; <span class="string">&quot;robin&quot;</span>;<span class="comment">// &quot;robin&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b1 = <span class="literal">true</span> || <span class="literal">true</span>;    <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> b2 = <span class="literal">true</span> || <span class="literal">false</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> b3 = <span class="literal">false</span> || <span class="literal">true</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> b4 = <span class="literal">false</span> || <span class="literal">false</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> b5 = <span class="literal">false</span> || <span class="string">&quot;leo&quot;</span>;  <span class="comment">// &quot;leo&quot;</span></span><br><span class="line"><span class="keyword">let</span> b6 = <span class="literal">true</span> || <span class="string">&quot;leo&quot;</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> b7 = <span class="string">&quot;leo&quot;</span> || <span class="string">&quot;robin&quot;</span>;<span class="comment">// &quot;leo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c1 = !<span class="literal">true</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> c2 = !<span class="literal">false</span>; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> c3 = !<span class="string">&quot;leo&quot;</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>常常还使用<strong>短路求值</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">false</span> &amp;&amp; anything ; <span class="comment">// 被短路求值为false</span></span><br><span class="line"><span class="literal">true</span> || anything ;  <span class="comment">// 被短路求值为true</span></span><br></pre></td></tr></table></figure>

<h1 id="6-字符串运算符"><a href="#6-字符串运算符" class="headerlink" title="6.字符串运算符"></a>6.字符串运算符</h1><p>在拼接字符串中，由 <code>+</code> 来连接两个字符串：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;leo &#x27;</span> + <span class="string">&#x27;cute~&#x27;</span>; <span class="comment">// &#x27;leo cute~&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;ha&#x27;</span>;</span><br><span class="line">a += b; <span class="comment">// &quot;leo cute~ha&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="7-条件（三元）运算符"><a href="#7-条件（三元）运算符" class="headerlink" title="7.条件（三元）运算符"></a>7.条件（三元）运算符</h1><p>可以使用三个操作数的运算符，运算结果为根据给定条件在两个值中取一个：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当条件为真 则取 值1 ，否则取 值2</span></span><br><span class="line"><span class="comment">// 条件 ? 值1 : 值2</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> b = a &gt; <span class="number">5</span> ? <span class="string">&#x27;yes&#x27;</span> : <span class="string">&#x27;no&#x27;</span>; <span class="comment">// &#x27;yes&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="8-逗号运算符"><a href="#8-逗号运算符" class="headerlink" title="8.逗号运算符"></a>8.逗号运算符</h1><p>对两个操作数求值并且返回最终操作数的值，通常用于<code>for</code>循环中，在每次循环时对多个变量进行更新：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>,j = <span class="number">5</span>; i&lt;=j; i++, j--)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`i:<span class="subst">$&#123;i&#125;</span>,j:<span class="subst">$&#123;j&#125;</span>,i值:<span class="subst">$&#123;a1[i]&#125;</span>,j值:<span class="subst">$&#123;a1[j]&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// i:0,j:5,i值:1,j值:6</span></span><br><span class="line"><span class="comment">// i:1,j:4,i值:2,j值:6</span></span><br><span class="line"><span class="comment">// i:2,j:3,i值:3,j值:9</span></span><br></pre></td></tr></table></figure>

<h1 id="9-一元运算符"><a href="#9-一元运算符" class="headerlink" title="9.一元运算符"></a>9.一元运算符</h1><p>一元操作符仅对应一个操作数。   </p>
<h2 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h2><p>删除一个对象或一个对象的属性或者一个数组中某一个键值，返回一个布尔值，删除成功返回<code>true</code>，否则返回<code>false</code>:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,<span class="attr">age</span> : <span class="string">&#x27;15&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">delete</span> a.name;  <span class="comment">// true</span></span><br><span class="line">a;              <span class="comment">// &#123;age: &quot;15&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">delete</span> b[<span class="number">0</span>];    <span class="comment">// true</span></span><br><span class="line">b;              <span class="comment">// [empty, 3, 5]</span></span><br><span class="line">b[<span class="number">0</span>];           <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<h2 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h2><p>返回一个参数的类型的字符串值，参数可以输字符串，变量，关键词或者对象:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Function</span>(); <span class="comment">// &quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;leo&quot;</span> ;         <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">11</span> ;            <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> ;     <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> ;          <span class="comment">// &quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> ;          <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>
<p>参数也可以是表达式，<code>typeof</code>会根据其返回结果返回所包含的类型：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> (<span class="number">1</span>+<span class="number">1</span>) ;         <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> (<span class="number">1</span>+<span class="number">1</span>==<span class="number">2</span> ? <span class="string">&#x27;yes&#x27;</span> : <span class="string">&#x27;no&#x27;</span>) ;   <span class="comment">// &quot;string&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="void"><a href="#void" class="headerlink" title="void"></a>void</h2><p>表示一个运算没有返回值，常常用在创建一个超链接文本，但是点击的时候没有任何效果：   </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(document.form.submit())&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"># 10.关系运算符</span><br><span class="line">比较两个操作数：   </span><br><span class="line">## in</span><br><span class="line">判断指定属性是否在指定对象中，若是则返回`true`：   </span><br><span class="line">```js</span><br><span class="line">// 对象</span><br><span class="line">let a = &#123;name:&#x27;leo&#x27;,age:&#x27;15&#x27;&#125;;</span><br><span class="line">&#x27;name&#x27; in a;  // true</span><br><span class="line"></span><br><span class="line">// 数组</span><br><span class="line">let b = [&#x27;leo&#x27;, &#x27;pingan&#x27;, &#x27;robin&#x27;];</span><br><span class="line">0 in b;       // true</span><br><span class="line">&#x27;length&#x27; in b;// true</span><br></pre></td></tr></table></figure>

<h2 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h2><p>判断一个对象是否是指定类型，若是则返回<code>true</code>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">d <span class="keyword">instanceof</span> <span class="built_in">Date</span>;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="11-运算符优先级"><a href="#11-运算符优先级" class="headerlink" title="11.运算符优先级"></a>11.运算符优先级</h1><p>当我们需要调整表达式计算顺序，就需要用到运算符的优先级，通过括号来实现排序，常见优先级从高到低：    </p>
<p><strong>由于 <code>|</code> 在markdown语法会被识别成表格的语法，所以这里用小写 <code>l</code> 代替</strong>。  </p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>. [] ()</code></td>
<td>字段访问、数组下标、函数调用以及表达式分组</td>
</tr>
<tr>
<td><code>++ -- - ~ ! delete new typeof void</code></td>
<td>一元运算符、返回数据类型、对象创建、未定义值</td>
</tr>
<tr>
<td><code>* / %</code></td>
<td>乘法、除法、取模</td>
</tr>
<tr>
<td><code>+ - +</code></td>
<td>加法、减法、字符串连接</td>
</tr>
<tr>
<td><code>&lt;&lt; &gt;&gt; &gt;&gt;&gt;</code></td>
<td>移位</td>
</tr>
<tr>
<td><code>&lt; &lt;= &gt; &gt;= instanceof</code></td>
<td>小于、小于等于、大于、大于等于、instanceof</td>
</tr>
<tr>
<td><code>== != === !==</code></td>
<td>等于、不等于、严格相等、非严格相等</td>
</tr>
<tr>
<td><code>&amp;</code></td>
<td>按位与</td>
</tr>
<tr>
<td><code>^</code></td>
<td>按位异或</td>
</tr>
<tr>
<td><code>l</code></td>
<td>按位或</td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与</td>
</tr>
<tr>
<td><code>ll</code></td>
<td>逻辑或</td>
</tr>
<tr>
<td><code>?:</code></td>
<td>条件</td>
</tr>
<tr>
<td><code>= oP=</code></td>
<td>赋值、运算赋值</td>
</tr>
<tr>
<td><code>,</code></td>
<td>多重求值</td>
</tr>
</tbody></table>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators">1.MDN 表达式和运算符</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#x6e;&#x67;&#97;&#110;&#x38;&#x37;&#56;&#55;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;">&#112;&#105;&#x6e;&#x67;&#97;&#110;&#x38;&#x37;&#56;&#55;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/17/118-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%915-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/" data-id="ckts3ejsf00184d9k205phcks" data-title="118-【JavaScript】【重温基础】5.表达式和运算符" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/10/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/12/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSS动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTP协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">中间件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">人工智能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">全栈开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">前端探索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">前端知乎系列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">常用技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">微前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">源码精读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">热门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">生活杂记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">网络请求</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSS动画</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTP协议</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">中间件</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">人工智能</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">全栈开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">前端开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">前端探索</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">前端知乎系列</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">原创</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">常用技术</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">微前端</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">总结</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">机器学习</a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">构建工具</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">正则表达式</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">源码</a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">源码精读</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">热门</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">生活杂记</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">算法</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">编译原理</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">网络请求</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">读书笔记</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">重温基础</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">面试题</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-【总结】如何优雅的在微信小程序使用SVG字体图标</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-【HTTP】如何优雅的管理HTTP请求和响应拦截器？</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-【Vue】从手写Vue3的Reactivity开始深入Vue3源码</a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-【Chrome】5个Chrome调试混合应用的技巧</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-【前端探索】探索Snabbdom模块系统原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>