<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/23/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-8-【Python】NumPy基础之100道练习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/23/8-%E3%80%90Python%E3%80%91NumPy%E5%9F%BA%E7%A1%80%E4%B9%8B100%E9%81%93%E7%BB%83%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2017-12-23T03:19:18.000Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/23/8-%E3%80%90Python%E3%80%91NumPy%E5%9F%BA%E7%A1%80%E4%B9%8B100%E9%81%93%E7%BB%83%E4%B9%A0/">8-【Python】NumPy基础之100道练习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、初学与入门"><a href="#一、初学与入门" class="headerlink" title="一、初学与入门"></a>一、初学与入门</h2><h3 id="1、初学者10题"><a href="#1、初学者10题" class="headerlink" title="1、初学者10题"></a>1、初学者10题</h3><p>1-在python环境中导入numpy包，并命名为np</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br></pre></td></tr></table></figure>

<p>2-查看numpy版本和配置信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.__version__</span><br></pre></td></tr></table></figure>

<p>3-创建零向量，zeros函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a1 = np.zeros((2,3)) </span><br><span class="line">## array([[ 0.,  0.,  0.],</span><br><span class="line">##        [ 0.,  0.,  0.]])</span><br></pre></td></tr></table></figure>

<p>4-将上面的零向量的第二行第三列元素置为1。注意python中行列都是从0开始。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a1[1,2] = 1</span><br><span class="line">## array([[ 0.,  0.,  0.],</span><br><span class="line">##        [ 0.,  0.,  1.]])</span><br></pre></td></tr></table></figure>

<p>5-arange函数，创建一个在给定范围的向量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a2 = np.arange(1,101)  # 1-100范围不包含101</span><br></pre></td></tr></table></figure>

<p>6-reshape函数，将array变形为矩阵</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a3 = np.arange(9).reshape(3,3)  </span><br><span class="line">## array([[0, 1, 2],</span><br><span class="line">##        [3, 4, 5],</span><br><span class="line">##        [6, 7, 8]])</span><br></pre></td></tr></table></figure>

<p>7-nonzero函数，寻找非0元素的下标</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a4 = np.nonzero([1,2,3,0,0,4,0])  # (array([0, 1, 2, 5], dtype=int64),)</span><br></pre></td></tr></table></figure>

<p>8-eye函数，生成单位向量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a5 = np.eye(3)</span><br><span class="line">## array([[ 1.,  0.,  0.],</span><br><span class="line">##        [ 0.,  1.,  0.],</span><br><span class="line">##        [ 0.,  0.,  1.]])</span><br></pre></td></tr></table></figure>

<p>9-diag函数，diagonal对角线</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a6 = np.diag([1,2,3,4],k=0)       # k=0，以[1,2,3,4]为对角线</span><br><span class="line">## array([[1, 0, 0, 0],</span><br><span class="line">##        [0, 2, 0, 0],</span><br><span class="line">##        [0, 0, 3, 0],</span><br><span class="line">##        [0, 0, 0, 4]])</span><br><span class="line">a7 = np.diag([1,2,3,4],k=1)       # k=1，以[1,2,3,4]为对角线</span><br><span class="line">## array([[0, 1, 0, 0, 0],</span><br><span class="line">##        [0, 0, 2, 0, 0],</span><br><span class="line">##        [0, 0, 0, 3, 0],</span><br><span class="line">##        [0, 0, 0, 0, 4],</span><br><span class="line">##        [0, 0, 0, 0, 0]])</span><br><span class="line"></span><br><span class="line">a8 = np.diag([1,2,3,4],k=-1)       # k=-1，以[1,2,3,4]为对角线</span><br><span class="line">## array([[0, 0, 0, 0, 0],</span><br><span class="line">##        [1, 0, 0, 0, 0],</span><br><span class="line">##        [0, 2, 0, 0, 0],</span><br><span class="line">##        [0, 0, 3, 0, 0],</span><br><span class="line">##        [0, 0, 0, 4, 0]])</span><br></pre></td></tr></table></figure>

<p>10-random模块的random函数，生成随机数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a9 = np.random.random((3,3))  </span><br><span class="line">## array([[ 0.37607512,  0.62883501,  0.65996391],</span><br><span class="line">##        [ 0.78327199,  0.65893716,  0.70154238],</span><br><span class="line">##        [ 0.0489404 ,  0.53343568,  0.59334416]])</span><br></pre></td></tr></table></figure>

<h3 id="2、入门级10题"><a href="#2、入门级10题" class="headerlink" title="2、入门级10题"></a>2、入门级10题</h3><p>1-创建一个8*8的“棋盘”矩阵<br>r1 = np.zeros((8,8),dtype=int)<br>r1[1::2,::2] = 1  #1,3,5,7行 2,4,6列的元素设置为1<br>r1[::2,1::2] = 1  </p>
<p>2-min()和max()函数<br>import numpy as np<br>a2 = np.random.random((10,10))<br>a2max,a2min = a2.max(),a2.min()</p>
<p>更新中….</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/23/8-%E3%80%90Python%E3%80%91NumPy%E5%9F%BA%E7%A1%80%E4%B9%8B100%E9%81%93%E7%BB%83%E4%B9%A0/" data-id="ckts3ejvz00ai4d9kb3855s0v" data-title="8-【Python】NumPy基础之100道练习" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-7-【Python】廖雪峰课程笔记（三）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/7-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:57:18.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/7-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/">7-【Python】廖雪峰课程笔记（三）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="廖雪峰课程-Python笔记（三）"><a href="#廖雪峰课程-Python笔记（三）" class="headerlink" title="廖雪峰课程 Python笔记（三）"></a>廖雪峰课程 Python笔记（三）</h2><h3 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h3><blockquote>
<p>摘抄 廖雪峰 Python课程：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000">点击打开</a></p>
</blockquote>
<h3 id="二、模块介绍"><a href="#二、模块介绍" class="headerlink" title="二、模块介绍"></a>二、模块介绍</h3><p>在Python中，一个.py文件就称之为一个模块（Module）。使用模块将函数进行分组，更便于维护代码。并且编写代码不必从头开始，一个模块可以到处引用，节省开发时间。<br>并且相同函数或变量名称在不同模块内部互不影响，但不能与内置模块名称冲突。<br>Python内置模块：<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html">点击查看</a>  </p>
<h6 id="模块命名："><a href="#模块命名：" class="headerlink" title="模块命名："></a>模块命名：</h6><p>文件名称就是模块名称，如 <code>abc.py</code> 文件模块名就是 <code>abc</code><br>注意：  </p>
<blockquote>
<p>  模块名要遵循Python变量命名规范，不要使用中文、特殊字符；<br>  模块名不要和系统模块名冲突，最好先查看系统是否已存在该模块，检查方法是在Python交互环境执行import abc，若成功则说明系统存在此模块。</p>
</blockquote>
<h4 id="1、使用模块"><a href="#1、使用模块" class="headerlink" title="1、使用模块"></a>1、使用模块</h4><p>以内置 <code>sys</code> 模块为例，摘抄 <code>廖雪峰</code> 老师的案例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3                    # 标准注释 让这个hello.py文件直接在Unix/Linux/Mac上运行</span><br><span class="line"># -*- coding: utf-8 -*-                   # 标准注释 表示.py文件本身使用标准UTF-8编码</span><br><span class="line"></span><br><span class="line">&quot; a test module &quot;                         # 一个字符串，表示模块的文档注释，任何模块代码的第一个字符串都被视为模块的文档注释；</span><br><span class="line"></span><br><span class="line">__author__ = &quot;Michael Liao&quot;               # __author__变量把作者写进去，公开源代码后别人可知作者；</span><br><span class="line"></span><br><span class="line">## 👆以上就是Python模块的标准文件模板，可以不写。</span><br><span class="line"></span><br><span class="line">import sys                                # 导入模块</span><br><span class="line">def test():</span><br><span class="line">    args = sys.argv                       # sys模块内的argv变量，用list存储了命令行的所有参数。</span><br><span class="line">    if len(args)==1:</span><br><span class="line">        print(&quot;Hello, world!&quot;)</span><br><span class="line">    elif len(args)==2:</span><br><span class="line">        print(&quot;Hello, %s!&quot; % args[1])</span><br><span class="line">    else:</span><br><span class="line">        print(&quot;Too many arguments!&quot;)</span><br><span class="line"></span><br><span class="line">if __name__==&quot;__main__&quot;: </span><br><span class="line">    test()</span><br><span class="line"># 用于做运行测试，原理：运行模块后，Python解释器把一个特殊变量__name__置为__main__</span><br><span class="line"># 而如果在其他地方导入该hello模块时，if判断将失败，后面代码不执行，即可作为运行测试。</span><br></pre></td></tr></table></figure>
<p>注意：<br>argv至少有一个元素，因为第一个参数永远是该.py文件的名称：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; python3 hello.py</span><br><span class="line">&gt;&gt;&gt; sys.argv           # [&quot;hello.py&quot;]</span><br><span class="line">&gt;&gt;&gt; python3 hello.py Michael</span><br><span class="line">&gt;&gt;&gt; sys.argv           # [&quot;hello.py&quot;, &quot;Michael]</span><br></pre></td></tr></table></figure>

<h4 id="2、作用域"><a href="#2、作用域" class="headerlink" title="2、作用域"></a>2、作用域</h4><p>希望函数和变量仅在内部使用，可通过 <code>_</code> 前缀来实现。<br>正常的函数和变量名是公开的（public），可以直接被引用，比如：<code>abc</code>、<code>x123</code>、<code>PI</code>等。<br>特殊变量名如 <code>__xxx__</code> 可以直接引用但是有其他用途，比如之前的 <code>__author__</code> ，<code>__name__</code>就是特殊变量，一般我们直接写不要用这种。<br>非公开的（private）函数和变量名，如 <code>_xx</code> 和 <code>__xx</code> ，不能直接引用。  </p>
<h6 id="外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。"><a href="#外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。" class="headerlink" title="外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。"></a>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。</h6><h4 id="3、安装第三方模块"><a href="#3、安装第三方模块" class="headerlink" title="3、安装第三方模块"></a>3、安装第三方模块</h4><p>python需要通过包管理工具 <code>pip</code> 来安装第三方模块。<br>pip安装教程：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014316090478912dab2a3a9e8f4ed49d28854b292f85bb000">点击打开</a><br>Windows安装要记得在安装时勾选了 <code>pip</code> 和 <code>Add python.exe to Path</code>。  </p>
<p>安装完成，通过下面命令安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install packageName</span><br></pre></td></tr></table></figure>

<h4 id="4、安装常用模块"><a href="#4、安装常用模块" class="headerlink" title="4、安装常用模块"></a>4、安装常用模块</h4><p>可以通过命令行安装。<br>也可以使用 <code>Anaconda</code> 安装。</p>
<h4 id="5、模块搜索路径"><a href="#5、模块搜索路径" class="headerlink" title="5、模块搜索路径"></a>5、模块搜索路径</h4><p>默认情况下，Python解释器会搜索 <code>当前目录</code> 、<code>所有已安装的内置模块</code> 和 <code>第三方模块</code> ，搜索路径存放在 <code>sys模块</code> 的 <code>path变量</code> 中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.path</span><br><span class="line">[&quot;&quot;, &quot;/Library/Frameworks/Python.framework/Versions/3.6/lib/python36.zip&quot;, &quot;/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6&quot;, ..., &quot;/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages&quot;]</span><br></pre></td></tr></table></figure>
<p>如果我们要添加自己的搜索目录，有两种方法：<br>一是直接修改 <code>sys.path</code> ，添加要搜索的目录：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.path.append(&quot;/Users/michael/my_py_scripts&quot;)</span><br></pre></td></tr></table></figure>
<p>这种方法是在运行时修改，运行结束后失效。  </p>
<p>第二种方法是设置环境变量 <code>PYTHONPATH</code> ，该环境变量的内容会被自动添加到模块搜索路径中。<br>设置方式与设置 <code>Path环境变量</code> 类似。注意只需要添加你自己的搜索路径，Python自己本身的搜索路径不受影响。  </p>
<h4 id="3、常用内建模块"><a href="#3、常用内建模块" class="headerlink" title="3、常用内建模块"></a>3、常用内建模块</h4><p>python内置了许多非常有用的模块，无需额外安装和配置，即可直接使用。  </p>
<h5 id="a-、datetime"><a href="#a-、datetime" class="headerlink" title="a)、datetime"></a>a)、datetime</h5><p>datetime是python处理日期和时间的标准库。  </p>
<h6 id="获取当前日期和时间"><a href="#获取当前日期和时间" class="headerlink" title="获取当前日期和时间"></a>获取当前日期和时间</h6><p>由于 <code>datetime</code> 模块还包含一个 <code>datetime类</code> ，所以导入有2种方法。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 方法1：</span><br><span class="line">from datetime import datetime</span><br><span class="line"># 方法2：</span><br><span class="line">impot datetime.datetime</span><br><span class="line"></span><br><span class="line">now = datetime.now()</span><br><span class="line">print(now)         # 2017-12-04 22:29:25.865744</span><br><span class="line">print(type(now))   # &lt;class &quot;datetime.datetime&quot;&gt;</span><br></pre></td></tr></table></figure>
<p><code>datetime.now()</code> 返回当前日期和时间，其类型是 <code>datetime</code>。</p>
<h6 id="获取指定日期和时间"><a href="#获取指定日期和时间" class="headerlink" title="获取指定日期和时间"></a>获取指定日期和时间</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">dt = datetime(2017,12,4,12,20)  # 用指定日期时间创建datetime</span><br><span class="line">print(dt)                       # 2017-12-04 12:20:00</span><br></pre></td></tr></table></figure>

<h6 id="datetime转换为timestamp"><a href="#datetime转换为timestamp" class="headerlink" title="datetime转换为timestamp"></a>datetime转换为timestamp</h6><p>在计算机中，时间实际上是用 <code>数字表示</code> 的。我们把 <code>1970年1月1日 00:00:00 UTC+00:00时区</code> 的时刻称为 <code>epoch time</code> ，记为0（1970年以前的时间 <code>timestamp</code> 为负数），当前时间就是相对于 <code>epoch time</code> 的秒数，称为 <code>timestamp</code> 。即：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">timestamp = 0 = 1970-1-1 00:00:00 UTC+0:00</span><br><span class="line"># 对应的北京时间是（时差8小时）：</span><br><span class="line">timestamp = 0 = 1970-1-1 08:00:00 UTC+8:00</span><br></pre></td></tr></table></figure>
<p>可见 <code>timestamp</code> 的值与时区毫无关系，因为 <code>timestamp</code> 一旦确定，其UTC时间就确定了，转换到任意时区的时间也是完全确定的，这就是为什么计算机存储的当前时间是以 <code>timestamp</code> 表示的，因为全球各地的计算机在任意时刻的 <code>timestamp</code> 都是完全相同的（假定时间已校准）。<br>把一个 <code>datetime类型</code> 转换为 <code>timestamp</code> 只需要简单调用 <code>timestamp()</code> 方法：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">dt = datetime(2017,12,04,12,20)  # 用指定日期时间创建datetime</span><br><span class="line">dt.timestamp()                   # 把datetime转换成timestamp</span><br></pre></td></tr></table></figure>
<p>另外：如果转换结果小数位，即小数位表示毫秒数。  </p>
<h6 id="timestamp转换为datetime"><a href="#timestamp转换为datetime" class="headerlink" title="timestamp转换为datetime"></a>timestamp转换为datetime</h6><p>使用 <code>datetime</code> 提供的 <code>fromtimestamp()</code> 方法即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">t = 1429417200.0</span><br><span class="line">print(datetime.fromtimestamp(t))  # 2015-04-19 12:20:00</span><br></pre></td></tr></table></figure>
<p><code>timestamp</code> 也可以直接被转到UTC标准市区的时间。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">t = 1429417200.0</span><br><span class="line">print(datetime.fromtimestamp(t))   # 本地时间： 2015-04-19 12:20:00</span><br><span class="line">print(datetime.utcfromtimestamp(t))# UTC时间： 2015-04-19 04:20:00</span><br></pre></td></tr></table></figure>

<h6 id="str转换为datetime"><a href="#str转换为datetime" class="headerlink" title="str转换为datetime"></a>str转换为datetime</h6><p>通过 <code>datetime.strptime()</code> 实现。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">cday = datetime.strptime(&quot;2017-12-04 22:51:59&quot;,&quot;%Y-%m-%d %H:%M:%S&quot;)</span><br><span class="line">print(cday)                        # 2017-12-04 22:51:59</span><br></pre></td></tr></table></figure>
<p>关于时间格式 <code>%Y-%m-%d %H:%M:%S</code> ，可以查看官方介绍：<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior">点击打开</a>  </p>
<h6 id="datetime转换为str"><a href="#datetime转换为str" class="headerlink" title="datetime转换为str"></a>datetime转换为str</h6><p>通过 <code>strftime()</code> 实现。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">now = datetime.now()</span><br><span class="line">print(now.strftime(&quot;%a,%b,%d %H:%M&quot;))# Mon,Dec,04 22:55</span><br></pre></td></tr></table></figure>

<h6 id="datetime加减"><a href="#datetime加减" class="headerlink" title="datetime加减"></a>datetime加减</h6><p>对日期和时间进行加减实际上就是把datetime往后或往前计算，得到新的datetime。<br>加减可以直接用 <code>+</code> 和 <code>-</code> 运算符，不过需要导入 <code>timedelta</code> 这个类:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime,timedelta</span><br><span class="line">now = datetime.now()</span><br><span class="line">print(now)                                   # 2017-12-04 23:01:31.882059</span><br><span class="line">print(now + timedelta(hours = 10))           # 2017-12-05 09:01:31.882059</span><br><span class="line">print(now - timedelta(days = 1))             # 2017-12-03 23:01:31.882059</span><br><span class="line">print(now + timedelta(days = 2,hours = 12))  # 2017-12-07 11:01:31.882059</span><br></pre></td></tr></table></figure>

<h6 id="本地时间转换为UTC时间"><a href="#本地时间转换为UTC时间" class="headerlink" title="本地时间转换为UTC时间"></a>本地时间转换为UTC时间</h6><p>本地时间是指系统设定时区的时间，例如北京时间是 <code>UTC+8:00时区</code> 的时间，而UTC时间指 <code>UTC+0:00时区</code> 的时间。<br>一个 <code>datetime类型</code> 有一个时区属性 <code>tzinfo</code> ，但是默认为 <code>None</code> ，所以无法区分这个 <code>datetime</code> 到底是哪个时区，除非强行给 <code>datetime</code> 设置一个时区：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime, timedelta, timezone</span><br><span class="line">tz_utc_8 = timezone(timedelta(hours=8))  # 创建时区UTC+8:00</span><br><span class="line">now = datetime.now()</span><br><span class="line">print(now)                               # 2017-12-04 23:05:03.537432</span><br><span class="line">dt = now.replace(tzinfo=tz_utc_8)        # 强制设置为UTC+8:00</span><br><span class="line">print(dt)</span><br></pre></td></tr></table></figure>

<h6 id="时区转换"><a href="#时区转换" class="headerlink" title="时区转换"></a>时区转换</h6><p>通过 <code>utcnow()</code> 拿到当前的UTC时间，再转换成任意时区的时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime, timedelta, timezone</span><br><span class="line">utc_dt = datetime.utcnow().replace(tzinfo=timezone.utc)</span><br><span class="line">print(utc_dt)                     # 2017-12-04 15:10:49.949725+00:00</span><br><span class="line"># astimezone()将转换时区为北京时间:</span><br><span class="line">bj_dt = utc_dt.astimezone(timezone(timedelta(hours=8)))</span><br><span class="line">print(bj_dt)                      # 2017-12-04 23:11:36.684443+08:00</span><br><span class="line"># astimezone()将转换时区为东京时间:</span><br><span class="line">tokyo_dt = utc_dt.astimezone(timezone(timedelta(hours=9)))</span><br><span class="line">print(tokyo_dt)                   # 2017-12-05 00:12:35.397543+09:00</span><br><span class="line"># astimezone()将bj_dt转换时区为东京时间:</span><br><span class="line">tokyo_dt2 = bj_dt.astimezone(timezone(timedelta(hours=9)))</span><br><span class="line">print(tokyo_dt2)                  # 2017-12-05 00:12:35.397543+09:00 </span><br></pre></td></tr></table></figure>
<p>时区转换的关键在于，拿到一个 <code>datetime</code> 时，要获知其正确的时区，然后强制设置时区，作为基准时间。<br>利用带时区的 <code>datetime</code>，通过 <code>astimezone()</code> 方法，可以转换到任意时区。  </p>
<blockquote>
<p>注：不是必须从UTC+0:00时区转换到其他时区，任何带时区的datetime都可以正确转换，例如上述bj_dt到tokyo_dt的转换。</p>
</blockquote>
<h6 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h6><p><code>datetime</code> 表示的时间需要时区信息才能确定一个特定的时间，否则只能视为 <code>本地时间</code>。<br>如果要存储 <code>datetime</code> ，最佳方法是将其转换为 <code>timestamp</code> 再存储，因为 <code>timestamp</code> 的值与时区完全无关。</p>
<h5 id="b-、collections模块"><a href="#b-、collections模块" class="headerlink" title="b)、collections模块"></a>b)、collections模块</h5><p>collections是Python内建的一个集合模块，提供了许多有用的集合类。</p>
<h6 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple"></a>namedtuple</h6><p>如用 <code>tuple</code> 表示一个二维坐标：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p = (1,2)</span><br></pre></td></tr></table></figure>
<p>这个 <code>tuple</code> 很难看出是个坐标，即可以使用 <code>namedtulpe</code> 表示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import namedtuple</span><br><span class="line">Point = namedtuple(&quot;Point&quot;,[&quot;x&quot;,&quot;y&quot;])</span><br><span class="line">p = Point(1,2)</span><br><span class="line">print(p.x)        # 1</span><br><span class="line">print(p.y)        # 2</span><br></pre></td></tr></table></figure>
<p>其格式如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namedtuple(&quot;名称&quot;, [属性list]):</span><br></pre></td></tr></table></figure>
<p><code>namedtuple</code> 是一个函数，创建一个自定义 <code>tuple</code> 对象，并规定 <code>tuple</code> 元素个数，我们可以用属性而不是索引来引用 <code>tuple</code> 的某个元素。<br>可以验证创建的 <code>Point对象</code> 是 <code>tuple</code> 的一种子类：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(isinstance(p,Point))  # True</span><br><span class="line">print(isinstance(p,tuple))  # True</span><br></pre></td></tr></table></figure>
<p>然后创建一个圆：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Circle = nametuple(&quot;Circle&quot;,[&quot;x&quot;,&quot;y&quot;,&quot;r&quot;])</span><br></pre></td></tr></table></figure>

<h6 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h6><p>使用 <code>list</code> 存储数据时，按索引访问元素很快，但是插入和删除元素就很慢了，因为 <code>list</code> 是线性存储，数据量大的时候，插入和删除 <code>效率很低</code> 。<br><code>deque</code> 是为了高效实现插入和删除操作的双向列表，适合用于 <code>队列和栈</code> ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import deque</span><br><span class="line">q = deque([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])</span><br><span class="line">q.append(&quot;x&quot;)                 # 从后面入栈</span><br><span class="line">q.appendleft(&quot;y&quot;)             # 从前面入栈</span><br><span class="line">print(q)                      # deque([&quot;y&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;x&quot;])</span><br></pre></td></tr></table></figure>

<h6 id="defaultdict"><a href="#defaultdict" class="headerlink" title="defaultdict"></a>defaultdict</h6><p>使用 <code>dict</code> 时，如果引用的 <code>Key</code> 不存在，就会抛出 <code>KeyError</code> 。如果希望 <code>key</code> 不存在时，返回一个 <code>默认值</code> ，就可以用 <code>defaultdict</code> ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import defaultdict</span><br><span class="line">dd = defaultdict(lambda:&quot;N/A&quot;)</span><br><span class="line">dd[&quot;key1&quot;] = [&quot;abc&quot;]</span><br><span class="line">print(dd[&quot;key1&quot;])             # &quot;abc&quot;</span><br><span class="line">print(dd[&quot;key2&quot;])             # &quot;N/A&quot;</span><br></pre></td></tr></table></figure>

<h6 id="OrderedDict"><a href="#OrderedDict" class="headerlink" title="OrderedDict"></a>OrderedDict</h6><p>使用 <code>dict</code> 时，<code>Key</code> 是无序的。在对 <code>dict</code> 做迭代时，我们无法确定 <code>Key</code> 的顺序。如果要保持 <code>key</code> 的顺序，可以用 <code>OrderedDict</code> :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import OrderedDict</span><br><span class="line">d = dict([(&quot;a&quot;,1),(&quot;b&quot;,2),(&quot;c&quot;,3)])</span><br><span class="line">print(d)            # dict的Key是无序的 &#123;&quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3&#125;</span><br><span class="line">od = OrderedDict([(&quot;a&quot;,1),(&quot;b&quot;,2),(&quot;c&quot;,3)])</span><br><span class="line">print(od)           # OrderedDict的Key是有序的 OrderedDict([(&quot;a&quot;, 1), (&quot;b&quot;, 2), (&quot;c&quot;, 3)])</span><br></pre></td></tr></table></figure>
<p>注意：<code>OrderedDict</code> 的 <code>Key</code> 会按照插入的顺序排列，不是 <code>Key</code> 本身排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">od = OrderedDict()</span><br><span class="line">od[&quot;z&quot;] = 1</span><br><span class="line">od[&quot;y&quot;] = 2</span><br><span class="line">od[&quot;x&quot;] = 3 </span><br><span class="line">print(list(od.keys())) # 按照插入的Key的顺序返回  [&quot;z&quot;, &quot;y&quot;, &quot;x&quot;]</span><br></pre></td></tr></table></figure>

<h6 id="Counter"><a href="#Counter" class="headerlink" title="Counter"></a>Counter</h6><p><code>Counter</code> 是一个简单的计算器，比如计算字符出现的个数:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import Counter</span><br><span class="line">c = Counter()</span><br><span class="line">for ch in &quot;programing&quot;:</span><br><span class="line">    c[ch] = c[ch]+1</span><br><span class="line">print(c)            # Counter(&#123;&quot;r&quot;: 2, &quot;g&quot;: 2, &quot;p&quot;: 1, &quot;o&quot;: 1, &quot;a&quot;: 1, &quot;m&quot;: 1, &quot;i&quot;: 1, &quot;n&quot;: 1&#125;)</span><br></pre></td></tr></table></figure>
<p><code>Counter</code> 实际上也是 <code>dict</code> 的一个子类，上面的结果可以看出，字符<code>&quot;g&quot;</code>、<code>&quot;m&quot;</code>、<code>&quot;r&quot;</code>各出现了两次，其他字符各出现了一次。</p>
<h5 id="c-、base64"><a href="#c-、base64" class="headerlink" title="c)、base64"></a>c)、base64</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import base64</span><br><span class="line">base64.b64encode(b&quot;binary\x00string&quot;)      # 编码 b&quot;YmluYXJ5AHN0cmluZw==&quot;</span><br><span class="line">base64.b64decode(b&quot;YmluYXJ5AHN0cmluZw==&quot;)  # 解码 b&quot;binary\x00string&quot;</span><br><span class="line">base64.b64encode(b&quot;i\xb7\x1d\xfb\xef\xff&quot;) # 编码 b&quot;abcd++//&quot;</span><br><span class="line">base64.urlsafe_b64encode(b&quot;i\xb7\x1d\xfb\xef\xff&quot;)  # 编码 b&quot;abcd--__&quot;</span><br><span class="line">base64.urlsafe_b64decode(&quot;abcd--__&quot;)                # 解码 b&quot;i\xb7\x1d\xfb\xef\xff&quot;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/7-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" data-id="ckts3ejvr009w4d9k0yv425wj" data-title="7-【Python】廖雪峰课程笔记（三）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-6-【Python】廖雪峰课程笔记（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/6-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:56:50.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/6-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/">6-【Python】廖雪峰课程笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="廖雪峰课程-Python笔记（二）"><a href="#廖雪峰课程-Python笔记（二）" class="headerlink" title="廖雪峰课程 Python笔记（二）"></a>廖雪峰课程 Python笔记（二）</h2><h3 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h3><blockquote>
<p>廖雪峰 Python课程：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000">点击打开</a></p>
</blockquote>
<h3 id="二、函数式编程"><a href="#二、函数式编程" class="headerlink" title="二、函数式编程"></a>二、函数式编程</h3><p>以下是引用 <code>廖雪峰课程</code> 里面对 <code>Python</code> 函数式编程的介绍，了解点原理也是很重要的。  </p>
<blockquote>
<p>  函数是Python内建支持的一种封装，我们通过把大段代码拆成函数，通过一层一层的函数调用，就可以把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计。函数就是面向过程的程序设计的基本单元。  </p>
<p>  越低级的语言，越贴近计算机，抽象程度低，执行效率高，比如C语言；越高级的语言，越贴近计算，抽象程度高，执行效率低，比如Lisp语言。</p>
<p>  函数式编程就是一种抽象程度很高的编程范式，纯粹的函数式编程语言编写的函数没有变量，因此，任意一个函数，只要输入是确定的，输出就是确定的，这种纯函数我们称之为没有副作用。而允许使用变量的程序设计语言，由于函数内部的变量状态不确定，同样的输入，可能得到不同的输出，因此，这种函数是有副作用的。  </p>
<p>  函数式编程的一个特点就是，允许把函数本身作为参数传入另一个函数，还允许返回一个函数！ </p>
<p>  Python对函数式编程提供部分支持。由于Python允许使用变量，因此，Python不是纯函数式编程语言。  </p>
</blockquote>
<h4 id="1、高阶函数"><a href="#1、高阶函数" class="headerlink" title="1、高阶函数"></a>1、高阶函数</h4><p>这个案例已经写好在另外一篇，点击查看：<a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_MachineLearing/blob/master/1-Python/(1)%E5%B8%B8%E7%94%A8%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0demo.py">python高阶函数demo</a>  </p>
<h4 id="2、返回函数"><a href="#2、返回函数" class="headerlink" title="2、返回函数"></a>2、返回函数</h4><p>高阶函数除了可以接收函数作为参数外，还可以把函数作为结果值返回。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span>():</span></span><br><span class="line">        ax = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">            ax = ax + i</span><br><span class="line">        <span class="keyword">return</span> ax</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">f = lazy_sum(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(f)         <span class="comment"># &lt;function lazy_sum.&lt;locals&gt;.sum at 0x101c6ed90&gt;</span></span><br><span class="line"><span class="comment"># 输出 f 返回的是个函数对象，需要再执行 f() 才是真正的值</span></span><br><span class="line"><span class="built_in">print</span>(f())       <span class="comment"># 25</span></span><br></pre></td></tr></table></figure>
<p>在函数 <code>lazy_sum</code> 函数中又定义了函数 <code>sum</code> ，且函数 <code>sum</code> 内部又引入外部函数 <code>lazy_sum</code> 的参数和局部变量，当 <code>lazy_sum</code> 返回函数 <code>sum</code> 时，相关参数和变量都保存在返回的函数中，即 <code>闭包</code> 。<br>另外，每次调用 <code>lazy_sum</code> 都会返回一个新的函数，即使传入相同参数：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f1 = lazy_sum(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line">f2 = lazy_sum(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line">f1 == f2         <span class="comment"># false  f1()和f2()的调用结果互不影响。</span></span><br></pre></td></tr></table></figure>
<p><code>闭包</code> 还需要注意：返回的函数并没有立刻执行，而是需要再次调用 <code>f()</code> 才可以获得结果。<br>还有个案例：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">             <span class="keyword">return</span> i*i</span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line">f1, f2, f3 = count()</span><br></pre></td></tr></table></figure>
<p>在这例子中，每次循环都创建了一个新的函数，然后把创建的3个函数都返回了。<br>你可能认为调用 <code>f1()</code> ，<code>f2()</code> 和 <code>f3()</code> 结果应该是 <code>1</code> ，<code>4</code> ，<code>9</code> ，但实际结果是： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f1()    <span class="comment"># 9</span></span><br><span class="line">f2()    <span class="comment"># 9</span></span><br><span class="line">f3()    <span class="comment"># 9</span></span><br></pre></td></tr></table></figure>
<p>原因是：在返回的函数引用了变量 <code>i</code> ，但它并非立刻执行，等到3个函数都返回时，变量 <code>i</code> 已经变成 <code>3</code> 了，所以结果都是 <code>9</code> 。</p>
<h5 id="返回闭包时牢记：返回参数不要引入任何循环变量，或者后续会发生变化的变量。"><a href="#返回闭包时牢记：返回参数不要引入任何循环变量，或者后续会发生变化的变量。" class="headerlink" title="返回闭包时牢记：返回参数不要引入任何循环变量，或者后续会发生变化的变量。"></a>返回闭包时牢记：返回参数不要引入任何循环变量，或者后续会发生变化的变量。</h5><p>如果必须使用循环变量，可以再创建一个函数，用该函数的参数绑定循环变量的当前值，无论该循环变量后续如何修改，已绑定到函数参数值不变化：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">j</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line">            <span class="keyword">return</span> j*j</span><br><span class="line">        <span class="keyword">return</span> g</span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        fs.append(f(i)) <span class="comment"># f(i)立刻被执行，因此i的当前值被传入f()</span></span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br><span class="line">f1()    <span class="comment"># 1</span></span><br><span class="line">f2()    <span class="comment"># 4</span></span><br><span class="line">f3()    <span class="comment"># 9</span></span><br></pre></td></tr></table></figure>
<p>缺点是代码较长，可利用 <code>lambda</code> 函数缩短代码。  </p>
<h4 id="3、匿名函数"><a href="#3、匿名函数" class="headerlink" title="3、匿名函数"></a>3、匿名函数</h4><p>即不需要显式定义函数，直接传入匿名函数使用。例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正常写法：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 匿名函数写法：</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x:x*x,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]))  <span class="comment"># [1,4,9,16,25]</span></span><br></pre></td></tr></table></figure>
<p>匿名函数格式如： <code>lambda 参数名称 : 执行操作内容 , 参数内容</code>  </p>
<blockquote>
<p>  注意：匿名函数只能有一个表达式，不用写 <code>return</code> ，返回值就是该表达式的结果。<br>匿名函数的好处：没有名字所以不用担心函数名冲突，此外，匿名函数是个函数对象，也可以把匿名函数赋值给一个变量，再利用变量来调用这个函数。  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="keyword">lambda</span> x : x*x </span><br><span class="line">f      <span class="comment"># &lt;function &lt;lambda&gt; at 0x101c6ef28&gt;</span></span><br><span class="line">f(<span class="number">5</span>)   <span class="comment"># 25</span></span><br></pre></td></tr></table></figure>
<p>同样，也可以把匿名函数作为返回值返回：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> : x*x + y*y</span><br></pre></td></tr></table></figure>

<h4 id="4、装饰器"><a href="#4、装饰器" class="headerlink" title="4、装饰器"></a>4、装饰器</h4><p>用于代码运行期间动态添加功能，称为 <code>&quot;装饰器(Decorator) &quot;</code>。<br>由于函数是一个对象，而且函数对象可以被赋值给变量，所以变量也可以调用该函数。<br>本质上，<code>Decorator</code> 就是一个返回函数的高阶函数，所以，我们定一个个能打印日志的 <code>Decorator</code> 如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span> (<span class="params">func</span>):</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args,**kw</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;call %s():&quot;</span> % function.__name__)   <span class="comment"># __name__ 是函数对象的一个属性，输出函数名称</span></span><br><span class="line">        <span class="keyword">return</span> func(*args,**kw)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<p>接下来借助 <code>Python</code> 的 <code>@</code> 语法，把 <code>Decorator</code> 置于函数的定义处：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@log</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;2017-11-30&quot;</span>)</span><br><span class="line">now()    </span><br><span class="line"><span class="comment"># call now()</span></span><br><span class="line"><span class="comment"># &quot;2017-11-30&quot;</span></span><br></pre></td></tr></table></figure>
<p>调用 <code>now</code> 函数，不仅运行 <code>now</code> 函数本身，还会在 <code>now</code> 函数前打印一行日志。<br>把 <code>@log</code> 放到 <code>now</code> 函数定义处，相当于执行了语句：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">now = log(now)</span><br></pre></td></tr></table></figure>
<p>因为 <code>log</code> 函数返回一个函数，所以原来d <code>now</code> 函数依然在，只是同名的变量 <code>now</code> 指向新函数，并调用 <code>now()</code> 执行函数，即在 <code>log()</code> 函数中返回的 <code>wrapper()</code> 函数。  简单理解就是，先执行了 <code>log(now)</code> 然后先返回了，再去执行后面定义的 <code>now()</code> 。</p>
<h4 id="5、偏函数"><a href="#5、偏函数" class="headerlink" title="5、偏函数"></a>5、偏函数</h4><p>Python中的 <code>functools</code> 模块提供了很多有用的功能，其中一个就是偏函数 ，要注意，它与数学上的偏函数不同。<br>之前讲到，通过设定参数的默认值，可以降低函数调用的难度。而偏函数可以实现，如下：<br><code>int()</code> 函数默认将 <code>字符串</code> 按 <code>十进制</code> 转成 <code>整数</code>： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(<span class="string">&quot;12345&quot;</span>)           <span class="comment"># 12345</span></span><br></pre></td></tr></table></figure>
<p>但 <code>int()</code> 函数提供额外的 <code>base</code> 参数，默认 <code>10</code>， <code>base</code> 参数代表按照N进制转换：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(<span class="string">&quot;12345&quot;</span>,base = <span class="number">8</span>)  <span class="comment"># 5349</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;12345&quot;</span>,<span class="number">16</span>)        <span class="comment"># 74565   </span></span><br></pre></td></tr></table></figure>
<p>通过下面方法实现同时转换大量二进制字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">int2</span>(<span class="params">x,base=<span class="number">2</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(x,base)</span><br><span class="line">int2(<span class="string">&quot;1000000&quot;</span>)         <span class="comment"># 64</span></span><br><span class="line">int2(<span class="string">&quot;1010101&quot;</span>)         <span class="comment"># 85</span></span><br></pre></td></tr></table></figure>
<p><code>functool.partila</code> 就是帮助我们创建一个偏函数的，不需要我们自定义 <code>int2()</code> ，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">int2 = functools.partial(<span class="built_in">int</span>,base=<span class="number">2</span>)</span><br><span class="line">int2(<span class="string">&quot;1000000&quot;</span>)         <span class="comment"># 64</span></span><br><span class="line">int2(<span class="string">&quot;1010101&quot;</span>)         <span class="comment"># 85</span></span><br></pre></td></tr></table></figure>
<p>总结 <code>functools.partial</code> 的作用就是：设置函数默认值，返回一个新函数，调用新函数会更简单。<br>上面新的 <code>int2</code>　函数只是把 <code>base</code> 参数重新设置默认值为 <code>2</code>，但也可以传入其他值：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int2(<span class="string">&quot;1000000&quot;</span>,base=<span class="number">10</span>) <span class="comment"># 1000000</span></span><br></pre></td></tr></table></figure>
<p>实际上，创建偏函数时可以接收 <code>3</code> 个参数：<code>函数对象</code>、<code>*args</code> 和 <code>**kw</code>。<br>当函数的参数个数太多，需要简化时，使用 <code>functools.partial</code> 可以创建一个新的函数，这个新函数可以固定住原函数的部分参数，从而在调用时更简单。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/6-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="ckts3ejvi00974d9k8gg05b8a" data-title="6-【Python】廖雪峰课程笔记（二）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-5-【Python】廖雪峰课程笔记（一）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/5-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:56:18.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/5-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/">5-【Python】廖雪峰课程笔记（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="廖雪峰课程-Python笔记（一）"><a href="#廖雪峰课程-Python笔记（一）" class="headerlink" title="廖雪峰课程 Python笔记（一）"></a>廖雪峰课程 Python笔记（一）</h2><h3 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h3><blockquote>
<p>廖雪峰 Python课程：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000">点击打开</a></p>
</blockquote>
<h3 id="二、补充前面知识"><a href="#二、补充前面知识" class="headerlink" title="二、补充前面知识"></a>二、补充前面知识</h3><blockquote>
<p>由于 <code>python2.x</code> 和 <code>python3.x</code> 不互相兼容，并且官方宣布2020年即将停止对 <code>python2.x</code> 的维护，所以我开始学习 <code>python3.x</code> 版本，这个部分主要是对之前学习的内容进行补充，新的内容会在后面更新。  </p>
</blockquote>
<h4 id="1、print"><a href="#1、print" class="headerlink" title="1、print ()"></a>1、print ()</h4><p>在 <code>python3.x</code> 中，不再使用 <code>print ...</code> 打印内容，而是换成更直观的 <code>print()</code> 方法，写法依旧：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> (<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;&quot;&quot;line1</span></span><br><span class="line"><span class="string">    line2</span></span><br><span class="line"><span class="string">    line3&quot;&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="2、格式化"><a href="#2、格式化" class="headerlink" title="2、格式化"></a>2、格式化</h4><p>经常我们需要输出类似 <code>&quot;亲爱的xxx你好！你xx月的话费是xx，余额是xx&quot;</code> 之类的字符串，而xxx的内容都是根据变量变化的，所以，需要一种简便的格式化字符串的方式。<br>这里我们可以使用占位符进行操作：<br>格式如下：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;内容 + 占位符1 + 内容 + 占位符2&quot;</span> % (占位符对应内容值<span class="number">1</span>,占位符对应内容值<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Hello, %s&quot;</span> % <span class="string">&quot;world&quot;</span>                               <span class="comment"># &quot;Hello, world&quot;</span></span><br><span class="line"><span class="string">&quot;Hi, %s, you have $%d.&quot;</span> % (<span class="string">&quot;Michael&quot;</span>, <span class="number">1000000</span>)      <span class="comment"># &quot;Hi, Michael, you have $1000000.&quot;</span></span><br></pre></td></tr></table></figure>
<h5 id="常用占位符："><a href="#常用占位符：" class="headerlink" title="常用占位符："></a>常用占位符：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%d   <span class="comment"># 整数</span></span><br><span class="line">%f   <span class="comment"># 浮点数</span></span><br><span class="line">%s   <span class="comment"># 字符串</span></span><br><span class="line">%x   <span class="comment"># 十六进制整数</span></span><br></pre></td></tr></table></figure>

<h4 id="3、format"><a href="#3、format" class="headerlink" title="3、format()"></a>3、format()</h4><p>使用字符串的 <code>format()</code> 方法，用参数 <code>&#123;0&#125;、&#123;1&#125;...</code> 来替换字符串占位符，比较麻烦。   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Hello, &#123;0&#125;, 成绩提升了 &#123;1:.1f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;小明&quot;</span>, <span class="number">17.125</span>)</span><br><span class="line"><span class="comment"># &quot;Hello, 小明, 成绩提升了 17.1%&quot;</span></span><br><span class="line"><span class="comment"># 这边的 &#123;1:.1f&#125;  .1f表示保留小数点后一位, .2f即保留到小数点后两位, .3f ..依次类推。</span></span><br></pre></td></tr></table></figure>

<h4 id="4、tuple"><a href="#4、tuple" class="headerlink" title="4、tuple"></a>4、tuple</h4><p>由于 <code>tuple（名称：元组）</code> 一旦初始化就不能修改，没有 <code>append()</code> , <code>insert()</code> 方法，所以比较安全，如果能用 <code>tuple</code> 代替 <code>list</code> 的话尽量用 <code>tuple</code> 。  </p>
<h5 id="补充1："><a href="#补充1：" class="headerlink" title="补充1："></a>补充1：</h5><p>但是有种情况可以修改 <code>tuple</code> 的值，就是 <code>tuple</code> 里面含有 <code>list</code> ，如下：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">test1 = [<span class="string">&quot;hi&quot;</span>,<span class="string">&quot;nihao&quot;</span>]</span><br><span class="line">test2 = (<span class="string">&quot;zhe&quot;</span>,<span class="string">&quot;shi&quot;</span>,<span class="string">&quot;tuple&quot;</span>,test1)</span><br><span class="line"><span class="built_in">print</span> (test2)       <span class="comment">#  (&quot;zhe&quot;,&quot;shi&quot;,&quot;tuple&quot;,[&quot;hi&quot;,&quot;nihao&quot;])</span></span><br><span class="line">test2[<span class="number">3</span>][<span class="number">1</span>] = <span class="string">&quot;leo&quot;</span></span><br><span class="line"><span class="built_in">print</span> (test2)       <span class="comment">#  (&quot;zhe&quot;,&quot;shi&quot;,&quot;tuple&quot;,[&quot;hi&quot;,&quot;leo])</span></span><br></pre></td></tr></table></figure>
<h5 id="补充2："><a href="#补充2：" class="headerlink" title="补充2："></a>补充2：</h5><p>如果 <code>tuple</code> 只有 <code>1</code> 个元素，需要添加一个 <code>,</code> 都好，以免误解成数学计算意义上的符号。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test3 = (<span class="number">1</span>,)        <span class="comment"># (1,)</span></span><br></pre></td></tr></table></figure>

<h4 id="5、input-和-raw-input"><a href="#5、input-和-raw-input" class="headerlink" title="5、input() 和 raw_input()"></a>5、input() 和 raw_input()</h4><h5 id="python3-x中已经没有raw-input-！！"><a href="#python3-x中已经没有raw-input-！！" class="headerlink" title="python3.x中已经没有raw_input()！！"></a>python3.x中已经没有raw_input()！！</h5><blockquote>
<p>相同：都是用来获取控制台的输入，并且都能接收字符串。<br>不同：  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>()      对纯数字输入，也将返回数字类型（<span class="built_in">int</span>,<span class="built_in">float</span>）。  </span><br><span class="line">raw_input()  将所有输入作为字符串看待，并返回字符串类型。  </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>()      需要接收一个合法的python表达式，即输入内容需要用括号括起来，不然报错。  </span><br><span class="line">raw_input()  直接读取空事态输入的任何类型的内容。  </span><br></pre></td></tr></table></figure>
<p>除非对 <code>input()</code> 有特别需求，不然一般推荐使用 <code>raw_input()</code> 和用户交互。<br><code>input()</code> 需要输入 <code>python</code> 表达式:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;input:&quot;</span>) </span><br><span class="line"><span class="built_in">input</span>:<span class="number">123</span>              <span class="comment"># 输入整数 </span></span><br><span class="line"><span class="built_in">type</span>(a)                 <span class="comment">#&lt;type &quot;int&quot;&gt; # 整型</span></span><br><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;input:&quot;</span>) </span><br><span class="line"><span class="built_in">input</span>:<span class="string">&quot;runoob&quot;</span>         <span class="comment"># 正确，字符串表达式</span></span><br><span class="line"><span class="built_in">type</span>(a)                <span class="comment"># &lt;type &quot;str&quot;&gt; # 字符串 </span></span><br><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;input:&quot;</span>) </span><br><span class="line"><span class="built_in">input</span>:runoob           <span class="comment"># 报错，不是表达式 ...NameError: name &quot;runoob&quot; is not defined &lt;type &quot;str&quot;&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>raw_input()</code> 将所有输入作为字符串看待:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = raw_input(<span class="string">&quot;input:&quot;</span>)</span><br><span class="line"><span class="built_in">input</span>:<span class="number">123</span></span><br><span class="line"><span class="built_in">type</span>(a)                <span class="comment"># &lt;type &quot;str&quot;&gt; # 字符串</span></span><br><span class="line">a = raw_input(<span class="string">&quot;input:&quot;</span>) </span><br><span class="line"><span class="built_in">input</span>:runoob</span><br><span class="line"><span class="built_in">type</span>(a)                <span class="comment"># &lt;type &quot;str&quot;&gt; # 字符串</span></span><br></pre></td></tr></table></figure>


<h4 id="6、循环"><a href="#6、循环" class="headerlink" title="6、循环"></a>6、循环</h4><h5 id="补充a、break，退出循环"><a href="#补充a、break，退出循环" class="headerlink" title="补充a、break，退出循环"></a>补充a、break，退出循环</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n = 1<span class="keyword">while</span> n &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">10</span>:         <span class="comment"># 当n = 11时，条件满足，执行break语句</span></span><br><span class="line">        <span class="keyword">break</span>          <span class="comment"># break语句会结束当前循环</span></span><br><span class="line">    <span class="built_in">print</span>(n)</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;END&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="补充b、continue，跳过这次循环"><a href="#补充b、continue，跳过这次循环" class="headerlink" title="补充b、continue，跳过这次循环"></a>补充b、continue，跳过这次循环</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">10</span>:</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>:     <span class="comment"># 如果n是偶数，执行continue语句</span></span><br><span class="line">        <span class="keyword">continue</span>       <span class="comment"># continue语句会直接继续下一轮循环，后续的print()语句不会执行</span></span><br><span class="line">    <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>
<p><code>循环</code>是让计算机做重复任务的有效的方法。<br><code>break语句</code> 可以在循环过程中直接<code>退出循环</code>，而 <code>continue语句</code> 可以提前<code>结束本轮循环</code>，并直接开始下一轮循环。这两个语句通常都必须配合<code>if语句</code>使用。  </p>
<blockquote>
<p>注意，不要滥用 <code>break</code> 和 <code>continue</code> 语句。 <code>break</code> 和 <code>continue</code> 会造成代码执行逻辑分叉过多，容易出错。<br>大多数循环并不需要用到 <code>break</code> 和 <code>continue</code> 语句，上面的两个例子，都可以通过改写循环条件或者修改循环逻辑，去掉 <code>break</code> 和 <code>continue</code> 语句。</p>
</blockquote>
<h4 id="7、关于数值类型的补充"><a href="#7、关于数值类型的补充" class="headerlink" title="7、关于数值类型的补充"></a>7、关于数值类型的补充</h4><h5 id="a、整数类型："><a href="#a、整数类型：" class="headerlink" title="a、整数类型："></a>a、整数类型：</h5><p>在 <code>python3.x</code> 中，只要内存允许，整型数据的值可以拓展到 <code>任意长度</code> ，整数取值范围几乎包括全部整数，这给 <code>大数据的计算</code> 带来便利。</p>
<h5 id="b、实型数据："><a href="#b、实型数据：" class="headerlink" title="b、实型数据："></a>b、实型数据：</h5><p>实型也称 <code>浮点型</code> ，Python语言中，实数只采用十进制。它有两种表示形式： <code>十进制形式</code> 和 <code>指数形式</code> 。</p>
<blockquote>
<p>十进制数形式由数码0~9和小数点组成，如345.0、12.2、0.0等。实型数据允许小数点后面没有任何数字，表示小数部分为0，如23.表示23.0。  </p>
</blockquote>
<blockquote>
<p>指数形式即由科学计数法表示的浮点数，由十进制数加阶码标志E或e组成。e之前为数字部分，之后为指数部分，且两部分必须同时出现，指数必须为整数。如45e-5，9.34e2等，分别代表45x10-5、9.34x102，而e4，3.4e3.4、34e等是非法的浮点型常量。</p>
</blockquote>
<h5 id="c、复合型数据："><a href="#c、复合型数据：" class="headerlink" title="c、复合型数据："></a>c、复合型数据：</h5><p>科学计算中经常遇到 <code>复数</code> 运算问题，如数学中求方程的复根，电工学中交流电路的计算等都用到复数运算。<br>python提供了 <code>复数类型</code> ，形式为 <code>a+bj</code> ，其中 <code>a是复数的实部</code> ，<code>b是虚部</code> ，<code>j表示-1的平方根</code> （虚数单位）。代码：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">12</span> +<span class="number">34</span> j</span><br><span class="line">x                <span class="comment"># (12 + 34j)</span></span><br></pre></td></tr></table></figure>
<p>通过 <code>x.real</code> 和 <code>x.imag</code> 来分别获取复数x的实部和虚部，结果都是 <code>浮点型</code>   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x.real           <span class="comment"># 12.0</span></span><br><span class="line">x.imag           <span class="comment"># 34.0</span></span><br></pre></td></tr></table></figure>

<h4 id="8、数据类型转换-和-最值"><a href="#8、数据类型转换-和-最值" class="headerlink" title="8、数据类型转换 和 最值"></a>8、数据类型转换 和 最值</h4><p>Python内置的常用函数还包括 <code>数据类型转换函数</code>，比如 <code>int()函数</code> 可以把其他数据类型转换为 <code>整数</code>： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(<span class="string">&quot;123&quot;</span>)       <span class="comment"># 123</span></span><br><span class="line"><span class="built_in">int</span>(<span class="number">12.34</span>)       <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&quot;12.34&quot;</span>)   <span class="comment"># 12.34</span></span><br><span class="line"><span class="built_in">str</span>(<span class="number">1.23</span>)        <span class="comment"># &quot;1.23&quot;</span></span><br><span class="line"><span class="built_in">str</span>(<span class="number">100</span>)         <span class="comment"># &quot;100&quot;</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">1</span>)          <span class="comment"># True</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>)         <span class="comment"># False</span></span><br></pre></td></tr></table></figure>
<p>函数名其实就是指向一个函数对象的引用，完全可以把函数名赋给一个变量，相当于给这个函数起了一个 <code>“别名”</code> ：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">abs</span>          <span class="comment"># 变量a指向abs函数</span></span><br><span class="line">a(-<span class="number">1</span>)            <span class="comment"># 1 所以也可以通过a调用abs函数</span></span><br></pre></td></tr></table></figure>
<p>max函数 <code>max()</code> 可以接收任意多个参数，并返回最大的那个：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">max</span>(<span class="number">1</span>, <span class="number">2</span>)        <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">max</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, -<span class="number">5</span>) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>

<h4 id="9、空函数-pass语句"><a href="#9、空函数-pass语句" class="headerlink" title="9、空函数 pass语句"></a>9、空函数 pass语句</h4><p>空函数实际上什么也不做，一般用来作为 <code>占位符</code> ，比如现在没想好写什么内容，可以先写个 <code>pass</code> 让代码运行起来：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>还可以放在其他语句中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h4 id="10、python运算符"><a href="#10、python运算符" class="headerlink" title="10、python运算符"></a>10、python运算符</h4><p>运算符详细介绍：<a target="_blank" rel="noopener" href="http://www.runoob.com/python/python-operators.html">点击查看</a><br><code>^</code> <code>异或运算</code>  比如，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> ^ <span class="number">1</span> = <span class="number">0</span></span><br><span class="line"><span class="number">0</span> ^ <span class="number">0</span> = <span class="number">0</span></span><br><span class="line"><span class="number">1</span> ^ <span class="number">0</span> = <span class="number">1</span></span><br><span class="line"><span class="number">0</span> ^ <span class="number">1</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="11、默认参数的补充"><a href="#11、默认参数的补充" class="headerlink" title="11、默认参数的补充"></a>11、默认参数的补充</h4><p>可以不按照顺序传递参数：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">a,b,c=<span class="string">&quot;5&quot;</span>,d=<span class="string">&quot;&quot;</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是a&quot;</span>,a)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是b&quot;</span>,b)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是c&quot;</span>,c)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是d&quot;</span>,d)</span><br><span class="line"><span class="built_in">print</span>(f1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span> (f1(<span class="number">1</span>,<span class="number">3</span>,d=<span class="string">&quot;666&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>定义默认参数要牢记一点：<code>默认参数必须指向不变对象</code>！</p>
<h4 id="12、可变参数的补充"><a href="#12、可变参数的补充" class="headerlink" title="12、可变参数的补充"></a>12、可变参数的补充</h4><p>在参数前面加了一个 <code>*</code> 号。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">a,b,*<span class="built_in">list</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span> (a,b,<span class="built_in">list</span>)</span><br><span class="line">    <span class="built_in">print</span> (<span class="built_in">list</span>[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span> (<span class="built_in">list</span>[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line">    <span class="built_in">print</span> (<span class="built_in">list</span>[<span class="number">0</span>][<span class="number">2</span>])</span><br><span class="line">f1(<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<h4 id="13、关键字参数的补充"><a href="#13、关键字参数的补充" class="headerlink" title="13、关键字参数的补充"></a>13、关键字参数的补充</h4><p>关键字参数允许你传入 <code>0个</code> 或者<code>任意个</code> 参数名的参数，这些关键字参数在函数内部会自动组装成一个 <code>dict</code>： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, **kw</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age, <span class="string">&quot;other:&quot;</span>, kw)</span><br><span class="line">person(<span class="string">&quot;Bob&quot;</span>, <span class="number">35</span>, city=<span class="string">&quot;Beijing&quot;</span>)</span><br><span class="line"><span class="comment"># name: Bob age: 35 other: &#123;&quot;city&quot;: &quot;Beijing&quot;&#125;</span></span><br><span class="line">person(<span class="string">&quot;Adam&quot;</span>, <span class="number">45</span>, gender=<span class="string">&quot;M&quot;</span>, job=<span class="string">&quot;Engineer&quot;</span>)</span><br><span class="line"><span class="comment"># name: Adam age: 45 other: &#123;&quot;gender&quot;: &quot;M&quot;, &quot;job&quot;: &quot;Engineer&quot;&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>**extra</code> 表示把 <code>extra</code> 这个 <code>dict</code> 的所有 <code>key-value</code> 用关键字参数传入到函数的 <code>**kw</code> 参数， <code>kw</code> 将获得一个 <code>dict</code> ，注意 <code>kw</code> 获得的 <code>dict</code> 是 <code>extra</code> 的一份拷贝，对 <code>kw</code> 的改动不会影响到函数外的 <code>extra</code> 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">extra = &#123;<span class="string">&quot;city&quot;</span>: <span class="string">&quot;Beijing&quot;</span>, <span class="string">&quot;job&quot;</span>: <span class="string">&quot;Engineer&quot;</span>&#125;</span><br><span class="line">person(<span class="string">&quot;Jack&quot;</span>, <span class="number">24</span>, **extra)</span><br><span class="line"><span class="comment"># name: Jack age: 24 other: &#123;&quot;city&quot;: &quot;Beijing&quot;, &quot;job&quot;: &quot;Engineer&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="14、迭代的补充"><a href="#14、迭代的补充" class="headerlink" title="14、迭代的补充"></a>14、迭代的补充</h4><p><code>for ... in</code>循环：<br>多个变量迭代 <code>key</code> 和 <code>value</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&quot;x&quot;</span>: <span class="string">&quot;A&quot;</span>, <span class="string">&quot;y&quot;</span>: <span class="string">&quot;B&quot;</span>, <span class="string">&quot;z&quot;</span>: <span class="string">&quot;C&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 迭代方法1：</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span>(k, <span class="string">&quot;=&quot;</span>, v)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 迭代方法2：</span></span><br><span class="line">[k + <span class="string">&quot;=&quot;</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.items()]</span><br><span class="line"><span class="comment"># y = B</span></span><br><span class="line"><span class="comment"># x = A</span></span><br><span class="line"><span class="comment"># z = C</span></span><br></pre></td></tr></table></figure>

<h4 id="15、生成器的补充"><a href="#15、生成器的补充" class="headerlink" title="15、生成器的补充"></a>15、生成器的补充</h4><p>第一种方法很简单，只要把一个列表生成式的 <code>[]</code> 改成 <code>()</code> ：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">L        <span class="comment">#  [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">g        <span class="comment">#  &lt;generator object &lt;genexpr&gt; at 0x1022ef630&gt;</span></span><br><span class="line">h = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> h:</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/5-%E3%80%90Python%E3%80%91%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" data-id="ckts3ejv2008g4d9k2u2q8wie" data-title="5-【Python】廖雪峰课程笔记（一）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-4-【Python】慕课网视频笔记（四）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/4-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:55:05.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/4-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/">4-【Python】慕课网视频笔记（四）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Python学习（三）函数方法等"><a href="#Python学习（三）函数方法等" class="headerlink" title="Python学习（三）函数方法等"></a>Python学习（三）函数方法等</h2><h3 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h3><blockquote>
<p>廖雪峰 Python进阶 慕课网：<a target="_blank" rel="noopener" href="http://www.imooc.com/learn/317">点击打开</a></p>
</blockquote>
<h3 id="二、函数式编程"><a href="#二、函数式编程" class="headerlink" title="二、函数式编程"></a>二、函数式编程</h3><h4 id="1、函数式编程特点："><a href="#1、函数式编程特点：" class="headerlink" title="1、函数式编程特点："></a>1、函数式编程特点：</h4><blockquote>
<p>把计算视为函数而非指令；<br>纯函数式编程：不需要变量，没有副作用，测试简单；<br>支持高阶函数，代码简洁；  </p>
</blockquote>
<h4 id="2、python函数式编程特点："><a href="#2、python函数式编程特点：" class="headerlink" title="2、python函数式编程特点："></a>2、python函数式编程特点：</h4><blockquote>
<p>不是纯函数式编程：允许有变量；<br>支持高阶函数：函数也可以作为变量传入；<br>支持闭包：有了闭包就能返回函数；<br>有限度的支持匿名函数；  </p>
</blockquote>
<h4 id="3、高阶函数-案例："><a href="#3、高阶函数-案例：" class="headerlink" title="3、高阶函数 案例："></a>3、高阶函数 案例：</h4><p>变量可以指向函数，比如：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(-<span class="number">10</span>)     <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">abs</span>          <span class="comment"># 返回一个函数变量</span></span><br><span class="line">f = <span class="built_in">abs</span>      <span class="comment"># 使用变量f指向abs</span></span><br><span class="line">f(-<span class="number">10</span>)       <span class="comment"># 10</span></span><br></pre></td></tr></table></figure>
<p>函数名其实就是指向函数的变量  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(-<span class="number">10</span>)       <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">abs</span> = <span class="built_in">len</span>      <span class="comment"># 将len赋值给abs</span></span><br><span class="line"><span class="built_in">abs</span>(-<span class="number">10</span>)       <span class="comment"># 报错</span></span><br><span class="line"><span class="built_in">abs</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])   <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<h4 id="4、高阶函数-概念："><a href="#4、高阶函数-概念：" class="headerlink" title="4、高阶函数 概念："></a>4、高阶函数 概念：</h4><blockquote>
<p>能接收函数作为参数的函数;<br>变量可以指向函数;<br>函数的参数可以接收变量;<br>一个函数可以接收另一个函数作为参数;<br>能接收函数作参数的函数就是高阶函数;  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x,y,fun</span>):</span></span><br><span class="line">    <span class="keyword">return</span> fun(x)+fun(y)</span><br><span class="line">add(-<span class="number">4</span>,<span class="number">9</span>,<span class="built_in">abs</span>)              <span class="comment"># 14</span></span><br></pre></td></tr></table></figure>
<h4 id="5、python内置高阶函数-–-map-函数"><a href="#5、python内置高阶函数-–-map-函数" class="headerlink" title="5、python内置高阶函数 – map()函数"></a>5、python内置高阶函数 – map()函数</h4><p>它接收一个函数 <code>f</code> 和一个 <code>list</code>，并通过把函数 <code>f</code> 依次作用在 <code>list</code> 的每个元素上，得到一个新的 <code>list</code> 并返回。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*x</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">map</span>(f, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：map()函数不改变原有的 list，而是返回一个新的 list。  </p>
</blockquote>
<p>由于list包含的元素可以是任何类型，因此，<code>map()</code> 不仅仅可以处理只包含数值的 <code>list</code>，事实上它可以处理包含任意类型的 <code>list</code>，只要传入的<code>函数f</code>可以处理这种数据类型。  </p>
<p>案例：<br>将所有姓名转换成 <code>&#39;Adam&#39;</code> 格式：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_name</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s[:<span class="number">1</span>].upper()+s[<span class="number">1</span>:].lower()</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">map</span>(format_name, [<span class="string">&#x27;adam&#x27;</span>, <span class="string">&#x27;LISA&#x27;</span>, <span class="string">&#x27;barT&#x27;</span>])</span><br></pre></td></tr></table></figure>
<h4 id="6、python内置高阶函数-–-reduce-函数"><a href="#6、python内置高阶函数-–-reduce-函数" class="headerlink" title="6、python内置高阶函数 – reduce()函数"></a>6、python内置高阶函数 – reduce()函数</h4><p>它接收一个函数 <code>f</code> 和一个 <code>list</code>，函数f必须传入<code>2个参数</code>，<code>reduce()</code>对<code>list</code>的每个元素反复调用<code>函数f</code>，并返回最终结果值。<br>函数f接收的两个参数，即为<code>list</code>里相邻的两个参数。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">reduce(f,[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>])   <span class="comment"># 先计算f(1,3)得4，再将结果带入f(4,5)得9，然后f(9,7)得16  f(16,9)得25</span></span><br></pre></td></tr></table></figure>
<p>reduce()还可以接收第三个参数，作为计算初始值。   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">reduce(f, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>], <span class="number">100</span>)    <span class="comment"># 125</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>利用<code>reduce()</code>实现求积函数。   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prod</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*y</span><br><span class="line"><span class="built_in">print</span> reduce(prod, [<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<h4 id="7、python内置高阶函数-–-filter-函数"><a href="#7、python内置高阶函数-–-filter-函数" class="headerlink" title="7、python内置高阶函数 – filter()函数"></a>7、python内置高阶函数 – filter()函数</h4><p>它接收一个函数 <code>f</code> 和一个 <code>list</code>,这个函数作用是对每个元素进行判断，返回<code>True</code> 和 <code>False</code> 。<br><code>filter()</code>根据判断结果自动过滤掉不符合条件的元素，返回由符合条件元素组成的<code>新list</code>。<br>例如：要从一个list [1, 4, 6, 7, 9, 12, 17]中删除偶数，保留奇数，  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span>(<span class="params">x</span>):</span>                              <span class="comment"># 定义判断函数</span></span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line"><span class="built_in">filter</span>(is_odd, [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">17</span>])     <span class="comment"># 过滤偶数   返回 [1, 7, 9, 17]</span></span><br></pre></td></tr></table></figure>
<p>例如：删除None或者空字符串，   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_not_empty</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s <span class="keyword">and</span> <span class="built_in">len</span>(s.strip()) &gt; <span class="number">0</span></span><br><span class="line"><span class="built_in">filter</span>(is_not_empty, [<span class="string">&#x27;test&#x27;</span>, <span class="literal">None</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;str&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;END&#x27;</span>])     <span class="comment"># [&#x27;test&#x27;, &#x27;str&#x27;, &#x27;END&#x27;]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: s.strip(rm) 删除 s 字符串中开头、结尾处的 rm 序列的字符。  </p>
</blockquote>
<p>当<code>rm</code>为空时，默认删除空白符（包括’\n’, ‘\r’, ‘\t’, ‘ ‘)，如下：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;   123&#x27;</span></span><br><span class="line">a.strip()        <span class="comment"># &#x27;123&#x27;</span></span><br><span class="line">a=<span class="string">&#x27;\t\t123\r\n&#x27;</span></span><br><span class="line">a.strip()        <span class="comment"># &#x27;123&#x27;</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>利用<code>filter()</code>过滤出1~100中平方根是整数的数：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_sqr</span>(<span class="params">x</span>):</span></span><br><span class="line">    r = <span class="built_in">int</span>(math.sqrt(x))             <span class="comment"># math.sqrt()返回结果是浮点数 用来计算平方根</span></span><br><span class="line">    <span class="keyword">return</span> r*r==x</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">filter</span>(is_sqr, <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>))   <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure>
<h4 id="8、python内置高阶函数-–-sorted-函数-自定义排序"><a href="#8、python内置高阶函数-–-sorted-函数-自定义排序" class="headerlink" title="8、python内置高阶函数 – sorted()函数 自定义排序"></a>8、python内置高阶函数 – sorted()函数 自定义排序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sorted</span>([<span class="number">36</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">21</span>])     <span class="comment">#  [5, 9, 12, 21, 36]</span></span><br></pre></td></tr></table></figure>
<p>它可以接收一个<code>比较函数</code>来实现<code>自定义排序</code>，比较函数的定义是，传入两个待比较的元素 <code>x, y</code>，如果 <code>x</code> 应该排在 <code>y</code> 的前面，返回 <code>-1</code>，如果 <code>x</code> 应该排在 <code>y</code> 的后面，返回 <code>1</code>。如果 <code>x</code> 和 <code>y</code> 相等，返回 <code>0</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reversed_cmp</span>(<span class="params">x, y</span>):</span>      <span class="comment"># 实现倒序排序</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; y:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; y:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"><span class="built_in">sorted</span>([<span class="number">36</span>,<span class="number">5</span>,<span class="number">12</span>,<span class="number">9</span>,<span class="number">21</span>],reversed_cmp)</span><br></pre></td></tr></table></figure>
<p><code>sorted()</code>也可以对字符串进行排序，字符串默认按照<code>ASCII大小</code>来比较：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sorted</span>([<span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;Zoo&#x27;</span>, <span class="string">&#x27;Credit&#x27;</span>])      <span class="comment"># [&#x27;Credit&#x27;, &#x27;Zoo&#x27;, &#x27;about&#x27;, &#x27;bob&#x27;]</span></span><br></pre></td></tr></table></figure>
<p><code>&#39;Zoo&#39;</code>排在<code>&#39;about&#39;</code>之前是因为<code>&#39;Z&#39;</code>的ASCII码比<code>&#39;a&#39;</code>小。<br>案例：<br>利用<code>sorted()</code>高阶函数，实现忽略大小写排序的算法。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cmp_ignore_case</span>(<span class="params">s1, s2</span>):</span></span><br><span class="line">    u1 = s1.upper()</span><br><span class="line">    u2 = s2.upper()</span><br><span class="line">    <span class="keyword">if</span> u1&lt;u2:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> u1&gt;u2:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">sorted</span>([<span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;Zoo&#x27;</span>, <span class="string">&#x27;Credit&#x27;</span>], cmp_ignore_case)  <span class="comment"># [&#x27;about&#x27;, &#x27;bob&#x27;, &#x27;Credit&#x27;, &#x27;Zoo&#x27;]</span></span><br></pre></td></tr></table></figure>

<h4 id="9、python中返回函数"><a href="#9、python中返回函数" class="headerlink" title="9、python中返回函数"></a>9、python中返回函数</h4><p>Python的函数不但可以返回<code>int</code>、<code>str</code>、<code>list</code>、<code>dict</code>等数据类型，还可以<code>返回函数</code>！  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;call f()...&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;call g()&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> g</span><br><span class="line">x = f()      <span class="comment"># &#x27;call f()...&#x27;   x是f()返回的函数</span></span><br><span class="line">x()          <span class="comment"># &#x27;call g()...&#x27;   x指向函数，因此可以调用，x()执行的就是g()函数</span></span><br></pre></td></tr></table></figure>
<p>注意区分返回函数和返回值：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myabs</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>           <span class="comment"># 返回函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myabs2</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(x)        <span class="comment"># 返回函数调用的结果，返回值是个数值</span></span><br><span class="line">使用返回函数，来实现“延迟计算”：</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_sum</span>(<span class="params">lst</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(lst)</span><br><span class="line">    <span class="keyword">return</span> lazy_sum      <span class="comment"># 调用calc_sum()返回的是函数</span></span><br><span class="line">f = calc_sum([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>])  <span class="comment"># 此时f是一个函数，由calc_sum()返回的函数</span></span><br><span class="line">f()                      <span class="comment"># 15</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>请编写一个函数<code>calc_prod(lst)</code>，它接收一个<code>list</code>，返回一个函数，返回函数可以计算参数的乘积。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_prod</span>(<span class="params">lst</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lazy_prod</span>():</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x,y</span>):</span>          <span class="comment"># 由于要使用reduce()</span></span><br><span class="line">            <span class="keyword">return</span> x*y</span><br><span class="line">        <span class="keyword">return</span> reduce(f,lst,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> lazy_prod</span><br><span class="line">f = calc_prod([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span> f()</span><br></pre></td></tr></table></figure>


<h4 id="10、python中的闭包"><a href="#10、python中的闭包" class="headerlink" title="10、python中的闭包"></a>10、python中的闭包</h4><p>在函数内部定义的函数和外部定义的函数是一样的，只是他们无法被外部访问：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;f()...&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span>       <span class="comment"># 将g的定义写在f内部，防止其他代码调用g</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;g()...&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> g   </span><br></pre></td></tr></table></figure>
<p>闭包案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;f()...&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(x)</span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：发现没把g移到f外部，因为它引用了f的参数x。  </p>
</blockquote>
<p>像这种内层函数引用了外层函数的变量（参数也算变量），然后返回内层函数的情况，称为<code>闭包（Closure）</code>。<br>闭包的特点：<br>就是返回的函数还引用了外层函数的<code>局部变量</code>，所以，要正确使用闭包，就要确保引用的局部变量在函数返回后不能变。<br>举例如下：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 希望一次返回3个函数，分别计算1x1,2x2,3x3:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">        <span class="keyword">return</span> i*i</span><br><span class="line">    fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br></pre></td></tr></table></figure>
<p>结果全是<code>9</code>，原因是当<code>count()</code>返回3个函数时，这3个函数引用的<code>变量i</code>已经都变成<code>3</code>了，而f1,f2,f3没有被调用，所以此时的i未计算。<br>因此，返回函数不要引用任何循环变量，或者后续会发生变化的变量。<br>案例：<br>返回闭包不能引用循环变量，请改写count()函数，让它正确返回能计算1x1、2x2、3x3的函数。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">j</span>):</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line">                <span class="keyword">return</span> j*j</span><br><span class="line">            <span class="keyword">return</span> g</span><br><span class="line">        r = f(i)</span><br><span class="line">        fs.append(r)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br><span class="line"><span class="built_in">print</span> f1(), f2(), f3()</span><br></pre></td></tr></table></figure>
<h4 id="11、python中的匿名函数"><a href="#11、python中的匿名函数" class="headerlink" title="11、python中的匿名函数"></a>11、python中的匿名函数</h4><p>python对匿名函数支持有限，以map函数为例，计算<code>f(x)=x2</code> 时，除了定义一个<code>f(x)</code>的函数外，还可以直接传入匿名函数：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(<span class="keyword">lambda</span> x: x * x, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])        <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81</span></span><br></pre></td></tr></table></figure>
<p>通过对比可以看出，匿名函数 <code>lambda x: x * x</code> 实际上就是：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br></pre></td></tr></table></figure>
<p>关键字<code>lambda</code> 表示<code>匿名函数</code>，冒号前面的 <code>x</code> 表示<code>函数参数</code>。  </p>
<blockquote>
<p>注意：匿名函数有个限制，就是只能有一个表达式，不写return，返回值就是该表达式结果。  </p>
</blockquote>
<p>使用匿名函数可以不必定义函数名，直接创建一个函数对象，很多时候可以简化代码：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sorted</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">0</span>], <span class="keyword">lambda</span> x,y: -cmp(x,y))         <span class="comment"># [9, 5, 3, 1, 0]</span></span><br></pre></td></tr></table></figure>
<p>返回参数的时候，也可以返回匿名函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myabs = <span class="keyword">lambda</span> x:-x <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> x</span><br></pre></td></tr></table></figure>
<p>案例：<br>利用匿名函数，简化下面代码：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_not_empty</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s <span class="keyword">and</span> <span class="built_in">len</span>(s.strip()) &gt; <span class="number">0</span></span><br><span class="line"><span class="built_in">filter</span>(is_not_empty, [<span class="string">&#x27;test&#x27;</span>, <span class="literal">None</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;str&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;END&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p>简化后：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="built_in">filter</span>(<span class="keyword">lambda</span> s:s <span class="keyword">and</span> <span class="built_in">len</span>(s.strip())&gt;<span class="number">0</span>, [<span class="string">&#x27;test&#x27;</span>, <span class="literal">None</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;str&#x27;</span>, <span class="string">&#x27;  &#x27;</span>, <span class="string">&#x27;END&#x27;</span>] )</span><br></pre></td></tr></table></figure>

<h4 id="12、装饰器（decorator-）"><a href="#12、装饰器（decorator-）" class="headerlink" title="12、装饰器（decorator ）"></a>12、装饰器（decorator ）</h4><p>通过<code>高阶函数</code>，接收一个函数作为参数，进行包装返回一个<code>新函数</code>，即可动态对函数进行增强。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*<span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">new_fn</span>(<span class="params">f</span>):</span>     <span class="comment"># 装饰器函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;call&#x27;</span>+ f.__name__+<span class="string">&#x27;()&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> f(x)</span><br><span class="line">    <span class="keyword">return</span> fn</span><br><span class="line"><span class="comment"># 调用方法1 </span></span><br><span class="line">g1 = new_fn(f1)</span><br><span class="line"><span class="built_in">print</span> g1(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 调用方法2</span></span><br><span class="line">f1 = new_fn(f1)</span><br><span class="line"><span class="built_in">print</span> f1(<span class="number">5</span>)         <span class="comment"># 彻底隐藏f1的原始定义函数</span></span><br></pre></td></tr></table></figure>
<p>作用：极大简化代码，避免每个函数编写重复性代码。<br>比如：  </p>
<blockquote>
<p>   打印日志：@log;<br>   检测性能：@performance;<br>   数据库事务：@transaction;<br>   URL路由：@post(‘/register’);  </p>
</blockquote>
<p>内置<code>@语法</code>就是为了<code>简化</code>装饰器的调用。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@new_fn</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span> f1(<span class="number">10</span>)    <span class="comment"># &#x27;call f1()&#x27; 20 </span></span><br><span class="line"><span class="comment"># 等价于</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*<span class="number">2</span></span><br><span class="line">f1 = new_fn(f1)</span><br></pre></td></tr></table></figure>

<h4 id="13、无参数的装饰器-（decorator）"><a href="#13、无参数的装饰器-（decorator）" class="headerlink" title="13、无参数的装饰器 （decorator）"></a>13、无参数的装饰器 （decorator）</h4><p>Python的 <code>decorator</code> 本质上就是一个<code>高阶函数</code>，它接收一个函数作为参数，然后，返回一个新函数。<br>使用 <code>decorator</code> 用Python提供的 <code>@</code> 语法，这样可以避免手动编写 <code>f = decorate(f)</code> 这样的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;call &#x27;</span> + f.__name__ + <span class="string">&#x27;()...&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> f(x)</span><br><span class="line">    <span class="keyword">return</span> fn</span><br><span class="line"><span class="meta">@log</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x,y: x*y, <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span> factorial(<span class="number">10</span>)     <span class="comment"># call factorial()...      3628800</span></span><br></pre></td></tr></table></figure>
<p>若参数不是一个函数，调用将报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@log</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="built_in">print</span> add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">#报错：</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    File <span class="string">&quot;test.py&quot;</span>, line <span class="number">15</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">        <span class="built_in">print</span> add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">TypeError: fn() takes exactly <span class="number">1</span> argument (<span class="number">2</span> given)</span><br></pre></td></tr></table></figure>
<p>因为 <code>add()</code> 函数需要传入两个参数，但是 @log 写死了只含一个参数的返回函数。<br>要让 <code>@log</code> 自适应任何参数定义的函数，可以利用<code>Python</code>的 <code>*args</code> 和 <code>**kw</code>，保证任意个数的参数总是能正常调用：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">*args, **kw</span>):</span></span><br><span class="line">      <span class="built_in">print</span> <span class="string">&#x27;call &#x27;</span> + f.__name__ + <span class="string">&#x27;()...&#x27;</span></span><br><span class="line">      <span class="keyword">return</span> f(*args, **kw)</span><br><span class="line">   <span class="keyword">return</span> fn</span><br></pre></td></tr></table></figure>
<p>现在，对于任意函数，<code>@log</code> 都能正常工作。<br>案例：<br>请编写一个@performance，它可以打印出函数调用的时间。   </p>
<blockquote>
<p>time模块介绍 <a target="_blank" rel="noopener" href="http://www.jb51.net/article/49326.htm">点击查看</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">performance</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">*args,**kw</span>):</span></span><br><span class="line">        t1 = time.time()</span><br><span class="line">        r = f(*args,**kw)</span><br><span class="line">        t2 = time.time()</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;call %s() in %fs&#x27;</span> % (f.__name__, (t2 - t1))</span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line">    <span class="keyword">return</span> fn</span><br><span class="line"><span class="meta">@performance</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x,y: x*y, <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span> factorial(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<h4 id="14、有参数的装饰器（decorator）"><a href="#14、有参数的装饰器（decorator）" class="headerlink" title="14、有参数的装饰器（decorator）"></a>14、有参数的装饰器（decorator）</h4><p>实现效果比如：如果有的函数非常重要，希望打印出<code>&#39;[INFO] call xxx()...&#39;</code>，有的函数不太重要，希望打印出<code>&#39;[DEBUG] call xxx()...&#39;</code>，这时，<code>log函数</code>本身就需要传入<code>&#39;INFO&#39;</code>或<code>&#39;DEBUG&#39;</code>这样的参数，类似这样：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@log(<span class="params"><span class="string">&#x27;DEBUG&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_func</span>():</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>把上面的定义翻译成高阶函数的调用，就是  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my_func = log(<span class="string">&#x27;DEBUG&#x27;</span>)(my_func)</span><br></pre></td></tr></table></figure>
<p>上面的语句看上去还是比较绕，再展开一下：    </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log_decorator = log(<span class="string">&#x27;DEBUG&#x27;</span>)</span><br><span class="line">my_func = log_decorator(my_func)</span><br></pre></td></tr></table></figure>
<p>上面的语句又相当于：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">log_decorator = log(<span class="string">&#x27;DEBUG&#x27;</span>)</span><br><span class="line"><span class="meta">@log_decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_func</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>所以，带参数的<code>log函数</code>首先返回一个<code>decorator</code>函数，再让这个<code>decorator函数</code>接收<code>my_func</code>并返回新函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">prefix</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log_decorator</span>(<span class="params">f</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kw</span>):</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;[%s] %s()...&#x27;</span> % (prefix, f.__name__)</span><br><span class="line">            <span class="keyword">return</span> f(*args, **kw)</span><br><span class="line">        <span class="keyword">return</span> wrapper</span><br><span class="line">    <span class="keyword">return</span> log_decorator</span><br><span class="line"></span><br><span class="line"><span class="meta">@log(<span class="params"><span class="string">&#x27;DEBUG&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span> test()</span><br><span class="line"><span class="comment"># 执行结果</span></span><br><span class="line">[DEBUG] test()...</span><br><span class="line"><span class="literal">None</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>上一节的<code>@performance</code>只能打印秒，请给 <code>@performace</code> 增加一个参数，允许传入<code>&#39;s&#39;</code>或<code>&#39;ms&#39;</code>：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">performance</span>(<span class="params">unit</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">perf_decorator</span>(<span class="params">f</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kw</span>):</span></span><br><span class="line">            t1 = time.time()</span><br><span class="line">           r = f(*args, **kw)</span><br><span class="line">           t2 = time.time()</span><br><span class="line">           t = (t2 - t1) * <span class="number">1000</span> <span class="keyword">if</span> unit==<span class="string">&#x27;ms&#x27;</span> <span class="keyword">else</span> (t2 - t1)</span><br><span class="line">           <span class="built_in">print</span> <span class="string">&#x27;call %s() in %f %s&#x27;</span> % (f.__name__, t, unit)</span><br><span class="line">           <span class="keyword">return</span> r</span><br><span class="line">       <span class="keyword">return</span> wrapper</span><br><span class="line">    <span class="keyword">return</span> perf_decorator</span><br><span class="line"><span class="meta">@performance(<span class="params"><span class="string">&#x27;ms&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x,y: x*y, <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span> factorial(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h4 id="15、完善decorator"><a href="#15、完善decorator" class="headerlink" title="15、完善decorator"></a>15、完善decorator</h4><p><code>@decorator 可以动态实现函数功能的增加，但是，经过 </code>@decorator <code>“改造”后的函数，和原函数相比，除了功能多一点外，有没有其它不同的地方？    在没有</code>decorator`的情况，打印函数名  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span> f1.__name__   <span class="comment"># f1</span></span><br></pre></td></tr></table></figure>
<p>在有<code>decorator</code>的情况下，打印函数名：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args,**kw</span>)</span></span><br><span class="line"><span class="function">       <span class="title">print</span> &#x27;<span class="title">call</span>...&#x27;</span></span><br><span class="line"><span class="function">       <span class="title">return</span> <span class="title">f</span>(<span class="params">*args,**kw</span>)</span></span><br><span class="line"><span class="function">       <span class="title">return</span> <span class="title">wrapper</span></span></span><br><span class="line"><span class="function">@<span class="title">log</span></span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">f2</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span> f2.__name__           <span class="comment"># wrapper</span></span><br></pre></td></tr></table></figure>
<p>可见，由于 <code>decorator</code> 返回的新函数函数名已经不是 <code>&#39;f2&#39;</code> ，而是 <code>@log</code> 内部定义的 <code>&#39;wrapper&#39;</code> 。<br>如果要让调用者看不出一个函数经过了 <code>@decorator</code> 的“改造”，就需要使用Python内置的 <code>functools</code> ，自动把原函数的一些属性复制到新函数中。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">f</span>):</span></span><br><span class="line"><span class="meta">    @functools.wraps(<span class="params">f</span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args,**kw</span>)</span></span><br><span class="line"><span class="function">        <span class="title">print</span> &#x27;<span class="title">call</span>...&#x27;</span></span><br><span class="line"><span class="function">        <span class="title">return</span> <span class="title">f</span>(<span class="params">*args,**kw</span>)</span></span><br><span class="line"><span class="function">       <span class="title">return</span> <span class="title">wrapper</span></span></span><br></pre></td></tr></table></figure>
<p>最后需要指出，由于我们把原函数签名改成了<code>(*args, **kw)</code>，因此，无法获得原函数的原始参数信息。<br>即便我们采用固定参数来装饰<code>只有一个参数</code>的函数：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">f</span>):</span></span><br><span class="line"><span class="meta">    @functools.wraps(<span class="params">f</span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;call...&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> f(x)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<p>也可能改变原函数的参数名，因为新函数的参数名始终是 <code>&#39;x&#39;</code>，原函数定义的参数名不一定叫 <code>&#39;x&#39;</code>。   </p>
<h4 id="16、偏函数"><a href="#16、偏函数" class="headerlink" title="16、偏函数"></a>16、偏函数</h4><p>当一个函数有<code>很多参数</code>时，调用者就需要提供多个参数。如果减少参数个数，就可以简化调用者的负担。<br>如：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># int() 函数可以把字符串转换为整数，当仅传入字符串时，int()函数默认按十进制转换：</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;12345&#x27;</span>)                   <span class="comment">#  12345</span></span><br><span class="line"><span class="comment"># int()函数还提供额外的base参数，默认值为10。如果传入base参数，就可以做 N 进制的转换：</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;12345&#x27;</span>, base=<span class="number">8</span>)           <span class="comment"># 5349</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;12345&#x27;</span>, <span class="number">16</span>)               <span class="comment"># 74565</span></span><br></pre></td></tr></table></figure>
<p>假设要转换大量的二进制字符串，每次都传入<code>int(x, base=2)</code>非常麻烦，<br>于是，我们定义一个<code>int2()</code>的函数，默认把<code>base=2</code>传进去：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">int2</span>(<span class="params">x, base=<span class="number">2</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(x, base)</span><br><span class="line">int2(<span class="string">&#x27;1000000&#x27;</span>)       <span class="comment"># 64</span></span><br><span class="line">int2(<span class="string">&#x27;1000000&#x27;</span>)       <span class="comment"># 85</span></span><br></pre></td></tr></table></figure>
<p><code>functools.partial</code>就是帮助我们创建一个<code>偏函数</code>的，不需要我们自己定义<code>int2()</code>，<br>可以直接使用下面的代码创建一个新的函数 <code>int2</code>：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">int2 = functools.partial(<span class="built_in">int</span>, base=<span class="number">2</span>)</span><br><span class="line">int2(<span class="string">&#x27;1000000&#x27;</span>)       <span class="comment"># 64</span></span><br><span class="line">int2(<span class="string">&#x27;1000000&#x27;</span>)       <span class="comment"># 85</span></span><br></pre></td></tr></table></figure>
<p>所以，<code>functools.partial</code> 可以把一个参数多的函数变成一个参数少的新函数，少的参数需要在创建时指定默认值，这样，新函数调用的难度就降低了。<br>案例：<br>在sorted这个高阶函数中传入自定义排序函数就可以实现忽略大小写排序。请用 <code>functools.partial</code> 把这个复杂调用变成一个简单的函数：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">sorted_ignore_case = functools.partial(<span class="built_in">sorted</span>,cmp=<span class="keyword">lambda</span> s1,s2:cmp(s1.upper(),s2.upper()))</span><br><span class="line"><span class="built_in">print</span> sorted_ignore_case([<span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;Zoo&#x27;</span>, <span class="string">&#x27;Credit&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p>关于functools.partial    <a target="_blank" rel="noopener" href="https://www.the5fire.com/python-functools-partial.html">点击阅读详细介绍</a><br>关于cmp()方法            <a target="_blank" rel="noopener" href="http://www.runoob.com/python/func-number-cmp.html">点击阅读详细介绍</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/4-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/" data-id="ckts3ejzb00nz4d9ke03y29q7" data-title="4-【Python】慕课网视频笔记（四）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-3-【Python】慕课网视频笔记（三）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/3-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:49:01.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/3-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/">3-【Python】慕课网视频笔记（三）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python学习（三）函数方法等"><a href="#Python学习（三）函数方法等" class="headerlink" title="Python学习（三）函数方法等"></a>Python学习（三）函数方法等</h1><h2 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h2><blockquote>
<p>廖雪峰 Python入门 慕课网：<a target="_blank" rel="noopener" href="http://www.imooc.com/learn/177">点击打开</a></p>
</blockquote>
<h2 id="二、基础知识"><a href="#二、基础知识" class="headerlink" title="二、基础知识"></a>二、基础知识</h2><h3 id="1、函数"><a href="#1、函数" class="headerlink" title="1、函数"></a>1、函数</h3><blockquote>
<p><a target="_blank" rel="noopener" href="http://docs.python.org/2/library/functions.html">官方文档</a>    </p>
</blockquote>
<p>参数数量不对直接报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(<span class="number">1</span>)      <span class="comment"># 正确</span></span><br><span class="line"><span class="built_in">abs</span>(<span class="number">1</span>,<span class="number">2</span>)    <span class="comment"># 错误 因为abs有且仅有1个参数</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;123&#x27;</span>)  <span class="comment"># 123</span></span><br><span class="line"><span class="built_in">str</span>(<span class="number">123</span>)    <span class="comment"># &#x27;123&#x27;</span></span><br><span class="line">cmp(<span class="number">1</span>,<span class="number">2</span>)    <span class="comment"># -1   如果x&lt;y则返回-1,如果x=y则返回0,如果x&gt;y则返回1</span></span><br></pre></td></tr></table></figure>

<p>** a、编写函数：**<br>定义一个函数，需要使用<code>def语句</code> 然后依次写函数名、括号、括号中的参数和冒号，然后缩进块中写函数体，函数的返回用<code>return</code>语句。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square_of_sum</span>(<span class="params">L</span>):</span></span><br><span class="line">    H = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">id</span> <span class="keyword">in</span> L:</span><br><span class="line">        H += <span class="built_in">id</span>*<span class="built_in">id</span></span><br><span class="line">    <span class="keyword">return</span> H</span><br><span class="line"><span class="built_in">print</span> square_of_sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span> square_of_sum([-<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">25</span>])</span><br></pre></td></tr></table></figure>
<p>** b、返回多值 **<br>Python的函数返回多值其实就是返回一个 <code>tuple</code> , 但写起来更方便。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math        <span class="comment"># math 包提供了sin()和cos()函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span>(<span class="params">x,y,step,anlge</span>):</span></span><br><span class="line">    nx = x + step*math.cos(angle)</span><br><span class="line">    ny = y - step*math.sin(angle)</span><br><span class="line">    <span class="keyword">return</span> nx,ny</span><br><span class="line">x,y = (<span class="number">100</span>,<span class="number">100</span>,<span class="number">60</span>,math.pi/<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span> x,y                   <span class="comment"># 151.961524227  70.0</span></span><br><span class="line">r = (<span class="number">100</span>,<span class="number">100</span>,<span class="number">60</span>,math.pi/<span class="number">6</span>)  <span class="comment"># 其实这是假象，python返回的任然是单一值</span></span><br><span class="line"><span class="built_in">print</span> r                     <span class="comment"># (151.961524227, 70.0)  看得出结果是个tuple</span></span><br></pre></td></tr></table></figure>
<p>用<code>print</code>打印返回结果，原来返回值是一个 <code>tuple</code> ！<br>但是，在语法上，返回一个<code>tuple</code>可以省略括号，而多个变量可以同时接收一个<code>tuple</code>，按位置赋给对应的值，所以，Python的函数返回多值其实就是返回一个<code>tuple</code>，但写起来更方便。<br>计算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求一元二次方程的定义是：ax² + bx + c = 0 的两个解：</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quadratic_equation</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">    <span class="keyword">if</span> b**<span class="number">2</span>-<span class="number">4</span>*a*c &gt;= <span class="number">0</span>:    <span class="comment"># b**2-4*a*c 小于0就会无解</span></span><br><span class="line">        he = b**<span class="number">2</span>-<span class="number">4</span>*a*c</span><br><span class="line">        x = (-b+math.sqrt(he))/(<span class="number">2</span>*a)</span><br><span class="line">        y = (-b-math.sqrt(he))/(<span class="number">2</span>*a)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        y = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> x,y</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> quadratic_equation(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span> quadratic_equation(<span class="number">1</span>, -<span class="number">6</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p>** c、递归函数 **<br>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是<code>递归函数</code>。<br>如计算阶乘 n! = 1 * 2 * 3 * … * n：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fact(n) = n! = <span class="number">1</span> * <span class="number">2</span> * <span class="number">3</span> * ... * (n-<span class="number">1</span>) * n = (n-<span class="number">1</span>)! * n = fact(n-<span class="number">1</span>) * n</span><br></pre></td></tr></table></figure>
<p>所以，<code>fact(n)</code>可以表示为 <code>n * fact(n-1)</code>，只有<code>n=1</code>时需要特殊处理。<br>于是，<code>fact(n)</code>用递归的方式写出来就是：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br><span class="line">fact(<span class="number">5</span>)     <span class="comment"># 120</span></span><br></pre></td></tr></table></figure>
<p>计算过程如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">===&gt; fact(<span class="number">5</span>)</span><br><span class="line">===&gt; <span class="number">5</span> * fact(<span class="number">4</span>)</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * fact(<span class="number">3</span>))</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * (<span class="number">3</span> * fact(<span class="number">2</span>)))</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * (<span class="number">3</span> * (<span class="number">2</span> * fact(<span class="number">1</span>))))</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * (<span class="number">3</span> * (<span class="number">2</span> * <span class="number">1</span>)))</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * (<span class="number">3</span> * <span class="number">2</span>))</span><br><span class="line">===&gt; <span class="number">5</span> * (<span class="number">4</span> * <span class="number">6</span>)</span><br><span class="line">===&gt; <span class="number">5</span> * <span class="number">24</span></span><br><span class="line">===&gt; <span class="number">120</span></span><br></pre></td></tr></table></figure>
<p>递归函数的优点是<code>定义简单</code>，<code>逻辑清晰</code>。理论上，所有的递归函数都可以写成<code>循环</code>的方式，但循环的逻辑不如递归清晰。<br><code>使用递归函数需要注意防止栈溢出</code>。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。<br>由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出。可以试试计算 fact(10000)。<br>汉诺塔案例：<br><a target="_blank" rel="noopener" href="http://baike.baidu.com/view/191666.htm">汉诺塔</a>的移动也可以看做是递归函数。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">我们对柱子编号为a, b, c，将所有圆盘从a移到c可以描述为：  </span><br><span class="line">如果a只有一个圆盘，可以直接移动到c；   </span><br><span class="line">如果a有N个圆盘，可以看成a有1个圆盘（底盘） + (N-1)个圆盘，首先需要把 (N-1) 个圆盘移动到 b，  </span><br><span class="line">然后将a的最后一个圆盘移动到c，再将b的(N-1)个圆盘移动到c。</span><br></pre></td></tr></table></figure>
<p>代码实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># move(n, a, b, c)表示的是有n个盘子在a柱子上，将要移到b柱子上面去</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span>(<span class="params">n, a, b, c</span>):</span></span><br><span class="line"><span class="comment"># 如果a柱子上面只有一个盘子，则直接移到c柱子上面去并输出路径，结束递归</span></span><br><span class="line"><span class="keyword">if</span> n == <span class="number">1</span>:  </span><br><span class="line">    <span class="built_in">print</span> a, <span class="string">&#x27;--&gt;&#x27;</span>, c</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># 表示的是将n-1的盘子从a柱子上面移到b柱子上面去</span></span><br><span class="line">    move(n-<span class="number">1</span>, a, c, b)</span><br><span class="line">    <span class="comment"># 输出最下面个盘子移从a移到c的路径</span></span><br><span class="line">    <span class="built_in">print</span> a, <span class="string">&#x27;--&gt;&#x27;</span>, c</span><br><span class="line">    <span class="comment"># 将b柱子上面的n-1个盘子移动到c柱子上面</span></span><br><span class="line">    move(n-<span class="number">1</span>, b, a, c)</span><br><span class="line"><span class="comment"># 执行</span></span><br><span class="line">move(<span class="number">4</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>** d、默认参数 **<br>函数的默认参数的作用是<code>简化调用</code>，当少传或没传参数的时候，函数会以默认参数进行调用。<br>例如，定义一个计算<code>x的N次方</code>的函数：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span>(<span class="params">x,n = <span class="number">2</span></span>):</span>   <span class="comment"># 默认设置 n = 2</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    whild n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"><span class="built_in">print</span> power(<span class="number">5</span>)        <span class="comment"># 25</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：默认参数只能定义在必需参数的后面  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># OK:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn1</span>(<span class="params">a, b=<span class="number">1</span>, c=<span class="number">2</span></span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># Error:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn2</span>(<span class="params">a=<span class="number">1</span>, b</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>案例:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet</span>(<span class="params">name=<span class="string">&#x27;world&#x27;</span></span>):</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Hello,&#x27;</span>,name</span><br><span class="line"></span><br><span class="line">greet()              <span class="comment"># Hello,world</span></span><br><span class="line">greet(<span class="string">&#x27;Bart&#x27;</span>)        <span class="comment"># Hello,Bart</span></span><br></pre></td></tr></table></figure>
<p>** e、可变参数 **<br>如果想让一个函数能接受<code>任意个参数</code>，我们就可以定义一个可变参数。<br>可变参数的名字前面有个 <code>*</code> 号，我们可以传入0个、1个或多个参数给可变参数。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="built_in">print</span> args</span><br><span class="line">fn()              <span class="comment"># ()</span></span><br><span class="line">fn(<span class="string">&#x27;a&#x27;</span>)           <span class="comment"># (&#x27;a&#x27;,)</span></span><br><span class="line">fn(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)       <span class="comment"># (&#x27;a&#x27;,&#x27;b&#x27;)</span></span><br></pre></td></tr></table></figure>
<p>python解释器会把传入的一组参数组装成一个<code>tuple</code>传递给可变参数，因此，在函数内部，直接把变量<code>args</code>看成一个<code>tuple</code>就好。<br>定义可变参数的目的也是为了<code>简化调用</code>。<br>求平均数案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(args)!=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(args)*<span class="number">1.0</span>/<span class="built_in">len</span>(args)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.0</span></span><br><span class="line"><span class="built_in">print</span> average()</span><br><span class="line"><span class="built_in">print</span> average(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span> average(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2、对list进行切片"><a href="#2、对list进行切片" class="headerlink" title="2、对list进行切片"></a>2、对list进行切片</h3><p>对list制定索引范围进行取值，即使用切片。<br>如：<br>a、<code>L[0:3]</code> 表示索引从0开始，知道索引<code>3</code>结束， 不包括<code>3</code>，也可以<code>L[1:3]</code>；<br>b、<code>L[:3]</code>并且如果第一个索引如果是<code>0</code>，可以省略 ;<br>c、<code>L[:2]</code>从<code>头</code>到<code>2</code>，不包括<code>2</code>，<code>L[2:]</code>从<code>2</code>到<code>尾</code>，包括<code>2</code>；<br>d、<code>L[:]</code>表示<code>从头到尾</code><br>e、<code>L[::2]</code>表示每间隔2个取一个，也就是<code>隔一取一 </code>   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>];  </span><br><span class="line">L[<span class="number">0</span>:<span class="number">3</span>]    <span class="comment"># 取索引0-3之前的值  返回[&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;]</span></span><br><span class="line">L[:<span class="number">3</span>]     <span class="comment"># 取索引0-3之前的值  返回[&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;] 默认0开始的可以省略0</span></span><br></pre></td></tr></table></figure>
<p>倒序切片：<br>记住<code>倒数第一个</code>元素的索引是<code>-1</code>，倒序切片包含起始索引，不包含结束索引。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>];</span><br><span class="line">L[-<span class="number">2</span>:]           <span class="comment"># [&#x27;D&#x27;,&#x27;E&#x27;]</span></span><br><span class="line">L[:-<span class="number">2</span>]           <span class="comment"># [&#x27;A&#x27;,&#x27;B&#x27;]</span></span><br><span class="line">L[-<span class="number">3</span>:-<span class="number">1</span>]         <span class="comment"># [&#x27;C&#x27;,&#x27;D&#x27;]</span></span><br><span class="line">L[-<span class="number">4</span>:-<span class="number">1</span>:<span class="number">2</span>]       <span class="comment"># [&#x27;A&#x27;,&#x27;C&#x27;,&#x27;E&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>利用倒序切片对 <code>1 - 100</code> 的数列取出： 最后10个数； 最后10个5的倍数。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>)</span><br><span class="line"><span class="built_in">print</span> L[-<span class="number">10</span>:]            <span class="comment">#  [91, 92, 93, 94, 95, 96, 97, 98, 99, 100]</span></span><br><span class="line"><span class="built_in">print</span> L[<span class="number">4</span>::<span class="number">5</span>][-<span class="number">10</span>:]      <span class="comment">#  [55, 60, 65, 70, 75, 80, 85, 90, 95, 100]</span></span><br></pre></td></tr></table></figure>
<h3 id="3、对tuple进行切片"><a href="#3、对tuple进行切片" class="headerlink" title="3、对tuple进行切片"></a>3、对tuple进行切片</h3><p>与对<code>list</code>切片完全一致，只是结果是<code>tuple</code>.<br>案例：<br>从<code>0-100</code>之间，取出<code>前10</code>个数；3的倍数；不大于50的5的倍数。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">L = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>)</span><br><span class="line"><span class="built_in">print</span> L[<span class="number">0</span>:<span class="number">10</span>]    <span class="comment"># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"><span class="built_in">print</span> L[<span class="number">2</span>::<span class="number">3</span>]    <span class="comment"># [3, 6, 9, 12, 15,..., 99]</span></span><br><span class="line"><span class="built_in">print</span> L[<span class="number">4</span>:<span class="number">50</span>:<span class="number">5</span>]  <span class="comment"># [5, 10, 15, 20,..., 45, 50]</span></span><br></pre></td></tr></table></figure>
<h3 id="4、对字符串进行切片"><a href="#4、对字符串进行切片" class="headerlink" title="4、对字符串进行切片"></a>4、对字符串进行切片</h3><p>字符串 <code>&#39;xxx&#39;</code>和 <code>Unicode字符串</code> u’xxx’也可以看成是一种<code>list</code>，每个元素就是一个字符。<br>因此，字符串也可以用切片操作，只是操作结果仍是字符串：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ABCDEFG&#x27;</span>[:<span class="number">3</span>]             <span class="comment">#  &#x27;ABC&#x27;</span></span><br><span class="line"><span class="string">&#x27;ABCDEFG&#x27;</span>[-<span class="number">3</span>:]            <span class="comment">#  &#x27;EFG&#x27;</span></span><br><span class="line"><span class="string">&#x27;ABCDEFG&#x27;</span>[::<span class="number">2</span>]            <span class="comment">#  &#x27;ACEG&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Python没有针对字符串的截取函数，只需要切片一个操作就可以完成，非常简单。<br>案例：<br>设计一个函数，它接受一个字符串，然后返回一个仅首字母变成大写的字符串。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">firstCharUpper</span>(<span class="params">s</span>):</span>                </span><br><span class="line">    <span class="keyword">return</span> s[:<span class="number">1</span>].upper()+s[<span class="number">1</span>:]        <span class="comment">#  upper() 方法可以把字符变成大写字母</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> firstCharUpper(<span class="string">&#x27;hello&#x27;</span>)         <span class="comment">#  Hello</span></span><br><span class="line"><span class="built_in">print</span> firstCharUpper(<span class="string">&#x27;sunday&#x27;</span>)        <span class="comment">#  Sunday</span></span><br><span class="line"><span class="built_in">print</span> firstCharUpper(<span class="string">&#x27;september&#x27;</span>)     <span class="comment">#  September</span></span><br></pre></td></tr></table></figure>



<h3 id="5、迭代介绍"><a href="#5、迭代介绍" class="headerlink" title="5、迭代介绍"></a>5、迭代介绍</h3><p>在Python中，如果给定一个<code>list</code>或<code>tuple</code>，我们可以通过<code>for..in循环</code>来遍历这个<code>list</code>或<code>tuple</code>，这种遍历我们成为<code>迭代（Iteration）</code>。<br>迭代操作就是对于一个集合，无论该集合是有序还是无序，我们用 <code>for..in 循环</code>总是可以依次取出集合的每一个元素。<br>注意: 集合是指包含一组元素的数据结构，我们已经介绍的包括：  </p>
<blockquote>
<ol>
<li>有序集合：list，tuple，str和unicode；</li>
<li>无序集合：set</li>
<li>无序集合并且具有 key-value 对：dict<br>而迭代是一个动词，它指的是一种操作，在Python中，就是 for 循环。<br>案例：<br>请用for循环迭代数列 <code>1-100</code> 并打印出7的倍数。   </li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>)[<span class="number">6</span>::<span class="number">7</span>]:</span><br><span class="line">    <span class="built_in">print</span> i </span><br></pre></td></tr></table></figure>
<h4 id="6、索引迭代"><a href="#6、索引迭代" class="headerlink" title="6、索引迭代"></a>6、索引迭代</h4><p>Python中，迭代永远是取出元素本身，而非元素的索引。<br>对于有序集合，元素确实是有索引的。有的时候，我们确实想在 for 循环中拿到索引，怎么办？<br>方法是使用 <code>enumerate()函数</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&#x27;Adam&#x27;</span>, <span class="string">&#x27;Lisa&#x27;</span>, <span class="string">&#x27;Bart&#x27;</span>, <span class="string">&#x27;Paul&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> index, name <span class="keyword">in</span> <span class="built_in">enumerate</span>(L):</span><br><span class="line">    <span class="built_in">print</span> index, <span class="string">&#x27;-&#x27;</span>, name</span><br><span class="line"><span class="number">0</span> - Adam</span><br><span class="line"><span class="number">1</span> - Lisa</span><br><span class="line"><span class="number">2</span> - Bart</span><br><span class="line"><span class="number">3</span> - Paul</span><br></pre></td></tr></table></figure>
<p>使用 <code>enumerate() 函数</code>，我们可以在for循环中同时绑定索引<code>index</code>和元素<code>name</code>。<br>实际上是将：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;Adam&#x27;</span>, <span class="string">&#x27;Lisa&#x27;</span>, <span class="string">&#x27;Bart&#x27;</span>, <span class="string">&#x27;Paul&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>变成类似：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="number">0</span>, <span class="string">&#x27;Adam&#x27;</span>), (<span class="number">1</span>, <span class="string">&#x27;Lisa&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;Bart&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;Paul&#x27;</span>)]</span><br></pre></td></tr></table></figure>
<p>因此，迭代的每一个元素实际上是一个<code>tuple</code>：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">enumerate</span>(L):</span><br><span class="line">    index = t[<span class="number">0</span>]</span><br><span class="line">    name = t[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span> index, <span class="string">&#x27;-&#x27;</span>, name</span><br></pre></td></tr></table></figure>
<p>如果我们知道每个tuple元素都包含两个元素，for循环又可以进一步简写为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index, name <span class="keyword">in</span> <span class="built_in">enumerate</span>(L):</span><br><span class="line">    <span class="built_in">print</span> index, <span class="string">&#x27;-&#x27;</span>, name</span><br></pre></td></tr></table></figure>
<p>这样不但代码更简单，而且还少了两条赋值语句。<br>可见，索引迭代也不是真的按索引访问，而是由 <code>enumerate() 函数</code>自动把每个元素变成 <code>(index, element)</code> 这样的<code>tuple</code>，再迭代，就同时获得了索引和元素本身。<br>额外知识点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">zip</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>], [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>])       <span class="comment">#   [(10, &#x27;A&#x27;), (20, &#x27;B&#x27;), (30, &#x27;C&#x27;)]</span></span><br></pre></td></tr></table></figure>
<p>zip()函数可以把两个 list 变成一个 list：<br>案例：<br>在迭代 [‘Adam’, ‘Lisa’, ‘Bart’, ‘Paul’] 时，如果我们想打印出<code>名次 - 名字</code>（名次从1开始)，请考虑如何在迭代中打印出来。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&#x27;Adam&#x27;</span>, <span class="string">&#x27;Lisa&#x27;</span>, <span class="string">&#x27;Bart&#x27;</span>, <span class="string">&#x27;Paul&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> index, name <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(L)+<span class="number">1</span>),L):</span><br><span class="line">    <span class="built_in">print</span> index, <span class="string">&#x27;-&#x27;</span>, name</span><br></pre></td></tr></table></figure>
<h3 id="7、迭代dict的value"><a href="#7、迭代dict的value" class="headerlink" title="7、迭代dict的value"></a>7、迭代dict的value</h3><p><code>dict对象</code>本身就是可<code>迭代对象</code>，用 <code>for 循环</code>直接迭代 <code>dict</code>，可以每次拿到<code>dict</code>的一个<code>key</code>。<br><code>dict对象</code>有一个 <code>values()</code> 方法，这个方法把<code>dict</code>转换成一个包含<code>所有value的list</code>，这样，我们迭代的就是 dict的每一个 value：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span> &#125;</span><br><span class="line"><span class="built_in">print</span> d.values()      <span class="comment"># [85, 95, 59]</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> d.values(): </span><br><span class="line">    <span class="built_in">print</span> v           <span class="comment"># 85  95  59</span></span><br></pre></td></tr></table></figure>
<p>还有一个 <code>itervalues()</code> 方法，替代 <code>values()</code> 方法，迭代效果完全一样： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span> &#125;</span><br><span class="line"><span class="built_in">print</span> d.itervalues()      <span class="comment">#  &lt;dictionary-valueiterator object at 0x106adbb50&gt;</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> d.itervalues(): </span><br><span class="line">    <span class="built_in">print</span> v               <span class="comment">#  85  95  59</span></span><br></pre></td></tr></table></figure>
<p>两个方法区别：  </p>
<blockquote>
<ol>
<li>values() 方法实际上把一个 dict 转换成了包含 value 的list。  </li>
<li>itervalues() 方法不会转换，它会在迭代过程中依次从 dict 中取出 value。<br>所以 itervalues() 方法比 values() 方法节省了生成 list 所需的内存。  </li>
<li>打印 itervalues() 发现它返回一个 <dictionary-valueiterator> 对象，这说明在Python中，for 循环可作用的迭代对象远不止 list，tuple，str，unicode，dict等，任何可迭代对象都可以作用于for循环，而内部如何迭代我们通常并不用关心。  </li>
</ol>
</blockquote>
<p>如果一个对象说自己可迭代，那我们就直接用 for 循环去迭代它，可见，迭代是一种抽象的数据操作，它不对迭代对象内部的数据有任何要求。  </p>
<p>案例：<br>给定一个dict：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span>, <span class="string">&#x27;Paul&#x27;</span>: <span class="number">74</span> &#125;</span><br></pre></td></tr></table></figure>
<p>请计算所有同学的平均分。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span>, <span class="string">&#x27;Paul&#x27;</span>: <span class="number">74</span> &#125;</span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> d.values():</span><br><span class="line">    <span class="built_in">sum</span> += k</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">sum</span>/<span class="built_in">len</span>(d)     <span class="comment">#  78.25</span></span><br></pre></td></tr></table></figure>



<h3 id="8、迭代dict的key和value"><a href="#8、迭代dict的key和value" class="headerlink" title="8、迭代dict的key和value"></a>8、迭代dict的key和value</h3><p>通过<code>dict对象</code>的 <code>items()</code> 方法，把<code>dict对象</code>转换成了包含<code>tuple</code>的<code>list</code>，我们对这个<code>list</code>进行迭代，可以同时获得<code>key</code>和<code>value</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span> &#125;</span><br><span class="line"><span class="built_in">print</span> d.items()      <span class="comment">#  [(&#x27;Lisa&#x27;, 85), (&#x27;Adam&#x27;, 95), (&#x27;Bart&#x27;, 59)]</span></span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span> key,<span class="string">&#x27;:&#x27;</span>,<span class="string">&#x27;value&#x27;</span></span><br></pre></td></tr></table></figure>
<p>和 <code>values()</code> 有一个 <code>itervalues()</code> 类似， <code>items()</code>也有一个对应的 <code>iteritems()</code>，<code>iteritems()</code> 不把<code>dict</code>转换成<code>list</code>，而是在迭代过程中不断给出 <code>tuple</code>，所以，<code>iteritems()</code> 不占用额外的内存。<br>案例：<br>打印出name:scroe,最后在打印出平均分average : score；   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span>, <span class="string">&#x27;Paul&#x27;</span>: <span class="number">74</span> &#125;</span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">sum</span> = <span class="built_in">sum</span> + v</span><br><span class="line">    <span class="built_in">print</span> k,<span class="string">&#x27;:&#x27;</span>,v</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;average&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, <span class="built_in">sum</span>/<span class="built_in">len</span>(d)</span><br></pre></td></tr></table></figure>
<h3 id="9、生成列表"><a href="#9、生成列表" class="headerlink" title="9、生成列表"></a>9、生成列表</h3><p>使用 <code>range(1,11)</code> 生成 list <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)   <span class="comment"># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br></pre></td></tr></table></figure>
<p>生成类似 <code>[1x1, 2x2, 3x3, ..., 10x10] </code><br>方法一：<br>循环：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>):</span><br><span class="line">    L.append(x*x)  <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure>
<p>方法二：<br>列表生成式则可以用一行语句代替循环生成上面的<code>list</code>：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]   <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>请利用列表生成式生成列表 [1x2, 3x4, 5x6, 7x8, …, 99x100]  </p>
<blockquote>
<p>提示：range(1, 100, 2) 可以生成list [1, 3, 5, 7, 9,…]</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> [x*(x+<span class="number">1</span>) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>,<span class="number">2</span>)]</span><br></pre></td></tr></table></figure>
<h3 id="10、复杂表达式"><a href="#10、复杂表达式" class="headerlink" title="10、复杂表达式"></a>10、复杂表达式</h3><p>主要是用来生成<code>HTML</code>代码。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span> &#125;</span><br><span class="line">tds = [<span class="string">&#x27;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&#x27;</span> % (name, score) <span class="keyword">for</span> name, score <span class="keyword">in</span> d.iteritems()]</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;table&gt;&#x27;</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Score&lt;/th&gt;&lt;tr&gt;&#x27;</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;\n&#x27;</span>.join(tds)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;/table&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>注：字符串可以通过 <code>%</code> 进行格式化，用指定的参数替代 <code>%s</code>。字符串的<code>join()</code>方法可以把一个 <code>list</code> 拼接成一个<code>字符串</code>。<br>结果生成：  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>Score<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>Lisa<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>85<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>Adam<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>95<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>Bart<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>59<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>在生成的表格中，对于没有及格的同学，请把分数标记为红色。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">&#x27;Adam&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Lisa&#x27;</span>: <span class="number">85</span>, <span class="string">&#x27;Bart&#x27;</span>: <span class="number">59</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_tr</span>(<span class="params">name, score</span>):</span></span><br><span class="line">    <span class="keyword">if</span> score&gt;=<span class="number">60</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&#x27;</span> % (name, score)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td style=&quot;color:red&quot;&gt;%s&lt;/td&gt;&lt;/tr&gt;&#x27;</span> % (name, score)</span><br><span class="line">tds = [generate_tr(name, score) <span class="keyword">for</span> name, score <span class="keyword">in</span> d.iteritems()]</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;table border=&quot;1&quot;&gt;&#x27;</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Score&lt;/th&gt;&lt;tr&gt;&#x27;</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;\n&#x27;</span>.join(tds)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;&lt;/table&gt;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="11、条件过滤"><a href="#11、条件过滤" class="headerlink" title="11、条件过滤"></a>11、条件过滤</h3><p>列表生成式的 <code>for 循环</code>后面还可以加上 <code>if</code> 判断。例如：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]       <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure>
<p>如果我们只想要偶数的平方，不改动 <code>range()</code> 的情况下，可以加上 <code>if</code> 来筛选：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]      <span class="comment">#  [4, 16, 36, 64, 100]</span></span><br></pre></td></tr></table></figure>
<p>案例：<br>请编写一个函数，它接受一个 list，然后把list中的所有字符串变成大写后返回，非字符串元素将被忽略。  </p>
<blockquote>
<p>提示：</p>
<ol>
<li>isinstance(x, str) 可以判断变量 x 是否是字符串；   </li>
<li>字符串的 upper() 方法可以返回大写的字母。   </li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toUppers</span>(<span class="params">L</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [x.upper() <span class="keyword">for</span> x <span class="keyword">in</span> L <span class="keyword">if</span> <span class="built_in">isinstance</span>(x, <span class="built_in">str</span>)]</span><br><span class="line"><span class="built_in">print</span> toUppers([<span class="string">&#x27;Hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>, <span class="number">101</span>])      <span class="comment"># [&#x27;HELLO&#x27;, &#x27;WORLD&#x27;]</span></span><br></pre></td></tr></table></figure>
<h3 id="12、多层表达式"><a href="#12、多层表达式" class="headerlink" title="12、多层表达式"></a>12、多层表达式</h3><p>使用多层 for 循环来生成列表：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">m = <span class="string">&#x27;ABC&#x27;</span></span><br><span class="line">n = <span class="string">&#x27;123&#x27;</span></span><br><span class="line">[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">&#x27;ABC&#x27;</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">&#x27;123&#x27;</span>]    <span class="comment"># [&#x27;A1&#x27;, &#x27;A2&#x27;, &#x27;A3&#x27;, &#x27;B1&#x27;, &#x27;B2&#x27;, &#x27;B3&#x27;, &#x27;C1&#x27;, &#x27;C2&#x27;, &#x27;C3&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>翻译成循环代码就像下面这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">L = []</span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">&#x27;ABC&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">&#x27;123&#x27;</span>:</span><br><span class="line">            L.append(m + n)</span><br></pre></td></tr></table></figure>
<p>案例：<br>利用 3 层for循环的列表生成式，找出对称的 3 位数。例如，121 就是对称数，因为从右到左倒过来还是 121。   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> [<span class="number">100</span>*n1 +<span class="number">10</span>*n2 +n3 <span class="keyword">for</span> n1 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>) <span class="keyword">for</span> n2 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">for</span> n3 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">if</span> n1 == n3] </span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/3-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" data-id="ckts3ejz800nu4d9kfufyg60h" data-title="3-【Python】慕课网视频笔记（三）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2-【Python】慕课网视频笔记（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/2-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:43:24.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/2-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/">2-【Python】慕课网视频笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python学习（二）基础语法"><a href="#Python学习（二）基础语法" class="headerlink" title="Python学习（二）基础语法"></a>Python学习（二）基础语法</h1><h2 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h2><blockquote>
<p>廖雪峰 Python入门 慕课网：<a target="_blank" rel="noopener" href="http://www.imooc.com/learn/177">点击打开</a></p>
</blockquote>
<h2 id="二、基础知识"><a href="#二、基础知识" class="headerlink" title="二、基础知识"></a>二、基础知识</h2><h3 id="1、创建list"><a href="#1、创建list" class="headerlink" title="1、创建list"></a>1、创建list</h3><p>python内置数据类型：列表 <code>list </code>, <code>list</code> 是一种有序的集合，可以随时添加和删除其中的元素。<br><code>list</code>的元素是按照顺序排列的。<br>创建list，直接通过 <code>[ ]</code> 创建 。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;name&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;address&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>由于python是<code>动态语言</code>，所以不要求list里面必须是统一类型数据，比如：   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Leo = [ <span class="string">&quot;name&quot;</span> ,<span class="number">15</span>,<span class="literal">True</span>]</span><br></pre></td></tr></table></figure>
<p>一个元素也没有的list，就是空list</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Leo = []</span><br></pre></td></tr></table></figure>
<h3 id="2、查询list"><a href="#2、查询list" class="headerlink" title="2、查询list"></a>2、查询list</h3><h4 id="a、顺序访问list"><a href="#a、顺序访问list" class="headerlink" title="a、顺序访问list"></a>a、顺序访问list</h4><p>从第一个开始访问，索引从<code>0</code>开始，即：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;shuai&quot;</span>,<span class="string">&quot;niu&quot;</span>,<span class="string">&quot;bang&quot;</span>]</span><br><span class="line">Leo[<span class="number">0</span>]   <span class="comment"># &quot;shuai&quot;</span></span><br><span class="line">Leo[<span class="number">1</span>]   <span class="comment"># &quot;niu&quot;</span></span><br><span class="line">Leo[<span class="number">2</span>]   <span class="comment"># &quot;bang</span></span><br></pre></td></tr></table></figure>
<h4 id="b、倒序访问list"><a href="#b、倒序访问list" class="headerlink" title="b、倒序访问list"></a>b、倒序访问list</h4><p>从最后一个开始访问，即：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;shuai&quot;</span>,<span class="string">&quot;niu&quot;</span>,<span class="string">&quot;bang&quot;</span>]</span><br><span class="line">Leo[-<span class="number">1</span>]  <span class="comment"># &quot;bang&quot;</span></span><br><span class="line">Leo[-<span class="number">2</span>]  <span class="comment"># &quot;niu&quot;</span></span><br><span class="line">Leo[-<span class="number">3</span>]  <span class="comment"># &quot;shuai&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="3、添加新元素list"><a href="#3、添加新元素list" class="headerlink" title="3、添加新元素list"></a>3、添加新元素list</h3><p>** a、append()方法添加：**<br><code>append()</code>方法总是添加到 <code>list</code> 尾部   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;ni&quot;</span>,<span class="string">&quot;hao&quot;</span>,<span class="string">&quot;haha&quot;</span>]</span><br><span class="line">Leo.append(<span class="string">&quot;wo shi leo&quot;</span>)   <span class="comment"># [&quot;ni&quot;,&quot;hao&quot;,&quot;haha&quot;,&quot;wo shi leo&quot;]</span></span><br></pre></td></tr></table></figure>
<p>** b、insert()方法添加：**<br>接收两个参数，第一个是索引号，第二个是待添加的新元素：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;ni&quot;</span>,<span class="string">&quot;hao&quot;</span>,<span class="string">&quot;a&quot;</span>];</span><br><span class="line">Leo.insert(<span class="number">0</span>,<span class="string">&quot;enen&quot;</span>);      <span class="comment"># [&quot;enen&quot;,&quot;ni&quot;,&quot;hao&quot;,&quot;a&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="4、删除list元素"><a href="#4、删除list元素" class="headerlink" title="4、删除list元素"></a>4、删除list元素</h3><p>** a、<code>pop()</code> 删除最后一个，并返回这个元素  **</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;ni&quot;</span>,<span class="string">&quot;hao&quot;</span>,<span class="string">&quot;a&quot;</span>];</span><br><span class="line">Leo.pop();       <span class="comment"># &quot;a&quot;</span></span><br></pre></td></tr></table></figure>
<p>** b、<code>pop(index)</code> 删除index索引的元素，并返回这个元素 **</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;ni&quot;</span>,<span class="string">&quot;hao&quot;</span>,<span class="string">&quot;a&quot;</span>];</span><br><span class="line">Leo.pop(<span class="number">2</span>);       <span class="comment"># &quot;hao&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="5、替换元素"><a href="#5、替换元素" class="headerlink" title="5、替换元素"></a>5、替换元素</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Leo = [<span class="string">&quot;shuai&quot;</span>,<span class="string">&quot;niu&quot;</span>,<span class="string">&quot;bang&quot;</span>];</span><br><span class="line">Leo[<span class="number">1</span>] = <span class="string">&quot;haha&quot;</span> ;     <span class="comment"># [&quot;shuai&quot;,&quot;haha&quot;,&quot;bang&quot;]</span></span><br><span class="line">Leo[-<span class="number">1</span>] = <span class="string">&quot;heihei&quot;</span>;   <span class="comment"># [&quot;shuai&quot;,&quot;haha&quot;,&quot;heihei&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="6、创建多元素的tuple"><a href="#6、创建多元素的tuple" class="headerlink" title="6、创建多元素的tuple"></a>6、创建多元素的tuple</h3><p>另一种有序列表，称为<code>“元组”</code>， <code>tuple</code> 和 <code>list</code> 非常相似，但是 <code>tuple</code> 一但创建就不能修改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Leo =( <span class="string">&quot;ni&quot;</span> , <span class="string">&quot;hao&quot;</span> , <span class="string">&quot;a&quot;</span> );</span><br></pre></td></tr></table></figure>
<p>这里的Leo就不能改变，并且tuple没有 <code>append()</code> ， <code>insert()</code> 和 <code>pop()</code> 方法，不能增删tuple。<br>获取里面元素的值方法还是一样：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Leo =( <span class="string">&quot;ni&quot;</span> , <span class="string">&quot;hao&quot;</span> , <span class="string">&quot;a&quot;</span> );</span><br><span class="line">Leo[<span class="number">0</span>] ;   <span class="comment"># &quot;ni&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="7、创建单元素的tuple"><a href="#7、创建单元素的tuple" class="headerlink" title="7、创建单元素的tuple"></a>7、创建单元素的tuple</h3><p>包含 <code>0</code> 个元素的 tuple，也就是空tuple，直接用 <code>()</code>表示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = ();    <span class="comment"># print t 结果 ()</span></span><br><span class="line">g = (<span class="number">1</span>);   <span class="comment"># print g 结果 1 ,这时候的()是被当做运算的括号，优先计算，即结果1</span></span><br><span class="line">h = (<span class="number">1</span>,);  <span class="comment"># print h 结果 (1,) 结果正确 ， 为了避免歧义，所以需要添加一个逗号，多元素的tuple就不用添加</span></span><br></pre></td></tr></table></figure>

<h3 id="8、“可变的”tuple"><a href="#8、“可变的”tuple" class="headerlink" title="8、“可变的”tuple"></a>8、“可变的”tuple</h3><p>即在tuple里面有list:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>])</span><br><span class="line">L = t(<span class="number">2</span>)</span><br><span class="line">L[<span class="number">0</span>] = <span class="string">&quot;X&quot;</span>;</span><br><span class="line">L[<span class="number">1</span>] = <span class="string">&quot;Y&quot;</span>;  <span class="comment"># list 作为tuple的第3个元素。</span></span><br></pre></td></tr></table></figure>

<h3 id="9、if语句"><a href="#9、if语句" class="headerlink" title="9、if语句"></a>9、if语句</h3><p>注意：python代码的缩进规则，相同缩进的代码视为代码块，如果if语句判断<code>true</code>则执行代码块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;your age is&quot;</span>, age</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;adult&quot;</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;END&quot;</span></span><br></pre></td></tr></table></figure>
<p>python缩进：<code>4个空格</code>，<code>不用tab</code>，<code>更不要混合用tab和空格</code>，否则容易引起语法错误。<br>注意: if 语句后接表达式，然后用: 表示代码块开始。<br>if…else…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;adult&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;teenager&quot;</span></span><br><span class="line">````</span><br><span class="line"><span class="keyword">if</span>...<span class="keyword">elif</span>...<span class="keyword">else</span>  (就是<span class="keyword">else</span> <span class="keyword">if</span>的意思)</span><br><span class="line">```python</span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;adult&quot;</span></span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;teenager&quot;</span></span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">3</span>:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;kid&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;baby&quot;</span>  </span><br></pre></td></tr></table></figure>
<blockquote>
<p>特别注意: 这一系列条件判断会从上到下依次判断，如果某个判断为 True，执行完对应的代码块，后面的条件判断就直接忽略，不再执行了。  </p>
</blockquote>
<h3 id="10、for循环"><a href="#10、for循环" class="headerlink" title="10、for循环"></a>10、for循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&quot;Adam&quot;</span>, <span class="string">&quot;Lisa&quot;</span>, <span class="string">&quot;Bart&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> L:</span><br><span class="line">    <span class="built_in">print</span> name</span><br></pre></td></tr></table></figure>
<blockquote>
<p>嵌套for循环</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>]:</span><br><span class="line">   <span class="keyword">for</span> y <span class="keyword">in</span> [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>]:</span><br><span class="line">      <span class="built_in">print</span> x + y</span><br></pre></td></tr></table></figure>
<h3 id="11、while循环"><a href="#11、while循环" class="headerlink" title="11、while循环"></a>11、while循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">10</span></span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> x &lt; N:</span><br><span class="line">    <span class="built_in">print</span> x</span><br><span class="line">    x = x + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>while循环每次先判断 x &lt; N，如果为True，则执行循环体的代码块，否则，退出循环。</p>
</blockquote>
<h3 id="12、break退出循环"><a href="#12、break退出循环" class="headerlink" title="12、break退出循环"></a>12、break退出循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">sum</span> = <span class="built_in">sum</span> + x</span><br><span class="line">    x = x + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">100</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>
<h3 id="13、continue继续循环"><a href="#13、continue继续循环" class="headerlink" title="13、continue继续循环"></a>13、continue继续循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> L:</span><br><span class="line">    <span class="keyword">if</span> x &lt; <span class="number">60</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">sum</span> = <span class="built_in">sum</span> + x</span><br><span class="line">    n = n + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="14、dict"><a href="#14、dict" class="headerlink" title="14、dict"></a>14、dict</h3><p>用dict标识<code>“键”-“值”（key-value）</code>，可以通过<code>key</code>查到<code>value</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;</span><br><span class="line">   <span class="string">&quot;Adam&quot;</span>: <span class="number">95</span>,</span><br><span class="line">   <span class="string">&quot;Lisa&quot;</span>: <span class="number">85</span>,</span><br><span class="line">   <span class="string">&quot;Bart&quot;</span>: <span class="number">59</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">len</span>(d)   <span class="comment"># 3 len()函数可以计算任意集合的大小，一个key-value算一个</span></span><br></pre></td></tr></table></figure>
<p>访问dict   使用<code>d[key]</code>查询</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> d[<span class="string">&quot;Lisa&quot;</span>]      <span class="comment"># 85</span></span><br><span class="line"><span class="comment"># 判断key是否存在</span></span><br><span class="line"><span class="comment"># 方法一： in 操作符</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;Palu&quot;</span> <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span> d[<span class="string">&quot;Paul&quot;</span>]</span><br><span class="line"><span class="comment"># 方法二： get 方法  这是dict本身自带的，在key不存在时返回None</span></span><br><span class="line"><span class="built_in">print</span> d.get(<span class="string">&quot;Paul&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="15、dict特点："><a href="#15、dict特点：" class="headerlink" title="15、dict特点："></a>15、dict特点：</h3><p>第一个特点：<br>查找速度快，无论是10个元素还是10万个元素，查找速度一样快。<br>缺点就是占用内存大，会浪费很多内容。<br>而list则相反，占用内存少，但查找速度会随着元素增多而减慢。<br>第二个特点：存储的<code>key-value</code>序列没有顺序。<br>第三个特点：作为key的元素不可变  </p>
<h3 id="16、更新dict"><a href="#16、更新dict" class="headerlink" title="16、更新dict"></a>16、更新dict</h3><p>如果这个key不存在，则创建新key-value，如果存在，则更新替换原有数据。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&quot;Paul&quot;</span>] = <span class="number">72</span></span><br></pre></td></tr></table></figure>

<h3 id="18、set"><a href="#18、set" class="headerlink" title="18、set"></a>18、set</h3><blockquote>
<p>dict的作用是建立一组 <code>key</code> 和一组 <code>value</code> 的映射关系，<code>dict</code> 的<code>key</code> 是不能重复的。<br>当我们只关系<code>dict</code>的<code>key</code>而不关心对应<code>value</code>时，<code>set</code>就派上用场。<br><code>set</code> 持有一系列元素，这一点和 <code>list</code> 很像，但是<code>set</code>的元素没有重复，而且是无序的，这点和 dict 的 key很像。<br>** 1、创建set **<br>创建 <code>set</code> 的方式是调用 <code>set()</code> 并传入一个 <code>list</code>，<code>list</code>的元素将作为<code>set</code>的元素：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line"><span class="built_in">print</span> s    <span class="comment"># set([&quot;a&quot;,&quot;c&quot;,&quot;b&quot;])</span></span><br><span class="line"><span class="comment">#  打印顺序和原始list可能会不同，因为set内部是无序的。</span></span><br></pre></td></tr></table></figure>
<p>set不能包含重复的元素，不然会被自动去掉重复，常用在去重：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;C&quot;</span>])</span><br><span class="line"><span class="built_in">print</span> s         <span class="comment"># set([&quot;a&quot;,&quot;c&quot;,&quot;b&quot;])</span></span><br><span class="line"><span class="built_in">len</span>(s)           <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<p>** 2、访问set ** </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>])</span><br><span class="line"><span class="comment"># 判断一个元素是否在set中   in操作符(严格区分大小写)</span></span><br><span class="line"><span class="string">&quot;C&quot;</span> <span class="keyword">in</span> s          <span class="comment"># true</span></span><br></pre></td></tr></table></figure>
<p>** 3、set特点 **</p>
<blockquote>
<p><code>set</code>的内部结构和<code>dict</code>很像，唯一区别是不存储<code>value</code>，因此，判断一个元素是否在<code>set</code>中速度很快。<br><code>set</code>存储的元素和<code>dict</code>的<code>key</code>类似，必须是不变对象，因此，任何可变对象是不能放入<code>set</code>中的。<br>最后，<code>set</code>存储的元素也是没有顺序的。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断一个字符串是否存在list里</span></span><br><span class="line">weekdays = <span class="built_in">set</span>([<span class="string">&quot;MON&quot;</span>, <span class="string">&quot;TUE&quot;</span>, <span class="string">&quot;WED&quot;</span>, <span class="string">&quot;THU&quot;</span>, <span class="string">&quot;FRI&quot;</span>, <span class="string">&quot;SAT&quot;</span>, <span class="string">&quot;SUN&quot;</span>])</span><br><span class="line">x = <span class="string">&quot;TUE&quot;</span> <span class="comment"># 用户输入的字符串</span></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">in</span> weekdays:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;input ok&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;input error&quot;</span></span><br></pre></td></tr></table></figure>
<p>** 4、遍历set **<br>使用for循环</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 案例1</span></span><br><span class="line">s = <span class="built_in">set</span>([<span class="string">&quot;Adam&quot;</span>, <span class="string">&quot;Lisa&quot;</span>, <span class="string">&quot;Bart&quot;</span>])</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> s:</span><br><span class="line">    <span class="built_in">print</span> name          <span class="comment"># &quot;Adam&quot;     &quot;Lisa&quot;    &quot;Bart&quot;</span></span><br><span class="line"><span class="comment"># 案例2</span></span><br><span class="line">s = <span class="built_in">set</span>([(<span class="string">&quot;Adam&quot;</span>, <span class="number">95</span>), (<span class="string">&quot;Lisa&quot;</span>, <span class="number">85</span>), (<span class="string">&quot;Bart&quot;</span>, <span class="number">59</span>)])</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> s:</span><br><span class="line">    <span class="built_in">print</span> x[<span class="number">0</span>],<span class="string">&quot;:&quot;</span>,x[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>** 5、更新set **<br>添加元素 add()：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">s.add(<span class="number">4</span>)               <span class="comment"># set([1, 2, 3, 4])</span></span><br><span class="line"><span class="comment">#  若已存在，不会保持，但不会添加</span></span><br></pre></td></tr></table></figure>
<p>删除元素 remove()：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">s.remove(<span class="number">4</span>)         <span class="comment"># set([1, 2, 3])</span></span><br><span class="line"><span class="comment"># 若不存在，则报错</span></span><br></pre></td></tr></table></figure>
<p>所以用add()可以直接添加，而remove()前需要判断。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/2-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="ckts3eju3005l4d9kdy0h7ta5" data-title="2-【Python】慕课网视频笔记（二）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-1-【Python】慕课网视频笔记（一）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/12/21/1-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2017-12-21T13:40:10.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/12/21/1-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/">1-【Python】慕课网视频笔记（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python学习（一）基础语法"><a href="#Python学习（一）基础语法" class="headerlink" title="Python学习（一）基础语法"></a>Python学习（一）基础语法</h1><h2 id="一、学习网站"><a href="#一、学习网站" class="headerlink" title="一、学习网站"></a>一、学习网站</h2><blockquote>
<p>廖雪峰 Python入门 慕课网：<a target="_blank" rel="noopener" href="http://www.imooc.com/learn/177">点击打开</a></p>
</blockquote>
<h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><h3 id="1、python安装："><a href="#1、python安装：" class="headerlink" title="1、python安装："></a>1、python安装：</h3><blockquote>
<p>脚本解释型语言。<br>Windows下安装 <a target="_blank" rel="noopener" href="http://www.python.org/">www.python.org</a> 下载 安装。  </p>
</blockquote>
<h3 id="2、python注意："><a href="#2、python注意：" class="headerlink" title="2、python注意："></a>2、python注意：</h3><blockquote>
<p>跨平台运行（Windows Linux mac），2.7版和3.3版不兼容。<br>python对缩进要求很严格，首行不能有空格开头。<br>代码页最顶部要加一句  #coding=utf-8 确保能显示中文。</p>
</blockquote>
<h3 id="3、伴随一生"><a href="#3、伴随一生" class="headerlink" title="3、伴随一生"></a>3、伴随一生</h3><blockquote>
<p>三个内置必须用熟练：type(),help(),dir()。</p>
</blockquote>
<h3 id="4、python2-x-和python3-x-版本区别"><a href="#4、python2-x-和python3-x-版本区别" class="headerlink" title="4、python2.x 和python3.x 版本区别"></a>4、python2.x 和python3.x 版本区别</h3><p>具体点击链接查看：<a target="_blank" rel="noopener" href="http://www.runoob.com/python/python-2x-3x.html">点击阅读</a></p>
<h2 id="三、基础知识"><a href="#三、基础知识" class="headerlink" title="三、基础知识"></a>三、基础知识</h2><h3 id="1、数据类型"><a href="#1、数据类型" class="headerlink" title="1、数据类型"></a>1、数据类型</h3><h4 id="a、整数"><a href="#a、整数" class="headerlink" title="a、整数"></a>a、整数</h4><p>python 可以处理任意大小的整数，包括负整数，整数的表示方法和数学上的写法一样，如<code>1，100，-800</code>等；  </p>
<h4 id="b、浮点数"><a href="#b、浮点数" class="headerlink" title="b、浮点数"></a>b、浮点数</h4><p>即小数，整数运算永远是精确的，浮点数运算可能会有四舍五入的误差。  </p>
<h4 id="c、字符串"><a href="#c、字符串" class="headerlink" title="c、字符串"></a>c、字符串</h4><p>字符串以 <code>&quot;&quot;</code> 或 <code>&quot;&quot;</code>包裹起来的任意文本， <code>&quot;&quot;</code> 或 <code>&quot;&quot;</code>只是一种表示方式，不是字符串的一部分。  </p>
<h4 id="d、布尔值"><a href="#d、布尔值" class="headerlink" title="d、布尔值"></a>d、布尔值</h4><p>只有<code>True</code> 和 <code>False</code> ，布尔值和布尔代数的表示一致，并且不而且可以通过布尔运算计算出来，如使用 <code>and</code> <code>、or</code> 、和<code>not</code> 运算。<br><code>and</code>运算和与运算，只有所有都为<code>True</code>，<code>and</code>运算的结果才是<code>True</code>;<br><code>or</code>运算是或运算，只要其中有一个为<code>True</code>，<code>or</code>运算结果就是<code>True</code>;<br><code>not</code>运算是非运算，他是一个单目运算，把<code>True</code>变成<code>False</code>，把<code>False</code>变成<code>True</code>;  </p>
<h4 id="e、空值"><a href="#e、空值" class="headerlink" title="e、空值"></a>e、空值</h4><p>空值是python中一个特殊值，用<code>None</code>表示，<code>None</code>不能理解为<code>0</code>，因为<code>0</code>有意义，而<code>None</code>是一个特殊的空值。  </p>
<h3 id="2、print语句"><a href="#2、print语句" class="headerlink" title="2、print语句"></a>2、print语句</h3><p>语法 ：<code> print &quot;hello,world!&quot;</code><br>注意 ：<br>1、print输出多个字符串，要用逗号“,”隔开，连成一串输出。并且遇到逗号<code>,</code>会输出成一个空格。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="string">&quot;hello&quot;</span>,<span class="string">&quot;leo&quot;</span>,<span class="string">&quot;cool~&quot;</span></span><br><span class="line">//hello leo cool~</span><br></pre></td></tr></table></figure>

<h3 id="3、注释语句"><a href="#3、注释语句" class="headerlink" title="3、注释语句"></a>3、注释语句</h3><p>程序运行时，python解释器会直接忽略掉注释，所以注释不会影响程序的执行结果，只是会影响别人会不会看得懂你的代码。   </p>
<h4 id="a、单行注释"><a href="#a、单行注释" class="headerlink" title="a、单行注释"></a>a、单行注释</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这一行全是注释   </span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;hello&quot;</span>  <span class="comment"># 从这里开始也是注释   </span></span><br><span class="line"><span class="comment"># 也可以用在注释代码   </span></span><br><span class="line"><span class="comment"># print &quot;hello&quot;  </span></span><br></pre></td></tr></table></figure>
<h4 id="b、多行注释"><a href="#b、多行注释" class="headerlink" title="b、多行注释"></a>b、多行注释</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    注释1</span></span><br><span class="line"><span class="string">    注释2</span></span><br><span class="line"><span class="string">    注释3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="4、变量"><a href="#4、变量" class="headerlink" title="4、变量"></a>4、变量</h2><p>变量的概念基本和初中代数的方程变量一致。<br>在计算机程序中，变量不仅可以是数字，还可以是任意数据类型。必须是<code>大小写英文、数字和下划线（_）的组合</code>，且不能用数字开头，如：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span> ;        <span class="comment"># a是一个整数</span></span><br><span class="line">t_01 = <span class="string">&quot;T01&quot;</span> ; <span class="comment"># t_01是一个字符串</span></span><br></pre></td></tr></table></figure>
<p>python中，等号<code>=</code>是赋值语句，可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同数据类型的变量，如：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">123</span>;       <span class="comment"># a是整数  </span></span><br><span class="line"><span class="built_in">print</span> a;   </span><br><span class="line">a = <span class="string">&quot;leo&quot;</span>;     <span class="comment"># a是字符串  </span></span><br><span class="line"><span class="built_in">print</span> a;</span><br></pre></td></tr></table></figure>
<p>这种变量本身类型不固定的语言称之为<code>动态语言</code>，与之对应的是<code>静态语言</code>。       </p>
<p><code>静态语言</code>在定义变量时必须指定变量类型，如果赋值时类型不匹配，则报错。例如<code>Java就是静态语言</code>，赋值语句如下（//表示注释）  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> a = <span class="number">123</span>;   <span class="comment"># a是整数类型变量  </span></span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>;   <span class="comment"># 报错：不能把字符串赋值给整型变量  </span></span><br></pre></td></tr></table></figure>
<p>动态语言如：<code>javascript</code>；<br>当我们写 <code>a  = &quot;ABC&quot;</code> 时，Python解释器做了两件事：<br>第一，在内存中创建了 <code>&quot;ABC&quot;</code> 的字符串；<br>第二，在内存中创建了 <code>a</code> 的变量，并且指向 <code>&quot;ABC&quot;</code> 。<br>若把变量a赋值给变量b，则实际是把变量b指向变量a的数据，如下:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a == <span class="string">&quot;ABC&quot;</span>;</span><br><span class="line">b == a;</span><br><span class="line">a = <span class="string">&quot;XYZ&quot;</span>;</span><br><span class="line"><span class="built_in">print</span> b;       <span class="comment"># 打印出&quot;ABC&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="5、定义字符串"><a href="#5、定义字符串" class="headerlink" title="5、定义字符串"></a>5、定义字符串</h2><p>如果本身包含 <code>&quot;</code> ，则可以用 <code>&quot;&quot;</code> 包裹起来表示，反之也可以，如：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;I&quot;</span>m leo!<span class="string">&quot;;</span></span><br><span class="line"><span class="string">&quot;</span>Leo name <span class="string">&quot;pingan&quot;</span>!<span class="string">&quot;</span></span><br><span class="line"><span class="string">#  如果即有 &quot;</span> 又有 <span class="string">&quot;，则可以用转义字符 \ 进行转移：</span></span><br><span class="line"><span class="string">&quot;</span>good boy \<span class="string">&quot;I\&quot;m leo \&quot;.&quot;</span></span><br><span class="line">注意：转义字符不计入字符串内容，常用的还有：</span><br><span class="line">\t    <span class="comment"># 表示一个制表符;</span></span><br><span class="line">\n    <span class="comment"># 表示换行</span></span><br><span class="line">\\    <span class="comment"># 表示 \ 字符本身</span></span><br></pre></td></tr></table></figure>
<h2 id="6、字符串和多行字符串"><a href="#6、字符串和多行字符串" class="headerlink" title="6、字符串和多行字符串"></a>6、字符串和多行字符串</h2><p>如果一个字符串含很多需要转义的字符，则每个转义会很麻烦，我们可以在字符串前面添加前缀 <code>r</code> ，表示这是一个 <code>raw</code> 字符串，里面字符不用转义了，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">r&quot;\(~_~)/\(~_~)/&quot;</span></span><br></pre></td></tr></table></figure>
<p>但是：<code> r&quot;...&quot;</code> 不能表示多行字符串，也不能表示包含 <code>&quot;</code> 和 <code>&quot;</code> 的字符串。<br>表示多行字符串可以使用 <code>&quot;&quot;&quot;...&quot;&quot;&quot;</code> 表示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;Line1</span></span><br><span class="line"><span class="string">line2</span></span><br><span class="line"><span class="string">line3&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#  完全等价于</span></span><br><span class="line"><span class="string">&quot;Line1\nLine2\nLine3&quot;</span></span><br></pre></td></tr></table></figure>
<p>还可以在多行字符串前面添加 <code>r</code> ，把多行字符串也变成一个 <code>raw</code> 字符串:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">r&quot;&quot;&quot; my name is &quot;leo&quot;</span></span><br><span class="line"><span class="string">so cool.</span></span><br><span class="line"><span class="string">Let&quot;s go! &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="7、Unicode字符串"><a href="#7、Unicode字符串" class="headerlink" title="7、Unicode字符串"></a>7、Unicode字符串</h2><p>由于计算机只能处理数字，如需处理文本，需要转换成数字才能处理。<br>ASCII编码：<code>0-255</code>用来标识大小写英文字母、数字和一些符号。如：字母<code>A</code>的编码是<code>65</code>，小写字母<code>z</code>的编码是<code>122</code>。<br>GB2312编码：包含中文编码。<br>Unicode编码：把所有语言统一到一套编码，这样就不会在有乱码问题。通常采用两个字节表示一个字符，原因有的英文编码从单字节变成双字节，只需把高字节全部填为<code>0</code>就可以。<br>在python中，以 <code>Unicode</code> 表示的字符串用 <code>u&quot;...&quot;</code> 表示，比如：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="string">u&quot;中文&quot;</span>;  <span class="comment"># 中文</span></span><br></pre></td></tr></table></figure>
<p>注意，不加 <code>u&quot;..&quot;</code> 中文就不能正常显示。<br>Unicode字符串只是多了个 <code>u</code> ,与普通字符串相同，转义字符和多行表示法仍然有效：  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">u&quot;中文\n日文\n韩文&quot;</span>        <span class="comment">#  转义</span></span><br><span class="line"><span class="string">u&quot;&quot;&quot;第一行                 # 多行</span></span><br><span class="line"><span class="string">第二行&quot;&quot;&quot;</span></span><br><span class="line">u<span class="string">r&quot;&quot;&quot;Python的Unicode字符串支持&quot;中文&quot;,    # raw + 多行</span></span><br><span class="line"><span class="string">&quot;日文&quot;,</span></span><br><span class="line"><span class="string">&quot;韩文&quot;等多种语言&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果中文字符串在python环境下遇到 <code>UnicodeDecodeError</code> ，这是因为 <code>.py</code> 文件保存格式有问题，只需在第一样添加注释  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*- </span></span><br></pre></td></tr></table></figure>
<p>目的是告诉python解释器采用 <code>UTF-8编码</code> 读取源代码。</p>
<h2 id="8、整数和浮点数"><a href="#8、整数和浮点数" class="headerlink" title="8、整数和浮点数"></a>8、整数和浮点数</h2><p>支持对整数和浮点数直接四则混合运算，运算规则和数学一致。<br>基本运算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span>       <span class="comment"># 6</span></span><br><span class="line"><span class="number">4</span> * <span class="number">5</span> - <span class="number">6</span>       <span class="comment"># 14</span></span><br><span class="line"><span class="number">7.5</span> / <span class="number">8</span> + <span class="number">2.1</span>   <span class="comment"># 3.0375</span></span><br><span class="line"><span class="comment"># 括号优先运算</span></span><br><span class="line">( <span class="number">1</span> + <span class="number">2</span> ) * <span class="number">3</span>   <span class="comment"># 9</span></span><br><span class="line">( <span class="number">2.2</span> + <span class="number">3.3</span> ) / ( <span class="number">1.5</span> * ( <span class="number">9</span> - <span class="number">0.3</span> ))  <span class="comment"># 0.42145593869731807</span></span><br></pre></td></tr></table></figure>
<p>整数和整数运算  浮点数和浮点数   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>           <span class="comment"># 整数 3</span></span><br><span class="line"><span class="number">1.0</span> + <span class="number">2.0</span>       <span class="comment"># 浮点数 3.0</span></span><br></pre></td></tr></table></figure>
<p>整数和浮点数   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2.0</span>         <span class="comment"># 3.0</span></span><br><span class="line">因为：整数计算精确，浮点数计算不一定精确</span><br><span class="line"><span class="comment"># python中 整数除法，如果除不尽，结果仍是整数，余数直接扔掉：</span></span><br><span class="line"><span class="number">11</span> / <span class="number">4</span>          <span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 但是python提供求余运算 % 计算：</span></span><br><span class="line"><span class="number">11</span> % <span class="number">4</span>          <span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 如果要取得精确值，则需要把其中一个数值变成浮点数：  </span></span><br><span class="line"><span class="number">11.0</span> / <span class="number">4</span>        <span class="comment"># 2.75</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：整数和整数运算，结果只保留整数，如果需要取得精确值，则需要把其中一个数值变成浮点数。<br>按照“整数和浮点数混合运算的结果是浮点数”的法则</p>
</blockquote>
<h3 id="9、布尔类型"><a href="#9、布尔类型" class="headerlink" title="9、布尔类型"></a>9、布尔类型</h3><p><code>与运算</code>：只有两个都是<code>True</code>，计算结果才是<code>True</code>   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="literal">True</span>       <span class="comment"># ==&gt; True</span></span><br><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="literal">False</span>      <span class="comment"># ==&gt; False</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">and</span> <span class="literal">True</span>      <span class="comment"># ==&gt; False</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">and</span> <span class="literal">False</span>     <span class="comment"># ==&gt; False</span></span><br></pre></td></tr></table></figure>
<p><code>或运算</code>：只要有一个是<code>True</code>，计算结果就是<code>True</code>  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="keyword">or</span> <span class="literal">True</span>        <span class="comment"># ==&gt; True</span></span><br><span class="line"><span class="literal">True</span> <span class="keyword">or</span> <span class="literal">False</span>       <span class="comment"># ==&gt; True</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">or</span> <span class="literal">True</span>       <span class="comment"># ==&gt; True</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">or</span> <span class="literal">False</span>      <span class="comment"># ==&gt; False</span></span><br></pre></td></tr></table></figure>
<p><code>非运算</code>：把<code>True</code>变成<code>False</code>，把<code>False</code>变成<code>True</code>  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">not</span> <span class="literal">True</span>            <span class="comment"># ==&gt; False</span></span><br><span class="line"><span class="keyword">not</span> <span class="literal">False</span>           <span class="comment"># ==&gt; True</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：python把 <code>0</code> 、<code>空字符串 &quot;&quot;</code> 和 <code>none</code> 看成<code>False</code> ,其他数值和非空字符串看成<code>true</code>   </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="string">&quot;a=T&quot;</span>      <span class="comment"># &quot;a=T&quot;</span></span><br><span class="line"><span class="string">&quot;a=T&quot;</span> <span class="keyword">or</span> <span class="string">&quot;a=F&quot;</span>      <span class="comment"># &quot;a=T&quot;</span></span><br></pre></td></tr></table></figure>
<p>这涉及到 <code>and</code> 和 <code>or</code> 运算的一条重要法则：短路计算。  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 计算 a <span class="keyword">and</span> b 时，</span><br><span class="line">如果 a 是 <span class="literal">False</span>，则根据与运算法则，整个结果必定为 <span class="literal">False</span>，因此返回 a；  </span><br><span class="line">如果 a 是 <span class="literal">True</span>，则整个计算结果必定取决与 b，因此返回 b。  </span><br><span class="line"><span class="number">2.</span> 计算 a <span class="keyword">or</span> b 时，</span><br><span class="line">如果 a 是 <span class="literal">True</span>，则根据或运算法则，整个计算结果必定为 <span class="literal">True</span>，因此返回 a；</span><br><span class="line">如果 a 是 <span class="literal">False</span>，则整个计算结果必定取决于 b，因此返回 b。</span><br></pre></td></tr></table></figure>
<p>所以Python解释器在做布尔运算时，只要能提前确定计算结果，它就不会往后算了，直接返回结果。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/12/21/1-%E3%80%90Python%E3%80%91%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" data-id="ckts3ejrq00014d9k9oh3187o" data-title="1-【Python】慕课网视频笔记（一）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/22/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSS动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTP协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">中间件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">人工智能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">全栈开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">前端探索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">前端知乎系列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">常用技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">微前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">源码精读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">热门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">生活杂记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">网络请求</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSS动画</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTP协议</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">中间件</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">人工智能</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">全栈开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">前端开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">前端探索</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">前端知乎系列</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">原创</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">常用技术</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">微前端</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">总结</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">机器学习</a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">构建工具</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">正则表达式</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">源码</a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">源码精读</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">热门</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">生活杂记</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">算法</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">编译原理</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">网络请求</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">读书笔记</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">重温基础</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">面试题</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-【总结】如何优雅的在微信小程序使用SVG字体图标</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-【HTTP】如何优雅的管理HTTP请求和响应拦截器？</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-【Vue】从手写Vue3的Reactivity开始深入Vue3源码</a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-【Chrome】5个Chrome调试混合应用的技巧</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-【前端探索】探索Snabbdom模块系统原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>