<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-217-ã€è®¾è®¡æ¨¡å¼ã€‘TypeScriptè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/09/22/217-%E3%80%90%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%91TypeScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2020-09-22T01:36:55.000Z" itemprop="datePublished">2020-09-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/09/22/217-%E3%80%90%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%91TypeScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/">217-ã€è®¾è®¡æ¨¡å¼ã€‘TypeScriptè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä¹‹å‰ä¸¤ç¯‡è‡ªæµ‹æ¸…å•ä¸­ï¼Œå’Œå¤§å®¶åˆ†äº«äº†å¾ˆå¤š JavaScript åŸºç¡€çŸ¥è¯†ï¼Œå¤§å®¶å¯ä»¥ä¸€èµ·å†å›é¡¾ä¸‹~</p>
<p>æœ¬æ–‡æ˜¯æˆ‘åœ¨æˆ‘ä»¬å›¢é˜Ÿå†…éƒ¨â€œ<strong>ç°ä»£ JavaScript çªå‡»é˜Ÿ</strong>â€åˆ†äº«çš„ä¸€ç¯‡å†…å®¹ï¼Œç¬¬äºŒæœŸå­¦ä¹ å†…å®¹ä¸ºâ€œ<strong>è®¾è®¡æ¨¡å¼</strong>â€ç³»åˆ—ï¼Œæˆ‘ä¼šå°†æˆ‘è´Ÿè´£åˆ†äº«çš„çŸ¥è¯†æ•´ç†æˆæ–‡ç« è¾“å‡ºï¼Œå¸Œæœ›èƒ½å¤Ÿå’Œå¤§å®¶ä¸€èµ·æ¸©æ•…çŸ¥æ–°ï¼</p>
<p>â€œ<strong>ç°ä»£ JavaScript çªå‡»é˜Ÿ</strong>â€å­¦ä¹ æ€»ç»“ï¼š</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6846687584710557710">ã€Šåˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å• - 1ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6857037330113363982">ã€Šåˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å• - 2ã€‹</a></li>
</ol>
<h1 id="ä¸€ã€æ¨¡å¼ä»‹ç»"><a href="#ä¸€ã€æ¨¡å¼ä»‹ç»" class="headerlink" title="ä¸€ã€æ¨¡å¼ä»‹ç»"></a>ä¸€ã€æ¨¡å¼ä»‹ç»</h1><h2 id="1-èƒŒæ™¯ä»‹ç»"><a href="#1-èƒŒæ™¯ä»‹ç»" class="headerlink" title="1. èƒŒæ™¯ä»‹ç»"></a>1. èƒŒæ™¯ä»‹ç»</h2><p>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ç»å¸¸ç¢°åˆ°è¿™ç±»éœ€æ±‚ï¼šå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼ŒæŸäº›ä¸å®ƒç›¸å…³çš„å¯¹è±¡ä¹Ÿè¦éšä¹‹åšå‡ºç›¸åº”çš„å˜åŒ–ã€‚è¿™æ˜¯å»ºç«‹ä¸€ç§<strong>å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»</strong>ï¼Œä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶å°†<strong>è‡ªåŠ¨é€šçŸ¥å…¶ä»–å¯¹è±¡</strong>ï¼Œå…¶ä»–å¯¹è±¡å°†<strong>ç›¸åº”åšå‡ºååº”</strong>ã€‚</p>
<p>æˆ‘ä»¬å°†å‘ç”Ÿæ”¹å˜çš„å¯¹è±¡ç§°ä¸º<strong>è§‚å¯Ÿç›®æ ‡</strong>ï¼Œå°†è¢«é€šçŸ¥çš„å¯¹è±¡ç§°ä¸º<strong>è§‚å¯Ÿè€…</strong>ï¼Œ<strong>ä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å¯ä»¥å¯¹åº”å¤šä¸ªè§‚å¯Ÿè€…</strong>ï¼Œè€Œä¸”è¿™äº›è§‚å¯Ÿè€…ä¹‹é—´æ²¡æœ‰ç›¸äº’è”ç³»ï¼Œä¹‹åå¯ä»¥æ ¹æ®éœ€è¦å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…ï¼Œä½¿å¾—ç³»ç»Ÿæ›´æ˜“äºæ‰©å±•ï¼Œè¿™å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„äº§ç”ŸèƒŒæ™¯ã€‚</p>
<h2 id="2-æ¦‚å¿µä»‹ç»"><a href="#2-æ¦‚å¿µä»‹ç»" class="headerlink" title="2. æ¦‚å¿µä»‹ç»"></a>2. æ¦‚å¿µä»‹ç»</h2><p>è§‚å¯Ÿè€…æ¨¡å¼(Observer Pattern)ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§<strong>ä¸€å¯¹å¤šä¾èµ–å…³ç³»</strong>ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡çš†å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
<h2 id="3-ç”Ÿæ´»åœºæ™¯"><a href="#3-ç”Ÿæ´»åœºæ™¯" class="headerlink" title="3. ç”Ÿæ´»åœºæ™¯"></a>3. ç”Ÿæ´»åœºæ™¯</h2><p>åœ¨æ‰€æœ‰æµè§ˆå™¨äº‹ä»¶ï¼ˆé¼ æ ‡æ‚¬åœï¼ŒæŒ‰é”®ç­‰äº‹ä»¶ï¼‰éƒ½æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¾‹å­ã€‚</p>
<p>å¦å¤–è¿˜æœ‰ï¼š</p>
<p>å¦‚æˆ‘ä»¬è®¢é˜…å¾®ä¿¡å…¬ä¼—å·â€œå‰ç«¯è‡ªä¹ è¯¾â€ï¼ˆ<strong>è§‚å¯Ÿç›®æ ‡</strong>ï¼‰ï¼Œå½“â€œå‰ç«¯è‡ªä¹ è¯¾â€ç¾¤å‘å›¾æ–‡æ¶ˆæ¯åï¼Œæ‰€æœ‰å…¬ä¼—å·ç²‰ä¸ï¼ˆ<strong>è§‚å¯Ÿè€…</strong>ï¼‰éƒ½ä¼šæ¥æ”¶åˆ°è¿™ç¯‡æ–‡ç« ï¼ˆäº‹ä»¶ï¼‰ï¼Œè¿™ç¯‡æ–‡ç« çš„å†…å®¹æ˜¯å‘å¸ƒè€…è‡ªå®šä¹‰çš„ï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰ï¼Œç²‰ä¸é˜…è¯»åä½œå‡ºç‰¹å®šæ“ä½œï¼ˆå¦‚ï¼šç‚¹èµï¼Œæ”¶è—ï¼Œå…³æ³¨ç­‰ï¼‰ã€‚</p>
<p><img src="http://images.pingan8787.com/DesignPattern/observer-parttern.png" alt="è§‚å¯Ÿè€…æ¨¡å¼.png"></p>
<h1 id="äºŒã€æ¨¡å¼ç‰¹ç‚¹"><a href="#äºŒã€æ¨¡å¼ç‰¹ç‚¹" class="headerlink" title="äºŒã€æ¨¡å¼ç‰¹ç‚¹"></a>äºŒã€æ¨¡å¼ç‰¹ç‚¹</h1><h2 id="1-æ¨¡å¼ç»„æˆ"><a href="#1-æ¨¡å¼ç»„æˆ" class="headerlink" title="1. æ¨¡å¼ç»„æˆ"></a>1. æ¨¡å¼ç»„æˆ</h2><p>åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œé€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</p>
<ul>
<li><strong>ç›®æ ‡ï¼šSubject</strong></li>
<li><strong>è§‚å¯Ÿç›®æ ‡ï¼šConcreteSubject</strong></li>
<li><strong>è§‚å¯Ÿè€…ï¼šObserver</strong></li>
<li><strong>å…·ä½“è§‚å¯Ÿè€…ï¼šConcreteObserver</strong></li>
</ul>
<h2 id="2-UML-ç±»å›¾"><a href="#2-UML-ç±»å›¾" class="headerlink" title="2. UML ç±»å›¾"></a>2. UML ç±»å›¾</h2><p><img src="http://images.pingan8787.com/DesignPattern/observer-UML.png" alt="UML ç±»å›¾"></p>
<p>å›¾ç‰‡æ¥æºï¼š<a target="_blank" rel="noopener" href="https://www.semlinker.com/ts-observer-pattern/">ã€ŠTypeScript è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼ã€‹</a>Â </p>
<h2 id="3-ä¼˜ç‚¹"><a href="#3-ä¼˜ç‚¹" class="headerlink" title="3. ä¼˜ç‚¹"></a>3. ä¼˜ç‚¹</h2><ul>
<li>è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥å®ç°<strong>è¡¨ç¤ºå±‚å’Œæ•°æ®é€»è¾‘å±‚çš„åˆ†ç¦»</strong>ï¼Œå¹¶<strong>é™ä½è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´è€¦åˆåº¦</strong>ï¼›</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼æ”¯æŒ<strong>ç®€å•å¹¿æ’­é€šä¿¡</strong>ï¼Œ<strong>è‡ªåŠ¨é€šçŸ¥</strong>æ‰€æœ‰å·²ç»è®¢é˜…è¿‡çš„å¯¹è±¡ï¼›</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼<strong>ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚</strong>ï¼›</li>
<li>è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„æŠ½è±¡è€¦åˆå…³ç³»èƒ½å¤Ÿ<strong>å•ç‹¬æ‰©å±•ä»¥åŠé‡ç”¨</strong>ã€‚</li>
</ul>
<h2 id="4-ç¼ºç‚¹"><a href="#4-ç¼ºç‚¹" class="headerlink" title="4. ç¼ºç‚¹"></a>4. ç¼ºç‚¹</h2><ul>
<li>å½“ä¸€ä¸ªè§‚å¯Ÿç›®æ ‡<strong>æœ‰å¤šä¸ªç›´æ¥æˆ–é—´æ¥çš„è§‚å¯Ÿè€…</strong>æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…çš„è¿‡ç¨‹å°†ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼›</li>
<li>å½“è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´å­˜åœ¨<strong>å¾ªç¯ä¾èµ–</strong>æ—¶ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½<strong>å¯¼è‡´ç³»ç»Ÿå´©æºƒ</strong>ã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼ç¼ºå°‘ç›¸åº”æœºåˆ¶ï¼Œè®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
</ul>
<h1 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h1><p>åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼š</p>
<ul>
<li>åœ¨ä¸€ä¸ªæŠ½è±¡æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸º<strong>ä¾èµ–äº</strong>å¦ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ã€‚å³å½“<strong>ç›®æ ‡å¯¹è±¡</strong>çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šç›´æ¥å½±å“åˆ°<strong>è§‚å¯Ÿè€…</strong>çš„è¡Œä¸ºï¼›</li>
<li>ä¸€ä¸ªå¯¹è±¡éœ€è¦é€šçŸ¥å…¶ä»–å¯¹è±¡å‘ç”Ÿååº”ï¼Œä½†ä¸çŸ¥é“è¿™äº›å¯¹è±¡æ˜¯è°ã€‚</li>
<li>éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ï¼ŒAå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Bå¯¹è±¡ï¼ŒBå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Cå¯¹è±¡â€¦â€¦ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶ã€‚</li>
</ul>
<h1 id="å››ã€å®æˆ˜ç¤ºä¾‹"><a href="#å››ã€å®æˆ˜ç¤ºä¾‹" class="headerlink" title="å››ã€å®æˆ˜ç¤ºä¾‹"></a>å››ã€å®æˆ˜ç¤ºä¾‹</h1><h2 id="1-ç®€å•ç¤ºä¾‹"><a href="#1-ç®€å•ç¤ºä¾‹" class="headerlink" title="1. ç®€å•ç¤ºä¾‹"></a>1. ç®€å•ç¤ºä¾‹</h2><ol>
<li><p>å®šä¹‰<strong>è§‚å¯Ÿç›®æ ‡æ¥å£</strong>ï¼ˆSubjectï¼‰å’Œ<strong>è§‚å¯Ÿè€…æ¥å£</strong>ï¼ˆObserverï¼‰</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ObserverPattern.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿç›®æ ‡æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> Subject &#123;</span><br><span class="line">  <span class="attr">addObserver</span>: <span class="function">(<span class="params">observer: Observer</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  deleteObserver: <span class="function">(<span class="params">observer: Observer</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  notifyObservers: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿè€…æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> Observer &#123;</span><br><span class="line">  <span class="attr">notify</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰<strong>å…·ä½“è§‚å¯Ÿç›®æ ‡ç±»</strong>ï¼ˆConcreteSubjectï¼‰</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ObserverPattern.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è§‚å¯Ÿç›®æ ‡ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="title">implements</span> <span class="title">Subject</span></span>&#123; </span><br><span class="line">  <span class="keyword">private</span> observers: Observer[] = [];</span><br><span class="line">	</span><br><span class="line">  <span class="comment">// æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">  <span class="keyword">public</span> addObserver(observer: Observer): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(observer, <span class="string">&quot; is pushed~~&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>.observers.push(observer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç§»é™¤è§‚å¯Ÿè€…</span></span><br><span class="line">  <span class="keyword">public</span> deleteObserver(observer: Observer): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(observer, <span class="string">&quot; have deleted~~&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> idx: <span class="built_in">number</span> = <span class="built_in">this</span>.observers.indexOf(observer);</span><br><span class="line">    ~idx &amp;&amp; <span class="built_in">this</span>.observers.splice(idx, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šçŸ¥è§‚å¯Ÿè€…</span></span><br><span class="line">  <span class="keyword">public</span> notifyObservers(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;notify all the observers &quot;</span>, <span class="built_in">this</span>.observers);</span><br><span class="line">    <span class="built_in">this</span>.observers.forEach(<span class="function"><span class="params">observer</span> =&gt;</span> &#123; </span><br><span class="line">      <span class="comment">// è°ƒç”¨ notify æ–¹æ³•æ—¶å¯ä»¥æºå¸¦æŒ‡å®šå‚æ•°</span></span><br><span class="line">      observer.notify();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰<strong>å…·ä½“è§‚å¯Ÿè€…ç±»</strong>ï¼ˆConcreteObserverï¼‰</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ObserverPattern.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è§‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserver</span> <span class="title">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> name: <span class="built_in">string</span></span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  notify(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥å¤„ç†å…¶ä»–é€»è¾‘</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> has been notified.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="4">
<li>æµ‹è¯•ä»£ç <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ObserverPattern.ts</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useObserver</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> subject: Subject = <span class="keyword">new</span> ConcreteSubject();</span><br><span class="line">  <span class="keyword">const</span> Leo   = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Leo&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Robin = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Robin&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Pual  = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Pual&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Lisa  = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Lisa&quot;</span>);</span><br><span class="line"></span><br><span class="line">  subject.addObserver(Leo);</span><br><span class="line">  subject.addObserver(Robin);</span><br><span class="line">  subject.addObserver(Pual);</span><br><span class="line">  subject.addObserver(Lisa);</span><br><span class="line">  subject.notifyObservers();</span><br><span class="line">  </span><br><span class="line">  subject.deleteObserver(Pual);</span><br><span class="line">  subject.deleteObserver(Lisa);</span><br><span class="line">  subject.notifyObservers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">useObserver();</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å®Œæ•´æ¼”ç¤ºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ObserverPattern.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Subject &#123;</span><br><span class="line">  <span class="attr">addObserver</span>: <span class="function">(<span class="params">observer: Observer</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  deleteObserver: <span class="function">(<span class="params">observer: Observer</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  notifyObservers: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Observer &#123;</span><br><span class="line">  <span class="attr">notify</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="title">implements</span> <span class="title">Subject</span></span>&#123; </span><br><span class="line">  <span class="keyword">private</span> observers: Observer[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> addObserver(observer: Observer): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(observer, <span class="string">&quot; is pushed~~&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>.observers.push(observer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> deleteObserver(observer: Observer): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(observer, <span class="string">&quot; have deleted~~&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> idx: <span class="built_in">number</span> = <span class="built_in">this</span>.observers.indexOf(observer);</span><br><span class="line">    ~idx &amp;&amp; <span class="built_in">this</span>.observers.splice(idx, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> notifyObservers(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;notify all the observers &quot;</span>, <span class="built_in">this</span>.observers);</span><br><span class="line">    <span class="built_in">this</span>.observers.forEach(<span class="function"><span class="params">observer</span> =&gt;</span> &#123; </span><br><span class="line">      <span class="comment">// è°ƒç”¨ notify æ–¹æ³•æ—¶å¯ä»¥æºå¸¦æŒ‡å®šå‚æ•°</span></span><br><span class="line">      observer.notify();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserver</span> <span class="title">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">private</span> name: <span class="built_in">string</span></span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  notify(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥å¤„ç†å…¶ä»–é€»è¾‘</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> has been notified.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useObserver</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> subject: Subject = <span class="keyword">new</span> ConcreteSubject();</span><br><span class="line">  <span class="keyword">const</span> Leo   = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Leo&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Robin = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Robin&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Pual  = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Pual&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> Lisa  = <span class="keyword">new</span> ConcreteObserver(<span class="string">&quot;Lisa&quot;</span>);</span><br><span class="line"></span><br><span class="line">  subject.addObserver(Leo);</span><br><span class="line">  subject.addObserver(Robin);</span><br><span class="line">  subject.addObserver(Pual);</span><br><span class="line">  subject.addObserver(Lisa);</span><br><span class="line">  subject.notifyObservers();</span><br><span class="line">  </span><br><span class="line">  subject.deleteObserver(Pual);</span><br><span class="line">  subject.deleteObserver(Lisa);</span><br><span class="line">  subject.notifyObservers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">useObserver();</span><br></pre></td></tr></table></figure>

<h2 id="2-Vue-js-æ•°æ®åŒå‘ç»‘å®šå®ç°åŸç†"><a href="#2-Vue-js-æ•°æ®åŒå‘ç»‘å®šå®ç°åŸç†" class="headerlink" title="2. Vue.js æ•°æ®åŒå‘ç»‘å®šå®ç°åŸç†"></a>2. Vue.js æ•°æ®åŒå‘ç»‘å®šå®ç°åŸç†</h2><p>åœ¨ Vue.js ä¸­ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹æ•°æ®çŠ¶æ—¶ï¼Œè§†å›¾éšä¹‹æ›´æ–°ï¼Œè¿™å°±æ˜¯ Vue.js çš„åŒå‘æ•°æ®ç»‘å®šï¼ˆä¹Ÿç§°å“åº”å¼åŸç†ï¼‰ï¼Œè¿™æ˜¯ Vue.js ä¸­æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ã€‚<br>å¦‚æœä½ å¯¹ Vue.js çš„åŒå‘æ•°æ®ç»‘å®šè¿˜ä¸æ¸…æ¥šï¼Œå»ºè®®å…ˆé˜…è¯»å®˜æ–¹æ–‡æ¡£ã€Š<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/reactivity.html">æ·±å…¥å“åº”å¼åŸç†</a>ã€‹ç« èŠ‚ã€‚</p>
<h3 id="2-1-åŸç†ä»‹ç»"><a href="#2-1-åŸç†ä»‹ç»" class="headerlink" title="2.1 åŸç†ä»‹ç»"></a>2.1 åŸç†ä»‹ç»</h3><p>åœ¨å®˜ç½‘ä¸­æä¾›è¿™ä¹ˆä¸€å¼ æµç¨‹å›¾ï¼Œä»‹ç»äº† Vue.js å“åº”å¼ç³»ç»Ÿçš„æ•´ä¸ªæµç¨‹ï¼š</p>
<p><img src="http://images.pingan8787.com/DesignPattern/vue-observer.png" alt="åŸç†ä»‹ç»"><br>å›¾ç‰‡æ¥è‡ªï¼šVue.js å®˜ç½‘ã€Š<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/reactivity.html">æ·±å…¥å“åº”å¼åŸç†</a>ã€‹</p>
<p>åœ¨ Vue.js ä¸­ï¼Œæ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹ï¼Œå®ƒä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­æŠŠâ€œæ¥è§¦â€ï¼ˆâ€œTouchâ€ è¿‡ç¨‹ï¼‰è¿‡çš„æ•°æ® property è®°å½•ä¸ºä¾èµ–ï¼ˆCollect as Dependency è¿‡ç¨‹ï¼‰ã€‚ä¹‹åå½“ä¾èµ–é¡¹çš„ setter è§¦å‘æ—¶ï¼Œä¼šé€šçŸ¥ watcherï¼ˆNotify è¿‡ç¨‹ï¼‰ï¼Œä»è€Œä½¿å®ƒå…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼ˆTrigger re-render è¿‡ç¨‹ï¼‰â€”â€”è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚</p>
<p>è¿™é“é¢è¯•é¢˜è€ƒå¯Ÿé¢è¯•è€…å¯¹ Vue.js åº•å±‚åŸç†çš„ç†è§£ã€å¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°èƒ½åŠ›ä»¥åŠä¸€ç³»åˆ—é‡è¦çš„JSçŸ¥è¯†ç‚¹ï¼Œå…·æœ‰è¾ƒå¼ºçš„ç»¼åˆæ€§å’Œä»£è¡¨æ€§ã€‚</p>
<h3 id="2-2-ç»„æˆéƒ¨åˆ†"><a href="#2-2-ç»„æˆéƒ¨åˆ†" class="headerlink" title="2.2 ç»„æˆéƒ¨åˆ†"></a>2.2 ç»„æˆéƒ¨åˆ†</h3><p>åœ¨ Vue.js æ•°æ®åŒå‘ç»‘å®šçš„å®ç°é€»è¾‘ä¸­ï¼ŒåŒ…å«ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š</p>
<ul>
<li>observerï¼ˆç›‘å¬å™¨ï¼‰ï¼šè¿™é‡Œçš„ observer ä¸ä»…æ˜¯è®¢é˜…è€…ï¼ˆ<strong>éœ€è¦ç›‘å¬æ•°æ®å˜åŒ–</strong>ï¼‰ï¼ŒåŒæ—¶è¿˜æ˜¯å‘å¸ƒè€…ï¼ˆ<strong>å¯¹ç›‘å¬çš„æ•°æ®è¿›è¡Œè½¬å‘</strong>ï¼‰ã€‚</li>
<li>watcherï¼ˆè®¢é˜…è€…ï¼‰ï¼šwatcherå¯¹è±¡æ˜¯**çœŸæ­£çš„è®¢é˜…è€…ï¼Œ **observer æŠŠæ•°æ®è½¬å‘ç»™ watcher å¯¹è±¡ã€‚watcher æ¥æ”¶åˆ°æ–°çš„æ•°æ®åï¼Œæ‰§è¡Œè§†å›¾æ›´æ–°ã€‚</li>
<li>compileï¼ˆç¼–è¯‘å™¨ï¼‰ï¼šMVVM æ¡†æ¶ç‰¹æœ‰çš„è§’è‰²ï¼Œè´Ÿè´£å¯¹æ¯ä¸ªèŠ‚ç‚¹å…ƒç´ æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æï¼Œå¤„ç†æŒ‡ä»¤çš„æ•°æ®åˆå§‹åŒ–ã€è®¢é˜…è€…çš„åˆ›å»ºç­‰æ“ä½œã€‚</li>
</ul>
<p>è¿™ä¸‰è€…çš„é…åˆè¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="http://images.pingan8787.com/DesignPattern/observer-watcher.png" alt="ç»„æˆéƒ¨åˆ†"><br>å›¾ç‰‡æ¥è‡ªï¼šæ˜é‡‘å°å†Œã€ŠJavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µã€‹</p>
<h3 id="2-3-å®ç°æ ¸å¿ƒä»£ç -observer"><a href="#2-3-å®ç°æ ¸å¿ƒä»£ç -observer" class="headerlink" title="2.3 å®ç°æ ¸å¿ƒä»£ç  observer"></a>2.3 å®ç°æ ¸å¿ƒä»£ç  observer</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå¯¹éœ€è¦ç›‘å¬çš„æ•°æ®å¯¹è±¡è¿›è¡Œéå†ã€ç»™å®ƒçš„å±æ€§åŠ ä¸Šå®šåˆ¶çš„ <code>getter</code> å’Œ <code>setter</code> å‡½æ•°ã€‚è¿™æ ·ä½†å‡¡è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¼šè§¦å‘ <code>setter</code> å‡½æ•°ï¼Œè¿›è€Œé€šçŸ¥åˆ°è®¢é˜…è€…ã€‚è¿™ä¸ª <code>setter</code> å‡½æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ç›‘å¬å™¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// observeæ–¹æ³•éå†å¹¶åŒ…è£…å¯¹è±¡å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è‹¥targetæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™éå†å®ƒ</span></span><br><span class="line">    <span class="keyword">if</span>(target &amp;&amp; <span class="keyword">typeof</span> target === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">Object</span>.keys(target).forEach(<span class="function">(<span class="params">key</span>)=&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// defineReactiveæ–¹æ³•ä¼šç»™ç›®æ ‡å±æ€§è£…ä¸Šâ€œç›‘å¬å™¨â€</span></span><br><span class="line">            defineReactive(target, key, target[key])</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰defineReactiveæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">target, key, val</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å±æ€§å€¼ä¹Ÿå¯èƒ½æ˜¯objectç±»å‹ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦è°ƒç”¨observeè¿›è¡Œé€’å½’éå†</span></span><br><span class="line">    observe(val)</span><br><span class="line">    <span class="comment">// ä¸ºå½“å‰å±æ€§å®‰è£…ç›‘å¬å™¨</span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(target, key, &#123;</span><br><span class="line">         <span class="comment">// å¯æšä¸¾</span></span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// ä¸å¯é…ç½®</span></span><br><span class="line">        <span class="attr">configurable</span>: <span class="literal">false</span>, </span><br><span class="line">        <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> val;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ç›‘å¬å™¨å‡½æ•°</span></span><br><span class="line">        <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;target&#125;</span>å±æ€§çš„<span class="subst">$&#123;key&#125;</span>å±æ€§ä»<span class="subst">$&#123;val&#125;</span>å€¼å˜æˆäº†äº†<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">            val = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å®ç°è®¢é˜…è€… <code>Dep</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰è®¢é˜…è€…ç±»Dep</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–è®¢é˜…é˜Ÿåˆ—</span></span><br><span class="line">        <span class="built_in">this</span>.subs = []</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¢åŠ è®¢é˜…è€…</span></span><br><span class="line">    <span class="function"><span class="title">addSub</span>(<span class="params">sub</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subs.push(sub)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šçŸ¥è®¢é˜…è€…ï¼ˆæ˜¯ä¸æ˜¯æ‰€æœ‰çš„ä»£ç éƒ½ä¼¼æ›¾ç›¸è¯†ï¼Ÿï¼‰</span></span><br><span class="line">    <span class="function"><span class="title">notify</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subs.forEach(<span class="function">(<span class="params">sub</span>)=&gt;</span>&#123;</span><br><span class="line">            sub.update()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ”¹å†™ <code>defineReactive</code> ä¸­çš„ <code>setter</code> æ–¹æ³•ï¼Œåœ¨ç›‘å¬å™¨é‡Œå»é€šçŸ¥è®¢é˜…è€…äº†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">target, key, val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dep = <span class="keyword">new</span> Dep()</span><br><span class="line">    <span class="comment">// ç›‘å¬å½“å‰å±æ€§</span></span><br><span class="line">    observe(val)</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(target, key, &#123;</span><br><span class="line">        <span class="attr">set</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…</span></span><br><span class="line">            dep.notify()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h1><p>è§‚å¯Ÿè€…æ¨¡å¼åˆç§°å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€æ¨¡å‹-è§†å›¾æ¨¡å¼ã€æº-ç›‘å¬å™¨æ¨¡å¼æˆ–ä»å±è€…æ¨¡å¼ã€‚æ˜¯ä¸€ç§<strong>å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼</strong>ã€‚å…¶å®šä¹‰äº†ä¸€ç§<strong>å¯¹è±¡é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»</strong>ï¼Œå½“è§‚å¯Ÿç›®æ ‡å‘ç”ŸçŠ¶æ€å˜åŒ–ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿å®ƒä»¬è‡ªåŠ¨æ›´æ–°ã€‚</p>
<p>åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸º<strong>ä¾èµ–äº</strong>å¦ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ã€‚æˆ–è€…è¯´å½“<strong>ç›®æ ‡å¯¹è±¡</strong>çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šç›´æ¥å½±å“åˆ°<strong>è§‚å¯Ÿè€…</strong>çš„è¡Œä¸ºï¼Œå°½é‡è€ƒè™‘åˆ°ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°ã€‚</p>
<h1 id="å…­ã€æ‹“å±•"><a href="#å…­ã€æ‹“å±•" class="headerlink" title="å…­ã€æ‹“å±•"></a>å…­ã€æ‹“å±•</h1><p>è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¸¤è€…å¾ˆåƒï¼Œä½†å…¶å®åŒºåˆ«æ¯”è¾ƒå¤§ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>è€¦åˆåº¦å·®å¼‚ï¼šè§‚å¯Ÿè€…æ¨¡å¼çš„è€¦åˆåº¦å°±æ¯”å‘å¸ƒ-è®¢é˜…æ¨¡å¼è¦é«˜ï¼›</li>
<li>å…³æ³¨ç‚¹ä¸åŒï¼šè§‚å¯Ÿè€…æ¨¡å¼éœ€è¦çŸ¥é“å½¼æ­¤çš„å­˜åœ¨ï¼Œè€Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼åˆ™æ˜¯é€šè¿‡è°ƒåº¦ä¸­å¿ƒæ¥è”ç³»å‘å¸ƒ/è®¢é˜…è€…ã€‚</li>
</ul>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« è§ã€‚</p>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><p>1.<a target="_blank" rel="noopener" href="https://design-patterns.readthedocs.io/zh_CN/latest/behavioral_patterns/observer.html">ã€Š3. è§‚å¯Ÿè€…æ¨¡å¼ã€‹</a><br>2.<a target="_blank" rel="noopener" href="https://www.semlinker.com/ts-observer-pattern/">ã€ŠTypeScript è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼ã€‹</a>Â <br>3.<a target="_blank" rel="noopener" href="https://juejin.im/book/6844733790204461070">ã€ŠJavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µã€‹</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/22/217-%E3%80%90%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%91TypeScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/" data-id="ckts3ejua00684d9k3jic01pr" data-title="217-ã€è®¾è®¡æ¨¡å¼ã€‘TypeScriptè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-216-ã€JavaScriptã€‘å‰ç«¯å¦‚ä½•ä¼˜é›…å¤„ç†ç±»æ•°ç»„å¯¹è±¡" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/09/22/216-%E3%80%90JavaScript%E3%80%91%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%A4%84%E7%90%86%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time class="dt-published" datetime="2020-09-22T01:33:54.000Z" itemprop="datePublished">2020-09-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/09/22/216-%E3%80%90JavaScript%E3%80%91%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%A4%84%E7%90%86%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1/">216-ã€JavaScriptã€‘å‰ç«¯å¦‚ä½•ä¼˜é›…å¤„ç†ç±»æ•°ç»„å¯¹è±¡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ä¸€ã€èƒŒæ™¯ä»‹ç»"><a href="#ä¸€ã€èƒŒæ™¯ä»‹ç»" class="headerlink" title="ä¸€ã€èƒŒæ™¯ä»‹ç»"></a>ä¸€ã€èƒŒæ™¯ä»‹ç»</h2><p>Leo éƒ¨é—¨æœ€è¿‘æ¥äº†ä½å‰ç«¯å®ä¹ ç”Ÿ Robinï¼Œä½œä¸ºå¸ˆå‚…ï¼ŒLeo è®¤çœŸçš„ä¸º Robin ä»‹ç»äº†å…¬å¸ä¸šåŠ¡ã€éƒ¨é—¨å·¥ä½œç­‰æƒ…å†µï¼Œè¿˜æœ‰å‰ç«¯çš„æ–°äººå­¦ä¹ åœ°å›¾ã€‚</p>
<p>æ¥ä¸‹æ¥ Robin å¼€å§‹ä¸€å‘¨æ„‰å¿«çš„å­¦ä¹ å•¦~</p>
<p>ä¸€å‘¨åï¼ŒLeo ä¸º Robin åŒå­¦å¸ƒç½®äº†å­¦ä¹ ä½œä¸šï¼Œå¼€å‘ä¸€ä¸ªã€äººå‘˜æœç´¢é€‰æ‹©ã€‘çš„é¡µé¢ï¼Œæ•ˆæœå¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-Demo.gif"></p>
<p>Robin çœ‹å®Œè¿™ä¸ªæ•ˆæœå›¾åï¼Œä¸€è„¸å¾—æ„çš„æ ·å­ï¼Œè¿™ç¡®å®ä¸éš¾å‘€~</p>
<p>è¿‡å‡ å¤©åï¼ŒRobin å¸¦ç€è‡ªå·±å†™çš„ä»£ç ï¼Œç»™ Leo å±•ç¤ºäº†å¥¹çš„ä»£ç ï¼Œå¹¶ç–‘æƒ‘çš„é—®åˆ°ï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-1.png"></p>
<p>å¥¹å°†è¿™ä¸ªâ€œæ•°ç»„â€è¾“å‡ºåˆ°æ§åˆ¶å°ï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-Code-1.png"></p>
<p>Leo çœ‹äº†çœ‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">const</span> memberList = $(<span class="string">&#x27;#MemberList li&#x27;</span>);</span><br><span class="line">   memberList.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(item) &#125;);</span><br><span class="line">   <span class="built_in">console</span>.log(memberList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Leo åˆé—®åˆ°ï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-2.png"></p>
<p>Robin ä¸€è„¸ç–‘æƒ‘ï¼Œç„¶å Leo å†åŸæ¥ä»£ç ä¸Šï¼ŒåŠ äº†ä¸ª <code>Array.from</code>Â æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = <span class="built_in">Array</span>.from($(<span class="string">&#x27;#MemberList li&#x27;</span>));</span><br><span class="line">    memberList.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(item)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(memberList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åé‡æ–°æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºä¸‹é¢ç»“æœï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-Code-2.png"></p>
<p>Leo è¾“å‡ºçš„ç»“æœï¼Œè·Ÿ Robin è¯´åˆ°ï¼š</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-3.png"></p>
<p>Robin æ»¡è„¸æœŸå¾…æœ›ç€å¸ˆå‚…ï¼Œå¯¹<strong>ç±»æ•°ç»„å¯¹è±¡</strong>æ›´åŠ å……æ»¡æœŸå¾…ã€‚</p>
<h2 id="äºŒã€ç±»æ•°ç»„å¯¹è±¡ä»‹ç»"><a href="#äºŒã€ç±»æ•°ç»„å¯¹è±¡ä»‹ç»" class="headerlink" title="äºŒã€ç±»æ•°ç»„å¯¹è±¡ä»‹ç»"></a>äºŒã€ç±»æ•°ç»„å¯¹è±¡ä»‹ç»</h2><h3 id="2-1-æ¦‚å¿µä»‹ç»"><a href="#2-1-æ¦‚å¿µä»‹ç»" class="headerlink" title="2.1 æ¦‚å¿µä»‹ç»"></a>2.1 æ¦‚å¿µä»‹ç»</h3><p>æ‰€è°“ <strong>ç±»æ•°ç»„å¯¹è±¡</strong>ï¼Œå³æ ¼å¼ä¸æ•°ç»„ç»“æ„ç±»ä¼¼ï¼Œæ‹¥æœ‰ <code>length</code> å±æ€§ï¼Œå¯ä»¥é€šè¿‡<strong>ç´¢å¼•</strong>æ¥è®¿é—®æˆ–è®¾ç½®é‡Œé¢çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå°±å¯ä»¥å½’ç±»ä¸º<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrLike = &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">&#x27;age&#x27;</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="string">&#x27;job&#x27;</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-å¸¸è§ç±»æ•°ç»„å¯¹è±¡"><a href="#2-2-å¸¸è§ç±»æ•°ç»„å¯¹è±¡" class="headerlink" title="2.2 å¸¸è§ç±»æ•°ç»„å¯¹è±¡"></a>2.2 å¸¸è§ç±»æ•°ç»„å¯¹è±¡</h3><ul>
<li><code>arguments</code> å¯¹è±¡ï¼›</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">arguments</span>;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Arguments(3) [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>NodeList</code>ï¼ˆæ¯”å¦‚ <code>document.getElementsByClassName(&#39;a&#39;)</code> å¾—åˆ°çš„ç»“æœï¼›</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line"><span class="comment">// HTMLCollection(3)Â [img, img, img]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>typedArray</code>ï¼ˆæ¯”å¦‚ <code>Int32Array</code>ï¼‰ï¼›</li>
</ul>
<p>typedArray å³  **<br>å¯¹è±¡** æ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§ç”¨äºè®¿é—®åŸå§‹äºŒè¿›åˆ¶æ•°æ®çš„æœºåˆ¶ã€‚JavaScriptå¼•æ“ä¼šåšä¸€äº›å†…éƒ¨ä¼˜åŒ–ï¼Œä»¥ä¾¿å¯¹æ•°ç»„çš„æ“ä½œå¯ä»¥å¾ˆå¿«ã€‚ç„¶è€Œï¼Œéšç€Webåº”ç”¨ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¼ºå¤§ï¼Œå°¤å…¶ä¸€äº›æ–°å¢åŠ çš„åŠŸèƒ½ä¾‹å¦‚ï¼šéŸ³é¢‘è§†é¢‘ç¼–è¾‘ï¼Œè®¿é—®WebSocketsçš„åŸå§‹æ•°æ®ç­‰ï¼Œå¾ˆæ˜æ˜¾æœ‰äº›æ—¶å€™å¦‚æœä½¿ç”¨JavaScriptä»£ç å¯ä»¥å¿«é€Ÿæ–¹ä¾¿åœ°é€šè¿‡ç±»å‹åŒ–æ•°ç»„æ¥æ“ä½œåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®å°†ä¼šéå¸¸æœ‰å¸®åŠ©ã€‚ â€”â€”<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Typed_arrays"> ã€ŠMDN ç±»å‹åŒ–æ•°ç»„ã€‹</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> typedArray = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="comment">// Uint8Array(4)Â [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ä½¿ç”¨ jQuery è·å–å…ƒç´ ï¼Œä¼šè¢« jQuery åšç‰¹æ®Šå¤„ç†æˆä¸º init ç±»å‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line"><span class="comment">// init(3)Â [img, img, img, prevObject: init(1), context: document, selector: &quot;img&quot;]</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶è¿˜æœ‰ä¸€äº›ä¸å¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡ï¼Œæ¯”å¦‚â€œStorage API è¿”å›çš„ç»“æœâ€ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—å‡ºã€‚</p>
<h2 id="ä¸‰ã€ç±»æ•°ç»„å¯¹è±¡å±æ€§"><a href="#ä¸‰ã€ç±»æ•°ç»„å¯¹è±¡å±æ€§" class="headerlink" title="ä¸‰ã€ç±»æ•°ç»„å¯¹è±¡å±æ€§"></a>ä¸‰ã€ç±»æ•°ç»„å¯¹è±¡å±æ€§</h2><p>ä¸‹é¢é€šè¿‡ Robin ä»£ç ä½œä¸ºç¤ºä¾‹ï¼Œä»‹ç»ç±»æ•°ç»„å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memberList = $(<span class="string">&#x27;#MemberList li&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-1-è¯»å†™"><a href="#3-1-è¯»å†™" class="headerlink" title="3.1 è¯»å†™"></a>3.1 è¯»å†™</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯»å–</span></span><br><span class="line">memberList[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// Node: &lt;li&gt;...&lt;/li&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™å…¥</span></span><br><span class="line">memberList[<span class="number">0</span>] = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">memberList[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//  Node: &lt;div&gt;...&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-é•¿åº¦"><a href="#3-2-é•¿åº¦" class="headerlink" title="3.2 é•¿åº¦"></a>3.2 é•¿åº¦</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">memberList.length; </span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-éå†"><a href="#3-3-éå†" class="headerlink" title="3.3 éå†"></a>3.3 éå†</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; memberList.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(memberList[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	Node: &lt;li&gt;...&lt;/li&gt;</span></span><br><span class="line"><span class="comment">	Node: &lt;li&gt;...&lt;/li&gt;</span></span><br><span class="line"><span class="comment">  ... å…±10ä¸ªï¼Œçœç•¥å…¶ä»–</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">memberList.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">console</span>.log(item));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	0</span></span><br><span class="line"><span class="comment">  ... å…±10ä¸ªï¼Œçœç•¥å…¶ä»–</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>ä½†å¦‚æœæ˜¯ <code>HTMLCollection</code> å°±ä¸èƒ½ä½¿ç”¨ <code>map</code> å’¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">img.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">console</span>.log(item));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Uncaught TypeError: img.map is not a function</span></span><br></pre></td></tr></table></figure>

<h2 id="å››ã€ç±»æ•°ç»„å¯¹è±¡å¤„ç†"><a href="#å››ã€ç±»æ•°ç»„å¯¹è±¡å¤„ç†" class="headerlink" title="å››ã€ç±»æ•°ç»„å¯¹è±¡å¤„ç†"></a>å››ã€ç±»æ•°ç»„å¯¹è±¡å¤„ç†</h2><p>Leo çœ‹äº†çœ‹ Robin å¤„ç†è¿™ä¸ªåˆ—è¡¨çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = $(<span class="string">&#x27;#MemberList li&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> result = &#123;</span><br><span class="line">        <span class="attr">text</span>: [],</span><br><span class="line">        <span class="attr">dom</span> : [],</span><br><span class="line">    &#125;;</span><br><span class="line">    memberList.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        item = memberList[item]</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰ checked ç±»å</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(result)</span><br><span class="line">    <span class="built_in">this</span>.showToast(<span class="string">`é€‰ä¸­æˆå‘˜ï¼š<span class="subst">$&#123;result.text&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾ï¼ŒRobin å¹¶æ²¡æœ‰å¯¹ jQuery è·å–åˆ°çš„ <code>memberList</code> åšå¤„ç†ï¼Œç›´æ¥ä½¿ç”¨ï¼Œé€šè¿‡ç´¢å¼•æ¥è·å–å¯¹åº”å€¼ã€‚<br>Leo ç»§ç»­å’Œ Robin ä»‹ç»åˆ°ï¼š<br><img src="http://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects/Learn-Array-Liked-Objects-4.png"></p>
<h3 id="4-1-Array-from"><a href="#4-1-Array-from" class="headerlink" title="4.1 Array.from"></a>4.1 Array.from</h3><p>ä½¿ç”¨ <code>Array.from</code>Â æ¥å°†ç±»æ•°ç»„å¯¹è±¡è½¬ä¸ºæ•°ç»„å¯¹è±¡ï¼Œæ“ä½œèµ·æ¥éå¸¸ç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = <span class="built_in">Array</span>.from($(<span class="string">&#x27;#MemberList li&#x27;</span>));</span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶<strong>è¯­æ³•</strong>å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike[, mapFn[, thisArg]])</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ol>
<li><code>arrayLike</code> æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡ã€‚</li>
<li><code>mapFn</code> å¯é€‰å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ã€‚</li>
<li><code>thisArg</code> å¯é€‰å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° <code>mapFn</code> æ—¶ <code>this</code> å¯¹è±¡ã€‚</li>
</ol>
<p><strong>è¿”å›å€¼</strong>ï¼š<br>ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹ã€‚</p>
<p>æ›´å¤š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from"> <code>Array.from</code> </a> ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚</p>
<h3 id="4-2-Array-prototype-slice-call"><a href="#4-2-Array-prototype-slice-call" class="headerlink" title="4.2 Array.prototype.slice.call()"></a>4.2 Array.prototype.slice.call()</h3><p><code>slice()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± <code>begin</code> å’Œ <code>end</code> å†³å®šçš„åŸæ•°ç»„çš„<strong>æµ…æ‹·è´</strong>ï¼ˆåŒ…æ‹¬ <code>begin</code>ï¼Œä¸åŒ…æ‹¬<code>end</code>ï¼‰ã€‚<strong>åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜</strong>ã€‚</p>
<p>å®ç°ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = <span class="built_in">Array</span>.prototype.slice.call($(<span class="string">&#x27;#MemberList li&#x27;</span>));</span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´å¤š <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">Array.prototype.slice</a> ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚</p>
<h3 id="4-3-ES6å±•å¼€è¿ç®—ç¬¦"><a href="#4-3-ES6å±•å¼€è¿ç®—ç¬¦" class="headerlink" title="4.3 ES6å±•å¼€è¿ç®—ç¬¦"></a>4.3 ES6å±•å¼€è¿ç®—ç¬¦</h3><p>å±•å¼€è¯­æ³•(Spread syntax), å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶, <strong>å°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€…stringåœ¨è¯­æ³•å±‚é¢å±•å¼€</strong>ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰<code>key-value</code>çš„æ–¹å¼å±•å¼€ã€‚</p>
<p>å®ç°ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = [...document.getElementsByTagName(<span class="string">&quot;li&quot;</span>)];</span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ›´å¤š <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax">ES6å±•å¼€è¿ç®—ç¬¦</a> ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚</p>
<h3 id="4-4-åˆ©ç”¨concat-apply"><a href="#4-4-åˆ©ç”¨concat-apply" class="headerlink" title="4.4 åˆ©ç”¨concat+apply"></a>4.4 åˆ©ç”¨concat+apply</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getUserList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memberList = <span class="built_in">Array</span>.prototype.concat.apply([], $(<span class="string">&#x27;#MemberList li&#x27;</span>));</span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€æ¡ˆä¾‹å°ç»“"><a href="#äº”ã€æ¡ˆä¾‹å°ç»“" class="headerlink" title="äº”ã€æ¡ˆä¾‹å°ç»“"></a>äº”ã€æ¡ˆä¾‹å°ç»“</h2><p>Leo ä»‹ç»å®Œè¿™äº›çŸ¥è¯†åï¼ŒRobin åˆä¼˜åŒ–äº†ä¸‹è‡ªå·±çš„ä»£ç ï¼Œæ¶‰åŠ<strong>åˆ°ç±»æ•°ç»„å¯¹è±¡æ“ä½œçš„</strong>æ ¸å¿ƒ js ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SelectMember</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.MockUsers = <span class="built_in">window</span>.MockUsers;</span><br><span class="line">        <span class="built_in">this</span>.init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">init</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.initMemberList(<span class="string">&#x27;#MemberList&#x27;</span>, <span class="built_in">this</span>.MockUsers);</span><br><span class="line">        <span class="built_in">this</span>.initBindEvent();</span><br><span class="line">    &#125;</span><br><span class="line">	  <span class="comment">// ... çœç•¥éƒ¨åˆ†ä»£ç ï¼Œä¿ç•™æ ¸å¿ƒä»£ç </span></span><br><span class="line">    <span class="function"><span class="title">submitSelect</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> memberList = <span class="built_in">Array</span>.from($(<span class="string">&#x27;#MemberList li&#x27;</span>));</span><br><span class="line">        <span class="keyword">const</span> result = &#123;</span><br><span class="line">            <span class="attr">text</span>: [],</span><br><span class="line">            <span class="attr">dom</span> : [],</span><br><span class="line">        &#125;;</span><br><span class="line">        memberList.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> hasClass = $(item).children(<span class="string">&#x27;.round-checkbox&#x27;</span>).children(<span class="string">&#x27;span&#x27;</span>).hasClass(<span class="built_in">this</span>.selectClassName);</span><br><span class="line">            <span class="keyword">if</span>(hasClass)&#123;</span><br><span class="line">                result.text.push($(item).children(<span class="string">&#x27;.user-data&#x27;</span>).children(<span class="string">&#x27;h4&#x27;</span>).text());</span><br><span class="line">                result.dom.push(item);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">this</span>.showToast(<span class="string">`é€‰ä¸­æˆå‘˜ï¼š<span class="subst">$&#123;result.text&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newMember = <span class="keyword">new</span> SelectMember();</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾ï¼Œä½¿ç”¨æ­£ç¡®æ–¹å¼æ¥å¤„ç†ç±»æ•°ç»„å¯¹è±¡ï¼Œä¸ä»…èƒ½ä½¿æˆ‘ä»¬ä»£ç æ›´åŠ å°‘ï¼Œå‡å°‘è½¬æ¢å¤„ç†ï¼Œè¿˜èƒ½æé«˜ä»£ç è´¨é‡ã€‚</p>
<p>æ•´ä¸ªé¡¹ç›®çš„å®Œæ•´ä»£ç ï¼Œå¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html">æˆ‘çš„ github æŸ¥çœ‹</a>ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html">https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html</a></p>
<h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>æœ¬æ–‡æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…åœºæ™¯ï¼Œè¯¦ç»†ä»‹ç»äº†ç±»æ•°ç»„å¯¹è±¡åœ¨å®é™…å¼€å‘ä¸­çš„ä½¿ç”¨ï¼Œå¯¹äºå¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†å¤„ç†æ–¹å¼ï¼Œèƒ½å¾ˆå¤§ç¨‹åº¦å‡å°‘æˆ‘ä»¬å¤„ç†ç±»æ•°ç»„å¯¹è±¡çš„æ“ä½œï¼Œå°†ç±»æ•°ç»„ç»Ÿä¸€è½¬æˆæ•°ç»„ï¼Œæ›´åŠ æ–¹ä¾¿å¯¹æ•°æ®çš„æ“ä½œã€‚<br>å¸Œæœ›çœ‹å®Œæœ¬æ–‡çš„ä½ ï¼Œä»¥åå†é‡åˆ°ç±»æ•°ç»„å¯¹è±¡ï¼Œä¸ä¼šå†ä¸€è„¸æ‡µé€¼å’¯~~~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/22/216-%E3%80%90JavaScript%E3%80%91%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%A4%84%E7%90%86%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1/" data-id="ckts3ejua00654d9kh74j1eg0" data-title="216-ã€JavaScriptã€‘å‰ç«¯å¦‚ä½•ä¼˜é›…å¤„ç†ç±»æ•°ç»„å¯¹è±¡" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-215-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/05/215-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-2/" class="article-date">
  <time class="dt-published" datetime="2020-08-05T13:56:55.000Z" itemprop="datePublished">2020-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/05/215-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-2/">215-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨<a target="_blank" rel="noopener" href="https://juejin.im/post/6846687584710557710">ã€Šåˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å• - 1ã€‹</a>éƒ¨åˆ†ä¸­ï¼Œå’Œå¤§å®¶ç®€å•è¿‡äº†ä¸€é JavaScript åŸºç¡€çŸ¥è¯†ï¼Œæ²¡çœ‹è¿‡çš„æœ‹å‹å¯ä»¥å›é¡¾ä¸€ä¸‹ğŸ˜</p>
<p>æœ¬ç³»åˆ—æ–‡ç« æ˜¯æˆ‘åœ¨æˆ‘ä»¬å›¢é˜Ÿå†…éƒ¨çš„â€œ<strong>ç°ä»£ JavaScript çªå‡»é˜Ÿ</strong>â€ï¼Œç¬¬ä¸€æœŸå­¦ä¹ å†…å®¹ä¸º<a target="_blank" rel="noopener" href="https://zh.javascript.info/">ã€Šç°ä»£ JavaScript æ•™ç¨‹ã€‹</a>ç³»åˆ—çš„<strong>ç¬¬äºŒéƒ¨åˆ†</strong>è¾“å‡ºå†…å®¹ï¼Œå¸Œæœ›è¿™ä»½è‡ªæµ‹æ¸…å•ï¼Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶å·©å›ºçŸ¥è¯†ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚</p>
<p>æœ¬éƒ¨åˆ†å†…å®¹ï¼Œä»¥ <strong>JavaScript å¯¹è±¡</strong>ä¸ºä¸»ï¼Œå¤§è‡´åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š<br><img src="http://images.pingan8787.com/JavaScript-Base/section2/xmind.png" alt="åˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å• 2.png"></p>
<h1 id="ä¸€ã€å¯¹è±¡"><a href="#ä¸€ã€å¯¹è±¡" class="headerlink" title="ä¸€ã€å¯¹è±¡"></a>ä¸€ã€å¯¹è±¡</h1><p>JavaScript æœ‰å…«ç§æ•°æ®é¢ç±»å‹ï¼Œæœ‰ä¸ƒç§åŸå§‹ç±»å‹ï¼Œå®ƒä»¬å€¼åªåŒ…å«ä¸€ç§ç±»å‹ï¼ˆå­—ç¬¦ä¸²ï¼Œæ•°å­—æˆ–å…¶ä»–ï¼‰ï¼Œè€Œå¯¹è±¡æ˜¯ç”¨æ¥<strong>ä¿å­˜é”®å€¼å¯¹å’Œæ›´å¤æ‚å®ä½“ã€‚</strong><br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å¸¦æœ‰å¯é€‰<strong>å±æ€§åˆ—è¡¨</strong>çš„èŠ±æ‹¬å· <code>**&#123;...&#125;**</code> æ¥åˆ›å»ºå¯¹è±¡ï¼Œä¸€ä¸ªå±æ€§å°±æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ <code>&#123;&quot;key&quot; : &quot;value&quot;&#125;</code> ï¼Œå…¶ä¸­é”®ï¼ˆ <code>key</code> ï¼‰æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆæˆ–ç§°å±æ€§åï¼‰ï¼Œå€¼ï¼ˆ <code>value</code> ï¼‰å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚</p>
<h2 id="1-åˆ›å»ºå¯¹è±¡"><a href="#1-åˆ›å»ºå¯¹è±¡" class="headerlink" title="1. åˆ›å»ºå¯¹è±¡"></a>1. åˆ›å»ºå¯¹è±¡</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 2 ç§æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. é€šè¿‡â€œæ„é€ å‡½æ•°â€åˆ›å»º</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. é€šè¿‡â€œå­—é¢é‡â€åˆ›å»º</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="2-å¯¹è±¡æ–‡æœ¬å’Œå±æ€§"><a href="#2-å¯¹è±¡æ–‡æœ¬å’Œå±æ€§" class="headerlink" title="2. å¯¹è±¡æ–‡æœ¬å’Œå±æ€§"></a>2. å¯¹è±¡æ–‡æœ¬å’Œå±æ€§</h2><p>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥åˆå§‹åŒ–å¯¹è±¡çš„ä¸€äº›å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>  : <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå¯ä»¥å¯¹è¯¥å¯¹è±¡è¿›è¡Œå±æ€§å¯¹<strong>å¢åˆ æ”¹æŸ¥</strong>æ“ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¢åŠ å±æ€§</span></span><br><span class="line">user.addr = <span class="string">&quot;China&quot;</span>;</span><br><span class="line"><span class="comment">// user =&gt; &#123;name: &quot;leo&quot;, age: 18, addr: &quot;China&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å±æ€§</span></span><br><span class="line"><span class="keyword">delete</span> user.addr</span><br><span class="line"><span class="comment">// user =&gt; &#123;name: &quot;leo&quot;, age: 18&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹å±æ€§</span></span><br><span class="line">user.age  = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// user =&gt; &#123;name: &quot;leo&quot;, age: 20&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥æ‰¾å±æ€§</span></span><br><span class="line">user.age;</span><br><span class="line"><span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<h2 id="3-æ–¹æ‹¬å·çš„ä½¿ç”¨"><a href="#3-æ–¹æ‹¬å·çš„ä½¿ç”¨" class="headerlink" title="3. æ–¹æ‹¬å·çš„ä½¿ç”¨"></a>3. æ–¹æ‹¬å·çš„ä½¿ç”¨</h2><p>å½“ç„¶å¯¹è±¡çš„é”®ï¼ˆ <code>key</code> ï¼‰ä¹Ÿå¯ä»¥æ˜¯å¤šè¯å±æ€§ï¼Œä½†å¿…é¡»åŠ å¼•å·ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·ï¼ˆ <code>[]</code> ï¼‰è¯»å–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="string">&quot;my interest&quot;</span> : [<span class="string">&quot;coding&quot;</span>, <span class="string">&quot;football&quot;</span>, <span class="string">&quot;cycling&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">user[<span class="string">&quot;my interest&quot;</span>]; <span class="comment">// [&quot;coding&quot;, &quot;football&quot;, &quot;cycling&quot;]</span></span><br><span class="line"><span class="keyword">delete</span> user[<span class="string">&quot;my interest&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨å˜é‡ï¼Œæ¥è·å–å±æ€§å€¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&quot;leo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>  : <span class="number">18</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ok</span></span><br><span class="line">user[key]; <span class="comment">// &quot;leo&quot;</span></span><br><span class="line">user[key] = <span class="string">&quot;pingan&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// error</span></span><br><span class="line">user.key; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="4-è®¡ç®—å±æ€§"><a href="#4-è®¡ç®—å±æ€§" class="headerlink" title="4. è®¡ç®—å±æ€§"></a>4. è®¡ç®—å±æ€§</h2><p>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨æ–¹æ‹¬å·ï¼Œå³ <strong>è®¡ç®—å±æ€§</strong> ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> inputKey = prompt(<span class="string">&quot;è¯·è¾“å…¥key&quot;</span>, <span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	[key] : <span class="string">&quot;leo&quot;</span>,</span><br><span class="line">  [inputKey] : <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å½“ç”¨æˆ·åœ¨ prompt ä¸Šè¾“å…¥ &quot;age&quot; æ—¶ï¼Œuser å˜æˆä¸‹é¢æ ·å­ï¼š</span></span><br><span class="line"><span class="comment">// &#123;name: &quot;leo&quot;, age: 18&#125;</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œè®¡ç®—å±æ€§ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	[<span class="string">&quot;my_&quot;</span> + key] : <span class="string">&quot;leo&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">user[<span class="string">&quot;my_&quot;</span> + key]; <span class="comment">// &quot;leo&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-å±æ€§åç®€å†™"><a href="#5-å±æ€§åç®€å†™" class="headerlink" title="5. å±æ€§åç®€å†™"></a>5. å±æ€§åç®€å†™</h2><p>å®é™…å¼€å‘ä¸­ï¼Œå¯ä»¥å°†ç›¸åŒçš„å±æ€§åå’Œå±æ€§å€¼ç®€å†™æˆæ›´çŸ­çš„è¯­æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸæœ¬ä¹¦å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">name</span>: name,</span><br><span class="line">    <span class="attr">age</span>: age</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		name,</span><br><span class="line">    age</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥æ··ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸæœ¬ä¹¦å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">name</span>: name,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		name,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-å¯¹è±¡å±æ€§å­˜åœ¨æ€§æ£€æµ‹"><a href="#6-å¯¹è±¡å±æ€§å­˜åœ¨æ€§æ£€æµ‹" class="headerlink" title="6. å¯¹è±¡å±æ€§å­˜åœ¨æ€§æ£€æµ‹"></a>6. å¯¹è±¡å±æ€§å­˜åœ¨æ€§æ£€æµ‹</h2><h3 id="6-1-ä½¿ç”¨-in-å…³é”®å­—"><a href="#6-1-ä½¿ç”¨-in-å…³é”®å­—" class="headerlink" title="6.1 ä½¿ç”¨ in å…³é”®å­—"></a>6.1 ä½¿ç”¨ in å…³é”®å­—</h3><p>è¯¥æ–¹æ³•å¯ä»¥åˆ¤æ–­<strong>å¯¹è±¡çš„è‡ªæœ‰å±æ€§å’Œç»§æ‰¿æ¥çš„å±æ€§</strong>æ˜¯å¦å­˜åœ¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="string">&quot;name&quot;</span> <span class="keyword">in</span> user;            <span class="comment">//trueï¼Œè‡ªæœ‰å±æ€§å­˜åœ¨</span></span><br><span class="line"><span class="string">&quot;age&quot;</span>  <span class="keyword">in</span> user;            <span class="comment">//false</span></span><br><span class="line"><span class="string">&quot;toString&quot;</span> <span class="keyword">in</span> user;     <span class="comment">//trueï¼Œæ˜¯ä¸€ä¸ªç»§æ‰¿å±æ€§</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2ä½¿ç”¨å¯¹è±¡çš„-hasOwnProperty-æ–¹æ³•ã€‚"><a href="#6-2ä½¿ç”¨å¯¹è±¡çš„-hasOwnProperty-æ–¹æ³•ã€‚" class="headerlink" title="6.2ä½¿ç”¨å¯¹è±¡çš„ hasOwnProperty() æ–¹æ³•ã€‚"></a>6.2ä½¿ç”¨å¯¹è±¡çš„ hasOwnProperty() æ–¹æ³•ã€‚</h3><p>è¯¥æ–¹æ³•åªèƒ½åˆ¤æ–­<strong>è‡ªæœ‰å±æ€§</strong>æ˜¯å¦å­˜åœ¨ï¼Œå¯¹äº<strong>ç»§æ‰¿å±æ€§</strong>ä¼šè¿”å› <code>false</code> ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line">user.hasOwnProperty(<span class="string">&quot;name&quot;</span>);       <span class="comment">//trueï¼Œè‡ªæœ‰å±æ€§ä¸­æœ‰ name</span></span><br><span class="line">user.hasOwnProperty(<span class="string">&quot;age&quot;</span>);        <span class="comment">//falseï¼Œè‡ªæœ‰å±æ€§ä¸­ä¸å­˜åœ¨ age</span></span><br><span class="line">user.hasOwnProperty(<span class="string">&quot;toString&quot;</span>);   <span class="comment">//falseï¼Œè¿™æ˜¯ä¸€ä¸ªç»§æ‰¿å±æ€§ï¼Œä½†ä¸æ˜¯è‡ªæœ‰å±æ€§</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-ç”¨-undefined-åˆ¤æ–­"><a href="#6-3-ç”¨-undefined-åˆ¤æ–­" class="headerlink" title="6.3 ç”¨ undefined åˆ¤æ–­"></a>6.3 ç”¨ undefined åˆ¤æ–­</h3><p>è¯¥æ–¹æ³•å¯ä»¥åˆ¤æ–­å¯¹è±¡çš„<strong>è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§</strong>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line">user.name !== <span class="literal">undefined</span>;        <span class="comment">// true</span></span><br><span class="line">user.age  !== <span class="literal">undefined</span>;        <span class="comment">// false</span></span><br><span class="line">user.toString !== <span class="literal">undefined</span>     <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå±æ€§çš„å€¼å°±æ˜¯ <code>undefined</code>Â  çš„è¯ï¼Œè¯¥æ–¹æ³•ä¸èƒ½è¿”å›æƒ³è¦çš„ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="literal">undefined</span>&#125;;</span><br><span class="line">user.name !== <span class="literal">undefined</span>;        <span class="comment">// falseï¼Œå±æ€§å­˜åœ¨ï¼Œä½†å€¼æ˜¯undefined</span></span><br><span class="line">user.age  !== <span class="literal">undefined</span>;        <span class="comment">// false</span></span><br><span class="line">user.toString !== <span class="literal">undefined</span>;    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="6-4-åœ¨æ¡ä»¶è¯­å¥ä¸­ç›´æ¥åˆ¤æ–­"><a href="#6-4-åœ¨æ¡ä»¶è¯­å¥ä¸­ç›´æ¥åˆ¤æ–­" class="headerlink" title="6.4 åœ¨æ¡ä»¶è¯­å¥ä¸­ç›´æ¥åˆ¤æ–­"></a>6.4 åœ¨æ¡ä»¶è¯­å¥ä¸­ç›´æ¥åˆ¤æ–­</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="keyword">if</span>(user.name) user.name = <span class="string">&quot;pingan&quot;</span>;</span><br><span class="line"><span class="comment">//å¦‚æœ name æ˜¯ undefine, null, false, &quot; &quot;, 0 æˆ– NaN,å®ƒå°†ä¿æŒä¸å˜</span></span><br><span class="line"></span><br><span class="line">user; <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="7-å¯¹è±¡å¾ªç¯éå†"><a href="#7-å¯¹è±¡å¾ªç¯éå†" class="headerlink" title="7. å¯¹è±¡å¾ªç¯éå†"></a>7. å¯¹è±¡å¾ªç¯éå†</h2><p>å½“æˆ‘ä»¬éœ€è¦éå†å¯¹è±¡ä¸­æ¯ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ <code>for...in</code> è¯­å¥æ¥å®ç°</p>
<h3 id="7-1-forâ€¦in-å¾ªç¯"><a href="#7-1-forâ€¦in-å¾ªç¯" class="headerlink" title="7.1 forâ€¦in å¾ªç¯"></a>7.1 forâ€¦in å¾ªç¯</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> è¯­å¥ä»¥ä»»æ„é¡ºåºéå†ä¸€ä¸ªå¯¹è±¡çš„é™¤ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a> ä»¥å¤–çš„<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">å¯æšä¸¾</a>å±æ€§ã€‚<br><strong>æ³¨æ„</strong> ï¼š <code>for...in</code> ä¸åº”è¯¥åº”ç”¨åœ¨ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç´¢å¼•é¡ºåºå¾ˆé‡è¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&quot;leo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>  : <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> user)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(k, user[k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// name leo</span></span><br><span class="line"><span class="comment">// age 18</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-ES7-æ–°å¢æ–¹æ³•"><a href="#7-2-ES7-æ–°å¢æ–¹æ³•" class="headerlink" title="7.2 ES7 æ–°å¢æ–¹æ³•"></a>7.2 ES7 æ–°å¢æ–¹æ³•</h3><p>ES7ä¸­æ–°å¢åŠ çš„Â <code>Object.values()</code>å’Œ<code>Object.entries()</code>ä¸ä¹‹å‰çš„<code>Object.keys()</code>ç±»ä¼¼ï¼Œè¿”å›æ•°ç»„ç±»å‹ã€‚</p>
<h4 id="1-Object-keys"><a href="#1-Object-keys" class="headerlink" title="1. Object.keys()"></a>1. Object.keys()</h4><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰<strong>å¯éå†å±æ€§</strong>çš„å¥åã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.keys(user); <span class="comment">// [&quot;name&quot;, &quot;age&quot;]</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Object-values"><a href="#2-Object-values" class="headerlink" title="2. Object.values()"></a>2. Object.values()</h4><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.values(user); <span class="comment">// [&quot;leo&quot;, 18]</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object.values(10);   // []</span><br><span class="line">Object.values(true); // []</span><br></pre></td></tr></table></figure>

<h4 id="3-Object-entries"><a href="#3-Object-entries" class="headerlink" title="3. Object.entries()"></a>3. Object.entries()</h4><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰<strong>å¯éå†å±æ€§</strong>çš„é”®å€¼å¯¹æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.entries(user);</span><br><span class="line"><span class="comment">// [[&quot;name&quot;,&quot;leo&quot;],[&quot;age&quot;,18]]</span></span><br></pre></td></tr></table></figure>

<p>æ‰‹åŠ¨å®ç°<code>Object.entries()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generatorå‡½æ•°å®ç°ï¼š  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">entries</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">        <span class="keyword">yield</span> [k ,obj[k]];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éGeneratorå‡½æ•°å®ç°ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">entries</span> (<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">        arr.push([k, obj[k]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-Object-getOwnPropertyNames-Obj"><a href="#4-Object-getOwnPropertyNames-Obj" class="headerlink" title="4. Object.getOwnPropertyNames(Obj)"></a>4. Object.getOwnPropertyNames(Obj)</h4><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†å¯¹è±¡Â <code>Obj</code>Â æ‰€æœ‰æ‹¥æœ‰çš„å±æ€§ï¼ˆ<strong>æ— è®ºæ˜¯å¦å¯æšä¸¾</strong>ï¼‰çš„åç§°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(user);</span><br><span class="line"><span class="comment">// [&quot;name&quot;, &quot;age&quot;]</span></span><br></pre></td></tr></table></figure>

<h1 id="äºŒã€å¯¹è±¡æ‹·è´"><a href="#äºŒã€å¯¹è±¡æ‹·è´" class="headerlink" title="äºŒã€å¯¹è±¡æ‹·è´"></a>äºŒã€å¯¹è±¡æ‹·è´</h1><p>å‚è€ƒæ–‡ç« <a target="_blank" rel="noopener" href="https://juejin.im/post/5d235d1ef265da1b855c7b5d">ã€Šæä¸æ‡‚JSä¸­èµ‹å€¼Â·æµ…æ‹·è´Â·æ·±æ‹·è´çš„è¯·çœ‹è¿™é‡Œã€‹</a></p>
<h2 id="1-èµ‹å€¼æ“ä½œ"><a href="#1-èµ‹å€¼æ“ä½œ" class="headerlink" title="1. èµ‹å€¼æ“ä½œ"></a>1. èµ‹å€¼æ“ä½œ</h2><p>é¦–å…ˆå›é¡¾ä¸‹åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>åŸºæœ¬ç±»å‹</li>
</ul>
<p>æ¦‚å¿µï¼šåŸºæœ¬ç±»å‹å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°ï¼Œä¿å­˜åœ¨<code>æ ˆå†…å­˜</code>ä¸­ï¼ˆä¸åŒ…å«<code>é—­åŒ…</code>ä¸­çš„å˜é‡ï¼‰ã€‚<br>å¸¸è§åŒ…æ‹¬ï¼šundefined,null,Boolean,String,Number,Symbol</p>
<ul>
<li>å¼•ç”¨ç±»å‹</li>
</ul>
<p>æ¦‚å¿µï¼šå¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨<code>å †å†…å­˜</code>ä¸­ã€‚è€Œæ ˆå†…å­˜å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å˜é‡æ ‡è¯†ç¬¦ä»¥åŠå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€(å¼•ç”¨)ï¼Œå¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚<br>å¸¸è§åŒ…æ‹¬ï¼šObject,Array,Date,Function,RegExpç­‰</p>
<h3 id="1-1-åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼"><a href="#1-1-åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼" class="headerlink" title="1.1 åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼"></a>1.1 åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼</h3><p>åœ¨æ ˆå†…å­˜ä¸­çš„æ•°æ®å‘ç”Ÿæ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæ–°çš„å˜é‡åˆ†é…ä¸€ä¸ªæ–°çš„ä¹‹å€¼åœ¨æ ˆå†…å­˜ä¸­ï¼Œä¸¤ä¸ªå˜é‡ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user  = <span class="string">&quot;leo&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> user1 = user;</span><br><span class="line">user1 = <span class="string">&quot;pingan&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(user);  <span class="comment">// &quot;leo&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(user1); <span class="comment">// &quot;pingan&quot; </span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼"><a href="#1-2-å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼" class="headerlink" title="1.2 å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼"></a>1.2 å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼</h3><p>åœ¨ JavaScript ä¸­ï¼Œå˜é‡ä¸å­˜å‚¨å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯å­˜å‚¨å…¶â€œå†…å­˜ä¸­çš„åœ°å€â€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å­˜å‚¨å¯¹å…¶çš„â€œå¼•ç”¨â€ã€‚<br>å¦‚ä¸‹é¢ <code>leo</code>Â  å˜é‡åªæ˜¯ä¿å­˜å¯¹<code>user</code> å¯¹è±¡å¯¹åº”å¼•ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> leo  = user;</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–å˜é‡ä¹Ÿå¯ä»¥å¼•ç”¨ <code>user</code> å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo1 = user;</span><br><span class="line"><span class="keyword">let</span> leo2 = user;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ç”±äºå˜é‡ä¿å­˜çš„æ˜¯å¼•ç”¨ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä¿®æ”¹å˜é‡ <code>leo</code> \ <code>leo1</code> \ <code>leo2</code> è¿™äº›å€¼æ—¶ï¼Œ<strong>ä¹Ÿä¼šæ”¹åŠ¨åˆ°å¼•ç”¨å¯¹è±¡</strong> <code>user</code> ï¼Œä½†å½“ <code>user</code> ä¿®æ”¹ï¼Œåˆ™å…¶ä»–å¼•ç”¨è¯¥å¯¹è±¡çš„å˜é‡ï¼Œå€¼éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">leo.name = <span class="string">&quot;pingan&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo);   <span class="comment">// &#123;name: &quot;pingan&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo1);  <span class="comment">// &#123;name: &quot;pingan&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo2);  <span class="comment">// &#123;name: &quot;pingan&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(user);  <span class="comment">// &#123;name: &quot;pingan&quot;, age: 18&#125;</span></span><br><span class="line"></span><br><span class="line">user.name = <span class="string">&quot;pingan8787&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo);   <span class="comment">// &#123;name: &quot;pingan8787&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo1);  <span class="comment">// &#123;name: &quot;pingan8787&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo2);  <span class="comment">// &#123;name: &quot;pingan8787&quot;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(user);  <span class="comment">// &#123;name: &quot;pingan8787&quot;, age: 18&#125;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠå˜é‡åœ°å€æŒ‡é’ˆæŒ‡å‘é—®é¢˜ï¼Œè¿™é‡Œæš‚æ—¶ä¸å±•å¼€è®¨è®ºï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ç½‘ä¸ŠæŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚</p>
<h2 id="2-å¯¹è±¡æ¯”è¾ƒ"><a href="#2-å¯¹è±¡æ¯”è¾ƒ" class="headerlink" title="2. å¯¹è±¡æ¯”è¾ƒ"></a>2. å¯¹è±¡æ¯”è¾ƒ</h2><p>å½“ä¸¤ä¸ªå˜é‡å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒä»¬æ— è®ºæ˜¯ <code>==</code> è¿˜æ˜¯ <code>===</code> éƒ½ä¼šè¿”å› <code>true</code> ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> leo  = user;</span><br><span class="line"><span class="keyword">let</span> leo1 = user;</span><br><span class="line">leo ==  leo1;   <span class="comment">// true</span></span><br><span class="line">leo === leo1;   <span class="comment">// true</span></span><br><span class="line">leo ==  user;   <span class="comment">// true</span></span><br><span class="line">leo === user;   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>ä½†å¦‚æœä¸¤ä¸ªå˜é‡æ˜¯ç©ºå¯¹è±¡ <code>&#123;&#125;</code> ï¼Œåˆ™ä¸ç›¸ç­‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo2 = &#123;&#125;;</span><br><span class="line">leo1 ==  leo2;  <span class="comment">// false</span></span><br><span class="line">leo1 === leo2;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="3-æµ…æ‹·è´"><a href="#3-æµ…æ‹·è´" class="headerlink" title="3. æµ…æ‹·è´"></a>3. æµ…æ‹·è´</h2><h3 id="3-1-æ¦‚å¿µ"><a href="#3-1-æ¦‚å¿µ" class="headerlink" title="3.1 æ¦‚å¿µ"></a>3.1 æ¦‚å¿µ</h3><p>æ¦‚å¿µï¼š<strong>æ–°çš„å¯¹è±¡å¤åˆ¶å·²æœ‰å¯¹è±¡ä¸­éå¯¹è±¡å±æ€§çš„å€¼å’Œå¯¹è±¡å±æ€§çš„å¼•ç”¨</strong>ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š<strong>ä¸€ä¸ªæ–°çš„å¯¹è±¡ç›´æ¥æ‹·è´å·²å­˜åœ¨çš„å¯¹è±¡çš„å¯¹è±¡å±æ€§çš„å¼•ç”¨</strong>ï¼Œå³æµ…æ‹·è´ã€‚</p>
<p>æµ…æ‹·è´<strong>åªå¯¹ç¬¬ä¸€å±‚å±æ€§è¿›è¡Œäº†æ‹·è´</strong>ï¼Œå½“ç¬¬ä¸€å±‚çš„å±æ€§å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œæ–°çš„å¯¹è±¡å’ŒåŸå¯¹è±¡äº’ä¸å½±å“ï¼Œä½†æ˜¯å¦‚æœç¬¬ä¸€å±‚çš„å±æ€§å€¼æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å’ŒåŸå¯¹è±¡çš„å±æ€§å€¼å…¶æŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜åœ°å€ã€‚</p>
<p>é€šè¿‡ç¤ºä¾‹ä»£ç æ¼”ç¤ºæ²¡æœ‰ä½¿ç”¨æµ…æ‹·è´åœºæ™¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹1 å¯¹è±¡åŸå§‹æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">skill</span>: &#123; <span class="attr">JavaScript</span>: <span class="number">90</span>, <span class="attr">CSS</span>: <span class="number">80</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = user;</span><br><span class="line">leo.name = <span class="string">&quot;leo1&quot;</span>;</span><br><span class="line">leo.skill.CSS = <span class="number">90</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name);      <span class="comment">// &quot;leo1&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(user.name);     <span class="comment">// &quot;leo1&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo.skill.CSS); <span class="comment">// 90</span></span><br><span class="line"><span class="built_in">console</span>.log(user.skill.CSS);<span class="comment">// 90</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹2 æ•°ç»„åŸå§‹æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> user = [<span class="string">&quot;leo&quot;</span>, <span class="string">&quot;pingan&quot;</span>, &#123;<span class="attr">name</span>: <span class="string">&quot;pingan8787&quot;</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> leo  = user;</span><br><span class="line">leo[<span class="number">0</span>] = <span class="string">&quot;pingan888&quot;</span>;</span><br><span class="line">leo[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;pingan999&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo[<span class="number">0</span>]);          <span class="comment">// &quot;pingan888&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(user[<span class="number">0</span>]);         <span class="comment">// &quot;pingan888&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(leo[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>]);  <span class="comment">// &quot;pingan999&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(user[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>]); <span class="comment">// &quot;pingan999&quot;</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢ç¤ºä¾‹ä»£ç å¯ä»¥çœ‹å‡ºï¼š<br>ç”±äºå¯¹è±¡è¢«ç›´æ¥æ‹·è´ï¼Œç›¸å½“äºæ‹·è´ <strong>å¼•ç”¨æ•°æ®ç±»å‹</strong> ï¼Œæ‰€ä»¥åœ¨æ–°å¯¹è±¡ä¿®æ”¹ä»»ä½•å€¼æ—¶ï¼Œéƒ½ä¼šæ”¹åŠ¨åˆ°æºæ•°æ®ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç°æµ…æ‹·è´ï¼Œå¯¹æ¯”ä»¥ä¸‹ã€‚</p>
<h3 id="3-2-å®ç°æµ…æ‹·è´"><a href="#3-2-å®ç°æµ…æ‹·è´" class="headerlink" title="3.2 å®ç°æµ…æ‹·è´"></a>3.2 å®ç°æµ…æ‹·è´</h3><h4 id="1-Object-assign"><a href="#1-Object-assign" class="headerlink" title="1. Object.assign()"></a>1. Object.assign()</h4><p>è¯­æ³•ï¼š <code>Object.assign(target, ...sources)</code><br>ES6ä¸­æ‹·è´å¯¹è±¡çš„æ–¹æ³•ï¼Œæ¥å—çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‹·è´çš„ç›®æ ‡targetï¼Œå‰©ä¸‹çš„å‚æ•°æ˜¯æ‹·è´çš„æºå¯¹è±¡sourcesï¼ˆå¯ä»¥æ˜¯å¤šä¸ªï¼‰ã€‚<br>è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥é˜…è¯»æ–‡æ¡£<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">ã€ŠMDN Object.assignã€‹</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹1 å¯¹è±¡æµ…æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">skill</span>: &#123; <span class="attr">JavaScript</span>: <span class="number">90</span>, <span class="attr">CSS</span>: <span class="number">80</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Object</span>.assign(&#123;&#125;, user);</span><br><span class="line">leo.name = <span class="string">&quot;leo1&quot;</span>;</span><br><span class="line">leo.skill.CSS = <span class="number">90</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name);      <span class="comment">// &quot;leo1&quot; âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(user.name);     <span class="comment">// &quot;leo&quot;  âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(leo.skill.CSS); <span class="comment">// 90</span></span><br><span class="line"><span class="built_in">console</span>.log(user.skill.CSS);<span class="comment">// 90</span></span><br></pre></td></tr></table></figure>
<p>ä»æ‰“å°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæµ…æ‹·è´åªæ˜¯åœ¨æ ¹å±æ€§(å¯¹è±¡çš„ç¬¬ä¸€å±‚çº§)åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†æ˜¯å¯¹äºå±æ€§çš„å€¼æ˜¯å¯¹è±¡çš„è¯åªä¼šæ‹·è´ä¸€ä»½ç›¸åŒçš„å†…å­˜åœ°å€ã€‚</p>
<p><code>Object.assign()</code> ä½¿ç”¨æ³¨æ„ï¼š</p>
<ul>
<li>åªæ‹·è´æºå¯¹è±¡çš„è‡ªèº«å±æ€§ï¼ˆä¸æ‹·è´ç»§æ‰¿å±æ€§ï¼‰ï¼›</li>
<li>ä¸ä¼šæ‹·è´å¯¹è±¡ä¸å¯æšä¸¾çš„å±æ€§ï¼›</li>
<li>å±æ€§åä¸º<code>Symbol</code>Â å€¼çš„å±æ€§ï¼Œå¯ä»¥è¢«Object.assignæ‹·è´ï¼›</li>
<li><code>undefined</code>å’Œ<code>null</code>æ— æ³•è½¬æˆå¯¹è±¡ï¼Œå®ƒä»¬ä¸èƒ½ä½œä¸º<code>Object.assign</code>å‚æ•°ï¼Œä½†æ˜¯å¯ä»¥ä½œä¸ºæºå¯¹è±¡ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(<span class="literal">undefined</span>); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="literal">null</span>);      <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(&#123;&#125;, <span class="literal">undefined</span>); <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.assign(&#123;&#125;, <span class="literal">null</span>);      <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(user, <span class="literal">undefined</span>) === user; <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.assign(user, <span class="literal">null</span>)      === user; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-Array-prototype-slice"><a href="#2-Array-prototype-slice" class="headerlink" title="2. Array.prototype.slice()"></a>2. Array.prototype.slice()</h4><p>è¯­æ³•ï¼š <code>arr.slice([begin[, end]])</code><br><code>slice()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± <code>begin</code> å’Œ <code>end</code> å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ï¼ˆåŒ…æ‹¬ <code>begin</code>ï¼Œä¸åŒ…æ‹¬<code>end</code>ï¼‰ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚<br>è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥é˜…è¯»æ–‡æ¡£<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">ã€ŠMDN Array sliceã€‹</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ æ•°ç»„æ·±æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> user = [<span class="string">&quot;leo&quot;</span>, <span class="string">&quot;pingan&quot;</span>, &#123;<span class="attr">name</span>: <span class="string">&quot;pingan8787&quot;</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> leo  = <span class="built_in">Array</span>.prototype.slice.call(user);</span><br><span class="line">leo[<span class="number">0</span>] = <span class="string">&quot;pingan888&quot;</span>;</span><br><span class="line">leo[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;pingan999&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo[<span class="number">0</span>]);          <span class="comment">// &quot;pingan888&quot;  âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(user[<span class="number">0</span>]);         <span class="comment">// &quot;leo&quot;        âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(leo[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>]);  <span class="comment">// &quot;pingan999&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(user[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>]); <span class="comment">// &quot;pingan999&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-Array-prototype-concat"><a href="#3-Array-prototype-concat" class="headerlink" title="3. Array.prototype.concat()"></a>3. Array.prototype.concat()</h4><p>è¯­æ³•ï¼š <code>var new_array = old_array.concat(value1[, value2[, ...[, valueN]]])</code><br><code>concat()</code> æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚<br>è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥é˜…è¯»æ–‡æ¡£<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">ã€ŠMDN Array concatã€‹</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user  = [&#123;<span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;,   &#123;<span class="attr">age</span>: <span class="number">18</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> user1 = [&#123;<span class="attr">age</span>: <span class="number">20</span>&#125;,&#123;<span class="attr">addr</span>: <span class="string">&quot;fujian&quot;</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> user2 = user.concat(user1);</span><br><span class="line">user1[<span class="number">0</span>][<span class="string">&quot;age&quot;</span>] = <span class="number">25</span>;</span><br><span class="line"><span class="built_in">console</span>.log(user);  <span class="comment">// [&#123;&quot;name&quot;:&quot;leo&quot;&#125;,&#123;&quot;age&quot;:18&#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(user1); <span class="comment">// [&#123;&quot;age&quot;:25&#125;,&#123;&quot;addr&quot;:&quot;fujian&quot;&#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(user2); <span class="comment">// [&#123;&quot;name&quot;:&quot;leo&quot;&#125;,&#123;&quot;age&quot;:18&#125;,&#123;&quot;age&quot;:25&#125;,&#123;&quot;addr&quot;:&quot;fujian&quot;&#125;]</span></span><br></pre></td></tr></table></figure>
<p><code>Array.prototype.concat</code> ä¹Ÿæ˜¯ä¸€ä¸ªæµ…æ‹·è´ï¼Œåªæ˜¯åœ¨æ ¹å±æ€§(å¯¹è±¡çš„ç¬¬ä¸€å±‚çº§)åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†æ˜¯å¯¹äºå±æ€§çš„å€¼æ˜¯å¯¹è±¡çš„è¯åªä¼šæ‹·è´ä¸€ä»½ç›¸åŒçš„å†…å­˜åœ°å€ã€‚</p>
<h4 id="4-æ‹“å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰"><a href="#4-æ‹“å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰" class="headerlink" title="4. æ‹“å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰"></a>4. æ‹“å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰</h4><p>è¯­æ³•ï¼š <code>var cloneObj = &#123; ...obj &#125;;</code><br>æ‰©å±•è¿ç®—ç¬¦ä¹Ÿæ˜¯æµ…æ‹·è´ï¼Œå¯¹äºå€¼æ˜¯å¯¹è±¡çš„å±æ€§æ— æ³•å®Œå…¨æ‹·è´æˆ2ä¸ªä¸åŒå¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœå±æ€§éƒ½æ˜¯åŸºæœ¬ç±»å‹çš„å€¼çš„è¯ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ä¹Ÿæ˜¯ä¼˜åŠ¿æ–¹ä¾¿çš„åœ°æ–¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">skill</span>: &#123; <span class="attr">JavaScript</span>: <span class="number">90</span>, <span class="attr">CSS</span>: <span class="number">80</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = &#123;...user&#125;;</span><br><span class="line">leo.name = <span class="string">&quot;leo1&quot;</span>;</span><br><span class="line">leo.skill.CSS = <span class="number">90</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name);      <span class="comment">// &quot;leo1&quot; âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(user.name);     <span class="comment">// &quot;leo&quot;  âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(leo.skill.CSS); <span class="comment">// 90</span></span><br><span class="line"><span class="built_in">console</span>.log(user.skill.CSS);<span class="comment">// 90</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-æ‰‹å†™æµ…æ‹·è´"><a href="#3-3-æ‰‹å†™æµ…æ‹·è´" class="headerlink" title="3.3 æ‰‹å†™æµ…æ‹·è´"></a>3.3 æ‰‹å†™æµ…æ‹·è´</h3><p>å®ç°åŸç†ï¼šæ–°çš„å¯¹è±¡å¤åˆ¶å·²æœ‰å¯¹è±¡ä¸­éå¯¹è±¡å±æ€§çš„å€¼å’Œå¯¹è±¡å±æ€§çš„<strong>å¼•ç”¨</strong>,ä¹Ÿå°±æ˜¯è¯´å¯¹è±¡å±æ€§å¹¶ä¸å¤åˆ¶åˆ°å†…å­˜ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneShallow</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(source, key)) &#123;</span><br><span class="line">            target[key] = source[key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for in</strong></li>
</ul>
<p>forâ€¦inè¯­å¥ä»¥ä»»æ„é¡ºåºéå†ä¸€ä¸ªå¯¹è±¡è‡ªæœ‰çš„ã€ç»§æ‰¿çš„ã€<code>å¯æšä¸¾çš„</code>ã€éSymbolçš„å±æ€§ã€‚å¯¹äºæ¯ä¸ªä¸åŒçš„å±æ€§ï¼Œè¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚</p>
<ul>
<li><strong>hasOwnProperty</strong></li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œæ‰€æœ‰ç»§æ‰¿äº† Object çš„å¯¹è±¡éƒ½ä¼šç»§æ‰¿åˆ° <code>hasOwnProperty</code> æ–¹æ³•ï¼Œå’Œ <code>in</code> è¿ç®—ç¬¦ä¸åŒï¼Œè¯¥å‡½æ•°ä¼šå¿½ç•¥æ‰é‚£äº›ä»åŸå‹é“¾ä¸Šç»§æ‰¿åˆ°çš„å±æ€§å’Œè‡ªèº«å±æ€§ã€‚<br>è¯­æ³•ï¼š<code>obj.hasOwnProperty(prop)</code><br><code>prop</code> æ˜¯è¦æ£€æµ‹çš„å±æ€§<strong>å­—ç¬¦ä¸²åç§°</strong>æˆ–è€…<code>Symbol</code>ã€‚</p>
<h2 id="4-æ·±æ‹·è´"><a href="#4-æ·±æ‹·è´" class="headerlink" title="4. æ·±æ‹·è´"></a>4. æ·±æ‹·è´</h2><h3 id="4-1-æ¦‚å¿µ"><a href="#4-1-æ¦‚å¿µ" class="headerlink" title="4.1 æ¦‚å¿µ"></a>4.1 æ¦‚å¿µ</h3><p>å¤åˆ¶å˜é‡å€¼ï¼Œå¯¹äºå¼•ç”¨æ•°æ®ï¼Œåˆ™é€’å½’è‡³åŸºæœ¬ç±»å‹åï¼Œå†å¤åˆ¶ã€‚æ·±æ‹·è´åçš„å¯¹è±¡<strong>ä¸åŸæ¥çš„å¯¹è±¡å®Œå…¨éš”ç¦»</strong>ï¼Œäº’ä¸å½±å“ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¿®æ”¹å¹¶ä¸ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h3 id="4-2-å®ç°æ·±æ‹·è´"><a href="#4-2-å®ç°æ·±æ‹·è´" class="headerlink" title="4.2 å®ç°æ·±æ‹·è´"></a>4.2 å®ç°æ·±æ‹·è´</h3><h4 id="1-JSON-parse-JSON-stringify"><a href="#1-JSON-parse-JSON-stringify" class="headerlink" title="1. JSON.parse(JSON.stringify())"></a>1. JSON.parse(JSON.stringify())</h4><p>å…¶åŸç†æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–æˆä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œå°†å¯¹è±¡çš„å†…å®¹è½¬æ¢æˆå­—ç¬¦ä¸²çš„å½¢å¼å†ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œå†ç”¨<code>JSON.parse()</code> ååºåˆ—åŒ–å°†JSONå­—ç¬¦ä¸²å˜æˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>, <span class="attr">skill</span>: &#123; <span class="attr">JavaScript</span>: <span class="number">90</span>, <span class="attr">CSS</span>: <span class="number">80</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(user));</span><br><span class="line">leo.name = <span class="string">&quot;leo1&quot;</span>;</span><br><span class="line">leo.skill.CSS = <span class="number">90</span>;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name);      <span class="comment">// &quot;leo1&quot; âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(user.name);     <span class="comment">// &quot;leo&quot;  âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(leo.skill.CSS); <span class="comment">// 90 âš ï¸ å·®å¼‚ï¼</span></span><br><span class="line"><span class="built_in">console</span>.log(user.skill.CSS);<span class="comment">// 80 âš ï¸ å·®å¼‚ï¼</span></span><br></pre></td></tr></table></figure>
<p><code>JSON.stringify()</code> ä½¿ç”¨æ³¨æ„ï¼š</p>
<ul>
<li>æ‹·è´çš„å¯¹è±¡çš„å€¼ä¸­å¦‚æœæœ‰å‡½æ•°ï¼Œ <code>undefined</code> ï¼Œ <code>symbol</code> åˆ™ç»è¿‡ <code>JSON.stringify()</code> `åºåˆ—åŒ–åçš„JSONå­—ç¬¦ä¸²ä¸­è¿™ä¸ªé”®å€¼å¯¹ä¼šæ¶ˆå¤±ï¼›</li>
<li>æ— æ³•æ‹·è´ä¸å¯æšä¸¾çš„å±æ€§ï¼Œæ— æ³•æ‹·è´å¯¹è±¡çš„åŸå‹é“¾ï¼›</li>
<li>æ‹·è´ <code>Date</code> å¼•ç”¨ç±»å‹ä¼šå˜æˆå­—ç¬¦ä¸²ï¼›</li>
<li>æ‹·è´ <code>RegExp</code> å¼•ç”¨ç±»å‹ä¼šå˜æˆç©ºå¯¹è±¡ï¼›</li>
<li>å¯¹è±¡ä¸­å«æœ‰ <code>NaN</code> ã€ <code>Infinity</code> å’Œ <code>-Infinity</code> ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆ <code>null</code> ï¼›</li>
<li>æ— æ³•æ‹·è´å¯¹è±¡çš„å¾ªç¯åº”ç”¨(å³ <code>obj[key] = obj</code> )ã€‚</li>
</ul>
<h4 id="2-ç¬¬ä¸‰æ–¹åº“"><a href="#2-ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="2. ç¬¬ä¸‰æ–¹åº“"></a>2. ç¬¬ä¸‰æ–¹åº“</h4><h3 id="4-3-æ‰‹å†™æ·±æ‹·è´"><a href="#4-3-æ‰‹å†™æ·±æ‹·è´" class="headerlink" title="4.3 æ‰‹å†™æ·±æ‹·è´"></a>4.3 æ‰‹å†™æ·±æ‹·è´</h3><p>æ ¸å¿ƒæ€æƒ³æ˜¯<strong>é€’å½’</strong>ï¼Œéå†å¯¹è±¡ã€æ•°ç»„ç›´åˆ°é‡Œè¾¹éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç„¶åå†å»å¤åˆ¶ï¼Œå°±æ˜¯æ·±åº¦æ‹·è´ã€‚ å®ç°ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isObject = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span> &amp;&amp; obj != <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneDeep</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isObject(source)) <span class="keyword">return</span> source; <span class="comment">// éå¯¹è±¡è¿”å›è‡ªèº«</span></span><br><span class="line">    <span class="keyword">const</span> target = <span class="built_in">Array</span>.isArray(source) ? [] : &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(source, key)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isObject(source[key])) &#123;</span><br><span class="line">                target[key] = cloneDeep(source[key]); <span class="comment">// æ³¨æ„è¿™é‡Œ</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                target[key] = source[key];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ³•ç¼ºé™·ï¼š é‡åˆ°å¾ªç¯å¼•ç”¨ï¼Œä¼šé™·å…¥ä¸€ä¸ªå¾ªç¯çš„é€’å½’è¿‡ç¨‹ï¼Œä»è€Œå¯¼è‡´çˆ†æ ˆã€‚<br>å…¶ä»–å†™æ³•ï¼Œå¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1">ã€Šå¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´?ã€‹</a> ã€‚</p>
<h2 id="5-å°ç»“"><a href="#5-å°ç»“" class="headerlink" title="5. å°ç»“"></a>5. å°ç»“</h2><p><strong>æµ…æ‹·è´</strong>ï¼šå°†å¯¹è±¡çš„æ¯ä¸ªå±æ€§è¿›è¡Œä¾æ¬¡å¤åˆ¶ï¼Œä½†æ˜¯å½“å¯¹è±¡çš„å±æ€§å€¼æ˜¯å¼•ç”¨ç±»å‹æ—¶ï¼Œå®è´¨å¤åˆ¶çš„æ˜¯å…¶å¼•ç”¨ï¼Œå½“å¼•ç”¨æŒ‡å‘çš„å€¼æ”¹å˜æ—¶ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚</p>
<p><strong>æ·±æ‹·è´</strong>ï¼šå¤åˆ¶å˜é‡å€¼ï¼Œå¯¹äºå¼•ç”¨æ•°æ®ï¼Œåˆ™é€’å½’è‡³åŸºæœ¬ç±»å‹åï¼Œå†å¤åˆ¶ã€‚æ·±æ‹·è´åçš„å¯¹è±¡<strong>ä¸åŸæ¥çš„å¯¹è±¡å®Œå…¨éš”ç¦»</strong>ï¼Œäº’ä¸å½±å“ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¿®æ”¹å¹¶ä¸ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p><strong>æ·±æ‹·è´å’Œæµ…æ‹·è´æ˜¯é’ˆå¯¹å¤æ‚æ•°æ®ç±»å‹æ¥è¯´çš„ï¼Œæµ…æ‹·è´åªæ‹·è´ä¸€å±‚ï¼Œè€Œæ·±æ‹·è´æ˜¯å±‚å±‚æ‹·è´ã€‚</strong><br><img src="http://images.pingan8787.com/JavaScript-Base/section2/object-copy.png" alt="æ·±æ‹·è´å’Œæµ…æ‹·è´"></p>
<h1 id="ä¸‰ã€åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰"><a href="#ä¸‰ã€åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰" class="headerlink" title="ä¸‰ã€åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰"></a>ä¸‰ã€åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰</h1><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)">åƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼Œç¼©å†™ä¸ºGCï¼‰</a>æ˜¯ä¸€ç§è‡ªåŠ¨çš„å­˜å‚¨å™¨ç®¡ç†æœºåˆ¶ã€‚å½“æŸä¸ªç¨‹åºå ç”¨çš„ä¸€éƒ¨åˆ†å†…å­˜ç©ºé—´ä¸å†è¢«è¿™ä¸ªç¨‹åºè®¿é—®æ—¶ï¼Œè¿™ä¸ªç¨‹åºä¼šå€ŸåŠ©åƒåœ¾å›æ”¶ç®—æ³•å‘æ“ä½œç³»ç»Ÿå½’è¿˜è¿™éƒ¨åˆ†å†…å­˜ç©ºé—´ã€‚åƒåœ¾å›æ”¶å™¨å¯ä»¥å‡è½»ç¨‹åºå‘˜çš„è´Ÿæ‹…ï¼Œä¹Ÿå‡å°‘ç¨‹åºä¸­çš„é”™è¯¯ã€‚åƒåœ¾å›æ”¶æœ€æ—©èµ·æºäºLISPè¯­è¨€ã€‚<br>ç›®å‰è®¸å¤šè¯­è¨€å¦‚Smalltalkã€Javaã€C#å’ŒDè¯­è¨€éƒ½æ”¯æŒåƒåœ¾å›æ”¶å™¨ï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„ JavaScript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p>
<p><strong>åœ¨ JavaScript ä¸­ï¼ŒåŸå§‹ç±»å‹çš„æ•°æ®è¢«åˆ†é…åˆ°æ ˆç©ºé—´ä¸­ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®ä¼šè¢«åˆ†é…åˆ°å †ç©ºé—´ä¸­ã€‚</strong></p>
<h2 id="1-æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"><a href="#1-æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶" class="headerlink" title="1. æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"></a>1. æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶</h2><p>å½“å‡½æ•° <code>showName</code> è°ƒç”¨å®Œæˆåï¼Œé€šè¿‡ä¸‹ç§» <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/esp/35173">ESPï¼ˆExtended Stack Pointerï¼‰</a>æŒ‡é’ˆï¼Œæ¥é”€æ¯ <code>showName</code> å‡½æ•°ï¼Œä¹‹åè°ƒç”¨å…¶ä»–å‡½æ•°æ—¶ï¼Œå°†è¦†ç›–æ‰æ—§å†…å­˜ï¼Œå­˜æ”¾å¦ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ç°åƒåœ¾å›æ”¶ã€‚<br><img src="hhttp://images.pingan8787.com/JavaScript-Base/section2/v8-1.jpg"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<h2 id="2-å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"><a href="#2-å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶" class="headerlink" title="2. å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"></a>2. å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶</h2><p>å †ä¸­æ•°æ®åƒåœ¾å›æ”¶ç­–ç•¥çš„åŸºç¡€æ˜¯ï¼š<a target="_blank" rel="noopener" href="https://plumbr.io/handbook/garbage-collection-in-java/generational-hypothesis"><strong>ä»£é™…å‡è¯´</strong>ï¼ˆThe Generational Hypothesisï¼‰</a>ã€‚å³ï¼š</p>
<ol>
<li>å¤§éƒ¨åˆ†å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜åœ¨æ—¶é—´æçŸ­ï¼Œå¾ˆå¤šå¯¹è±¡å¾ˆå¿«å°±ä¸å¯è®¿é—®ã€‚</li>
<li>ä¸æ­»çš„å¯¹è±¡å°†æ´»å¾—æ›´ä¹…ã€‚</li>
</ol>
<p>è¿™ä¸¤ä¸ªç‰¹ç‚¹ä¸ä»…ä»…é€‚ç”¨äº JavaScriptï¼ŒåŒæ ·é€‚ç”¨äºå¤§å¤šæ•°çš„åŠ¨æ€è¯­è¨€ï¼Œå¦‚ Javaã€Python ç­‰ã€‚<br>V8 å¼•æ“å°†å †ç©ºé—´åˆ†ä¸º<strong>æ–°ç”Ÿä»£</strong>ï¼ˆå­˜æ”¾ç”Ÿå­˜<strong>æ—¶é—´çŸ­</strong>çš„å¯¹è±¡ï¼‰å’Œ<strong>è€ç”Ÿä»£</strong>ï¼ˆå­˜æ”¾ç”Ÿå­˜<strong>æ—¶é—´é•¿</strong>çš„å¯¹è±¡ï¼‰ä¸¤ä¸ªåŒºåŸŸï¼Œå¹¶ä½¿ç”¨ä¸åŒçš„åƒåœ¾å›æ”¶å™¨ã€‚</p>
<ul>
<li>å‰¯åƒåœ¾å›æ”¶å™¨ï¼Œä¸»è¦è´Ÿè´£æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li>
<li>ä¸»åƒåœ¾å›æ”¶å™¨ï¼Œä¸»è¦è´Ÿè´£è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li>
</ul>
<p>ä¸ç®¡æ˜¯å“ªç§åƒåœ¾å›æ”¶å™¨ï¼Œéƒ½ä½¿ç”¨ç›¸åŒåƒåœ¾å›æ”¶æµç¨‹ï¼š<strong>æ ‡è®°æ´»åŠ¨å¯¹è±¡å’Œéæ´»åŠ¨å¯¹è±¡ï¼Œå›æ”¶éæ´»åŠ¨å¯¹è±¡çš„å†…å­˜ï¼Œæœ€åå†…å­˜æ•´ç†ã€‚</strong><br>**</p>
<h3 id="1-1-å‰¯åƒåœ¾å›æ”¶å™¨"><a href="#1-1-å‰¯åƒåœ¾å›æ”¶å™¨" class="headerlink" title="1.1 å‰¯åƒåœ¾å›æ”¶å™¨"></a>1.1 å‰¯åƒåœ¾å›æ”¶å™¨</h3><p>ä½¿ç”¨ Scavenge ç®—æ³•å¤„ç†ï¼Œå°†æ–°ç”Ÿä»£ç©ºé—´å¯¹åŠåˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸï¼Œä¸€ä¸ªå¯¹è±¡åŒºåŸŸï¼Œä¸€ä¸ªç©ºé—²åŒºåŸŸã€‚<br><img src="hhttp://images.pingan8787.com/JavaScript-Base/section2/v8-2.jpg"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<p>æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li>æ–°å¯¹è±¡å­˜åœ¨åœ¨<strong>å¯¹è±¡åŒºåŸŸ</strong>ï¼Œå½“å¯¹è±¡åŒºåŸŸå°†è¦å†™æ»¡æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡åƒåœ¾å›æ”¶ï¼›</li>
<li>åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆå¯¹å¯¹è±¡åŒºåŸŸä¸­çš„åƒåœ¾åšæ ‡è®°ï¼Œç„¶åå‰¯åƒåœ¾å›æ”¶å™¨å°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶å¹¶æœ‰åºæ’åˆ—åˆ°ç©ºé—²åŒºåŸŸï¼Œç›¸å½“äºå®Œæˆå†…å­˜æ•´ç†ã€‚</li>
<li>å¤åˆ¶å®Œæˆåï¼Œå°†å¯¹è±¡åŒºåŸŸå’Œç©ºé—²åŒºåŸŸç¿»è½¬ï¼Œå®Œæˆåƒåœ¾å›æ”¶æ“ä½œï¼Œè¿™ä¹Ÿè®©æ–°ç”Ÿä»£ä¸­ä¸¤å—åŒºåŸŸæ— é™é‡å¤ä½¿ç”¨ã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œè¿™ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼šè‹¥å¤åˆ¶æ“ä½œçš„æ•°æ®è¾ƒå¤§åˆ™å½±å“æ¸…ç†æ•ˆç‡ã€‚<br>JavaScript å¼•æ“çš„è§£å†³æ–¹å¼æ˜¯ï¼šå°†æ–°ç”Ÿä»£åŒºåŸŸè®¾ç½®å¾—æ¯”è¾ƒå°ï¼Œå¹¶é‡‡ç”¨å¯¹è±¡æ™‹å‡ç­–ç•¥ï¼ˆç»è¿‡ä¸¤æ¬¡å›æ”¶ä»å­˜æ´»çš„å¯¹è±¡ï¼Œä¼šè¢«ç§»åŠ¨åˆ°è€ç”ŸåŒºï¼‰ï¼Œé¿å…å› ä¸ºæ–°ç”Ÿä»£åŒºåŸŸè¾ƒå°å¼•èµ·å­˜æ´»å¯¹è±¡è£…æ»¡æ•´ä¸ªåŒºåŸŸçš„é—®é¢˜ã€‚</p>
<h3 id="1-2-ä¸»åƒåœ¾å›æ”¶å™¨"><a href="#1-2-ä¸»åƒåœ¾å›æ”¶å™¨" class="headerlink" title="1.2 ä¸»åƒåœ¾å›æ”¶å™¨"></a>1.2 ä¸»åƒåœ¾å›æ”¶å™¨</h3><p>åˆ†ä¸ºï¼š<strong>æ ‡è®° - æ¸…é™¤ï¼ˆMark-Sweepï¼‰ç®—æ³•</strong>ï¼Œå’Œ<strong>æ ‡è®° - æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³•</strong>ã€‚</p>
<p><strong>a)æ ‡è®° - æ¸…é™¤ï¼ˆMark-Sweepï¼‰ç®—æ³•</strong><br><strong>è¿‡ç¨‹ï¼š</strong></p>
<ul>
<li>æ ‡è®°è¿‡ç¨‹ï¼šä»ä¸€ç»„æ ¹å…ƒç´ å¼€å§‹éå†æ•´ä¸ªå…ƒç´ ï¼Œèƒ½åˆ°è¾¾çš„å…ƒç´ ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåä¹‹ä¸ºåƒåœ¾æ•°æ®ï¼›</li>
<li>æ¸…é™¤è¿‡ç¨‹ï¼šæ¸…ç†è¢«æ ‡è®°çš„æ•°æ®ï¼Œå¹¶äº§ç”Ÿå¤§é‡ç¢ç‰‡å†…å­˜ã€‚ï¼ˆç¼ºç‚¹ï¼šå¯¼è‡´å¤§å¯¹è±¡æ— æ³•åˆ†é…åˆ°è¶³å¤Ÿçš„è¿ç»­å†…å­˜ï¼‰</li>
</ul>
<p><img src="hhttp://images.pingan8787.com/JavaScript-Base/section2/v8-3.jpg"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<p><strong>b)æ ‡è®° - æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³•</strong><br><strong>è¿‡ç¨‹ï¼š</strong></p>
<ul>
<li>æ ‡è®°è¿‡ç¨‹ï¼šä»ä¸€ç»„æ ¹å…ƒç´ å¼€å§‹éå†æ•´ä¸ªå…ƒç´ ï¼Œèƒ½åˆ°è¾¾çš„å…ƒç´ ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåä¹‹ä¸ºåƒåœ¾æ•°æ®ï¼›</li>
<li>æ•´ç†è¿‡ç¨‹ï¼šå°†æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œå‘ä¸€æ®µç§»åŠ¨ï¼Œç„¶åæ¸…é™¤ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å®¹ã€‚</li>
</ul>
<p><img src="hhttp://images.pingan8787.com/JavaScript-Base/section2/v8-4.jpg"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<h2 id="3-æ‹“å±•é˜…è¯»"><a href="#3-æ‹“å±•é˜…è¯»" class="headerlink" title="3. æ‹“å±•é˜…è¯»"></a>3. æ‹“å±•é˜…è¯»</h2><p>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/justloveyou_/article/details/71216049">ã€Šå›¾è§£Java åƒåœ¾å›æ”¶æœºåˆ¶ã€‹</a><br>2.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management">ã€ŠMDN å†…å­˜ç®¡ç†ã€‹</a></p>
<h1 id="å››ã€å¯¹è±¡æ–¹æ³•å’Œ-this"><a href="#å››ã€å¯¹è±¡æ–¹æ³•å’Œ-this" class="headerlink" title="å››ã€å¯¹è±¡æ–¹æ³•å’Œ this"></a>å››ã€å¯¹è±¡æ–¹æ³•å’Œ this</h1><h2 id="1-å¯¹è±¡æ–¹æ³•"><a href="#1-å¯¹è±¡æ–¹æ³•" class="headerlink" title="1. å¯¹è±¡æ–¹æ³•"></a>1. å¯¹è±¡æ–¹æ³•</h2><p>å…·ä½“ä»‹ç»å¯é˜…è¯» <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Method_definitions">ã€ŠMDN æ–¹æ³•çš„å®šä¹‰ã€‹</a> ã€‚<br>å°†ä½œä¸ºå¯¹è±¡å±æ€§çš„æ–¹æ³•ç§°ä¸ºâ€œå¯¹è±¡æ–¹æ³•â€ï¼Œå¦‚ä¸‹é¢ <code>user</code> å¯¹è±¡çš„ <code>say</code> æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">&quot;hello!&quot;</span>)&#125;;</span><br><span class="line"></span><br><span class="line">user.say = say;  <span class="comment">// èµ‹å€¼åˆ°å¯¹è±¡ä¸Š</span></span><br><span class="line">user.say(); <span class="comment">// &quot;hello!&quot;</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´åŠ ç®€æ´çš„æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">say</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç®€å†™ä¸º</span></span><br><span class="line">	say ()&#123;<span class="built_in">console</span>.log(<span class="string">&quot;hello!&quot;</span>)&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ES8 async æ–¹æ³•</span></span><br><span class="line">	<span class="keyword">async</span> say ()&#123;<span class="regexp">/.../</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">user.say();</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶å¯¹è±¡æ–¹æ³•çš„åç§°ï¼Œè¿˜æ”¯æŒè®¡ç®—çš„å±æ€§åç§°ä½œä¸ºæ–¹æ³•åï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hello = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	[<span class="string">&#x27;say&#x27;</span> + hello]()&#123;<span class="built_in">console</span>.log(<span class="string">&quot;hello!&quot;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line">user[<span class="string">&#x27;say&#x27;</span> + hello](); <span class="comment">// &quot;hello!&quot;</span></span><br></pre></td></tr></table></figure>


<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ‰€æœ‰æ–¹æ³•å®šä¹‰ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå¦‚æœæ‚¨å°è¯•å®ä¾‹åŒ–å®ƒä»¬ï¼Œå°†æŠ›å‡º<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="function"><span class="title">say</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> user.say; <span class="comment">// TypeError: user.say is not a constructor</span></span><br></pre></td></tr></table></figure>

<h2 id="2-this"><a href="#2-this" class="headerlink" title="2. this"></a>2. this</h2><h3 id="2-1-this-ç®€ä»‹"><a href="#2-1-this-ç®€ä»‹" class="headerlink" title="2.1 this ç®€ä»‹"></a>2.1 this ç®€ä»‹</h3><p>å½“å¯¹è±¡æ–¹æ³•éœ€è¦ä½¿ç”¨å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ <code>this</code> å…³é”®å­—ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">say</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user.say(); <span class="comment">// &quot;hello leo&quot;</span></span><br></pre></td></tr></table></figure>
<p>å½“ä»£ç  <code>user.say()</code> æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ <code>this</code> æŒ‡çš„æ˜¯ <code>user</code> å¯¹è±¡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡å <code>user</code> æ¥å¼•ç”¨ <code>say()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">say</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;user.name&#125;</span>`</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user.say(); <span class="comment">// &quot;hello leo&quot;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·å¹¶ä¸å®‰å…¨ï¼Œå› ä¸º <code>user</code> å¯¹è±¡å¯èƒ½èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å°†å…¶ä»–å€¼èµ‹å€¼ç»™ <code>user</code> å¯¹è±¡ï¼Œå°±å¯èƒ½å¯¼è‡´æŠ¥é”™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">say</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;user.name&#125;</span>`</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> leo = user;</span><br><span class="line">user = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">leo.say(); <span class="comment">// Uncaught TypeError: Cannot read property &#x27;name&#x27; of null</span></span><br></pre></td></tr></table></figure>
<p>ä½†å°† Â <code>user.name</code> Â æ”¹æˆ <code>this.name</code> ä»£ç ä¾¿æ­£å¸¸è¿è¡Œã€‚</p>
<h3 id="2-2-this-å–å€¼"><a href="#2-2-this-å–å€¼" class="headerlink" title="2.2 this å–å€¼"></a>2.2 this å–å€¼</h3><p><code>this</code> çš„å€¼æ˜¯åœ¨ <strong>ä»£ç è¿è¡Œæ—¶è®¡ç®—å‡ºæ¥</strong> çš„ï¼Œå®ƒçš„å€¼å–å†³äºä»£ç ä¸Šä¸‹æ–‡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;leo&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> admin = &#123;<span class="attr">name</span>: <span class="string">&quot;pingan&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.fun = say;</span><br><span class="line">admin.fun = say;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°å†…éƒ¨ this æ˜¯æŒ‡â€œç‚¹ç¬¦å·å‰é¢â€çš„å¯¹è±¡</span></span><br><span class="line">user.fun();     <span class="comment">// &quot;hello leo&quot;</span></span><br><span class="line">admin.fun();    <span class="comment">// &quot;hello pingan&quot;</span></span><br><span class="line">admin[<span class="string">&#x27;fun&#x27;</span>](); <span class="comment">// &quot;hello pingan&quot;</span></span><br></pre></td></tr></table></figure>
<p>è§„åˆ™ï¼šå¦‚æœ <code>obj.fun()</code> è¢«è°ƒç”¨ï¼Œåˆ™ <code>this</code> åœ¨ <code>fun</code> å‡½æ•°è°ƒç”¨æœŸé—´æ˜¯ <code>obj</code> ï¼Œæ‰€ä»¥ä¸Šé¢çš„ <code>this</code> å…ˆæ˜¯ <code>user</code> ï¼Œç„¶åæ˜¯ <code>admin</code> ã€‚</p>
<p>ä½†æ˜¯åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œæ— è®ºæ˜¯å¦å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œ <code>this</code> éƒ½æŒ‡å‘å…¨å±€å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span> == <span class="built_in">window</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">this</span>.b = <span class="number">10</span>;</span><br><span class="line">a === <span class="built_in">this</span>.b; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„-this"><a href="#2-3-ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„-this" class="headerlink" title="2.3 ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ this"></a>2.3 ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ this</h3><p>ç®­å¤´å‡½æ•°æ¯”è¾ƒç‰¹åˆ«ï¼Œæ²¡æœ‰è‡ªå·±çš„ <code>this</code> ï¼Œå¦‚æœæœ‰å¼•ç”¨ <code>this</code> çš„è¯ï¼Œåˆ™æŒ‡å‘å¤–éƒ¨æ­£å¸¸å‡½æ•°ï¼Œä¸‹é¢ä¾‹å­ä¸­ï¼Œ <code>this</code> æŒ‡å‘ <code>user.say()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>,</span><br><span class="line">  <span class="attr">say</span> : <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  	<span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">hello</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">let</span> fun = <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    fun();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user.say();   <span class="comment">// hello      =&gt; say() å¤–éƒ¨å‡½æ•°æ˜¯ window</span></span><br><span class="line">user.hello(); <span class="comment">// hello leo  =&gt; fun() å¤–éƒ¨å‡½æ•°æ˜¯ hello</span></span><br></pre></td></tr></table></figure>

<h3 id="2-4-call-apply-bind"><a href="#2-4-call-apply-bind" class="headerlink" title="2.4 call / apply / bind"></a>2.4 call / apply / bind</h3><p>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1479810">ã€ŠjsåŸºç¡€-å…³äºcall,apply,bindçš„ä¸€åˆ‡ã€‹</a> ã€‚<br>å½“æˆ‘ä»¬æƒ³æŠŠ <code>this</code> å€¼ç»‘å®šåˆ°å¦ä¸€ä¸ªç¯å¢ƒä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>call</code> / <code>apply</code> / <code>bind</code> æ–¹æ³•å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123; <span class="attr">name</span>: <span class="string">&#x27;leo&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;pingan&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>.name); <span class="comment">// this çš„å€¼å–å†³äºå‡½æ•°è°ƒç”¨æ–¹å¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun();           <span class="comment">// &quot;pingan&quot;</span></span><br><span class="line">fun.call(user);  <span class="comment">// &quot;leo&quot;</span></span><br><span class="line">fun.apply(user); <span class="comment">// &quot;leo&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„ <code>var name = &#39;pingan&#39;;</code> éœ€è¦ä½¿ç”¨ <code>var</code> æ¥å£°æ˜ï¼Œä½¿ç”¨ <code>let</code> çš„è¯ï¼Œ <code>window</code> ä¸Šå°†æ²¡æœ‰ <code>name</code> å˜é‡ã€‚</p>
<p>ä¸‰è€…è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun.call(thisArg, param1, param2, ...)</span><br><span class="line">fun.apply(thisArg, [param1,param2,...])</span><br><span class="line">fun.bind(thisArg, param1, param2, ...)</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€æ„é€ å‡½æ•°å’Œ-new-è¿ç®—ç¬¦"><a href="#äº”ã€æ„é€ å‡½æ•°å’Œ-new-è¿ç®—ç¬¦" class="headerlink" title="äº”ã€æ„é€ å‡½æ•°å’Œ new è¿ç®—ç¬¦"></a>äº”ã€æ„é€ å‡½æ•°å’Œ new è¿ç®—ç¬¦</h1><h2 id="1-æ„é€ å‡½æ•°"><a href="#1-æ„é€ å‡½æ•°" class="headerlink" title="1. æ„é€ å‡½æ•°"></a>1. æ„é€ å‡½æ•°</h2><p>æ„é€ å‡½æ•°çš„ä½œç”¨åœ¨äº <strong>å®ç°å¯é‡ç”¨çš„å¯¹è±¡åˆ›å»ºä»£ç </strong> ã€‚<br>é€šå¸¸ï¼Œå¯¹äºæ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªçº¦å®šï¼š</p>
<ul>
<li>å‘½åæ—¶é¦–å­—æ¯å¤§å†™ï¼›</li>
<li>åªèƒ½ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦æ‰§è¡Œã€‚</li>
</ul>
<p><strong><code>new</code> è¿ç®—ç¬¦</strong>åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚<br>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title">constructor</span>[(<span class="params">[<span class="built_in">arguments</span>]</span>)]</span><br></pre></td></tr></table></figure>
<p>å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>constructor</code>ä¸€ä¸ªæŒ‡å®šå¯¹è±¡å®ä¾‹çš„ç±»å‹çš„ç±»æˆ–å‡½æ•°ã€‚</li>
<li><code>arguments</code>ä¸€ä¸ªç”¨äºè¢« <code>constructor</code> è°ƒç”¨çš„å‚æ•°åˆ—è¡¨ã€‚</li>
</ul>
<h2 id="2-ç®€å•ç¤ºä¾‹"><a href="#2-ç®€å•ç¤ºä¾‹" class="headerlink" title="2. ç®€å•ç¤ºä¾‹"></a>2. ç®€å•ç¤ºä¾‹</h2><p>ä¸¾ä¸ªç®€å•ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span> (<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.isAdmin = <span class="literal">false</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> leo = <span class="keyword">new</span> User(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(leo.name, leo.isAdmin); <span class="comment">// &quot;leo&quot; false</span></span><br></pre></td></tr></table></figure>

<h2 id="3-new-è¿ç®—ç¬¦æ“ä½œè¿‡ç¨‹"><a href="#3-new-è¿ç®—ç¬¦æ“ä½œè¿‡ç¨‹" class="headerlink" title="3. new è¿ç®—ç¬¦æ“ä½œè¿‡ç¨‹"></a>3. new è¿ç®—ç¬¦æ“ä½œè¿‡ç¨‹</h2><p>å½“ä¸€ä¸ªå‡½æ•°è¢«ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦æ‰§è¡Œæ—¶ï¼Œå®ƒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡è¢«åˆ›å»ºå¹¶åˆ†é…ç»™ <code>this</code>ã€‚</li>
<li>å‡½æ•°ä½“æ‰§è¡Œã€‚é€šå¸¸å®ƒä¼šä¿®æ”¹ <code>this</code>ï¼Œä¸ºå…¶æ·»åŠ æ–°çš„å±æ€§ã€‚</li>
<li>è¿”å› <code>this</code> çš„å€¼ã€‚</li>
</ol>
<p>ä»¥å‰é¢ <code>User</code> æ–¹æ³•ä¸ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this = &#123;&#125;;ï¼ˆéšå¼åˆ›å»ºï¼‰</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ å±æ€§åˆ° this</span></span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.isAdmin = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// return this;ï¼ˆéšå¼è¿”å›ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> leo = <span class="keyword">new</span> User(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(leo.name, leo.isAdmin); <span class="comment">// &quot;leo&quot; false</span></span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬æ‰§è¡Œ <code>new User(&#39;leo&#39;)</code> æ—¶ï¼Œå‘ç”Ÿä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ol>
<li>ä¸€ä¸ªç»§æ‰¿è‡ª <code>User.prototype</code> çš„æ–°å¯¹è±¡è¢«åˆ›å»ºï¼›</li>
<li>ä½¿ç”¨æŒ‡å®šå‚æ•°è°ƒç”¨æ„é€ å‡½æ•° <code>User</code> ï¼Œå¹¶å°† <code>this</code> ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ï¼›</li>
<li>ç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯ <code>new</code> è¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
</ol>
<p><strong>éœ€è¦æ³¨æ„</strong>ï¼š</p>
<ol>
<li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°ä¸è¿”å›å€¼ï¼Œä½†æ˜¯å¼€å‘è€…å¯ä»¥é€‰æ‹©ä¸»åŠ¨è¿”å›å¯¹è±¡ï¼Œæ¥è¦†ç›–æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºæ­¥éª¤ï¼›</p>
</li>
<li><p><code>new User</code> ç­‰åŒäº <code>new User()</code> ï¼Œåªæ˜¯æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨ï¼Œå³ <code>User</code> ä¸å¸¦å‚æ•°çš„æƒ…å†µï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User; <span class="comment">// &lt;-- æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User();</span><br></pre></td></tr></table></figure></li>
<li><p>ä»»ä½•å‡½æ•°éƒ½å¯ä»¥ä½œä¸ºæ„é€ å™¨ï¼Œå³éƒ½å¯ä»¥ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦è¿è¡Œã€‚</p>
</li>
</ol>
<h2 id="4-æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•"><a href="#4-æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•" class="headerlink" title="4. æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•"></a>4. æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•</h2><p>åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥å°†æ–¹æ³•ç»‘å®šåˆ° <code>this</code> ä¸Šï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span> (<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.isAdmin = <span class="literal">false</span>; </span><br><span class="line">	<span class="built_in">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&quot;hello &quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> leo = <span class="keyword">new</span> User(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(leo.name, leo.isAdmin); <span class="comment">// &quot;leo&quot; false</span></span><br><span class="line">leo.sayHello(); <span class="comment">// &quot;hello leo&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€å¯é€‰é“¾-â€œ-â€"><a href="#å…­ã€å¯é€‰é“¾-â€œ-â€" class="headerlink" title="å…­ã€å¯é€‰é“¾ â€œ?.â€"></a>å…­ã€å¯é€‰é“¾ â€œ?.â€</h1><p>è¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/%E5%8F%AF%E9%80%89%E9%93%BE">ã€ŠMDN å¯é€‰é“¾æ“ä½œç¬¦ã€‹</a> ã€‚</p>
<h2 id="1-èƒŒæ™¯ä»‹ç»"><a href="#1-èƒŒæ™¯ä»‹ç»" class="headerlink" title="1. èƒŒæ™¯ä»‹ç»"></a>1. èƒŒæ™¯ä»‹ç»</h2><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¸¸å¸¸å‡ºç°ä¸‹é¢å‡ ç§æŠ¥é”™æƒ…å†µï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. å¯¹è±¡ä¸­ä¸å­˜åœ¨æŒ‡å®šå±æ€§</span></span><br><span class="line"><span class="keyword">const</span> leo = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name.toString()); </span><br><span class="line"><span class="comment">// Uncaught TypeError: Cannot read property &#x27;toString&#x27; of undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ä½¿ç”¨ä¸å­˜åœ¨çš„ DOM èŠ‚ç‚¹å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> dom = <span class="built_in">document</span>.getElementById(<span class="string">&quot;dom&quot;</span>).innerHTML; </span><br><span class="line"><span class="comment">// Uncaught TypeError: Cannot read property &#x27;innerHTML&#x27; of null</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å¯é€‰é“¾ <code>?.</code> å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨çŸ­è·¯æ“ä½œ <code>&amp;&amp;</code> è¿ç®—ç¬¦æ¥è§£å†³è¯¥é—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> leo = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(leo &amp;&amp; leo.name &amp;&amp; leo.name.toString()); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•çš„ç¼ºç‚¹å°±æ˜¯ <strong>å¤ªéº»çƒ¦äº†</strong> ã€‚</p>
<h2 id="2-å¯é€‰é“¾ä»‹ç»"><a href="#2-å¯é€‰é“¾ä»‹ç»" class="headerlink" title="2. å¯é€‰é“¾ä»‹ç»"></a>2. å¯é€‰é“¾ä»‹ç»</h2><p>å¯é€‰é“¾ <code>?.</code> æ˜¯ä¸€ç§ <strong>è®¿é—®åµŒå¥—å¯¹è±¡å±æ€§çš„é˜²é”™è¯¯æ–¹æ³•</strong> ã€‚å³ä½¿ä¸­é—´çš„å±æ€§ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯ã€‚<br>å¦‚æœå¯é€‰é“¾ <code>?.</code> å‰é¢éƒ¨åˆ†æ˜¯ <code>undefined</code> æˆ–è€… <code>null</code>ï¼Œå®ƒä¼šåœæ­¢è¿ç®—å¹¶è¿”å› <code>undefined</code>ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj?.prop</span><br><span class="line">obj?.[expr]</span><br><span class="line">arr?.[index]</span><br><span class="line">func?.(args)</span><br></pre></td></tr></table></figure>
<p>**<br><strong>æˆ‘ä»¬æ”¹é€ å‰é¢ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. å¯¹è±¡ä¸­ä¸å­˜åœ¨æŒ‡å®šå±æ€§</span></span><br><span class="line"><span class="keyword">const</span> leo = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(leo?.name?.toString()); </span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ä½¿ç”¨ä¸å­˜åœ¨çš„ DOM èŠ‚ç‚¹å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> dom = <span class="built_in">document</span>?.getElementById(<span class="string">&quot;dom&quot;</span>)?.innerHTML; </span><br><span class="line"><span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="3-ä½¿ç”¨æ³¨æ„"><a href="#3-ä½¿ç”¨æ³¨æ„" class="headerlink" title="3. ä½¿ç”¨æ³¨æ„"></a>3. ä½¿ç”¨æ³¨æ„</h2><p>å¯é€‰é“¾è™½ç„¶å¥½ç”¨ï¼Œä½†éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li><strong>ä¸èƒ½è¿‡åº¦ä½¿ç”¨å¯é€‰é“¾</strong>ï¼›</li>
</ol>
<p>æˆ‘ä»¬åº”è¯¥åªå°† <code>?.</code> ä½¿ç”¨åœ¨ä¸€äº›å±æ€§æˆ–æ–¹æ³•å¯ä»¥ä¸å­˜åœ¨çš„åœ°æ–¹ï¼Œä»¥ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> leo = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(leo.name?.toString()); </span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å†™ä¼šæ›´å¥½ï¼Œå› ä¸º <code>leo</code> å¯¹è±¡æ˜¯å¿…é¡»å­˜åœ¨ï¼Œè€Œ <code>name</code> å±æ€§åˆ™å¯èƒ½ä¸å­˜åœ¨ã€‚</p>
<ol start="2">
<li><strong>å¯é€‰é“¾ <code>?.</code> ä¹‹å‰çš„å˜é‡å¿…é¡»å·²å£°æ˜</strong>ï¼›</li>
</ol>
<p>åœ¨å¯é€‰é“¾ <code>?.</code> ä¹‹å‰çš„å˜é‡å¿…é¡»ä½¿ç”¨ <code>let/const/var</code> å£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">leo?.name;</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: leo is not defined</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p><strong>å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼</strong> ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> object = &#123;&#125;;</span><br><span class="line">object?.property = <span class="number">1</span>; </span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Invalid left-hand side in assignment</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>å¯é€‰é“¾è®¿é—®æ•°ç»„å…ƒç´ çš„æ–¹æ³•</strong> ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayItem = arr?.[<span class="number">42</span>];</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="4-å…¶ä»–æƒ…å†µï¼š-å’Œ"><a href="#4-å…¶ä»–æƒ…å†µï¼š-å’Œ" class="headerlink" title="4. å…¶ä»–æƒ…å†µï¼š?.() å’Œ ?.[]"></a>4. å…¶ä»–æƒ…å†µï¼š?.() å’Œ ?.[]</h2><p>éœ€è¦è¯´æ˜çš„æ˜¯ <code>?.</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•ç»“æ„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå®ƒè¿˜å¯ä»¥ä¸å…¶ <code>()</code> å’Œ <code>[]</code> ä¸€èµ·ä½¿ç”¨ï¼š</p>
<h3 id="4-1-å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨"><a href="#4-1-å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨" class="headerlink" title="4.1 å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨ ?.()"></a>4.1 å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨ ?.()</h3><p><code>?.()</code> ç”¨äºè°ƒç”¨ä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user1 = &#123;</span><br><span class="line">  <span class="function"><span class="title">admin</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    alert(<span class="string">&quot;I am admin&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user2 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">user1.admin?.(); <span class="comment">// I am admin</span></span><br><span class="line">user2.admin?.();</span><br></pre></td></tr></table></figure>
<p><code>?.()</code> ä¼šæ£€æŸ¥å®ƒå·¦è¾¹çš„éƒ¨åˆ†ï¼šå¦‚æœ admin å‡½æ•°å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è°ƒç”¨è¿è¡Œå®ƒï¼ˆå¯¹äº <code>user1</code>ï¼‰ã€‚å¦åˆ™ï¼ˆå¯¹äº <code>user2</code>ï¼‰è¿ç®—åœæ­¢ï¼Œæ²¡æœ‰é”™è¯¯ã€‚</p>
<h3 id="4-2-å¯é€‰é“¾å’Œè¡¨è¾¾å¼"><a href="#4-2-å¯é€‰é“¾å’Œè¡¨è¾¾å¼" class="headerlink" title="4.2 å¯é€‰é“¾å’Œè¡¨è¾¾å¼ ?.[]"></a>4.2 å¯é€‰é“¾å’Œè¡¨è¾¾å¼ ?.[]</h3><p><code>?.[]</code> å…è®¸ä»ä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„å¯¹è±¡ä¸Šå®‰å…¨åœ°è¯»å–å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user1 = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user2 = <span class="literal">null</span>; <span class="comment">// å‡è®¾ï¼Œæˆ‘ä»¬ä¸èƒ½æˆæƒæ­¤ç”¨æˆ·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;firstName&quot;</span>;</span><br><span class="line"></span><br><span class="line">alert( user1?.[key] ); <span class="comment">// John</span></span><br><span class="line">alert( user2?.[key] ); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">alert( user1?.[key]?.something?.not?.existing); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="5-å¯é€‰é“¾-è¯­æ³•æ€»ç»“"><a href="#5-å¯é€‰é“¾-è¯­æ³•æ€»ç»“" class="headerlink" title="5. å¯é€‰é“¾ ?. è¯­æ³•æ€»ç»“"></a>5. å¯é€‰é“¾ <code>?.</code> è¯­æ³•æ€»ç»“</h2><p>å¯é€‰é“¾ <code>?.</code> è¯­æ³•æœ‰ä¸‰ç§å½¢å¼ï¼š</p>
<ol>
<li><code>obj?.prop</code> â€”â€” å¦‚æœ <code>obj</code> å­˜åœ¨åˆ™è¿”å› <code>obj.prop</code>ï¼Œå¦åˆ™è¿”å› <code>undefined</code>ã€‚</li>
<li><code>obj?.[prop]</code> â€”â€” å¦‚æœ <code>obj</code> å­˜åœ¨åˆ™è¿”å› <code>obj[prop]</code>ï¼Œå¦åˆ™è¿”å› <code>undefined</code>ã€‚</li>
<li><code>obj?.method()</code> â€”â€” å¦‚æœ <code>obj</code> å­˜åœ¨åˆ™è°ƒç”¨ <code>obj.method()</code>ï¼Œå¦åˆ™è¿”å› <code>undefined</code>ã€‚</li>
</ol>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œè¿™äº›è¯­æ³•å½¢å¼ç”¨èµ·æ¥éƒ½å¾ˆç®€å•ç›´æ¥ã€‚<code>?.</code> æ£€æŸ¥å·¦è¾¹éƒ¨åˆ†æ˜¯å¦ä¸º <code>null/undefined</code>ï¼Œå¦‚æœä¸æ˜¯åˆ™ç»§ç»­è¿ç®—ã€‚<br><code>?.</code> é“¾ä½¿æˆ‘ä»¬èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®åµŒå¥—å±æ€§ã€‚</p>
<h1 id="ä¸ƒã€Symbol"><a href="#ä¸ƒã€Symbol" class="headerlink" title="ä¸ƒã€Symbol"></a>ä¸ƒã€Symbol</h1><p>è§„èŒƒè§„å®šï¼ŒJavaScript ä¸­å¯¹è±¡çš„å±æ€§åªèƒ½ä¸º <strong>å­—ç¬¦ä¸²ç±»å‹</strong> æˆ–è€… <strong>Symbolç±»å‹</strong> ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¹Ÿåªè§è¿‡è¿™ä¸¤ç§ç±»å‹ã€‚</p>
<h2 id="1-æ¦‚å¿µä»‹ç»"><a href="#1-æ¦‚å¿µä»‹ç»" class="headerlink" title="1. æ¦‚å¿µä»‹ç»"></a>1. æ¦‚å¿µä»‹ç»</h2><p>ES6å¼•å…¥<code>Symbol</code>ä½œä¸ºä¸€ç§æ–°çš„<strong>åŸå§‹æ•°æ®ç±»å‹</strong>ï¼Œè¡¨ç¤º<strong>ç‹¬ä¸€æ— äºŒ</strong>çš„å€¼ï¼Œä¸»è¦æ˜¯ä¸ºäº†<strong>é˜²æ­¢å±æ€§åå†²çª</strong>ã€‚<br>ES6ä¹‹åï¼ŒJavaScriptä¸€å…±æœ‰å…¶ä¸­æ•°æ®ç±»å‹ï¼š<code>Symbol</code>ã€<code>undefined</code>ã€<code>null</code>ã€<code>Boolean</code>ã€<code>String</code>ã€<code>Number</code>ã€<code>Object</code>ã€‚<br><strong>ç®€å•ä½¿ç”¨</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">typeof</span> leo; <span class="comment">// &quot;symbol&quot;</span></span><br></pre></td></tr></table></figure>
<p>Symbol æ”¯æŒä¼ å…¥å‚æ•°ä½œä¸º Symbol åï¼Œæ–¹ä¾¿ä»£ç è°ƒè¯•ï¼š<br>**</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&quot;leo&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="2-æ³¨æ„äº‹é¡¹"><a href="#2-æ³¨æ„äº‹é¡¹" class="headerlink" title="2. æ³¨æ„äº‹é¡¹**"></a>2. æ³¨æ„äº‹é¡¹**</h2><ul>
<li><code>Symbol</code>å‡½æ•°ä¸èƒ½ç”¨<code>new</code>ï¼Œä¼šæŠ¥é”™ã€‚</li>
</ul>
<p>ç”±äº<code>Symbol</code>æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ï¼Œå®ƒæ˜¯ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="keyword">new</span> <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="comment">// Uncaught TypeError: Symbol is not leo constructor</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>Symbol</code>éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œ<strong>å³ä½¿å‚æ•°ç›¸åŒ</strong>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> leo1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> leo2 = <span class="built_in">Symbol</span>();</span><br><span class="line">leo1 === leo2; <span class="comment">// false </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> leo1 = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> leo2 = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line">leo1 === leo2; <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>Symbol</code>ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è®¡ç®—ï¼Œä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">leo + <span class="string">&quot; world!&quot;</span>;  <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="string">`<span class="subst">$&#123;leo&#125;</span> world!`</span>;  <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>Symbol</code> ä¸èƒ½è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œåªèƒ½æ˜¾å¼è½¬æ¢ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">alert(leo); </span><br><span class="line"><span class="comment">// Uncaught TypeError: Cannot convert a Symbol value to a string</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>(leo);    <span class="comment">// &quot;Symbol(hello)&quot;</span></span><br><span class="line">leo.toString(); <span class="comment">// &quot;Symbol(hello)&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>Symbol</code> å¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œä½†ä¸èƒ½è½¬ä¸ºæ•°å€¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">Boolean</span>(a1);</span><br><span class="line">!a1;        <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>(a1); <span class="comment">// TypeError</span></span><br><span class="line">a1 + <span class="number">1</span> ;    <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>Symbol</code> å±æ€§ä¸å‚ä¸ <code>for...in/of</code> å¾ªç¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="built_in">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Leo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  [id]: <span class="number">123</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> user) <span class="built_in">console</span>.log(key); <span class="comment">// name, age (no symbols)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Symbol ä»»åŠ¡ç›´æ¥è®¿é—®</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">&quot;Direct: &quot;</span> + user[id] );</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-å­—é¢é‡ä¸­ä½¿ç”¨-Symbol-ä½œä¸ºå±æ€§å"><a href="#3-å­—é¢é‡ä¸­ä½¿ç”¨-Symbol-ä½œä¸ºå±æ€§å" class="headerlink" title="3. å­—é¢é‡ä¸­ä½¿ç”¨ Symbol ä½œä¸ºå±æ€§å"></a>3. å­—é¢é‡ä¸­ä½¿ç”¨ Symbol ä½œä¸ºå±æ€§å</h2><p>åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ <code>Symbol</code> ä½œä¸ºå±æ€§åæ—¶ï¼Œéœ€è¦ä½¿ç”¨ <strong>æ–¹æ‹¬å·</strong> ï¼ˆ <code>[]</code> ï¼‰ï¼Œå¦‚ <code>[leo]: &quot;leo&quot;</code> ã€‚<br>å¥½å¤„ï¼šé˜²æ­¢åŒåå±æ€§ï¼Œè¿˜æœ‰é˜²æ­¢é”®è¢«æ”¹å†™æˆ–è¦†ç›–ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="comment">// å†™æ³•1</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line">user[leo] = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•2</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [leo] : <span class="string">&#x27;leo&#x27;</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•3</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(user, leo, &#123;<span class="attr">value</span> : <span class="string">&#x27;leo&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3ç§å†™æ³• ç»“æœç›¸åŒ</span></span><br><span class="line">user[leo]; <span class="comment">// &#x27;leo&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>éœ€è¦æ³¨æ„</strong> ï¼šSymbolä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œå¹¶ä¸”å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·å†…ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="comment">// ä¸èƒ½ç”¨ç‚¹è¿ç®—</span></span><br><span class="line">user.leo = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">user[leo] ; <span class="comment">// undefined</span></span><br><span class="line">user[<span class="string">&#x27;leo&#x27;</span>] ; <span class="comment">// &#x27;leo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·å†…</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [leo] : <span class="function"><span class="keyword">function</span> (<span class="params">text</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">user[leo](<span class="string">&#x27;leo&#x27;</span>); <span class="comment">// &#x27;leo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢ç­‰ä»·äº æ›´ç®€æ´</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [leo](text)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å¸¸å¸¸è¿˜ç”¨äºåˆ›å»ºä¸€ç»„å¸¸é‡ï¼Œä¿è¯æ‰€æœ‰å€¼ä¸ç›¸ç­‰</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line">user.list = &#123;</span><br><span class="line">    <span class="attr">AAA</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;Leo&#x27;</span>),</span><br><span class="line">    <span class="attr">BBB</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;Robin&#x27;</span>),</span><br><span class="line">    <span class="attr">CCC</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;Pingan&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-åº”ç”¨ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²"><a href="#4-åº”ç”¨ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²" class="headerlink" title="4. åº”ç”¨ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²"></a>4. åº”ç”¨ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²</h2><p><strong>é­”æœ¯å­—ç¬¦ä¸²</strong>ï¼šæŒ‡ä»£ç ä¸­å¤šæ¬¡å‡ºç°ï¼Œå¼ºè€¦åˆçš„å­—ç¬¦ä¸²æˆ–æ•°å€¼ï¼Œåº”è¯¥é¿å…ï¼Œè€Œä½¿ç”¨å«ä¹‰æ¸…æ™°çš„å˜é‡ä»£æ›¿ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(name == <span class="string">&#x27;leo&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="string">&#x27;leo&#x27;</span>);   <span class="comment">// &#x27;hello&#x27; ä¸ºé­”æœ¯å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>

<p>å¸¸ä½¿ç”¨å˜é‡ï¼Œæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;leo&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(name == obj.name)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fun(obj.name); <span class="comment">// &#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Symbol</code>æ¶ˆé™¤å¼ºè€¦åˆï¼Œä½¿å¾—ä¸éœ€å…³ç³»å…·ä½“çš„å€¼:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">Symbol</span>()</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span> (<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(name == obj.name)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fun(obj.name); <span class="comment">// &#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-å±æ€§åéå†"><a href="#5-å±æ€§åéå†" class="headerlink" title="5. å±æ€§åéå†"></a>5. å±æ€§åéå†</h2><p>Symbolä½œä¸ºå±æ€§åéå†ï¼Œä¸å‡ºç°åœ¨<code>for...in</code>ã€<code>for...of</code>å¾ªç¯ï¼Œä¹Ÿä¸è¢«<code>Object.keys()</code>ã€<code>Object.getOwnPropertyNames()</code>ã€<code>JSON.stringify()</code>è¿”å›ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>), robin = <span class="built_in">Symbol</span>(<span class="string">&#x27;robin&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [leo]:<span class="string">&#x27;18&#x27;</span>, [robin]:<span class="string">&#x27;28&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.values(user))&#123;<span class="built_in">console</span>.log(k)&#125;</span><br><span class="line"><span class="comment">// æ— è¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(user, leo, &#123;<span class="attr">value</span>: <span class="string">&#x27;hi&#x27;</span>&#125;);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> user)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k); <span class="comment">// æ— è¾“å‡º</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(user);   <span class="comment">// []</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(user); <span class="comment">// [Symbol(leo)]</span></span><br></pre></td></tr></table></figure>
<p><code>Object.getOwnPropertySymbols</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å½“å‰å¯¹è±¡æ‰€æœ‰ç”¨åšå±æ€§åçš„Symbolå€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> pingan = <span class="built_in">Symbol</span>(<span class="string">&#x27;pingan&#x27;</span>);</span><br><span class="line">user[leo] = <span class="string">&#x27;hi leo&#x27;</span>;</span><br><span class="line">user[pingan] = <span class="string">&#x27;hi pingan&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Object</span>.getOwnPropertySymbols(user);</span><br><span class="line">obj; <span class="comment">//  [Symbol(leo), Symbol(pingan)]</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–å¯ä»¥ä½¿ç”¨<code>Reflect.ownKeys</code>æ–¹æ³•å¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’Œ Symbol é”®åã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>)]: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">age</span> : <span class="number">2</span>, </span><br><span class="line">    <span class="attr">address</span> : <span class="number">3</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(user); <span class="comment">// [&#x27;age&#x27;, &#x27;address&#x27;,Symbol(&#x27;leo&#x27;)]</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºSymbolå€¼ä½œä¸ºåç§°çš„å±æ€§ä¸è¢«å¸¸è§„æ–¹æ³•éå†è·å–ï¼Œå› æ­¤å¸¸ç”¨äºå®šä¹‰å¯¹è±¡çš„ä¸€äº›éç§æœ‰ï¼Œä¸”å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚</p>
<h2 id="6-Symbol-for-ã€Symbol-keyFor"><a href="#6-Symbol-for-ã€Symbol-keyFor" class="headerlink" title="6. Symbol.for()ã€Symbol.keyFor()"></a>6. Symbol.for()ã€Symbol.keyFor()</h2><h3 id="6-1-Symbol-for"><a href="#6-1-Symbol-for" class="headerlink" title="6.1 Symbol.for()"></a>6.1 Symbol.for()</h3><p><strong>ç”¨äºé‡å¤ä½¿ç”¨ä¸€ä¸ªSymbolå€¼</strong>ï¼Œæ¥æ”¶ä¸€ä¸ª<strong>å­—ç¬¦ä¸²</strong>ä½œä¸ºå‚æ•°ï¼Œè‹¥å­˜åœ¨ç”¨æ­¤å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ï¼Œè¿”å›è¿™ä¸ªSymbolï¼Œå¦åˆ™æ–°å»ºå¹¶è¿”å›ä»¥è¿™ä¸ªå‚æ•°ä¸ºåç§°çš„Symbolå€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> pingan = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;pingan&#x27;</span>);</span><br><span class="line">leo === pingan;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><code>Symbol()</code> å’Œ <code>Symbol.for()</code>åŒºåˆ«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Symbol</span>.for(<span class="string">&#x27;leo&#x27;</span>) === <span class="built_in">Symbol</span>.for(<span class="string">&#x27;leo&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>) === <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);         <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-Symbol-keyFor"><a href="#6-2-Symbol-keyFor" class="headerlink" title="6.2 Symbol.keyFor()"></a>6.2 Symbol.keyFor()</h3><p><strong>ç”¨äºè¿”å›ä¸€ä¸ªå·²ä½¿ç”¨çš„Symbolç±»å‹çš„key</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(leo);   <span class="comment">//  &#x27;leo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> leo = <span class="built_in">Symbol</span>(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(leo);   <span class="comment">//  undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="7-å†…ç½®çš„Symbolå€¼"><a href="#7-å†…ç½®çš„Symbolå€¼" class="headerlink" title="7. å†…ç½®çš„Symbolå€¼"></a>7. å†…ç½®çš„Symbolå€¼</h2><p>ES6æä¾›11ä¸ªå†…ç½®çš„Symbolå€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ï¼š</p>
<h3 id="7-1-Symbol-hasInstance"><a href="#7-1-Symbol-hasInstance" class="headerlink" title="7.1 Symbol.hasInstance"></a>7.1 Symbol.hasInstance</h3><p>å½“å…¶ä»–å¯¹è±¡ä½¿ç”¨<code>instanceof</code>è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œ<code>foo instanceof Foo</code>åœ¨è¯­è¨€å†…éƒ¨ï¼Œå®é™…è°ƒç”¨çš„æ˜¯<code>Foo[Symbol.hasInstance](foo)</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.hasInstance](a)&#123;</span><br><span class="line">        <span class="keyword">return</span> a <span class="keyword">instanceof</span> <span class="built_in">Array</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">instanceof</span> <span class="keyword">new</span> P(); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>Pæ˜¯ä¸€ä¸ªç±»ï¼Œnew P()ä¼šè¿”å›ä¸€ä¸ªå®ä¾‹ï¼Œè¯¥å®ä¾‹çš„<code>Symbol.hasInstance</code>æ–¹æ³•ï¼Œä¼šåœ¨è¿›è¡Œ<code>instanceof</code>è¿ç®—æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œåˆ¤æ–­å·¦ä¾§çš„è¿ç®—å­æ˜¯å¦ä¸º<code>Array</code>çš„å®ä¾‹ã€‚</p>
<h3 id="7-2-Symbol-isConcatSpreadable"><a href="#7-2-Symbol-isConcatSpreadable" class="headerlink" title="7.2 Symbol.isConcatSpreadable"></a>7.2 Symbol.isConcatSpreadable</h3><p>å€¼ä¸ºå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ç”¨äº<code>Array.prototype.concat()</code>æ—¶ï¼Œæ˜¯å¦å¯ä»¥å±•å¼€ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>];</span><br><span class="line">[<span class="string">&#x27;cc&#x27;</span>,<span class="string">&#x27;dd&#x27;</span>].concat(a, <span class="string">&#x27;ee&#x27;</span>); </span><br><span class="line"><span class="comment">// [&#x27;cc&#x27;, &#x27;dd&#x27;, &#x27;aa&#x27;, &#x27;bb&#x27;, &#x27;ee&#x27;]</span></span><br><span class="line">a[<span class="built_in">Symbol</span>.isConcatSpreadable]; <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">let</span> b = [<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>]; </span><br><span class="line">b[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">false</span>; </span><br><span class="line">[<span class="string">&#x27;cc&#x27;</span>,<span class="string">&#x27;dd&#x27;</span>].concat(b, <span class="string">&#x27;ee&#x27;</span>); </span><br><span class="line"><span class="comment">// [&#x27;cc&#x27;, &#x27;dd&#x27;,[ &#x27;aa&#x27;, &#x27;bb&#x27;], &#x27;ee&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="7-3-Symbol-species"><a href="#7-3-Symbol-species" class="headerlink" title="7.3 Symbol.species"></a>7.3 Symbol.species</h3><p>æŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œåœ¨åˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶ä¼šä½¿ç”¨ï¼Œä½¿ç”¨æ—¶éœ€è¦ç”¨<code>get</code>å–å€¼å™¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> <span class="keyword">extends</span> <span class="title">Array</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> get [<span class="built_in">Symbol</span>.species]()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è§£å†³ä¸‹é¢é—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é—®é¢˜ï¼š  båº”è¯¥æ˜¯ Array çš„å®ä¾‹ï¼Œå®é™…ä¸Šæ˜¯ P çš„å®ä¾‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> <span class="keyword">extends</span> <span class="title">Array</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> P(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> b = a.map(<span class="function"><span class="params">x</span> =&gt;</span> x);</span><br><span class="line">b <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line">b <span class="keyword">instanceof</span> P; <span class="comment">// true</span></span><br><span class="line"><span class="comment">// è§£å†³ï¼š  é€šè¿‡ä½¿ç”¨ Symbol.species</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> <span class="keyword">extends</span> <span class="title">Array</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> get [<span class="built_in">Symbol</span>.species]() &#123; <span class="keyword">return</span> <span class="built_in">Array</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> P();</span><br><span class="line"><span class="keyword">let</span> b = a.map(<span class="function"><span class="params">x</span> =&gt;</span> x);</span><br><span class="line">b <span class="keyword">instanceof</span> P;     <span class="comment">// false</span></span><br><span class="line">b <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="7-4-Symbol-match"><a href="#7-4-Symbol-match" class="headerlink" title="7.4 Symbol.match"></a>7.4 Symbol.match</h3><p>å½“æ‰§è¡Œ<code>str.match(myObject)</code>ï¼Œä¼ å…¥çš„å±æ€§å­˜åœ¨æ—¶ä¼šè°ƒç”¨ï¼Œå¹¶è¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.match](string)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span>.indexOf(string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&#x27;h&#x27;</span>.match(<span class="keyword">new</span> P());   <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h3 id="7-5-Symbol-replace"><a href="#7-5-Symbol-replace" class="headerlink" title="7.5 Symbol.replace"></a>7.5 Symbol.replace</h3><p>å½“è¯¥å¯¹è±¡è¢«<code>String.prototype.replace</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line">a[<span class="built_in">Symbol</span>.replace] = <span class="function">(<span class="params">...s</span>) =&gt;</span> <span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="string">&#x27;Hello&#x27;</span>.replace(a , <span class="string">&#x27;World&#x27;</span>) <span class="comment">// [&quot;Hello&quot;, &quot;World&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="7-6-Symbol-hasInstance"><a href="#7-6-Symbol-hasInstance" class="headerlink" title="7.6 Symbol.hasInstance"></a>7.6 Symbol.hasInstance</h3><p>å½“è¯¥å¯¹è±¡è¢«<code>String.prototype.search</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="built_in">Symbol</span>.search](s)&#123;</span><br><span class="line">        <span class="keyword">return</span> s.indexOf(<span class="built_in">this</span>.val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&#x27;hileo&#x27;</span>.search(<span class="keyword">new</span> P(<span class="string">&#x27;leo&#x27;</span>)); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h3 id="7-7-Symbol-split"><a href="#7-7-Symbol-split" class="headerlink" title="7.7 Symbol.split"></a>7.7 Symbol.split</h3><p>å½“è¯¥å¯¹è±¡è¢«<code>String.prototype.split</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡æ–°å®šä¹‰äº†å­—ç¬¦ä¸²å¯¹è±¡çš„splitæ–¹æ³•çš„è¡Œä¸º</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="built_in">Symbol</span>.split](s) &#123;</span><br><span class="line">        <span class="keyword">let</span> i = s.indexOf(<span class="built_in">this</span>.val);</span><br><span class="line">        <span class="keyword">if</span>(i == -<span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            s.substr(<span class="number">0</span>, i),</span><br><span class="line">            s.substr(i + <span class="built_in">this</span>.val.length)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&#x27;helloworld&#x27;</span>.split(<span class="keyword">new</span> P(<span class="string">&#x27;hello&#x27;</span>)); <span class="comment">// [&quot;hello&quot;, &quot;&quot;]</span></span><br><span class="line"><span class="string">&#x27;helloworld&#x27;</span>.split(<span class="keyword">new</span> P(<span class="string">&#x27;world&#x27;</span>)); <span class="comment">// [&quot;&quot;, &quot;world&quot;] </span></span><br><span class="line"><span class="string">&#x27;helloworld&#x27;</span>.split(<span class="keyword">new</span> P(<span class="string">&#x27;leo&#x27;</span>));   <span class="comment">// &quot;helloworld&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-8-Symbol-iterator"><a href="#7-8-Symbol-iterator" class="headerlink" title="7.8 Symbol.iterator"></a>7.8 Symbol.iterator</h3><p>å¯¹è±¡è¿›è¡Œ<code>for...of</code>å¾ªç¯æ—¶ï¼Œä¼šè°ƒç”¨<code>Symbol.iterator</code>æ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    *[<span class="built_in">Symbol</span>.interator]() &#123;</span><br><span class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">this</span>[i] !== <span class="literal">undefined</span> ) &#123;</span><br><span class="line">            <span class="keyword">yield</span> <span class="built_in">this</span>[i];</span><br><span class="line">            ++i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> P();</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-9-Symbol-toPrimitive"><a href="#7-9-Symbol-toPrimitive" class="headerlink" title="7.9.Symbol.toPrimitive"></a>7.9.Symbol.toPrimitive</h3><p>è¯¥å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ã€‚è°ƒç”¨æ—¶ï¼Œéœ€è¦æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¡¨ç¤ºå½“å‰è¿ç®—æ¨¡å¼ï¼Œè¿ç®—æ¨¡å¼æœ‰ï¼š</p>
<ul>
<li>Number : æ­¤æ—¶éœ€è¦è½¬æ¢æˆæ•°å€¼</li>
<li>String : æ­¤æ—¶éœ€è¦è½¬æ¢æˆå­—ç¬¦ä¸²</li>
<li>Default : æ­¤æ—¶å¯ä»¥è½¬æ¢æˆæ•°å€¼æˆ–å­—ç¬¦ä¸²<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (hint) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;string&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;str&#x27;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;default&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="number">2</span> * obj <span class="comment">// 246</span></span><br><span class="line"><span class="number">3</span> + obj <span class="comment">// &#x27;3default&#x27;</span></span><br><span class="line">obj == <span class="string">&#x27;default&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="built_in">String</span>(obj) <span class="comment">// &#x27;str&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="7-10-Symbol-toStringTag"><a href="#7-10-Symbol-toStringTag" class="headerlink" title="7.10 Symbol.toStringTag"></a>7.10 Symbol.toStringTag</h3><p>åœ¨è¯¥å¯¹è±¡ä¸Šé¢è°ƒç”¨<code>Object.prototype.toString</code>æ–¹æ³•æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§å­˜åœ¨ï¼Œå®ƒçš„è¿”å›å€¼ä¼šå‡ºç°åœ¨<code>toString</code>æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œè¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥å®šåˆ¶<code>[object Object</code>]æˆ–<code>[object Array]</code>ä¸­<code>object</code>åé¢çš„é‚£ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹ä¸€</span></span><br><span class="line">(&#123;[<span class="built_in">Symbol</span>.toStringTag]: <span class="string">&#x27;Foo&#x27;</span>&#125;.toString())</span><br><span class="line"><span class="comment">// &quot;[object Foo]&quot;</span></span><br><span class="line"><span class="comment">// ä¾‹äºŒ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Collection</span> </span>&#123;</span><br><span class="line">  get [<span class="built_in">Symbol</span>.toStringTag]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> x = <span class="keyword">new</span> Collection();</span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(x) <span class="comment">// &quot;[object xxx]&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-11-Symbol-unscopables"><a href="#7-11-Symbol-unscopables" class="headerlink" title="7.11 Symbol.unscopables"></a>7.11 Symbol.unscopables</h3><p>è¯¥å¯¹è±¡æŒ‡å®šäº†ä½¿ç”¨withå…³é”®å­—æ—¶ï¼Œå“ªäº›å±æ€§ä¼šè¢«withç¯å¢ƒæ’é™¤ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰ unscopables æ—¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span> &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;;</span><br><span class="line"><span class="keyword">with</span> (MyClass.prototype) &#123;</span><br><span class="line">  foo(); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æœ‰ unscopables æ—¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span> &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">  get [<span class="built_in">Symbol</span>.unscopables]() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">foo</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;;</span><br><span class="line"><span class="keyword">with</span> (MyClass.prototype) &#123;</span><br><span class="line">  foo(); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç é€šè¿‡æŒ‡å®š<code>Symbol.unscopables</code>å±æ€§ï¼Œä½¿å¾—<code>with</code>è¯­æ³•å—ä¸ä¼šåœ¨å½“å‰ä½œç”¨åŸŸå¯»æ‰¾<code>foo</code>å±æ€§ï¼Œå³<code>foo</code>å°†æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ã€‚</p>
<h1 id="å…«ã€åŸå§‹å€¼è½¬æ¢"><a href="#å…«ã€åŸå§‹å€¼è½¬æ¢" class="headerlink" title="å…«ã€åŸå§‹å€¼è½¬æ¢"></a>å…«ã€åŸå§‹å€¼è½¬æ¢</h1><p>å‰é¢å¤ä¹ åˆ°å­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼ç­‰çš„è½¬æ¢ï¼Œä½†æ˜¯æ²¡æœ‰è®²åˆ°å¯¹è±¡çš„è½¬æ¢è§„åˆ™ï¼Œè¿™éƒ¨åˆ†å°±ä¸€èµ·çœ‹çœ‹ï¼šã€‚<br>éœ€è¦è®°ä½å‡ ä¸ªè§„åˆ™ï¼š</p>
<ol>
<li>æ‰€æœ‰å¯¹è±¡åœ¨å¸ƒå°”ä¸Šä¸‹æ–‡ä¸­éƒ½ä¸º <code>true</code> ï¼Œå¹¶ä¸”ä¸å­˜åœ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼çš„æ“ä½œï¼Œåªæœ‰å­—ç¬¦ä¸²å’Œæ•°å€¼è½¬æ¢æœ‰ã€‚</li>
<li>æ•°å€¼è½¬æ¢å‘ç”Ÿåœ¨å¯¹è±¡ç›¸å‡æˆ–åº”ç”¨æ•°å­¦å‡½æ•°æ—¶ã€‚å¦‚ <code>Date</code> å¯¹è±¡å¯ä»¥ç›¸å‡ï¼Œå¦‚ <code>date1 - date2</code> ç»“æœä¸ºä¸¤ä¸ªæ—¶é—´çš„å·®å€¼ã€‚</li>
<li>åœ¨å­—ç¬¦ä¸²è½¬æ¢ï¼Œé€šå¸¸å‡ºç°åœ¨å¦‚ <code>alert(obj)</code> è¿™ç§å½¢å¼ã€‚</li>
</ol>
<p>å½“ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„å¯¹è±¡æ–¹æ³•ï¼Œå¯¹å­—ç¬¦ä¸²å’Œæ•°å€¼è½¬æ¢è¿›è¡Œå¾®è°ƒã€‚ä¸‹é¢ä»‹ç»ä¸‰ä¸ªç±»å‹ï¼ˆhintï¼‰è½¬æ¢æƒ…å†µï¼š</p>
<h2 id="1-object-to-string"><a href="#1-object-to-string" class="headerlink" title="1. object to string"></a>1. object to string</h2><p>å¯¹è±¡åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå½“æˆ‘ä»¬å¯¹æœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¯¹è±¡æ‰§è¡Œæ“ä½œæ—¶ï¼Œå¦‚ â€œalertâ€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">alert(obj);</span><br><span class="line"><span class="comment">// å°†å¯¹è±¡ä½œä¸ºå±æ€§é”®</span></span><br><span class="line">anotherObj[obj] = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<h2 id="2-object-to-number"><a href="#2-object-to-number" class="headerlink" title="2. object to number"></a>2. object to number</h2><p>å¯¹è±¡åˆ°æ•°å­—çš„è½¬æ¢ï¼Œä¾‹å¦‚å½“æˆ‘ä»¬è¿›è¡Œæ•°å­¦è¿ç®—æ—¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾å¼è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="built_in">Number</span>(obj);</span><br><span class="line"><span class="comment">// æ•°å­¦è¿ç®—ï¼ˆé™¤äº†äºŒè¿›åˆ¶åŠ æ³•ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> n = +obj; <span class="comment">// ä¸€å…ƒåŠ æ³•</span></span><br><span class="line"><span class="keyword">let</span> delta = date1 - date2;</span><br><span class="line"><span class="comment">// å°äº/å¤§äºçš„æ¯”è¾ƒ</span></span><br><span class="line"><span class="keyword">let</span> greater = user1 &gt; user2;</span><br></pre></td></tr></table></figure>

<h2 id="3-object-to-default"><a href="#3-object-to-default" class="headerlink" title="3. object to default"></a>3. object to default</h2><p>å°‘æ•°æƒ…å†µä¸‹ï¼Œ<strong>å½“è¿ç®—ç¬¦â€œä¸ç¡®å®šâ€æœŸæœ›å€¼ç±»å‹æ—¶</strong>ã€‚<br>ä¾‹å¦‚ï¼ŒäºŒè¿›åˆ¶åŠ æ³• <code>+</code> å¯ç”¨äºå­—ç¬¦ä¸²ï¼ˆè¿æ¥ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ•°å­—ï¼ˆç›¸åŠ ï¼‰ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²å’Œæ•°å­—è¿™ä¸¤ç§ç±»å‹éƒ½å¯ä»¥ã€‚å› æ­¤ï¼Œå½“äºŒå…ƒåŠ æ³•å¾—åˆ°å¯¹è±¡ç±»å‹çš„å‚æ•°æ—¶ï¼Œå®ƒå°†ä¾æ® <code>&quot;default&quot;</code> æ¥å¯¹å…¶è¿›è¡Œè½¬æ¢ã€‚<br>æ­¤å¤–ï¼Œå¦‚æœå¯¹è±¡è¢«ç”¨äºä¸å­—ç¬¦ä¸²ã€æ•°å­—æˆ– symbol è¿›è¡Œ <code>==</code> æ¯”è¾ƒï¼Œè¿™æ—¶åˆ°åº•åº”è¯¥è¿›è¡Œå“ªç§è½¬æ¢ä¹Ÿä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œå› æ­¤ä½¿ç”¨ <code>&quot;default&quot;</code> ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// äºŒå…ƒåŠ æ³•ä½¿ç”¨é»˜è®¤ hint</span></span><br><span class="line"><span class="keyword">let</span> total = obj1 + obj2;</span><br><span class="line"><span class="comment">// obj == number ä½¿ç”¨é»˜è®¤ hint</span></span><br><span class="line"><span class="keyword">if</span> (user == <span class="number">1</span>) &#123; ... &#125;;</span><br></pre></td></tr></table></figure>

<h2 id="4-ç±»å‹è½¬æ¢ç®—æ³•"><a href="#4-ç±»å‹è½¬æ¢ç®—æ³•" class="headerlink" title="4. ç±»å‹è½¬æ¢ç®—æ³•"></a>4. ç±»å‹è½¬æ¢ç®—æ³•</h2><p><strong>ä¸ºäº†è¿›è¡Œè½¬æ¢ï¼ŒJavaScript å°è¯•æŸ¥æ‰¾å¹¶è°ƒç”¨ä¸‰ä¸ªå¯¹è±¡æ–¹æ³•ï¼š</strong></p>
<ol>
<li>è°ƒç”¨ <code>obj[Symbol.toPrimitive](hint)</code> â€”â€” å¸¦æœ‰ symbol é”® <code>Symbol.toPrimitive</code>ï¼ˆç³»ç»Ÿ symbolï¼‰çš„æ–¹æ³•ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•å­˜åœ¨çš„è¯ï¼Œ</li>
<li>å¦åˆ™ï¼Œå¦‚æœ hint æ˜¯ <code>&quot;string&quot;</code> â€”â€” å°è¯• <code>obj.toString()</code> å’Œ <code>obj.valueOf()</code>ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚</li>
<li>å¦åˆ™ï¼Œå¦‚æœ hint æ˜¯ <code>&quot;number&quot;</code> æˆ– <code>&quot;default&quot;</code> â€”â€” å°è¯• <code>obj.valueOf()</code> å’Œ <code>obj.toString()</code>ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚</li>
</ol>
<h2 id="5-Symbol-toPrimitive"><a href="#5-Symbol-toPrimitive" class="headerlink" title="5. Symbol.toPrimitive"></a>5. Symbol.toPrimitive</h2><p>è¯¦ç»†ä»‹ç»å¯é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive">ã€ŠMDN | Symbol.toPrimitiveã€‹</a> ã€‚<br><code>Symbol.toPrimitive</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ Symbol å€¼ï¼Œå®ƒæ˜¯ä½œä¸ºå¯¹è±¡çš„å‡½æ•°å€¼å±æ€§å­˜åœ¨çš„ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¯¹åº”çš„åŸå§‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚<br>ç®€å•ç¤ºä¾‹ä»‹ç»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Leo&quot;</span>,</span><br><span class="line">  <span class="attr">money</span>: <span class="number">9999</span>,</span><br><span class="line"></span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`hint: <span class="subst">$&#123;hint&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> hint == <span class="string">&quot;string&quot;</span> ? <span class="string">`&#123;name: &quot;<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>&quot;&#125;`</span> : <span class="built_in">this</span>.money;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">alert(user);     <span class="comment">// æ§åˆ¶å°ï¼šhint: string å¼¹æ¡†ï¼š&#123;name: &quot;John&quot;&#125;</span></span><br><span class="line">alert(+user);    <span class="comment">// æ§åˆ¶å°ï¼šhint: number å¼¹æ¡†ï¼š9999</span></span><br><span class="line">alert(user + <span class="number">1</span>); <span class="comment">// æ§åˆ¶å°ï¼šhint: default å¼¹æ¡†ï¼š10000</span></span><br></pre></td></tr></table></figure>

<h2 id="6-toString-valueOf"><a href="#6-toString-valueOf" class="headerlink" title="6. toString/valueOf"></a>6. toString/valueOf</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>toString</code></a> / <code>valueOf</code> æ˜¯ä¸¤ä¸ªæ¯”è¾ƒæ—©æœŸçš„å®ç°è½¬æ¢çš„æ–¹æ³•ã€‚å½“æ²¡æœ‰ <code>Symbol.toPrimitive</code> ï¼Œé‚£ä¹ˆ JavaScript å°†å°è¯•æ‰¾åˆ°å®ƒä»¬ï¼Œå¹¶ä¸”æŒ‰ç…§ä¸‹é¢çš„é¡ºåºè¿›è¡Œå°è¯•ï¼š</p>
<ul>
<li>å¯¹äº â€œstringâ€ hintï¼Œ<code>toString -&gt; valueOf</code>ã€‚</li>
<li>å…¶ä»–æƒ…å†µï¼Œ<code>valueOf -&gt; toString</code>ã€‚</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªåŸå§‹å€¼ã€‚å¦‚æœ <code>toString</code> æˆ– <code>valueOf</code> è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¼šè¢«å¿½ç•¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ™®é€šå¯¹è±¡å…·æœ‰ <code>toString</code> å’Œ <code>valueOf</code> æ–¹æ³•ï¼š</p>
<ul>
<li><code>toString</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² <code>&quot;[object Object]&quot;</code>ã€‚</li>
<li><code>valueOf</code> æ–¹æ³•è¿”å›å¯¹è±¡è‡ªèº«ã€‚</li>
</ul>
<p>ç®€å•ç¤ºä¾‹ä»‹ç»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;Leo&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">alert(user); <span class="comment">// [object Object]</span></span><br><span class="line">alert(user.valueOf() === user); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»“åˆ <code>toString</code> / <code>valueOf</code> Â å®ç°å‰é¢ç¬¬ 5 ç‚¹ä»‹ç»çš„ <code>user</code> å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Leo&quot;</span>,</span><br><span class="line">  <span class="attr">money</span>: <span class="number">9999</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹äº hint=&quot;string&quot;</span></span><br><span class="line">  <span class="function"><span class="title">toString</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`&#123;name: &quot;<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>&quot;&#125;`</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹äº hint=&quot;number&quot; æˆ– &quot;default&quot;</span></span><br><span class="line">  <span class="function"><span class="title">valueOf</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.money;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">alert(user);     <span class="comment">// æ§åˆ¶å°ï¼šhint: string å¼¹æ¡†ï¼š&#123;name: &quot;John&quot;&#125;</span></span><br><span class="line">alert(+user);    <span class="comment">// æ§åˆ¶å°ï¼šhint: number å¼¹æ¡†ï¼š9999</span></span><br><span class="line">alert(user + <span class="number">1</span>); <span class="comment">// æ§åˆ¶å°ï¼šhint: default å¼¹æ¡†ï¼š10000</span></span><br></pre></td></tr></table></figure>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡ä½œä¸ºã€Šåˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å•ã€‹ç¬¬äºŒéƒ¨åˆ†ï¼Œä»‹ç»çš„å†…å®¹ä»¥ JavaScript å¯¹è±¡ä¸ºä¸»ï¼Œå…¶ä¸­æœ‰è®©æˆ‘çœ¼å‰ä¸€äº®çš„çŸ¥è¯†ç‚¹ï¼Œå¦‚ <code>Symbol.toPrimitive</code>Â æ–¹æ³•ã€‚æˆ‘ä¹Ÿå¸Œæœ›è¿™ä¸ªæ¸…å•èƒ½å¸®åŠ©å¤§å®¶è‡ªæµ‹è‡ªå·±çš„ JavaScript æ°´å¹³å¹¶æŸ¥ç¼ºè¡¥æ¼ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚</p>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#110;&#103;&#x61;&#110;&#x38;&#55;&#x38;&#55;&#64;&#x71;&#113;&#46;&#x63;&#111;&#109;">&#112;&#105;&#110;&#103;&#x61;&#110;&#x38;&#55;&#x38;&#55;&#64;&#x71;&#113;&#46;&#x63;&#111;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/05/215-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-2/" data-id="ckts3ejzw00rm4d9kapxvdaso" data-title="215-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-2" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-214-ã€Reactã€‘Reactä¸å‰ç«¯å¼€å‘çš„é‚£äº›å¹´" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/05/214-%E3%80%90React%E3%80%91React%E4%B8%8E%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E9%82%A3%E4%BA%9B%E5%B9%B4/" class="article-date">
  <time class="dt-published" datetime="2020-08-05T13:54:05.000Z" itemprop="datePublished">2020-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/05/214-%E3%80%90React%E3%80%91React%E4%B8%8E%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E9%82%A3%E4%BA%9B%E5%B9%B4/">214-ã€Reactã€‘Reactä¸å‰ç«¯å¼€å‘çš„é‚£äº›å¹´</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¿™å‡ å¤©åœ¨é€šè¿‡å„ç§èµ„æ–™ï¼Œäº†è§£äº† React å‡ºç°çš„èƒŒæ™¯ï¼Œè¿˜æœ‰å‰ç«¯è¿™äº›å¹´çš„å˜æ¢ï¼Œä¸å¾—ä¸è¯´ï¼Œæ„Ÿè§‰çœŸçš„ç¥å¥‡ï¼</p>
<p>æœ¬æ–‡å°†å¸¦å¤§å®¶äº†è§£<strong>å‰ç«¯å‘å±•çš„é‚£äº›å¹´</strong>è¿˜æœ‰ React <strong>å‡ºç°çš„èƒŒæ™¯</strong>ï½</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ React è¿™ä¸ªæ¡†æ¶ï¼Ÿ</p>
<p>React æ˜¯ Facebook åœ¨ 2013 å¹´å¼€æºçš„ä¸€æ¬¾å‰ç«¯æ¡†æ¶ï¼Œåœ¨è¿™ä¹‹å‰ï¼ŒFacebook å·¥ç¨‹å¸ˆå¼€å‘ä¸€ä¸ªç®€å•åŠŸèƒ½æ—¶ï¼Œå¦‚ä¸‹å›¾ç•Œé¢ä¸­â€œå°çº¢ç‚¹â€åŠŸèƒ½ï¼š</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/messages_on_facebook.png" alt="Facebook"></p>
<p>åœ¨å¯¼èˆªæ ä¸­æœ‰â€œæ–°å¥½å‹â€ã€â€œæ–°æ¶ˆæ¯â€å’Œâ€œæ–°åŠ¨æ€â€ä¸‰ä¸ªåŠŸèƒ½æŒ‰é’®ï¼Œè¿™å…¶å®åŠŸèƒ½æŒºç®€å•ï¼Œä½†å´ç»å¸¸å‡º BUGï¼Œæ¯”å¦‚â€œæ”¶åˆ°æ–°æ¶ˆæ¯åï¼Œæ–°æ¶ˆæ¯çš„å›¾æ ‡ä¸Šæ•°å­—æ²¡æœ‰æ­£ç¡®æ›´æ–°â€ç­‰é—®é¢˜ã€‚</p>
<p>å¤§å®¶å¯ä»¥å…ˆçŒœä¸€ä¸‹å¯¼è‡´è¿™ä¸ªé—®é¢˜å¯èƒ½çš„åŸå› ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ Facebook å·¥ç¨‹å¸ˆéƒ½æ˜¯ä¸–ç•Œé¡¶çº§æ°´å¹³ï¼Œ<strong>ä»–ä»¬æ‰¾å¯»å‡ºç°è¿™ç§é—®é¢˜çš„æ·±å±‚æ¬¡åŸå› </strong> ï¼Œæœ€ç»ˆæ€»ç»“ä¸ºä¸¤ä¸ªåŸå› ï¼š</p>
<p>1.<strong>å·¥ç¨‹å¸ˆå¤ªè¿‡å…³æ³¨ UI å±‚é¢çš„ç»†èŠ‚æ“ä½œ</strong>ï¼›Ã¥</p>
<p>2.<strong>åº”ç”¨ç¨‹åºçš„çŠ¶æ€è¾ƒä¸ºåˆ†æ•£ï¼Œæ— æ³•è¿½è¸ªå’Œç»´æŠ¤</strong>ã€‚</p>
<p>å¦å¤–è¿™é‡Œå†ä»‹ç»ä¸‹ React å‡ºç°çš„æ—¶ä»£èƒŒæ™¯ï¼š</p>
<p>1.<strong>å¤§é‡ä¸šåŠ¡é€»è¾‘ç”±åç«¯è½¬ä¸ºå‰ç«¯å®ç°</strong>ï¼Œå³å‰åç«¯åˆ†ç¦»ï¼›</p>
<p>2.å·²æœ‰å‰ç«¯æ¡†æ¶å¼€å‘çš„<strong>å¤æ‚åº”ç”¨æ€§èƒ½ä¸ä½³</strong>ã€‚</p>
<p>å½“æ—¶ç”±äº Ajax æŠ€æœ¯å…´èµ·ï¼Œå¤§é‡åŸæ¥ç”±æœåŠ¡ç«¯å¤„ç†çš„é€»è¾‘ï¼Œæ…¢æ…¢è½¬ç§»åˆ°å‰ç«¯åšå¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†è¿½æ±‚æ›´æµç•…çš„ Web äº¤äº’ä½“éªŒã€‚åæ¥ä¸ºäº†<strong>æå‡å¼€å‘æ•ˆç‡å’Œåº”ç”¨æ€§èƒ½</strong>ï¼Œå¼€å§‹æœ‰å¾ˆå¤šå¤§å‹å‰ç«¯æ¡†æ¶å‡ºç°ï¼ˆå¦‚ï¼šAngularJSï¼‰ï¼Œè¿™äº›æ¡†æ¶ä¹Ÿè®©å·¥ç¨‹å¸ˆä»¬è¶Šæ¥è¶Šå…³æ³¨ UI å±‚é¢çš„æ“ä½œï¼ˆå¦‚ï¼šé¢‘ç¹æ“ä½œ DOMï¼‰ï¼Œ<strong>åº”ç”¨æ€§èƒ½è¶Šæ¥è¶Šå·®</strong>ï¼Œå¹¶ä¼´éšæ— æ³•é¢„çŸ¥çš„ BUG å‡ºç°ï¼Œå°±åƒå‰é¢è®²åˆ°çš„ Facebook å·¥ç¨‹å¸ˆæ€»ç»“çš„åŸå› ä¹‹ä¸€ã€‚</p>
<p>ä¹‹å Facebook å·¥ç¨‹å¸ˆå¼€å§‹æ‰“é€ è‡ªå·±çš„å‰ç«¯æ¡†æ¶ï¼Œè§£å†³å‰é¢æ€»ç»“çš„é—®é¢˜ï¼Œäºæ˜¯ React å°±è¯ç”Ÿå•¦ï½</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/section-1-react.png" alt="react"></p>
<p>æ¥ä¸‹æ¥å°±è·Ÿæˆ‘ä¸€èµ·ï¼Œè¸ä¸Š React å…¥é—¨ç¬¬ä¸€æ­¥å§ï¼</p>
<h1 id="ä¸€ã€React-ä»‹ç»"><a href="#ä¸€ã€React-ä»‹ç»" class="headerlink" title="ä¸€ã€React ä»‹ç»"></a>ä¸€ã€React ä»‹ç»</h1><h2 id="1-å‰ç«¯å¼€å‘æ–¹å¼æ¼”è¿›"><a href="#1-å‰ç«¯å¼€å‘æ–¹å¼æ¼”è¿›" class="headerlink" title="1. å‰ç«¯å¼€å‘æ–¹å¼æ¼”è¿›"></a>1. å‰ç«¯å¼€å‘æ–¹å¼æ¼”è¿›</h2><ul>
<li>å‰ç«¯æ··æ²Œæ—¶ä»£</li>
</ul>
<p>åœ¨â€œå‰ç«¯æ··æ²Œæ—¶ä»£â€ï¼Œé¡µé¢ä¸»è¦åœ¨æœåŠ¡ç«¯å¼€å‘å¹¶ç”Ÿæˆï¼ŒæœåŠ¡ç«¯ç”Ÿæˆä»€ä¹ˆé¡µé¢ï¼Œæµè§ˆå™¨ç«¯å°±å±•ç¤ºä»€ä¹ˆæ ·çš„é¡µé¢ï¼Œè¿™æ˜¯æ—¶ä»£ï¼Œæ˜¯å¤šä¹ˆå•çº¯ã€‚</p>
<ul>
<li>å°å‰ç«¯æ—¶ä»£</li>
</ul>
<p>éšåè¿›å…¥â€œå°å‰ç«¯æ—¶ä»£â€ï¼Œå½¢æˆäº†ä»¥ HTML ä¸ºéª¨æ¶ï¼ŒCSS ä¸ºå¤–è²Œï¼ŒJavaScript ä¸ºäº¤äº’ä½“éªŒçš„å‰ç«¯å¼€å‘æ¨¡å¼ï¼Œåœ¨è¿™ä¸ªæ—¶ä»£ï¼Œå‡ºç°äº† Ajax è¿™ç§åˆ’æ—¶ä»£æ„ä¹‰çš„æŠ€æœ¯ï¼Œè®©é™æ€ç½‘é¡µå‡çº§ä¸ºåŠ¨æ€ç½‘é¡µï¼Œå¹¶éšç€ JavaScript çš„å‘å±•ï¼Œå‰ç«¯èƒ½åšæ›´åŠ å¤šæ ·çš„é¡µé¢ã€‚å½“æ—¶å‡ºç°äº† jQuery è¿™ç±» JS å·¥å…·åº“ï¼Œä¸»è¦ç”¨æ¥<strong>æ“ä½œ DOM</strong>ï¼Œ<strong>å¤„ç†æ•°æ®äº¤äº’</strong>ï¼Œè‡³ä»Šä»æœ‰å¾ˆå¤šè€æ—§é¡¹ç›®ä¾ç„¶åœ¨ä½¿ç”¨ jQueryã€‚</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/section-1-jquery.png" alt="jquery"></p>
<ul>
<li>å¤§å‰ç«¯æ—¶ä»£</li>
</ul>
<p>åœ¨å°å‰ç«¯æ—¶ä»£ç¨³å®šå‘å±•ä¸€æ®µæ—¶é—´ä¹‹åï¼Œå·¥ç¨‹å¸ˆä»¬å¼€å§‹å‘ç°å‰ç«¯<strong>éœ€è¦å‘ˆç°çš„æ•°æ®é‡è¶Šæ¥è¶Šå¤§</strong>ï¼Œ<strong>ç½‘é¡µåŠ¨æ€äº¤äº’æ•ˆæœä¹Ÿè¶Šæ¥è¶Šå¤š</strong>ï¼ŒjQuery è¿™ç±»å·¥å…·åº“<strong>è¶Šæ¥è¶Šé¢‘ç¹æ“ä½œ DOM</strong>ï¼Œä½¿å¾—åº”ç”¨æ€§èƒ½è¶Šæ¥è¶Šå·®ï¼Œé¡µé¢è¶Šæ¥è¶Šå¡ï¼Œæ…¢æ…¢å‰ç«¯å¤§ä½¬ä»¬å¼€å§‹è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<p>åœ¨ 2009 å¹´è¯ç”Ÿäº† NodeJS ï¼Œå°†å‰ç«¯å¸¦å…¥å…¨æ–°æ–¹å‘ï¼Œä¸º AngularJSï¼ˆ2009å¹´è¯ç”Ÿï¼‰ï¼ŒReactï¼ˆ2011å¹´è¯ç”Ÿï¼‰å’Œ Vuejs ï¼ˆ2014å¹´è¯ç”Ÿï¼‰ä¸‰å¤§æ¡†æ¶çš„<strong>è¯ç”Ÿå¥ å®šåŸºç¡€</strong>ã€‚è¿™äº›æ¡†æ¶é€šè¿‡ä¸€å®šçš„åˆ†ææ¯”è¾ƒç®—æ³•ï¼Œå®ç°åŒç­‰æ•ˆæœä¸‹æœ€å°çš„ DOM å¼€é”€ï¼Œæé«˜åº”ç”¨æ€§èƒ½ã€‚å‰ç«¯å¼€å‘è¿›å…¥â€œå¤§å‰ç«¯æ—¶ä»£â€ã€‚</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/section-1-frame.jpg" alt="frame"></p>
<ul>
<li>å…¨æ ˆå‰ç«¯æ—¶ä»£</li>
</ul>
<p>â€œå¤§å‰ç«¯æ—¶ä»£â€ä¹‹å NodeJS ç¤¾åŒºè“¬å‹ƒå‘å±•ï¼Œ4G ç½‘ç»œä¹Ÿåœ¨ä¸æ–­æ™®åŠå‘å±•ï¼Œå¾ˆå¤šä¼ ç»Ÿ PC ç½‘ç«™å¼€å§‹è½¬å‘æ‰‹æœºã€å¹³æ¿ç­‰ç§»åŠ¨ç«¯è®¾å¤‡ï¼Œå¼€å§‹å‡ºç°äº†æ··åˆåº”ç”¨æŠ€æœ¯ï¼ˆHybrid APPï¼‰ï¼Œå‡ºç°äº†å„ç§å¼€å‘æ¡†æ¶ï¼Œå¦‚ Cordovaã€React-Nativeã€Weexã€Electronç­‰ï¼Œè¿˜æœ‰æœ€è¿‘æ¯”è¾ƒç«çš„ Flutterã€‚</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/section-1-app.png" alt="app"></p>
<p>éšç€ TypeScript çš„å‡ºç°ï¼Œå’Œ ECMAScript æ ‡å‡†æ—¥æ¸å®Œå–„ï¼Œ<strong>å‰ç«¯å¼€å‘æ­£åœ¨æœç€æ›´åŠ å…¨èƒ½åŒ–</strong>ï¼Œ<strong>å¤šæ ·åŒ–å’Œæ›´åŠ ç»†åˆ†é¢†åŸŸçš„æ–¹å‘å‘å±•</strong>ã€‚</p>
<h2 id="2-React-ä»‹ç»"><a href="#2-React-ä»‹ç»" class="headerlink" title="2. React ä»‹ç»"></a>2. React ä»‹ç»</h2><p>React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œæ˜¯ç”¨ JavaScript æ„å»º<strong>å¿«é€Ÿå“åº”</strong>çš„å¤§å‹ Web åº”ç”¨ç¨‹åºçš„é¦–é€‰æ–¹å¼ã€‚</p>
<p>ç”±äº React çš„è®¾è®¡æ€æƒ³æå…¶ç‹¬ç‰¹ï¼Œå±äºé©å‘½æ€§åˆ›æ–°ï¼Œæ€§èƒ½å‡ºä¼—ï¼Œä»£ç é€»è¾‘å´éå¸¸ç®€å•ã€‚æ‰€ä»¥ï¼Œè¶Šæ¥è¶Šå¤šçš„äººå¼€å§‹å…³æ³¨å’Œä½¿ç”¨ï¼Œè®¤ä¸ºå®ƒå¯èƒ½æ˜¯å°†æ¥ Web å¼€å‘çš„ä¸»æµå·¥å…·ã€‚</p>
<p>åœ¨ React ä¸­ï¼Œå¯ä»¥å°†é¡µé¢ä¸­æ¯ä¸ªéƒ¨åˆ†åˆ†æˆæ¯ä¸€ä¸ªç‹¬ç«‹çš„å°æ¨¡å—ï¼Œæ¯ä¸ªå°æ¨¡å—å°±æ˜¯ç»„å»ºï¼Œè¿™äº›ç»„ä»¶å¯ä»¥äº’ç›¸ç»„åˆå’ŒåµŒå¥—ï¼Œå°±ç»„æˆæ¯ä¸€ä¸ªé¡µé¢ã€‚ç›¸æ¯”ä¼ ç»Ÿæ“ä½œ DOM çš„å‰ç«¯å¼€å‘æ–¹å¼ï¼Œæˆ‘ä»¬<strong>ä¸»è¦è¦å…³å¿ƒçš„æ˜¯åº”ç”¨ä¸­æ•°æ®çš„å˜åŒ–</strong> ï¼ŒReact ä¼šå¸®æˆ‘ä»¬å°† UI æ¸²æŸ“å®Œæˆã€‚</p>
<p>ä»¥ä¸€ä¸ªâ€œç”¨æˆ·æ¨èå…³æ³¨é¡µé¢â€ä¸ºä¾‹å­ï¼Œå¯ä»¥å°†é¡µé¢ç®€å•åˆ†ä¸ºä¸‹é¢å‡ ä¸ªç»„ä»¶ï¼š</p>
<p><img src="http://images.pingan8787.com/chuanzhiboke/section-1-component.png" alt="component"></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>ç»„ä»¶<code>UserPageComponent</code> ä¸ºï¼šä¸»é¡µé¢ç»„ä»¶ï¼›</li>
<li>ç»„ä»¶ <code>HeaderComponent</code> ä¸ºï¼šé¡µé¢é¡¶éƒ¨æ ‡é¢˜æ ç»„ä»¶ï¼›</li>
<li>ç»„ä»¶<code>ContentComponent</code> ä¸ºï¼šé¡µé¢ä¸»è¦å†…å®¹åŒºåŸŸç»„ä»¶ï¼›</li>
<li>ç»„ä»¶<code>FooterComponent</code> ä¸ºï¼šé¡µé¢åº•éƒ¨æ“ä½œç»„ä»¶ï¼›</li>
<li>ç»„ä»¶<code>UserInfoComponent</code> ä¸ºï¼šé€šç”¨ç”¨æˆ·ä¿¡æ¯ç»„ä»¶ï¼›</li>
<li>ç»„ä»¶<code>CommonButtonComponent</code> ä¸ºï¼šé€šç”¨æŒ‰é’®ç»„ä»¶ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥çœ‹ä¸‹è¿™ä¸ªé¡µé¢åœ¨ React ä¸­æ˜¯å¦‚ä½•ç¼–å†™çš„å§ï½</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserPageComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">HeaderComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">HeaderComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ContentComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">ContentComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">FooterComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">FooterComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ContentComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">UserInfoComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">UserInfoComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">UserInfoComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">UserInfoComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">UserInfoComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">UserInfoComponent</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹èµ·æ¥å°±è·Ÿå ç§¯æœ¨ä¸€æ ·å•¦ï½ï½</p>
<p>çœ‹åˆ°è¿™é‡Œï¼Œæ­å–œä½ å·²ç»äº†è§£äº† React å¹¶ä¸”çŸ¥é“ React ä»£ç æ˜¯å¦‚ä½•ç¼–å†™çš„äº†ï¼</p>
<p>æ¥ä¸‹æ¥å†æ¥çœ‹çœ‹ React å„ä¸ªé‡å¤§ç‰ˆæœ¬çš„æ›´æ–°ï¼Œè¿™å¯¹äºä½ äº†è§£ React å¾ˆæœ‰å¸®åŠ©ã€‚</p>
<h2 id="3-React-ç‰ˆæœ¬"><a href="#3-React-ç‰ˆæœ¬" class="headerlink" title="3. React ç‰ˆæœ¬"></a>3. React ç‰ˆæœ¬</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨ React å®˜ç½‘ä¸­æŸ¥çœ‹ React çš„ç‰ˆæœ¬è¿­ä»£å†å²è®°å½•å’Œæ›´æ–°å†…å®¹ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/versions/%E3%80%82">https://reactjs.org/versions/ã€‚</a></p>
<p>åœ¨ 2017.09.26 Facebook å‘å¸ƒ React v16.0 ç‰ˆæœ¬ï¼Œæˆªæ­¢è¯¾ç¨‹åˆ¶ä½œæ—¶ï¼ŒReact æœ€æ–°ç‰ˆæœ¬ä¸º v16.13.1 ï¼Œä¸”å¼•å…¥äº†å¤§é‡çš„ä»¤äººæŒ¯å¥‹çš„æ–°ç‰¹æ€§ï¼Œæ¥ä¸‹æ¥å°†ä»¥ React v16.0 ç‰ˆæœ¬å¼€å§‹ï¼Œä»‹ç»ä¸€äº›é‡è¦æ›´æ–°å†…å®¹ï¼Œå¿«è·Ÿæˆ‘ä¸€èµ·çœ‹çœ‹å§ï¼</p>
<ul>
<li><strong>React v16.2.0 (November 28, 2017)</strong> </li>
</ul>
<p>å¢åŠ  Fragment ç»„ä»¶ï¼Œå…¶ä½œç”¨æ˜¯å°†ä¸€äº›å­å…ƒç´ æ·»åŠ åˆ° DOM tree ä¸Šä¸”ä¸éœ€è¦ä¸ºè¿™äº›å…ƒç´ æä¾›é¢å¤–çš„çˆ¶èŠ‚ç‚¹ï¼Œç›¸å½“äº render è¿”å›æ•°ç»„å…ƒç´ ã€‚</p>
<ul>
<li><strong>React v16.3.0 (March 29, 2018)</strong> </li>
</ul>
<p>å¢åŠ  <code>React.createRef()</code> APIï¼Œå¯ä»¥é€šè¿‡ <code>React.createRef</code> å–å¾— Ref å¯¹è±¡ã€‚</p>
<p>å¢åŠ  <code>React.forwardRef()</code>  APIï¼Œå®ƒæ˜¯ Ref çš„è½¬å‘, è®©çˆ¶ç»„ä»¶èƒ½å¤Ÿè®¿é—®åˆ°å­ç»„ä»¶çš„ Refï¼Œä»è€Œæ“ä½œå­ç»„ä»¶çš„ DOMã€‚</p>
<ul>
<li><strong>React v16.6.0 (October 23, 2018)</strong> </li>
</ul>
<p>å¢åŠ  <code>React.memo()</code> APIï¼Œå®ƒåªèƒ½ä½œç”¨åœ¨ç®€å•çš„å‡½æ•°ç»„ä»¶ä¸Šï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå¯ä»¥è‡ªåŠ¨å¸®åŠ©ç»„ä»¶æ‰§è¡Œ ã€‚</p>
<p>å¢åŠ  <code>React.lazy()</code> APIï¼Œå®ƒæä¾›äº†åŠ¨æ€ import ç»„ä»¶çš„èƒ½åŠ›ï¼Œå®ç°ä»£ç åˆ†å‰²ã€‚</p>
<ul>
<li><strong>React v16.8.0 (February 6, 2019)</strong> </li>
</ul>
<p>å¢åŠ  React Hooksï¼Œä¸€ç§æ— éœ€ç¼–å†™ç±»å³å¯ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»–ReactåŠŸèƒ½çš„æ–¹æ³•ï¼Œç”¨æ¥è§£å†³çŠ¶æ€é€»è¾‘å¤ç”¨é—®é¢˜ï¼Œä¸”ä¸ä¼šäº§ç”Ÿ JSX åµŒå¥—åœ°ç‹±ã€‚</p>
<p>æ”¹è¿› <code>useReducer</code>  Hook æƒ°æ€§åˆå§‹åŒ–APIã€‚</p>
<p>React ç‰ˆæœ¬å¤§æ¦‚ä»‹ç»åˆ°è¿™é‡Œï¼Œç›¸ä¿¡è¿™é‡Œè¿˜æœ‰å¾ˆå¤šçŸ¥è¯†ä½ è¿˜ä¸æ¸…æ¥šï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œæ¥ä¸‹æ¥çš„è¯¾ç¨‹ï¼Œæˆ‘ä»¬å°†ä¸€ä¸€è§£ç­”ï½</p>
<h1 id="äºŒã€é—¯å…³è®­ç»ƒ"><a href="#äºŒã€é—¯å…³è®­ç»ƒ" class="headerlink" title="äºŒã€é—¯å…³è®­ç»ƒ"></a>äºŒã€é—¯å…³è®­ç»ƒ</h1><p>è¯·é—® React å¼€å‘ä¸­ï¼Œç›¸æ¯”ä¼ ç»Ÿå‰ç«¯å¼€å‘ï¼Œæˆ‘ä»¬æ›´éœ€è¦å…³æ³¨ä»€ä¹ˆï¼Ÿ</p>
<p>A. åº”ç”¨ä¸­ DOM çš„å˜åŒ–</p>
<p>B. åº”ç”¨ä¸­æ•°æ®çš„å˜åŒ–</p>
<p>C. åº”ç”¨ä¸­ UI å±•ç¤º</p>
<p>ç­”æ¡ˆï¼šB</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/05/214-%E3%80%90React%E3%80%91React%E4%B8%8E%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E9%82%A3%E4%BA%9B%E5%B9%B4/" data-id="ckts3eju900634d9k6gf928ek" data-title="214-ã€Reactã€‘Reactä¸å‰ç«¯å¼€å‘çš„é‚£äº›å¹´" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-213-ã€Webpackã€‘äº†ä¸èµ·çš„WebpackScopeHoistingå­¦ä¹ æŒ‡å—" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/05/213-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84WebpackScopeHoisting%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" class="article-date">
  <time class="dt-published" datetime="2020-08-05T12:58:57.000Z" itemprop="datePublished">2020-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/05/213-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84WebpackScopeHoisting%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/">213-ã€Webpackã€‘äº†ä¸èµ·çš„ Webpack Scope Hoisting å­¦ä¹ æŒ‡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¿‘æœŸåŸåˆ›æ–‡ç« å›é¡¾ğŸ˜„</p>
<ul>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5f0023625188252e8c308597">ã€Š1.2wå­— ï½œ åˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å• - 1ã€‹</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5ee8e32a51882543485780d3">ã€Šäº†ä¸èµ·çš„ Webpack HMR å­¦ä¹ æŒ‡å—ï¼ˆå«æºç åˆ†æï¼‰ã€‹</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5eeff398e51d4573e060874d">ã€Šäº†ä¸èµ·çš„ Webpack æ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—ã€‹</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5ee78bb7f265da76f15a0698">ã€Šä½ ä¸çŸ¥é“çš„ WeakMapã€‹ç•ªå¤–ç¯‡</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5ede5300e51d4578a6798220">ã€Šä½ ä¸çŸ¥é“çš„ Blobã€‹ç•ªå¤–ç¯‡</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5ed589a251882542e3022f44">ã€Šäº†ä¸èµ·çš„ tsconfig.json æŒ‡å—ã€‹</a></li>
<li>  <a target="_blank" rel="noopener" href="https://juejin.im/post/5e802e41e51d4546b659b31b">ã€Š200è¡ŒJSä»£ç ï¼Œå¸¦ä½ å®ç°ä»£ç ç¼–è¯‘å™¨ã€‹</a></li>
</ul>
<h1 id="ä¸€ã€ä»€ä¹ˆæ˜¯-Scope-Hoisting"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-Scope-Hoisting" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ Scope Hoisting"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ Scope Hoisting</h1><p>Scope Hoisting æ˜¯ webpack3 çš„æ–°åŠŸèƒ½ï¼Œç›´è¯‘ä¸º â€œ<strong>ä½œç”¨åŸŸæå‡</strong>â€œï¼Œå®ƒå¯ä»¥è®© webpack æ‰“åŒ…å‡ºæ¥çš„<strong>ä»£ç æ–‡ä»¶æ›´å°</strong>ï¼Œ<strong>è¿è¡Œæ›´å¿«</strong>ã€‚</p>
<p>åœ¨ JavaScript ä¸­ï¼Œè¿˜æœ‰â€œå˜é‡æå‡â€å’Œâ€œå‡½æ•°æå‡â€ï¼ŒJavaScript ä¼šå°†å˜é‡å’Œå‡½æ•°çš„å£°æ˜æå‡åˆ°å½“å‰ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œè€Œâ€œä½œç”¨åŸŸæå‡â€ä¹Ÿç±»ä¼¼ï¼Œwebpack å°†å¼•å…¥åˆ° JS æ–‡ä»¶â€œæå‡åˆ°â€å®ƒçš„å¼•å…¥è€…çš„é¡¶éƒ¨ã€‚</p>
<p>é¦–å…ˆå›é¡¾ä¸‹åœ¨æ²¡æœ‰ Scope Hoisting æ—¶ç”¨ webpack æ‰“åŒ…ä¸‹é¢ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">&quot;hello leo~&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> str <span class="keyword">from</span> <span class="string">&quot;./main.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ webpack æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__main_js__ = __webpack_require__(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__main_js__[<span class="string">&quot;a&quot;</span>]);</span><br><span class="line">  &#125;),</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line">    __webpack_exports__[<span class="string">&quot;a&quot;</span>] = (<span class="string">&#x27;hello leo~&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å†å¼€å¯ Scope Hoisting åï¼Œç›¸åŒæºç æ‰“åŒ…è¾“å‡ºç»“æœå˜ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> main = (<span class="string">&#x27;hello leo~&#x27;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(main);</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”ä¸¤ç§æ‰“åŒ…æ–¹å¼è¾“å‡ºçš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå¯ç”¨ Scope Hoisting åï¼Œå‡½æ•°å£°æ˜å˜æˆä¸€ä¸ªï¼Œ <code>main.js</code>Â ä¸­å®šä¹‰çš„å†…å®¹è¢«ç›´æ¥æ³¨å…¥åˆ° <code>main.js</code>Â å¯¹åº”æ¨¡å—ä¸­ï¼Œè¿™æ ·åšçš„å¥½å¤„ï¼š</p>
<ul>
<li><strong>ä»£ç ä½“ç§¯æ›´å°</strong>ï¼Œå› ä¸ºå‡½æ•°ç”³æ˜è¯­å¥ä¼šäº§ç”Ÿå¤§é‡ä»£ç ï¼Œå¯¼è‡´åŒ…ä½“ç§¯å¢å¤§ï¼ˆæ¨¡å—è¶Šå¤šè¶Šæ˜æ˜¾ï¼‰ï¼›</li>
<li>ä»£ç åœ¨è¿è¡Œæ—¶å› ä¸ºåˆ›å»ºçš„å‡½æ•°ä½œç”¨åŸŸæ›´å°‘ï¼Œ<strong>å†…å­˜å¼€é”€ä¹Ÿéšä¹‹å˜å°</strong>ã€‚</li>
</ul>
<h1 id="äºŒã€webpack-æ¨¡å—æœºåˆ¶"><a href="#äºŒã€webpack-æ¨¡å—æœºåˆ¶" class="headerlink" title="äºŒã€webpack æ¨¡å—æœºåˆ¶"></a>äºŒã€webpack æ¨¡å—æœºåˆ¶</h1><p>æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢ <code>webpack.config.js</code>Â é…ç½®ï¼Œæ‰“åŒ…æ¥çœ‹çœ‹ webpack æ¨¡å—æœºåˆ¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">usedExports</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ‰“åŒ…åè¾“å‡ºç»“æœï¼ˆç²¾ç®€åï¼‰ï¼š<br><img src="http://images.pingan8787.com/Webpack/Scope-Hoisting/build-result.png"><br>é€šè¿‡åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ul>
<li>webpack æ‰“åŒ…è¾“å‡ºæ‰“æ˜¯ä¸€ä¸ª IIFEï¼ˆåŒ¿åé—­åŒ…ï¼‰ï¼›</li>
<li><code>modules</code>Â  æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªæ¨¡å—åˆå§‹åŒ–å‡½æ•°ï¼›</li>
<li>ä½¿ç”¨ <code>__webpack_require()</code>Â æ¥å®¶åœ¨æ¨¡å—ï¼Œè¿”å› <code>module.exports</code>Â ï¼›</li>
<li>é€šè¿‡ <code>__webpack_require__(__webpack_require__.s = 0);</code>Â å¯åŠ¨ç¨‹åºã€‚</li>
</ul>
<h1 id="ä¸‰ã€Scope-Hoisting-åŸç†"><a href="#ä¸‰ã€Scope-Hoisting-åŸç†" class="headerlink" title="ä¸‰ã€Scope Hoisting åŸç†"></a>ä¸‰ã€Scope Hoisting åŸç†</h1><p>Scope Hoisting çš„å®ç°åŸç†å…¶å®å¾ˆç®€å•ï¼šåˆ†æå‡ºæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°½å¯èƒ½å°†æ‰“æ•£çš„æ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå‰ææ˜¯ä¸èƒ½é€ æˆä»£ç å†—ä½™ã€‚ å› æ­¤<strong>åªæœ‰é‚£äº›è¢«å¼•ç”¨äº†ä¸€æ¬¡çš„æ¨¡å—æ‰èƒ½è¢«åˆå¹¶</strong>ã€‚</p>
<p>ç”±äº Scope Hoisting éœ€è¦åˆ†æå‡ºæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤æºç <strong>å¿…é¡»é‡‡ç”¨ ES6 æ¨¡å—åŒ–è¯­å¥</strong>ï¼Œä¸ç„¶å®ƒå°†æ— æ³•ç”Ÿæ•ˆã€‚ åŸå› å’Œ<a target="_blank" rel="noopener" href="http://webpack.wuhaolin.cn/4%E4%BC%98%E5%8C%96/4-10%E4%BD%BF%E7%94%A8TreeShaking.html">4-10 ä½¿ç”¨ TreeShaking</a> ä¸­ä»‹ç»çš„ç±»ä¼¼ã€‚</p>
<p><img src="http://images.pingan8787.com/Webpack/Scope-Hoisting/build-result-comparison.png"></p>
<h1 id="å››ã€Scope-Hoisting-ä½¿ç”¨æ–¹å¼"><a href="#å››ã€Scope-Hoisting-ä½¿ç”¨æ–¹å¼" class="headerlink" title="å››ã€Scope Hoisting ä½¿ç”¨æ–¹å¼"></a>å››ã€Scope Hoisting ä½¿ç”¨æ–¹å¼</h1><h2 id="1-è‡ªåŠ¨å¯ç”¨"><a href="#1-è‡ªåŠ¨å¯ç”¨" class="headerlink" title="1. è‡ªåŠ¨å¯ç”¨"></a>1. è‡ªåŠ¨å¯ç”¨</h2><p>åœ¨ webpack çš„ <code>mode</code> è®¾ç½®ä¸º <code>production</code>Â æ—¶ï¼Œä¼šé»˜è®¤è‡ªåŠ¨å¯ç”¨ Scope Hootingã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">	<span class="attr">mode</span>: <span class="string">&quot;production&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ‰‹åŠ¨å¯ç”¨"><a href="#2-æ‰‹åŠ¨å¯ç”¨" class="headerlink" title="2. æ‰‹åŠ¨å¯ç”¨"></a>2. æ‰‹åŠ¨å¯ç”¨</h2><p>åœ¨ webpack ä¸­å·²ç»å†…ç½® Scope Hoisting ï¼Œæ‰€ä»¥ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œåªéœ€è¦é…ç½®<a target="_blank" rel="noopener" href="https://webpack.js.org/plugins/module-concatenation-plugin/#root">ModuleConcatenationPlugin</a>Â æ’ä»¶å³å¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è€ƒè™‘åˆ° Scope Hoisting ä»¥æ¥ ES6 æ¨¡å—åŒ–è¯­æ³•ï¼Œè€Œç°åœ¨å¾ˆå¤š npm åŒ…çš„ç¬¬ä¸‰æ–¹åº“è¿˜æ˜¯ä½¿ç”¨ CommonJS è¯­æ³•ï¼Œä¸ºäº†å……åˆ†å‘æŒ¥ Scope Hoisting æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ä»¥ä¸‹ <code>mainFields</code>Â é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="comment">// é’ˆå¯¹ npm ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—ä¼˜å…ˆé‡‡ç”¨ jsnext:main ä¸­æŒ‡å‘çš„ ES6 æ¨¡å—åŒ–è¯­æ³•çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">mainFields</span>: [<span class="string">&#x27;jsnext:main&#x27;</span>, <span class="string">&#x27;browser&#x27;</span>, <span class="string">&#x27;main&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é’ˆå¯¹é ES6 æ¨¡å—åŒ–è¯­æ³•çš„ä»£ç ï¼Œwebpack ä¼šé™çº§å¤„ç†ä¸ä½¿ç”¨ Scope Hoisting ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ webpack å‘½ä»¤ä¸Šå¢åŠ Â <code>--display-optimization-bailout</code>Â å‚æ•°ï¼Œåœ¨è¾“å‡ºçš„æ—¥å¿—æŸ¥çœ‹å“ªäº›ä»£ç åšäº†é™çº§å¤„ç†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack --display-optimization-bailout&quot;</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å†™ä¸ªç®€å•ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> str <span class="keyword">from</span> <span class="string">&quot;./main.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./no-es6.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">&quot;hello leo~&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// no-es6.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;leo&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æ‰“åŒ…æµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºä¸‹é¢æ—¥å¿—ï¼š</p>
<p><img src="http://images.pingan8787.com/Webpack/Scope-Hoisting/build-result-log.png"></p>
<p>è¾“å‡ºçš„æ—¥å¿—ä¸­ <code>ModuleConcatenation bailout</code>Â å‘Šè¯‰æˆ‘ä»¬å“ªäº›æ–‡ä»¶å› ä¸ºä»€ä¹ˆåŸå› å¯¼è‡´é™çº§å¤„ç†äº†ã€‚</p>
<h1 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h1><p>æœ¬æ–‡ä¸»è¦å’Œå¤§å®¶ä¸€èµ·å›é¡¾äº† Scope Hoisting åŸºæœ¬æ¦‚å¿µï¼Œä½¿ç”¨æ–¹å¼å’Œä½¿ç”¨åæ•ˆæœå¯¹æ¯”ï¼Œå¸Œæœ›å¤§å®¶ä¸è¦åªåœç•™åœ¨ä¼šç”¨ webpackï¼Œä¹Ÿè¦çœ‹çœ‹å…¶ä¸­ä¸€äº›ä¸å¸¸è§çš„çŸ¥è¯†ï¼Œæ¯”å¦‚æœ¬æ–‡ä»‹ç»çš„ Scope Hoistingï¼Œå®ƒå¯¹æˆ‘ä»¬é¡¹ç›®ä¼˜åŒ–éå¸¸æœ‰å¸®åŠ©ï¼Œä½†å¹³å¸¸åˆå¾ˆå°‘ä¼šå»æ³¨æ„ã€‚</p>
<h1 id="å…­ã€å‚è€ƒæ–‡ç« "><a href="#å…­ã€å‚è€ƒæ–‡ç« " class="headerlink" title="å…­ã€å‚è€ƒæ–‡ç« "></a>å…­ã€å‚è€ƒæ–‡ç« </h1><ul>
<li><a target="_blank" rel="noopener" href="https://imweb.io/topic/5a43064fa192c3b460fce360">ã€Šé€šè¿‡Scope Hoistingä¼˜åŒ–Webpackè¾“å‡ºã€‹</a>Â </li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000018220850">ã€Šwebpack çš„ scope hoisting æ˜¯ä»€ä¹ˆï¼Ÿã€‹</a>Â </li>
</ul>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#103;&#x61;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#113;&#113;&#46;&#x63;&#x6f;&#109;">&#x70;&#x69;&#110;&#103;&#x61;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#113;&#113;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/05/213-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84WebpackScopeHoisting%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" data-id="ckts3eju800604d9kecm87hpq" data-title="213-ã€Webpackã€‘äº†ä¸èµ·çš„ Webpack Scope Hoisting å­¦ä¹ æŒ‡å—" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-212-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/06/212-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-1/" class="article-date">
  <time class="dt-published" datetime="2020-07-06T04:46:41.000Z" itemprop="datePublished">2020-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/06/212-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-1/">212-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘åŸåˆ›æ–‡ç« ğŸ”¥ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ee8e32a51882543485780d3">ã€Šäº†ä¸èµ·çš„ Webpack HMR å­¦ä¹ æŒ‡å—ï¼ˆå«æºç åˆ†æï¼‰ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5eeff398e51d4573e060874d">ã€Šäº†ä¸èµ·çš„ Webpack æ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ee78bb7f265da76f15a0698">ã€Šä½ ä¸çŸ¥é“çš„ WeakMapã€‹ç•ªå¤–ç¯‡</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ede5300e51d4578a6798220">ã€Šä½ ä¸çŸ¥é“çš„ Blobã€‹ç•ªå¤–ç¯‡</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ed589a251882542e3022f44">ã€Šäº†ä¸èµ·çš„ tsconfig.json æŒ‡å—ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5e802e41e51d4546b659b31b">ã€Š200è¡ŒJSä»£ç ï¼Œå¸¦ä½ å®ç°ä»£ç ç¼–è¯‘å™¨ã€‹</a></li>
</ul>
<hr>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘ä¸éƒ¨é—¨è€å¤§ä¸€èµ·é¢è¯•äº†è®¸å¤šå‰ç«¯æ±‚èŒè€…ï¼Œå…¶ä¸­<strong>æƒ³æ¢ä¸ªå­¦ä¹ æ°›å›´è¾ƒå¥½çš„äººå å¤šæ•°</strong>ï¼Œä½†è‰¯å¥½çš„å­¦ä¹ æ°›å›´ä¹Ÿæ˜¯éœ€è¦ä¸€ç‚¹ç‚¹è¥é€ å‡ºæ¥çš„ğŸŒºã€‚</p>
<p>ä¸ºæ­¤æˆ‘ä»¬ç»„å»ºäº†æˆ‘ä»¬å›¢é˜Ÿå†…éƒ¨çš„â€œ<strong>ç°ä»£ JavaScript çªå‡»é˜Ÿ</strong>â€ï¼Œç¬¬ä¸€æœŸå­¦ä¹ å†…å®¹ä¸º<a target="_blank" rel="noopener" href="https://zh.javascript.info/">ã€Šç°ä»£ JavaScript æ•™ç¨‹ã€‹</a>ç³»åˆ—ï¼Œå¸®åŠ©å°ç»„æˆå‘˜ç³»ç»Ÿåœ°è¿›è¡Œå­¦ä¹ å·©å›ºï¼Œå¹¶<strong>è®©å¤§å®¶å…»æˆç³»ç»Ÿæ€§å­¦ä¹ å’Œè¾“å‡ºå­¦ä¹ æ€»ç»“çš„å­¦ä¹ æ–¹å¼</strong>ã€‚</p>
<p>æœ¬æ–‡ä½œä¸ºæˆ‘è¾“å‡ºçš„ç¬¬ä¸€éƒ¨åˆ†å­¦ä¹ æ€»ç»“ï¼Œå¸Œæœ›ä½œä¸ºä¸€ä»½è‡ªæµ‹æ¸…å•ï¼Œå¸®åŠ©å¤§å®¶å·©å›ºçŸ¥è¯†ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚</p>
<p>è¿™é‡Œä¹Ÿä¸‹é¢åˆ†äº«æˆ‘ä»¬å­¦ä¹ å°ç»„çš„â€œæŠ¼é‡‘åˆ¶åº¦â€å’Œâ€œæŠ¼é‡‘è®°å½•è¡¨â€ğŸ€</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/learn-1.png" alt="â€œæŠ¼é‡‘åˆ¶åº¦â€å’Œâ€œæŠ¼é‡‘è®°å½•è¡¨â€"></p>
<p>æ¥ä¸‹æ¥å¼€å§‹åˆ†äº«è‡ªæµ‹æ¸…å•çš„å†…å®¹ã€‚</p>
<p><img src="http://images.pingan8787.com/JavaScript-Base/learn-xmind-1.png" alt="åˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å•.png"></p>
<h1 id="ä¸€ã€Hello-World"><a href="#ä¸€ã€Hello-World" class="headerlink" title="ä¸€ã€Hello World!"></a>ä¸€ã€Hello World!</h1><h2 id="1-è„šæœ¬å¼•å…¥æ–¹å¼"><a href="#1-è„šæœ¬å¼•å…¥æ–¹å¼" class="headerlink" title="1. è„šæœ¬å¼•å…¥æ–¹å¼"></a>1. è„šæœ¬å¼•å…¥æ–¹å¼</h2><p>JavaScript è„šæœ¬å¼•å…¥æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li><code>&lt;script&gt;</code> Â æ ‡ç­¾æ’å…¥è„šæœ¬ï¼›</li>
<li><code>&lt;script&gt;</code> æ ‡ç­¾ <code>src</code> è®¾ç½®è„šæœ¬åœ°å€ã€‚</li>
</ul>
<h2 id="2-script-æ ‡ç­¾å±æ€§"><a href="#2-script-æ ‡ç­¾å±æ€§" class="headerlink" title="2. script æ ‡ç­¾å±æ€§"></a>2. script æ ‡ç­¾å±æ€§</h2><p><code>&lt;script&gt;</code> Â æ ‡ç­¾æœ‰ä»¥ä¸‹å¸¸ç”¨å±æ€§ï¼š</p>
<h3 id="2-1-src"><a href="#2-1-src" class="headerlink" title="2.1 src"></a>2.1 src</h3><p><code>src</code> ï¼šæŒ‡å®šå¤–éƒ¨è„šæœ¬çš„URIï¼Œ å¦‚æœè®¾ç½®äº† <code>src</code> ç‰¹æ€§ï¼Œscript æ ‡ç­¾å†…å®¹å°†ä¼šè¢«å¿½ç•¥ï¼›</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;example-url.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-type"><a href="#2-2-type" class="headerlink" title="2.2 type"></a>2.2 type</h3><p><code>type</code> ï¼šæŒ‡å®šå¼•ç”¨è„šæœ¬çš„è¯­è¨€ï¼Œå±æ€§å€¼ä¸º MIME ç±»å‹ï¼ŒåŒ…æ‹¬<code>text/javascript</code>, <code>text/ecmascript</code>, <code>application/javascript</code>, å’Œ<code>application/ecmascript</code>ã€‚å¦‚æœæ²¡æœ‰å®šä¹‰è¿™ä¸ªå±æ€§ï¼Œè„šæœ¬ä¼šè¢«è§†ä½œJavaScriptã€‚</p>
<p>ES6 æ–°å¢äº†å±æ€§å€¼ <code>module</code> ï¼Œä»£ç ä¼šè¢«å½“åš JavaScript æ¨¡å—ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-async"><a href="#2-3-async" class="headerlink" title="2.3 async"></a>2.3 async</h3><p><code>async</code> è§„å®šä¸€æ—¦è„šæœ¬å¯ç”¨ï¼Œåˆ™ä¼šå¼‚æ­¥æ‰§è¡Œã€‚<br>æ³¨æ„ï¼šasync å±æ€§ä»…é€‚ç”¨äºå¤–éƒ¨è„šæœ¬ï¼ˆ<strong>åªæœ‰åœ¨ä½¿ç”¨ src å±æ€§æ—¶</strong>ï¼‰ã€‚<br>æœ‰å¤šç§æ‰§è¡Œå¤–éƒ¨è„šæœ¬çš„æ–¹æ³•ï¼š<br>å¦‚æœ <code>async=&quot;async&quot;</code> ï¼šè„šæœ¬ç›¸å¯¹äºé¡µé¢çš„å…¶ä½™éƒ¨åˆ†å¼‚æ­¥åœ°æ‰§è¡Œï¼ˆå½“é¡µé¢ç»§ç»­è¿›è¡Œè§£ææ—¶ï¼Œè„šæœ¬å°†è¢«æ‰§è¡Œï¼‰ï¼›<br>å¦‚æœä¸ä½¿ç”¨ <code>async</code> Â ä¸” <code>defer=&quot;defer&quot;</code> ï¼šè„šæœ¬å°†åœ¨é¡µé¢å®Œæˆè§£ææ—¶æ‰§è¡Œï¼›<br>å¦‚æœæ—¢ä¸ä½¿ç”¨ <code>async </code> ä¹Ÿä¸ä½¿ç”¨ <code>defer</code> ï¼šåœ¨æµè§ˆå™¨ç»§ç»­è§£æé¡µé¢ä¹‹å‰ï¼Œç«‹å³è¯»å–å¹¶æ‰§è¡Œè„šæœ¬ï¼›</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span>=<span class="string">&quot;async&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-4-defer"><a href="#2-4-defer" class="headerlink" title="2.4 defer"></a>2.4 defer</h3><p><code>defer</code>  å±æ€§è§„å®šæ˜¯å¦å¯¹è„šæœ¬æ‰§è¡Œè¿›è¡Œå»¶è¿Ÿï¼Œç›´åˆ°é¡µé¢åŠ è½½ä¸ºæ­¢ã€‚</p>
<p>å¦‚æœæ‚¨çš„è„šæœ¬ä¸ä¼šæ”¹å˜æ–‡æ¡£çš„å†…å®¹ï¼Œå¯å°† defer å±æ€§åŠ å…¥åˆ° <code>&lt;script&gt;</code> æ ‡ç­¾ä¸­ï¼Œä»¥ä¾¿åŠ å¿«å¤„ç†æ–‡æ¡£çš„é€Ÿåº¦ã€‚å› ä¸ºæµè§ˆå™¨çŸ¥é“å®ƒå°†èƒ½å¤Ÿå®‰å…¨åœ°è¯»å–æ–‡æ¡£çš„å‰©ä½™éƒ¨åˆ†è€Œä¸ç”¨æ‰§è¡Œè„šæœ¬ï¼Œå®ƒå°†æ¨è¿Ÿå¯¹è„šæœ¬çš„è§£é‡Šï¼Œç›´åˆ°æ–‡æ¡£å·²ç»æ˜¾ç¤ºç»™ç”¨æˆ·ä¸ºæ­¢ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¯¦ç»†ä»‹ç»å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script">ã€ŠMDN <code>&lt;script&gt; </code>ç« èŠ‚ ã€‹</a>ã€‚</p>
<h1 id="äºŒã€ä»£ç ç»“æ„"><a href="#äºŒã€ä»£ç ç»“æ„" class="headerlink" title="äºŒã€ä»£ç ç»“æ„"></a>äºŒã€ä»£ç ç»“æ„</h1><h2 id="1-è¯­å¥"><a href="#1-è¯­å¥" class="headerlink" title="1. è¯­å¥"></a>1. è¯­å¥</h2><p>è¯­å¥æ˜¯æ‰§è¡Œè¡Œä¸ºï¼ˆactionï¼‰çš„è¯­æ³•ç»“æ„å’Œå‘½ä»¤ã€‚å¦‚ï¼š <code>alert(&#39;Hello, world!&#39;)</code> è¿™æ ·å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæ¶ˆæ¯çš„è¯­å¥ã€‚</p>
<h2 id="2-åˆ†å·"><a href="#2-åˆ†å·" class="headerlink" title="2. åˆ†å·"></a>2. åˆ†å·</h2><p>å­˜åœ¨åˆ†è¡Œç¬¦æ—¶ï¼Œå¤šæ•°æƒ…å†µä¸‹å¯ä»¥çœç•¥åˆ†å·ã€‚ä½†ä¸å…¨æ˜¯ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="number">3</span> +</span><br><span class="line"><span class="number">1</span></span><br><span class="line">+ <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>å»ºè®®æ–°äººæœ€å¥½ä¸è¦çœç•¥åˆ†å·ã€‚</p>
<h2 id="3-æ³¨é‡Š"><a href="#3-æ³¨é‡Š" class="headerlink" title="3. æ³¨é‡Š"></a>3. æ³¨é‡Š</h2><p><strong>å•è¡Œæ³¨é‡Šä»¥ä¸¤ä¸ªæ­£æ–œæ å­—ç¬¦ <code>//</code> å¼€å§‹ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨é‡Šæ–‡æœ¬</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;leo&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>å¤šè¡Œæ³¨é‡Šä»¥ä¸€ä¸ªæ­£æ–œæ å’Œæ˜Ÿå·å¼€å§‹ <code>â€œ/*â€</code> å¹¶ä»¥ä¸€ä¸ªæ˜Ÿå·å’Œæ­£æ–œæ†ç»“æŸ <code>â€œ*/â€</code>ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šã€‚</span></span><br><span class="line"><span class="comment">ç¬¬äºŒè¡Œæ³¨é‡Šã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;leo&quot;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€ç°ä»£æ¨¡å¼ï¼Œâ€use-strictâ€"><a href="#ä¸‰ã€ç°ä»£æ¨¡å¼ï¼Œâ€use-strictâ€" class="headerlink" title="ä¸‰ã€ç°ä»£æ¨¡å¼ï¼Œâ€use strictâ€"></a>ä¸‰ã€ç°ä»£æ¨¡å¼ï¼Œâ€use strictâ€</h1><h2 id="1-ä½œç”¨"><a href="#1-ä½œç”¨" class="headerlink" title="1. ä½œç”¨"></a>1. ä½œç”¨</h2><p>JavaScript çš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä½¿ç”¨å—é™åˆ¶çš„ JavaScript çš„ä¸€ç§æ–¹å¼ï¼Œä»è€Œéšå¼åœ°é€€å‡ºâ€œè‰ç‡æ¨¡å¼â€ã€‚</p>
<p><code>&quot;use strict&quot;</code> æŒ‡ä»¤å°†æµè§ˆå™¨å¼•æ“è½¬æ¢ä¸ºâ€œç°ä»£â€æ¨¡å¼ï¼Œæ”¹å˜ä¸€äº›å†…å»ºç‰¹æ€§çš„è¡Œä¸ºã€‚</p>
<h2 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h2><p>é€šè¿‡åœ¨è„šæœ¬æ–‡ä»¶/å‡½æ•°å¼€å¤´æ·»åŠ  <code>&quot;use strict&quot;;</code> å£°æ˜ï¼Œå³å¯å¯ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚<br>å…¨å±€å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> v = <span class="string">&quot;Hi!  I&#x27;m a strict mode script!&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å†…å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strict</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  &#x27;use strict&#x27;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">nested</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;And so am I!&quot;</span>; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Hi!  I&#x27;m a strict mode function!  &quot;</span> + nested();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ³¨æ„ç‚¹"><a href="#3-æ³¨æ„ç‚¹" class="headerlink" title="3. æ³¨æ„ç‚¹"></a>3. æ³¨æ„ç‚¹</h2><ol>
<li><code>&quot;use strict&quot;</code> éœ€è¦å®šä¹‰åœ¨è„šæœ¬æœ€é¡¶éƒ¨ï¼ˆå‡½æ•°å†…é™¤å¤–ï¼‰ï¼Œå¦åˆ™ä¸¥æ ¼æ¨¡å¼å¯èƒ½æ— æ³•å¯ç”¨ã€‚</li>
<li>ä¸€æ—¦è¿›å…¥äº†ä¸¥æ ¼æ¨¡å¼ï¼Œå°±æ— æ³•å…³é—­ä¸¥æ ¼æ¨¡å¼ã€‚</li>
</ol>
<h2 id="4-ä½“éªŒ"><a href="#4-ä½“éªŒ" class="headerlink" title="4. ä½“éªŒ"></a>4. ä½“éªŒ</h2><p>å¯ç”¨ <code>&quot;use strict&quot;</code> åï¼Œä¸ºæœªå®šä¹‰å…ƒç´ èµ‹å€¼å°†æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line">leo = <span class="number">17</span>; <span class="comment">// Uncaught ReferenceError: leo is not defined</span></span><br></pre></td></tr></table></figure>
<p>å¯ç”¨ <code>&quot;use strict&quot;</code> åï¼Œè¯•å›¾åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">Object</span>.prototype; <span class="comment">// Uncaught TypeError: Cannot delete property &#x27;prototype&#x27; of function Object() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>
<p>è¯¦ç»†ä»‹ç»å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">ã€ŠMDN ä¸¥æ ¼æ¨¡å¼ç« èŠ‚ ã€‹</a>ã€‚</p>
<h1 id="å››ã€å˜é‡"><a href="#å››ã€å˜é‡" class="headerlink" title="å››ã€å˜é‡"></a>å››ã€å˜é‡</h1><h2 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1. ä»‹ç»"></a>1. ä»‹ç»</h2><p>å˜é‡æ˜¯æ•°æ®çš„â€œå‘½åå­˜å‚¨â€ã€‚</p>
<h2 id="2-ä½¿ç”¨-1"><a href="#2-ä½¿ç”¨-1" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h2><p>ç›®å‰å®šä¹‰å˜é‡å¯ä»¥ä½¿ç”¨ä¸‰ç§å…³é”®å­—ï¼švar / let / constã€‚ä¸‰è€…åŒºåˆ«å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/let">ã€Šlet å’Œ const å‘½ä»¤ã€‹</a> ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;leo&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;leo&quot;</span>, age, addr;</span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;leo&quot;</span>, age = <span class="number">27</span>, addr = <span class="string">&quot;fujian&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="3-å‘½åå»ºè®®"><a href="#3-å‘½åå»ºè®®" class="headerlink" title="3. å‘½åå»ºè®®"></a>3. å‘½åå»ºè®®</h2><p>å˜é‡å‘½åæœ‰ 2 ä¸ªé™åˆ¶ï¼š</p>
<ol>
<li>å˜é‡åç§°å¿…é¡»ä»…åŒ…å«<strong>å­—æ¯ï¼Œæ•°å­—ï¼Œç¬¦å·</strong> <code>$</code> å’Œ <code>_</code>ã€‚</li>
<li>é¦–å­—ç¬¦å¿…é¡»<strong>éæ•°å­—</strong>ã€‚<br>å˜é‡å‘½åè¿˜æœ‰ä¸€äº›å»ºè®®ï¼š</li>
</ol>
<ul>
<li>å¸¸é‡ä¸€èˆ¬ç”¨å…¨å¤§å†™ï¼Œå¦‚ <code>const PI = 3.141592</code> ï¼›</li>
<li>ä½¿ç”¨æ˜“è¯»çš„å‘½åï¼Œæ¯”å¦‚ <code>userName</code> æˆ–è€… <code>shoppingCart</code>ã€‚</li>
</ul>
<h2 id="4-æ³¨æ„ç‚¹"><a href="#4-æ³¨æ„ç‚¹" class="headerlink" title="4. æ³¨æ„ç‚¹"></a>4. æ³¨æ„ç‚¹</h2><ul>
<li>JavaScript å˜é‡åç§°åŒºåˆ†å¤§å°å†™ï¼Œå¦‚å˜é‡ <code>leo</code> ä¸ <code>Leo</code> æ˜¯ä¸åŒçš„ï¼›</li>
<li>JavaScript å˜é‡åç§°å…è®¸éè‹±æ–‡å­—æ¯ï¼Œä½†ä¸æ¨èï¼Œå¦‚ <code>let å¹³å®‰ = &quot;leo&quot;</code> ï¼›</li>
<li>é¿å…ä½¿ç”¨ Â <code>a</code>ã€<code>b</code>ã€<code>c</code> è¿™ç§ç¼©å†™ã€‚</li>
</ul>
<h1 id="äº”ã€æ•°æ®ç±»å‹"><a href="#äº”ã€æ•°æ®ç±»å‹" class="headerlink" title="äº”ã€æ•°æ®ç±»å‹"></a>äº”ã€æ•°æ®ç±»å‹</h1><p>JavaScript æ˜¯ä¸€ç§<strong>å¼±ç±»å‹</strong>æˆ–è€…è¯´<strong>åŠ¨æ€è¯­è¨€</strong>ã€‚è¿™æ„å‘³ç€ä½ ä¸ç”¨æå‰å£°æ˜å˜é‡çš„ç±»å‹ï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç±»å‹ä¼šè¢«è‡ªåŠ¨ç¡®å®šã€‚è¿™ä¹Ÿæ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå˜é‡ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">42</span>;    <span class="comment">// foo is a Number now</span></span><br><span class="line">foo = <span class="string">&quot;bar&quot;</span>; <span class="comment">// foo is a String now</span></span><br><span class="line">foo = <span class="literal">true</span>;  <span class="comment">// foo is a Boolean now</span></span><br></pre></td></tr></table></figure>
<p>è¯¦ç»†ä»‹ç»å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures">ã€ŠMDN JavaScript æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„ ã€‹</a>ã€‚</p>
<h2 id="1-å…«å¤§æ•°æ®ç±»å‹"><a href="#1-å…«å¤§æ•°æ®ç±»å‹" class="headerlink" title="1. å…«å¤§æ•°æ®ç±»å‹"></a>1. å…«å¤§æ•°æ®ç±»å‹</h2><p>å‰ä¸ƒç§ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºåŸå§‹ç±»å‹ï¼ˆå€¼æœ¬èº«æ— æ³•è¢«æ”¹å˜ï¼‰ï¼Œè€Œ <code>object</code> ä¸ºå¤æ‚æ•°æ®ç±»å‹ã€‚<br>å…«å¤§æ•°æ®ç±»å‹åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>number</code> ç”¨äºä»»ä½•ç±»å‹çš„æ•°å­—ï¼šæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåœ¨ Â±2 èŒƒå›´å†…çš„æ•´æ•°ã€‚</li>
<li><code>bigint</code> ç”¨äºä»»æ„é•¿åº¦çš„æ•´æ•°ã€‚</li>
<li><code>string</code> ç”¨äºå­—ç¬¦ä¸²ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ²¡æœ‰å•ç‹¬çš„å•å­—ç¬¦ç±»å‹ã€‚</li>
<li><code>boolean</code> ç”¨äº <code>true</code> å’Œ <code>false</code>ã€‚</li>
<li><code>null</code> ç”¨äºæœªçŸ¥çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>null</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li>
<li><code>undefined</code> ç”¨äºæœªå®šä¹‰çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>undefined</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li>
<li><code>symbol</code> ç”¨äºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</li>
<li><code>object</code> ç”¨äºæ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚</li>
</ul>
<p><strong>æ¯ä¸ªç±»å‹åé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚</strong></p>
<h2 id="2-æ£€æµ‹æ•°æ®ç±»å‹"><a href="#2-æ£€æµ‹æ•°æ®ç±»å‹" class="headerlink" title="2. æ£€æµ‹æ•°æ®ç±»å‹"></a>2. æ£€æµ‹æ•°æ®ç±»å‹</h2><p>é€šè¿‡ <code>typeof</code> è¿ç®—ç¬¦æ£€æŸ¥ï¼š</p>
<ul>
<li>ä¸¤ç§å½¢å¼ï¼š<code>typeof x</code> æˆ–è€… <code>typeof(x)</code>ã€‚</li>
<li>ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›ç±»å‹åç§°ï¼Œä¾‹å¦‚ <code>&quot;string&quot;</code>ã€‚</li>
<li><code>typeof null</code> ä¼šè¿”å› <code>&quot;object&quot;</code> â€”â€” è¿™æ˜¯ JavaScript ç¼–ç¨‹è¯­è¨€çš„ä¸€ä¸ªé”™è¯¯ï¼Œå®é™…ä¸Šå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ª <code>object</code>ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;leo&quot;</span> <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>    <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">0</span>     <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span>   <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">10n</span>   <span class="comment">// &quot;bigint&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>  <span class="comment">// &quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>(<span class="string">&quot;id&quot;</span>) <span class="comment">// &quot;symbol&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]    <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>  <span class="comment">// &quot;object&quot;  (1) Math æ˜¯ä¸€ä¸ªæä¾›æ•°å­¦è¿ç®—çš„å†…å»º objectã€‚</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>  <span class="comment">// &quot;object&quot;  (2) JavaScript è¯­è¨€çš„ä¸€ä¸ªé”™è¯¯ï¼Œnull ä¸æ˜¯ä¸€ä¸ª objectã€‚null æœ‰è‡ªå·±çš„ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ã€‚</span></span><br><span class="line"><span class="keyword">typeof</span> alert <span class="comment">// &quot;function&quot;  (3) alert åœ¨ JavaScript è¯­è¨€ä¸­æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</span></span><br></pre></td></tr></table></figure>
<h1 id="å…­ã€ç±»å‹è½¬æ¢"><a href="#å…­ã€ç±»å‹è½¬æ¢" class="headerlink" title="å…­ã€ç±»å‹è½¬æ¢"></a>å…­ã€ç±»å‹è½¬æ¢</h1>JavaScript å˜é‡å¯ä»¥è½¬æ¢ä¸ºæ–°å˜é‡æˆ–å…¶ä»–æ•°æ®ç±»å‹ï¼š</li>
<li>é€šè¿‡ä½¿ç”¨ JavaScript å‡½æ•°</li>
<li>é€šè¿‡ JavaScript è‡ªèº«è‡ªåŠ¨è½¬æ¢<h2 id="1-å­—ç¬¦ä¸²è½¬æ¢"><a href="#1-å­—ç¬¦ä¸²è½¬æ¢" class="headerlink" title="1. å­—ç¬¦ä¸²è½¬æ¢"></a>1. å­—ç¬¦ä¸²è½¬æ¢</h2>é€šè¿‡å…¨å±€æ–¹æ³• <code>String()</code> Â å°†<strong>å…¶ä»–ç±»å‹æ•°æ®ï¼ˆä»»ä½•ç±»å‹çš„æ•°å­—ï¼Œå­—æ¯ï¼Œå¸ƒå°”å€¼ï¼Œå¯¹è±¡ï¼‰</strong>è½¬æ¢ä¸º String ç±»å‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="number">123</span>);   <span class="comment">// &quot;123&quot;</span></span><br><span class="line"><span class="comment">// Numberæ–¹æ³•toString()/toExponential()/toFixed()/toPrecision() ä¹Ÿæœ‰åŒæ ·æ•ˆæœã€‚</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">false</span>); <span class="comment">// &quot;false&quot;</span></span><br><span class="line"><span class="comment">// Booleanæ–¹æ³• toString() ä¹Ÿæœ‰åŒæ ·æ•ˆæœã€‚</span></span><br><span class="line"><span class="built_in">String</span>(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// &quot;Sun Jun 07 2020 21:44:20 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&quot;</span></span><br><span class="line"><span class="comment">// Dateæ–¹æ³• toString() ä¹Ÿæœ‰åŒæ ·æ•ˆæœã€‚</span></span><br><span class="line"><span class="built_in">String</span>(leo);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-æ•°å€¼è½¬æ¢"><a href="#2-æ•°å€¼è½¬æ¢" class="headerlink" title="2. æ•°å€¼è½¬æ¢"></a>2. æ•°å€¼è½¬æ¢</h2><p>é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼èƒ½å°†å…¶ä»–ç±»å‹æ•°æ®è½¬æ¢ä¸º Number ç±»å‹ï¼š</p>
<ul>
<li>ä¸€å…ƒè¿ç®—ç¬¦ <code>+</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = +<span class="string">&quot;22&quot;</span>; <span class="comment">// 22</span></span><br></pre></td></tr></table></figure></li>
<li><code>Number</code> æ–¹æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = <span class="built_in">Number</span>(<span class="string">&quot;22&quot;</span>); <span class="comment">// 22</span></span><br><span class="line"><span class="built_in">Number</span>.parseFloat(<span class="string">&quot;22&quot;</span>);  <span class="comment">// 22</span></span><br><span class="line"><span class="built_in">Number</span>.parseInt(<span class="string">&quot;22&quot;</span>);  <span class="comment">// 22</span></span><br></pre></td></tr></table></figure></li>
<li>å…¶ä»–æ–¹å¼è½¬ Number ç±»å‹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸ƒå°”å€¼</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">false</span>)     <span class="comment">// è¿”å› 0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">true</span>)      <span class="comment">// è¿”å› 1</span></span><br><span class="line"><span class="comment">// æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">Number</span>(date);     <span class="comment">// è¿”å› 1591537858154</span></span><br><span class="line">date.getTime();   <span class="comment">// è¿”å› 1591537858154ï¼Œæ•ˆæœä¸€è‡´ã€‚</span></span><br><span class="line"><span class="comment">// è‡ªåŠ¨è½¬æ¢</span></span><br><span class="line"><span class="number">5</span> + <span class="literal">null</span>    <span class="comment">// è¿”å› 5         null è½¬æ¢ä¸º 0</span></span><br><span class="line"><span class="string">&quot;5&quot;</span> + <span class="literal">null</span>  <span class="comment">// è¿”å›&quot;5null&quot;   null è½¬æ¢ä¸º &quot;null&quot;</span></span><br><span class="line"><span class="string">&quot;5&quot;</span> + <span class="number">1</span>     <span class="comment">// è¿”å› &quot;51&quot;      1 è½¬æ¢ä¸º &quot;1&quot; </span></span><br><span class="line"><span class="string">&quot;5&quot;</span> - <span class="number">1</span>     <span class="comment">// è¿”å› 4         &quot;5&quot; è½¬æ¢ä¸º 5</span></span><br></pre></td></tr></table></figure>
<h2 id="3-å¸ƒå°”å€¼è½¬æ¢"><a href="#3-å¸ƒå°”å€¼è½¬æ¢" class="headerlink" title="3. å¸ƒå°”å€¼è½¬æ¢"></a>3. å¸ƒå°”å€¼è½¬æ¢</h2>è½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š</li>
<li>ç›´è§‚ä¸Šä¸ºâ€œç©ºâ€çš„å€¼ï¼ˆå¦‚ <code>0</code>ã€ç©ºå­—ç¬¦ä¸²ã€<code>null</code>ã€<code>undefined</code> å’Œ <code>NaN</code>ï¼‰å°†å˜ä¸º <code>false</code>ã€‚</li>
<li>å…¶ä»–å€¼å˜æˆ <code>true</code>ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="number">1</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;&quot;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;0&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot; &quot;</span>); <span class="comment">// ç©ºç™½, ä¹Ÿæ˜¯ true (ä»»ä½•éç©ºå­—ç¬¦ä¸²æ˜¯ true)</span></span><br></pre></td></tr></table></figure>
<h2 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4. å°ç»“"></a>4. å°ç»“</h2><img src="http://images.pingan8787.com/JavaScript-Base/learn-2.png" alt="ç±»å‹è½¬æ¢"><h1 id="ä¸ƒã€è¿ç®—ç¬¦"><a href="#ä¸ƒã€è¿ç®—ç¬¦" class="headerlink" title="ä¸ƒã€è¿ç®—ç¬¦"></a>ä¸ƒã€è¿ç®—ç¬¦</h1><h2 id="1ã€è¿ç®—ç¬¦æ¦‚å¿µ"><a href="#1ã€è¿ç®—ç¬¦æ¦‚å¿µ" class="headerlink" title="1ã€è¿ç®—ç¬¦æ¦‚å¿µ"></a>1ã€è¿ç®—ç¬¦æ¦‚å¿µ</h2>å¸¸è§è¿ç®—ç¬¦å¦‚åŠ æ³• <code>+</code> ã€å‡æ³• <code>-</code> ã€ä¹˜æ³• <code>*</code> å’Œé™¤æ³• <code>/</code> ï¼Œä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¥ä»‹ç»ä¸€äº›æ¦‚å¿µï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="number">1</span> + <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> age = +<span class="number">18</span>;</span><br></pre></td></tr></table></figure>
å…¶ä¸­ï¼š</li>
<li>åŠ æ³•è¿ç®— <code>1 + 2</code> ä¸­ï¼Œ <code>1</code> å’Œ <code>2</code> ä¸º 2 ä¸ªè¿ç®—å…ƒï¼Œå·¦è¿ç®—å…ƒ <code>1</code> å’Œå³è¿ç®—å…ƒ <code>2</code> ï¼Œå³<strong>è¿ç®—å…ƒå°±æ˜¯è¿ç®—ç¬¦ä½œç”¨çš„å¯¹è±¡ã€‚</strong></li>
<li><code>1 + 2</code> è¿ç®—å¼ä¸­åŒ…å« 2 ä¸ªè¿ç®—å…ƒï¼Œå› æ­¤ä¹Ÿç§°è¯¥è¿ç®—å¼ä¸­çš„åŠ å· Â <code>+</code> ä¸º <strong>äºŒå…ƒè¿ç®—ç¬¦ã€‚</strong></li>
<li>åœ¨ <code>+18</code> ä¸­çš„åŠ å· <code>+</code> å¯¹åº”åªæœ‰ä¸€ä¸ªè¿ç®—å…ƒï¼Œåˆ™å®ƒæ˜¯ <strong>ä¸€å…ƒè¿ç®—ç¬¦</strong> ã€‚</li>
</ul>
<h2 id="2ã€-å·è¿ç®—ç¬¦"><a href="#2ã€-å·è¿ç®—ç¬¦" class="headerlink" title="2ã€+ å·è¿ç®—ç¬¦"></a>2ã€+ å·è¿ç®—ç¬¦</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> msg = <span class="string">&quot;hello &quot;</span> + <span class="string">&quot;leo&quot;</span>; <span class="comment">// &quot;hello leo&quot;</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">10</span> + <span class="number">20</span>;  <span class="comment">// 30</span></span><br><span class="line"><span class="keyword">let</span> text1 = <span class="string">&quot;1&quot;</span> + <span class="string">&quot;2&quot;</span>; <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="keyword">let</span> text2 = <span class="string">&quot;1&quot;</span> + <span class="number">2</span>;   <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="keyword">let</span> text3 = <span class="number">1</span> + <span class="string">&quot;2&quot;</span>;   <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="keyword">let</span> text4 = <span class="number">1</span> + <span class="number">2</span> + <span class="string">&quot;3&quot;</span>;  <span class="comment">// &quot;33&quot;</span></span><br><span class="line"><span class="keyword">let</span> num = +text1; <span class="comment">//  12 è½¬æ¢ä¸º Number ç±»å‹</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€è¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#3ã€è¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="3ã€è¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>3ã€è¿ç®—ç¬¦ä¼˜å…ˆçº§</h2><p>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å†³å®šäº†è¡¨è¾¾å¼ä¸­è¿ç®—æ‰§è¡Œçš„å…ˆåé¡ºåºï¼Œä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦æœ€å…ˆè¢«æ‰§è¡Œã€‚<br>ä¸‹é¢çš„è¡¨å°†æ‰€æœ‰è¿ç®—ç¬¦æŒ‰ç…§ä¼˜å…ˆçº§çš„ä¸åŒä»é«˜ï¼ˆ20ï¼‰åˆ°ä½ï¼ˆ1ï¼‰æ’åˆ—ã€‚<br>| ä¼˜å…ˆçº§ | è¿ç®—ç±»å‹ | å…³è”æ€§ | è¿ç®—ç¬¦ |<br>| :â€” | :â€” | :â€” | :â€” |<br>| 20 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Grouping"><code>åœ†æ‹¬å·</code></a> | n/aï¼ˆä¸ç›¸å…³ï¼‰ | <code>( â€¦ )</code> |<br>| 19 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_Accessors#%E7%82%B9%E7%AC%A6%E5%8F%B7%E8%A1%A8%E7%A4%BA%E6%B3%95"><code>æˆå‘˜è®¿é—®</code></a> | ä»å·¦åˆ°å³ | <code>â€¦ . â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_Accessors#%E6%8B%AC%E5%8F%B7%E8%A1%A8%E7%A4%BA%E6%B3%95"><code>éœ€è®¡ç®—çš„æˆå‘˜è®¿é—®</code></a> | ä»å·¦åˆ°å³ | <code>â€¦ [ â€¦ ]</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new"><code>new</code></a> (å¸¦å‚æ•°åˆ—è¡¨) | n/a | <code>new â€¦ ( â€¦ )</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions">å‡½æ•°è°ƒç”¨</a> | ä»å·¦åˆ°å³ | <code>â€¦ (Â â€¦Â )</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Optional_chaining">å¯é€‰é“¾ï¼ˆOptional chainingï¼‰</a> | ä»å·¦åˆ°å³ | <code>?.</code> |<br>| 18 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new">new</a> (æ— å‚æ•°åˆ—è¡¨) | ä»å³åˆ°å·¦ | <code>new â€¦</code> |<br>| 17 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Increment">åç½®é€’å¢</a>(è¿ç®—ç¬¦åœ¨å) | n/a<br> | <code>â€¦ ++</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Decrement">åç½®é€’å‡</a>(è¿ç®—ç¬¦åœ¨å) |  | <code>â€¦ --</code> |<br>| 16 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_NOT">é€»è¾‘é</a> | ä»å³åˆ°å·¦ | <code>! â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_NOT">æŒ‰ä½é</a> |  | <code>~ â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Unary_plus">ä¸€å…ƒåŠ æ³•</a> |  | <code>+ â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Unary_negation">ä¸€å…ƒå‡æ³•</a> |  | <code>- â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Increment">å‰ç½®é€’å¢</a> |  | <code>++ â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Decrement">å‰ç½®é€’å‡</a> |  | <code>-- â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof">typeof</a> |  | <code>typeof â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/void">void</a> |  | <code>void â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete">delete</a> |  | <code>delete â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await">await</a> |  | <code>await â€¦</code> |<br>| 15 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Exponentiation">å¹‚</a> | ä»å³åˆ°å·¦ | <code>â€¦Â **Â â€¦</code> |<br>| 14 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Multiplication">ä¹˜æ³•</a> | ä»å·¦åˆ°å³<br> | <code>â€¦ *Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Division">é™¤æ³•</a> |  | <code>â€¦ /Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Remainder">å–æ¨¡</a> |  | <code>â€¦ %Â â€¦</code> |<br>| 13 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Addition">åŠ æ³•</a> | ä»å·¦åˆ°å³<br> | <code>â€¦ +Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Subtraction">å‡æ³•</a> |  | <code>â€¦ -Â â€¦</code> |<br>| 12 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators">æŒ‰ä½å·¦ç§»</a> | ä»å·¦åˆ°å³ | <code>â€¦ &lt;&lt;Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators">æŒ‰ä½å³ç§»</a> |  | <code>â€¦ &gt;&gt;Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators">æ— ç¬¦å·å³ç§»</a> |  | <code>â€¦ &gt;&gt;&gt;Â â€¦</code> |<br>| 11 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Less_than_operator">å°äº</a> | ä»å·¦åˆ°å³ | <code>â€¦ &lt;Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Less_than__or_equal_operator">å°äºç­‰äº</a> |  | <code>â€¦ &lt;=Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Greater_than_operator">å¤§äº</a> |  | <code>â€¦ &gt;Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Greater_than_or_equal_operator">å¤§äºç­‰äº</a> |  | <code>â€¦ &gt;=Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/in">in</a> |  | <code>â€¦ inÂ â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof</a> |  | <code>â€¦ instanceofÂ â€¦</code> |<br>| 10 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality">ç­‰å·</a> | ä»å·¦åˆ°å³<br> | <code>â€¦ ==Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Inequality">éç­‰å·</a> |  | <code>â€¦ !=Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Identity">å…¨ç­‰å·</a> |  | <code>â€¦ ===Â â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Nonidentity">éå…¨ç­‰å·</a> |  | <code>â€¦ !==Â â€¦</code> |<br>| 9 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_AND">æŒ‰ä½ä¸</a> | ä»å·¦åˆ°å³ | <code>â€¦ &amp;Â â€¦</code> |<br>| 8 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_XOR">æŒ‰ä½å¼‚æˆ–</a> | ä»å·¦åˆ°å³ | <code>â€¦ ^Â â€¦</code> |<br>| 7 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_OR">æŒ‰ä½æˆ–</a> | ä»å·¦åˆ°å³ | <code>â€¦ |Â â€¦</code> |<br>| 6 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_AND">é€»è¾‘ä¸</a> | ä»å·¦åˆ°å³ | <code>â€¦ &amp;&amp;Â â€¦</code> |<br>| 5 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_OR">é€»è¾‘æˆ–</a> | ä»å·¦åˆ°å³ | <code>â€¦ ||Â â€¦</code> |<br>| 4 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">æ¡ä»¶è¿ç®—ç¬¦</a> | ä»å³åˆ°å·¦ | <code>â€¦ ? â€¦ : â€¦</code> |<br>| 3 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Assignment_Operators">èµ‹å€¼</a> | ä»å³åˆ°å·¦ | <code>â€¦ =Â â€¦</code> |<br>|  |  |  | <code>â€¦ +=Â â€¦</code> |<br>|  |  |  | <code>â€¦ -=Â â€¦</code> |<br>|  |  |  | <code>â€¦ *=Â â€¦</code> |<br>|  |  |  | <code>â€¦ /=Â â€¦</code> |<br>|  |  |  | <code>â€¦ %=Â â€¦</code> |<br>|  |  |  | <code>â€¦ &lt;&lt;=Â â€¦</code> |<br>|  |  |  | <code>â€¦ &gt;&gt;=Â â€¦</code> |<br>|  |  |  | <code>â€¦ &gt;&gt;&gt;=Â â€¦</code> |<br>|  |  |  | <code>â€¦ &amp;=Â â€¦</code> |<br>|  |  |  | <code>â€¦ ^=Â â€¦</code> |<br>|  |  |  | <code>â€¦ |=Â â€¦</code> |<br>| 2 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield">yield</a> | ä»å³åˆ°å·¦ | <code>yieldÂ â€¦</code> |<br>|  | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield*">yield*</a> |  | <code>yield*Â â€¦</code> |<br>| 1 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_operator">å±•å¼€è¿ç®—ç¬¦</a> | n/a | <code>...</code> â€¦ |<br>| 0 | <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comma_Operator">é€—å·</a> | ä»å·¦åˆ°å³ | <code>â€¦ ,Â â€¦</code> |</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> &gt; <span class="number">2</span> &amp;&amp; <span class="number">2</span> &gt; <span class="number">1</span></span><br><span class="line"><span class="comment">// return true</span></span><br><span class="line"><span class="number">3</span> &gt; <span class="number">2</span> &gt; <span class="number">1</span></span><br><span class="line"><span class="comment">// è¿”å› falseï¼Œå› ä¸º 3 &gt; 2 æ˜¯ trueï¼Œå¹¶ä¸” true &gt; 1 is false</span></span><br><span class="line"><span class="comment">// åŠ æ‹¬å·å¯ä»¥æ›´æ¸…æ¥šï¼š(3 &gt; 2) &gt; 1</span></span><br></pre></td></tr></table></figure>

<h1 id="å…«ã€å€¼çš„æ¯”è¾ƒ"><a href="#å…«ã€å€¼çš„æ¯”è¾ƒ" class="headerlink" title="å…«ã€å€¼çš„æ¯”è¾ƒ"></a>å…«ã€å€¼çš„æ¯”è¾ƒ</h1><h2 id="1-å¸¸è§æ¯”è¾ƒ"><a href="#1-å¸¸è§æ¯”è¾ƒ" class="headerlink" title="1. å¸¸è§æ¯”è¾ƒ"></a>1. å¸¸è§æ¯”è¾ƒ</h2><p>åœ¨ JS ä¸­çš„å€¼çš„æ¯”è¾ƒä¸æ•°å­¦å¾ˆç±»å‹ï¼š</p>
<ul>
<li>å¤§äº/å°äº/å¤§äºç­‰äº/å°äºç­‰äºï¼š <code>a&gt;b</code> / <code>a&lt;b</code> / <code>a&gt;=b</code> / <code>a&lt;=b</code> ï¼›</li>
<li>åˆ¤æ–­ç›¸ç­‰ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ ==ï¼Œéä¸¥æ ¼ç­‰äºï¼Œä¸å…³å¿ƒå€¼ç±»å‹</span></span><br><span class="line"><span class="comment">// == è¿ç®—ç¬¦ä¼šå¯¹æ¯”è¾ƒçš„æ“ä½œæ•°åšéšå¼ç±»å‹è½¬æ¢ï¼Œå†æ¯”è¾ƒ</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> == <span class="number">1</span>; <span class="comment">// true</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ ===ï¼Œä¸¥æ ¼ç›¸ç­‰ï¼Œå…³å¿ƒå€¼ç±»å‹</span></span><br><span class="line"><span class="comment">// å°†æ•°å­—å€¼ -0 å’Œ +0 è§†ä¸ºç›¸ç­‰ï¼Œå¹¶è®¤ä¸º Number.NaN ä¸ç­‰äº NaNã€‚</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> === <span class="number">1</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<img src="http://images.pingan8787.com/JavaScript-Base/learn-3.png" alt="å€¼çš„æ¯”è¾ƒ"><br>ï¼ˆå›¾ç‰‡æ¥è‡ªï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness">ã€ŠMDN JavaScript ä¸­çš„ç›¸ç­‰æ€§åˆ¤æ–­ã€‹</a>ï¼‰</li>
<li>åˆ¤æ–­ä¸ç›¸ç­‰ï¼š<br>å’Œåˆ¤æ–­ç›¸ç­‰ä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸¤ç§ï¼š <code>!=</code> / <code>!==</code> ã€‚<h2 id="2-ç›¸ç­‰æ€§åˆ¤æ–­ï¼ˆObject-is-ï¼‰"><a href="#2-ç›¸ç­‰æ€§åˆ¤æ–­ï¼ˆObject-is-ï¼‰" class="headerlink" title="2. ç›¸ç­‰æ€§åˆ¤æ–­ï¼ˆObject.is()ï¼‰"></a>2. ç›¸ç­‰æ€§åˆ¤æ–­ï¼ˆObject.is()ï¼‰</h2>å¦å¤– ES6 æ–°å¢ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is">Object.is</a> æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒï¼Œè¯­æ³•å¦‚ä¸‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.is(value1, value2);</span><br></pre></td></tr></table></figure>
ä»¥ä¸‹ä»»æ„é¡¹æˆç«‹åˆ™ä¸¤ä¸ªå€¼ç›¸åŒï¼š</li>
<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a></li>
<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a></li>
<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <code>true</code> æˆ–è€…éƒ½æ˜¯ <code>false</code></li>
<li>ä¸¤ä¸ªå€¼æ˜¯ç”±ç›¸åŒä¸ªæ•°çš„å­—ç¬¦æŒ‰ç…§ç›¸åŒçš„é¡ºåºç»„æˆçš„å­—ç¬¦ä¸²</li>
<li>ä¸¤ä¸ªå€¼æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>
<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯æ•°å­—å¹¶ä¸”<ul>
<li>éƒ½æ˜¯æ­£é›¶ <code>+0</code></li>
<li>éƒ½æ˜¯è´Ÿé›¶ <code>-0</code></li>
<li>éƒ½æ˜¯ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN"><code>NaN</code></a></li>
<li>éƒ½æ˜¯é™¤é›¶å’Œ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN"><code>NaN</code></a> å¤–çš„å…¶å®ƒåŒä¸€ä¸ªæ•°å­—<br>ä½¿ç”¨ç¤ºä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.is(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="built_in">window</span>, <span class="built_in">window</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is([], []);           <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> foo = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.is(foo, foo);         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(foo, bar);         <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">null</span>, <span class="literal">null</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="comment">// ç‰¹ä¾‹</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">0</span>, -<span class="number">0</span>);            <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">0</span>, +<span class="number">0</span>);            <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(-<span class="number">0</span>, -<span class="number">0</span>);           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="number">0</span>/<span class="number">0</span>);         <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
å…¼å®¹æ€§ Polyfill å¤„ç†ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Object</span>.is) &#123;</span><br><span class="line">  <span class="built_in">Object</span>.is = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// SameValue algorithm</span></span><br><span class="line">    <span class="keyword">if</span> (x === y) &#123; <span class="comment">// Steps 1-5, 7-10</span></span><br><span class="line">      <span class="comment">// Steps 6.b-6.e: +0 != -0</span></span><br><span class="line">      <span class="keyword">return</span> x !== <span class="number">0</span> || <span class="number">1</span> / x === <span class="number">1</span> / y;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Step 6.a: NaN == NaN</span></span><br><span class="line">      <span class="keyword">return</span> x !== x &amp;&amp; y !== y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-null-ä¸-undefined-æ¯”è¾ƒ"><a href="#3-null-ä¸-undefined-æ¯”è¾ƒ" class="headerlink" title="3. null ä¸ undefined æ¯”è¾ƒ"></a>3. null ä¸ undefined æ¯”è¾ƒ</h2>å¯¹äºç›¸ç­‰æ€§åˆ¤æ–­æ¯”è¾ƒç®€å•ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>;  <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
å¯¹äºå…¶ä»–æ¯”è¾ƒï¼Œå®ƒä»¬ä¼šå…ˆè½¬æ¢ä½æ•°å­—ï¼š<br><code>null</code> è½¬æ¢ä¸º <code>0</code> ï¼Œ <code>undefied</code> è½¬æ¢ä¸º <code>NaN</code> ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> &gt; <span class="number">0</span>;  <span class="comment">// false 1</span></span><br><span class="line"><span class="literal">null</span> &gt;= <span class="number">0</span>; <span class="comment">// true  2</span></span><br><span class="line"><span class="literal">null</span> == <span class="number">0</span>; <span class="comment">// false 3</span></span><br><span class="line"><span class="literal">null</span> &lt; <span class="number">1</span>;  <span class="comment">// true  4</span></span><br></pre></td></tr></table></figure>
éœ€è¦æ³¨æ„ï¼š<br><code>null == 0; // false</code> è¿™é‡Œæ˜¯å› ä¸ºï¼š<code>undefined</code> å’Œ <code>null</code> åœ¨ç›¸ç­‰æ€§æ£€æŸ¥ <code>==</code> ä¸­<strong>ä¸ä¼šè¿›è¡Œä»»ä½•çš„ç±»å‹è½¬æ¢</strong>ï¼Œå®ƒä»¬æœ‰è‡ªå·±ç‹¬ç«‹çš„æ¯”è¾ƒè§„åˆ™ï¼Œæ‰€ä»¥é™¤äº†å®ƒä»¬ä¹‹é—´äº’ç­‰å¤–ï¼Œä¸ä¼šç­‰äºä»»ä½•å…¶ä»–çš„å€¼ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span> &gt; <span class="number">0</span>;  <span class="comment">// false  1</span></span><br><span class="line"><span class="literal">undefined</span> &gt; <span class="number">1</span>;  <span class="comment">// false  2</span></span><br><span class="line"><span class="literal">undefined</span> == <span class="number">0</span>; <span class="comment">// false  3</span></span><br></pre></td></tr></table></figure>
ç¬¬ 1ã€2 è¡Œéƒ½è¿”å› <code>false</code> æ˜¯å› ä¸º <code>undefined</code> åœ¨æ¯”è¾ƒä¸­è¢«è½¬æ¢ä¸ºäº† <code>NaN</code>ï¼Œè€Œ <code>NaN</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ•°å€¼å‹å€¼ï¼Œå®ƒä¸ä»»ä½•å€¼è¿›è¡Œæ¯”è¾ƒéƒ½ä¼šè¿”å› <code>false</code>ã€‚<br>ç¬¬ 3 è¡Œè¿”å› <code>false</code> æ˜¯å› ä¸ºè¿™æ˜¯ä¸€ä¸ªç›¸ç­‰æ€§æ£€æŸ¥ï¼Œè€Œ <code>undefined</code> åªä¸ <code>null</code> ç›¸ç­‰ï¼Œä¸ä¼šä¸å…¶ä»–å€¼ç›¸ç­‰ã€‚<h1 id="ä¹ã€alert-prompt-confirm"><a href="#ä¹ã€alert-prompt-confirm" class="headerlink" title="ä¹ã€alert / prompt / confirm"></a>ä¹ã€alert / prompt / confirm</h1><h2 id="1-alert"><a href="#1-alert" class="headerlink" title="1. alert"></a>1. alert</h2>æ˜¾ç¤ºä¸€ä¸ªè­¦å‘Šå¯¹è¯æ¡†ï¼Œä¸Šé¢æ˜¾ç¤ºæœ‰æŒ‡å®šçš„æ–‡æœ¬å†…å®¹ä»¥åŠä¸€ä¸ªâ€œç¡®å®šâ€æŒ‰é’®ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„ï¼šå¼¹å‡ºæ¨¡æ€æ¡†ï¼Œå¹¶æš‚åœè„šæœ¬ï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•</span></span><br><span class="line"><span class="built_in">window</span>.alert(message);</span><br><span class="line">alert(message);</span><br><span class="line"><span class="comment">// ç¤ºä¾‹</span></span><br><span class="line">alert(<span class="string">&#x27;hello leo!&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><code>message</code>æ˜¯è¦æ˜¾ç¤ºåœ¨å¯¹è¯æ¡†ä¸­çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œå¦‚æœä¼ å…¥å…¶ä»–ç±»å‹çš„å€¼,ä¼šè½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</p>
<h2 id="2-prompt"><a href="#2-prompt" class="headerlink" title="2. prompt"></a>2. prompt</h2><p>æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå¯¹è¯æ¡†ä¸­åŒ…å«ä¸€æ¡æ–‡å­—ä¿¡æ¯ï¼Œç”¨æ¥æç¤ºç”¨æˆ·è¾“å…¥æ–‡å­—ã€‚<br><strong>æ³¨æ„ï¼šå¼¹å‡ºæ¨¡æ€æ¡†ï¼Œå¹¶æš‚åœè„šæœ¬ï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚</strong><br>å½“ç‚¹å‡»ç¡®å®šè¿”å›æ–‡æœ¬ï¼Œç‚¹å‡»å–æ¶ˆæˆ–æŒ‰ä¸‹ Esc é”®è¿”å› <code>null</code>ã€‚<br>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="built_in">window</span>.prompt(text, value);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>result</code> ç”¨æ¥å­˜å‚¨ç”¨æˆ·è¾“å…¥æ–‡å­—çš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ nullã€‚</li>
<li><code>text</code> ç”¨æ¥æç¤ºç”¨æˆ·è¾“å…¥æ–‡å­—çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æç¤ºå†…å®¹ï¼Œè¯¥å‚æ•°å¯ä»¥çœç•¥ä¸å†™ã€‚</li>
<li><code>value</code> æ–‡æœ¬è¾“å…¥æ¡†ä¸­çš„é»˜è®¤å€¼ï¼Œè¯¥å‚æ•°ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ã€‚ä¸è¿‡åœ¨ Internet Explorer 7 å’Œ 8 ä¸­ï¼Œçœç•¥è¯¥å‚æ•°ä¼šå¯¼è‡´è¾“å…¥æ¡†ä¸­æ˜¾ç¤ºé»˜è®¤å€¼â€undefinedâ€ã€‚</li>
</ul>
<h2 id="3-confirm"><a href="#3-confirm" class="headerlink" title="3. confirm"></a>3. confirm</h2><p><code>Window.confirm()</code> æ–¹æ³•æ˜¾ç¤ºä¸€ä¸ªå…·æœ‰ä¸€ä¸ªå¯é€‰æ¶ˆæ¯å’Œä¸¤ä¸ªæŒ‰é’®(ç¡®å®šå’Œå–æ¶ˆ)çš„æ¨¡æ€å¯¹è¯æ¡†ã€‚<br><strong>æ³¨æ„ï¼šå¼¹å‡ºæ¨¡æ€æ¡†ï¼Œå¹¶æš‚åœè„šæœ¬ï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚</strong><br>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="built_in">window</span>.confirm(message);</span><br></pre></td></tr></table></figure>
<ul>
<li>message æ˜¯è¦åœ¨å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„å¯é€‰å­—ç¬¦ä¸²ã€‚</li>
<li>result æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯é€‰æ‹©ç¡®å®šè¿˜æ˜¯å–æ¶ˆ (trueè¡¨ç¤ºOK)ã€‚</li>
</ul>
<h1 id="åã€æ¡ä»¶è¿ç®—ç¬¦ï¼šif-å’Œ-â€˜-â€™"><a href="#åã€æ¡ä»¶è¿ç®—ç¬¦ï¼šif-å’Œ-â€˜-â€™" class="headerlink" title="åã€æ¡ä»¶è¿ç®—ç¬¦ï¼šif å’Œ â€˜?â€™"></a>åã€æ¡ä»¶è¿ç®—ç¬¦ï¼šif å’Œ â€˜?â€™</h1><h2 id="1-if-è¯­å¥"><a href="#1-if-è¯­å¥" class="headerlink" title="1. if è¯­å¥"></a>1. if è¯­å¥</h2><p>å½“ if è¯­å¥å½“æ¡ä»¶è¡¨è¾¾å¼ï¼Œä¼šå°†è¡¨è¾¾å¼è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œå½“ä¸º truthy æ—¶æ‰§è¡Œé‡Œé¢ä»£ç ã€‚<br>è½¬æ¢è§„åˆ™å¦‚ï¼š</p>
<ul>
<li>æ•°å­— <code>0</code>ã€ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>ã€<code>null</code>ã€<code>undefined</code> å’Œ <code>NaN</code> éƒ½ä¼šè¢«è½¬æ¢æˆ <code>false</code>ã€‚å› ä¸ºä»–ä»¬è¢«ç§°ä¸º â€œfalsyâ€ å€¼ã€‚</li>
<li>å…¶ä»–å€¼è¢«è½¬æ¢ä¸º <code>true</code>ï¼Œæ‰€ä»¥å®ƒä»¬è¢«ç§°ä¸º â€œtruthyâ€ã€‚<h2 id="2-ä¸‰å…ƒè¿ç®—ç¬¦"><a href="#2-ä¸‰å…ƒè¿ç®—ç¬¦" class="headerlink" title="2. ä¸‰å…ƒè¿ç®—ç¬¦"></a>2. ä¸‰å…ƒè¿ç®—ç¬¦</h2></li>
</ul>
<p><strong>æ¡ä»¶ï¼ˆä¸‰å…ƒï¼‰è¿ç®—ç¬¦</strong>æ˜¯ JavaScript ä»…æœ‰çš„ä½¿ç”¨ä¸‰ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ã€‚ä¸€ä¸ªæ¡ä»¶åé¢ä¼šè·Ÿä¸€ä¸ªé—®å·ï¼ˆ?ï¼‰ï¼Œå¦‚æœæ¡ä»¶ä¸º <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">truthy</a> ï¼Œåˆ™é—®å·åé¢çš„è¡¨è¾¾å¼Aå°†ä¼šæ‰§è¡Œï¼›è¡¨è¾¾å¼Aåé¢è·Ÿç€ä¸€ä¸ªå†’å·ï¼ˆ:ï¼‰ï¼Œå¦‚æœæ¡ä»¶ä¸º <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">falsy</a> ï¼Œåˆ™å†’å·åé¢çš„è¡¨è¾¾å¼Bå°†ä¼šæ‰§è¡Œã€‚æœ¬è¿ç®—ç¬¦ç»å¸¸ä½œä¸º <code>[if](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else)</code> è¯­å¥çš„ç®€æ·å½¢å¼æ¥ä½¿ç”¨ã€‚<br>è¯­æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">condition ? exprIfTrue : exprIfFalse</span><br></pre></td></tr></table></figure>
<ul>
<li>condition<br>è®¡ç®—ç»“æœç”¨ä½œæ¡ä»¶çš„è¡¨è¾¾å¼ã€‚</li>
<li>exprIfTrue<br>å¦‚æœè¡¨è¾¾å¼ condition çš„è®¡ç®—ç»“æœæ˜¯ truthyï¼ˆå®ƒå’Œ true ç›¸ç­‰æˆ–è€…å¯ä»¥è½¬æ¢æˆ true ï¼‰ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼ exprIfTrue å°†ä¼šè¢«æ±‚å€¼ã€‚</li>
<li>exprIfFalse<br>å¦‚æœè¡¨è¾¾å¼ condition çš„è®¡ç®—ç»“æœæ˜¯ falsyï¼ˆå®ƒå¯ä»¥è½¬æ¢æˆ false ï¼‰ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼ exprIfFalse å°†ä¼šè¢«æ‰§è¡Œã€‚<br>ç¤ºä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> name === <span class="string">&#x27;leo&#x27;</span> ? <span class="string">&#x27;hello leo!&#x27;</span> : <span class="string">&#x27;unknow user&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯ä»¥ç®€å†™å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="params">name</span> =&gt;</span> name === <span class="string">&#x27;leo&#x27;</span> ? <span class="string">&#x27;hello leo!&#x27;</span> : <span class="string">&#x27;unknow user&#x27;</span>;</span><br><span class="line">getUser(<span class="string">&#x27;leo&#x27;</span>); <span class="comment">// &quot;hello leo!&quot;</span></span><br><span class="line">getUser(<span class="string">&#x27;pingan&#x27;</span>); <span class="comment">// &quot;unknow user&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="åä¸€ã€é€»è¾‘è¿ç®—ç¬¦"><a href="#åä¸€ã€é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="åä¸€ã€é€»è¾‘è¿ç®—ç¬¦"></a>åä¸€ã€é€»è¾‘è¿ç®—ç¬¦</h1><p>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_Operators">ã€ŠMDN é€»è¾‘è¿ç®—ç¬¦ã€‹</a> ã€‚</p>
<h2 id="1-è¿ç®—ç¬¦ä»‹ç»"><a href="#1-è¿ç®—ç¬¦ä»‹ç»" class="headerlink" title="1. è¿ç®—ç¬¦ä»‹ç»"></a>1. è¿ç®—ç¬¦ä»‹ç»</h2><p>é€»è¾‘è¿ç®—ç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤º (å…¶ä¸­<code>_expr_</code>å¯èƒ½æ˜¯ä»»ä½•ä¸€ç§<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Data_structure">ç±»å‹</a>, ä¸ä¸€å®šæ˜¯å¸ƒå°”å€¼):<br>| è¿ç®—ç¬¦ | è¯­æ³• | è¯´æ˜ |<br>| :â€” | :â€” | :â€” |<br>| é€»è¾‘ä¸ï¼ŒANDï¼ˆ<code>&amp;&amp;</code>ï¼‰ | <code>_expr1_ &amp;&amp; _expr2_</code> | è‹¥ <code>expr**1**</code> å¯è½¬æ¢ä¸º <code>true</code>ï¼Œåˆ™è¿”å› <code>expr**2**</code>ï¼›å¦åˆ™ï¼Œè¿”å› <code>expr**1**</code>ã€‚ |<br>| é€»è¾‘æˆ–ï¼ŒORï¼ˆ<code>||</code>ï¼‰ | <code>_expr1_ || _expr2_</code> | è‹¥ <code>expr**1**</code> å¯è½¬æ¢ä¸º <code>true</code>ï¼Œåˆ™è¿”å› <code>expr**1**</code>ï¼›å¦åˆ™ï¼Œè¿”å› <code>expr**2**</code>ã€‚ |<br>| é€»è¾‘éï¼ŒNOTï¼ˆ<code>!</code>ï¼‰ | <code>!_expr_</code> | è‹¥ <code>expr</code> å¯è½¬æ¢ä¸º <code>true</code>ï¼Œåˆ™è¿”å› <code>false</code>ï¼›å¦åˆ™ï¼Œè¿”å› <code>true</code>ã€‚ |<br>å¦‚æœä¸€ä¸ªå€¼å¯ä»¥è¢«è½¬æ¢ä¸º <code>true</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±æ˜¯æ‰€è°“çš„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">truthy</a>ï¼Œå¦‚æœå¯ä»¥è¢«è½¬æ¢ä¸º <code>false</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±æ˜¯æ‰€è°“çš„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">falsy</a>ã€‚<br>ä¼šè¢«è½¬æ¢ä¸º <code>false</code> çš„è¡¨è¾¾å¼æœ‰ï¼š</p>
<ul>
<li><code>null</code>ï¼›</li>
<li><code>NaN</code>ï¼›</li>
<li><code>0</code>ï¼›</li>
<li>ç©ºå­—ç¬¦ä¸²ï¼ˆ<code>&quot;&quot;</code> or <code>&#39;&#39;</code> or ````ï¼‰ï¼›</li>
<li><code>undefined</code>ã€‚<br>å°½ç®¡ <code>&amp;&amp;</code> å’Œ <code>||</code> è¿ç®—ç¬¦èƒ½å¤Ÿä½¿ç”¨éå¸ƒå°”å€¼çš„æ“ä½œæ•°, ä½†å®ƒä»¬ä¾ç„¶å¯ä»¥è¢«çœ‹ä½œæ˜¯å¸ƒå°”æ“ä½œç¬¦ï¼Œå› ä¸ºå®ƒä»¬çš„è¿”å›å€¼æ€»æ˜¯èƒ½å¤Ÿè¢«è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚å¦‚æœè¦æ˜¾å¼åœ°å°†å®ƒä»¬çš„è¿”å›å€¼ï¼ˆæˆ–è€…è¡¨è¾¾å¼ï¼‰è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œè¯·ä½¿ç”¨<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_Operators#%E9%80%BB%E8%BE%91%E9%9D%9E%EF%BC%88!%EF%BC%89">åŒé‡éè¿ç®—ç¬¦</a>ï¼ˆå³<code>!!</code>ï¼‰æˆ–è€…<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>æ„é€ å‡½æ•°ã€‚<br>JavaScript é‡Œæœ‰ä¸‰ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼š<code>||</code>ï¼ˆæˆ–ï¼‰ï¼Œ<code>&amp;&amp;</code>ï¼ˆä¸ï¼‰ï¼Œ<code>!</code>ï¼ˆéï¼‰ã€‚</li>
</ul>
<h2 id="2-è¿ç®—ç¬¦ç¤ºä¾‹"><a href="#2-è¿ç®—ç¬¦ç¤ºä¾‹" class="headerlink" title="2. è¿ç®—ç¬¦ç¤ºä¾‹"></a>2. è¿ç®—ç¬¦ç¤ºä¾‹</h2><ul>
<li>é€»è¾‘ä¸ï¼ˆ&amp;&amp;ï¼‰<br>æ‰€æœ‰æ¡ä»¶éƒ½ä¸º true æ‰è¿”å› trueï¼Œå¦åˆ™ä¸º falseã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a1 = <span class="literal">true</span>  &amp;&amp; <span class="literal">true</span>      <span class="comment">// t &amp;&amp; t è¿”å› true</span></span><br><span class="line">a2 = <span class="literal">true</span>  &amp;&amp; <span class="literal">false</span>     <span class="comment">// t &amp;&amp; f è¿”å› false</span></span><br><span class="line">a3 = <span class="literal">false</span> &amp;&amp; <span class="literal">true</span>      <span class="comment">// f &amp;&amp; t è¿”å› false</span></span><br><span class="line">a4 = <span class="literal">false</span> &amp;&amp; (<span class="number">3</span> == <span class="number">4</span>)  <span class="comment">// f &amp;&amp; f è¿”å› false</span></span><br><span class="line">a5 = <span class="string">&quot;Cat&quot;</span> &amp;&amp; <span class="string">&quot;Dog&quot;</span>     <span class="comment">// t &amp;&amp; t è¿”å› &quot;Dog&quot;</span></span><br><span class="line">a6 = <span class="literal">false</span> &amp;&amp; <span class="string">&quot;Cat&quot;</span>     <span class="comment">// f &amp;&amp; t è¿”å› false</span></span><br><span class="line">a7 = <span class="string">&quot;Cat&quot;</span> &amp;&amp; <span class="literal">false</span>     <span class="comment">// t &amp;&amp; f è¿”å› false</span></span><br><span class="line">a8 = <span class="string">&#x27;&#x27;</span>    &amp;&amp; <span class="literal">false</span>     <span class="comment">// f &amp;&amp; f è¿”å› &quot;&quot;</span></span><br><span class="line">a9 = <span class="literal">false</span> &amp;&amp; <span class="string">&#x27;&#x27;</span>        <span class="comment">// f &amp;&amp; f è¿”å› false</span></span><br></pre></td></tr></table></figure></li>
<li>é€»è¾‘æˆ–ï¼ˆ || ï¼‰<br>æ‰€æœ‰æ¡ä»¶æœ‰ä¸€ä¸ªä¸º true åˆ™è¿”å› trueï¼Œå¦åˆ™ä¸º falseã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">o1 = <span class="literal">true</span>  || <span class="literal">true</span>      <span class="comment">// t || t è¿”å› true</span></span><br><span class="line">o2 = <span class="literal">false</span> || <span class="literal">true</span>      <span class="comment">// f || t è¿”å› true</span></span><br><span class="line">o3 = <span class="literal">true</span>  || <span class="literal">false</span>     <span class="comment">// t || f è¿”å› true</span></span><br><span class="line">o4 = <span class="literal">false</span> || (<span class="number">3</span> == <span class="number">4</span>)  <span class="comment">// f || f è¿”å› false</span></span><br><span class="line">o5 = <span class="string">&quot;Cat&quot;</span> || <span class="string">&quot;Dog&quot;</span>     <span class="comment">// t || t è¿”å› &quot;Cat&quot;</span></span><br><span class="line">o6 = <span class="literal">false</span> || <span class="string">&quot;Cat&quot;</span>     <span class="comment">// f || t è¿”å› &quot;Cat&quot;</span></span><br><span class="line">o7 = <span class="string">&quot;Cat&quot;</span> || <span class="literal">false</span>     <span class="comment">// t || f è¿”å› &quot;Cat&quot;</span></span><br><span class="line">o8 = <span class="string">&#x27;&#x27;</span>    || <span class="literal">false</span>     <span class="comment">// f || f è¿”å› false</span></span><br><span class="line">o9 = <span class="literal">false</span> || <span class="string">&#x27;&#x27;</span>        <span class="comment">// f || f è¿”å› &quot;&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>é€»è¾‘éï¼ˆ ! ï¼‰<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n1 = !<span class="literal">true</span>              <span class="comment">// !t è¿”å› false</span></span><br><span class="line">n2 = !<span class="literal">false</span>             <span class="comment">// !f è¿”å› true</span></span><br><span class="line">n3 = !<span class="string">&#x27;&#x27;</span>                <span class="comment">// !f è¿”å› true</span></span><br><span class="line">n4 = !<span class="string">&#x27;Cat&#x27;</span>             <span class="comment">// !t è¿”å› false</span></span><br></pre></td></tr></table></figure></li>
<li>åŒé‡éè¿ï¼ˆ !! ï¼‰<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n1 = !!<span class="literal">true</span>                   <span class="comment">// !!truthy è¿”å› true</span></span><br><span class="line">n2 = !!&#123;&#125;                     <span class="comment">// !!truthy è¿”å› true: ä»»ä½• å¯¹è±¡éƒ½æ˜¯ truthy çš„â€¦</span></span><br><span class="line">n3 = !!(<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>))   <span class="comment">// â€¦ç”šè‡³ .valueOf() è¿”å› false çš„å¸ƒå°”å€¼å¯¹è±¡ä¹Ÿæ˜¯ï¼</span></span><br><span class="line">n4 = !!<span class="literal">false</span>                  <span class="comment">// !!falsy è¿”å› false</span></span><br><span class="line">n5 = !!<span class="string">&quot;&quot;</span>                     <span class="comment">// !!falsy è¿”å› false</span></span><br><span class="line">n6 = !!<span class="built_in">Boolean</span>(<span class="literal">false</span>)         <span class="comment">// !!falsy è¿”å› false</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-å¸ƒå°”å€¼è½¬æ¢è§„åˆ™"><a href="#3-å¸ƒå°”å€¼è½¬æ¢è§„åˆ™" class="headerlink" title="3. å¸ƒå°”å€¼è½¬æ¢è§„åˆ™"></a>3. å¸ƒå°”å€¼è½¬æ¢è§„åˆ™</h2><ul>
<li>å°† &amp;&amp; è½¬æ¢ä¸º ||<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">condi1 &amp;&amp; confi2</span><br><span class="line"><span class="comment">// è½¬æ¢ä¸º</span></span><br><span class="line">!(!condi1 || !condi2)</span><br></pre></td></tr></table></figure></li>
<li>å°† || è½¬æ¢ä¸º &amp;&amp;<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">condi1 || condi2</span><br><span class="line"><span class="comment">// è½¬æ¢ä¸º</span></span><br><span class="line">!(!condi1 &amp;&amp; !condi2)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-çŸ­è·¯å–å€¼"><a href="#4-çŸ­è·¯å–å€¼" class="headerlink" title="4. çŸ­è·¯å–å€¼"></a>4. çŸ­è·¯å–å€¼</h2><p>ç”±äºé€»è¾‘è¡¨è¾¾å¼çš„è¿ç®—é¡ºåºæ˜¯ä»å·¦åˆ°å³ï¼Œä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹è§„åˆ™è¿›è¡Œâ€çŸ­è·¯â€è®¡ç®—ï¼š</p>
<ul>
<li><code>(some falsy expression) &amp;&amp; (_expr)_</code> çŸ­è·¯è®¡ç®—çš„ç»“æœä¸ºå‡ã€‚</li>
<li><code>(some truthy expression) || _(expr)_</code> çŸ­è·¯è®¡ç®—çš„ç»“æœä¸ºçœŸã€‚<br>çŸ­è·¯æ„å‘³ç€ä¸Šè¿°è¡¨è¾¾å¼ä¸­çš„expréƒ¨åˆ†<strong>ä¸ä¼šè¢«æ‰§è¡Œ</strong>ï¼Œå› æ­¤exprçš„ä»»ä½•å‰¯ä½œç”¨éƒ½ä¸ä¼šç”Ÿæ•ˆï¼ˆä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœexpræ˜¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œè¿™æ¬¡è°ƒç”¨å°±ä¸ä¼šå‘ç”Ÿï¼‰ã€‚é€ æˆè¿™ç§ç°è±¡çš„åŸå› æ˜¯ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼åœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°è¢«è®¡ç®—åå·²ç»ç¡®å®šäº†ã€‚çœ‹ä¸€ä¸ªä¾‹å­ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;called A&#x27;</span>); <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;called B&#x27;</span>); <span class="keyword">return</span> <span class="literal">true</span>; &#125;</span><br><span class="line"><span class="built_in">console</span>.log( A() &amp;&amp; B() );</span><br><span class="line"><span class="comment">// logs &quot;called A&quot; due to the function call,</span></span><br><span class="line"><span class="comment">// then logs false (which is the resulting value of the operator)</span></span><br><span class="line"><span class="built_in">console</span>.log( B() || A() );</span><br><span class="line"><span class="comment">// logs &quot;called B&quot; due to the function call,</span></span><br><span class="line"><span class="comment">// then logs true (which is the resulting value of the operator)</span></span><br></pre></td></tr></table></figure>
<h2 id="5-æ³¨æ„"><a href="#5-æ³¨æ„" class="headerlink" title="5. æ³¨æ„"></a>5. æ³¨æ„</h2>ä¸è¿ç®— <code>&amp;&amp;</code> çš„ä¼˜å…ˆçº§æ¯”æˆ–è¿ç®— <code>||</code> è¦é«˜ã€‚<br>æ‰€ä»¥ä»£ç  <code>a &amp;&amp; b || c &amp;&amp; d</code> å®Œå…¨è·Ÿ <code>&amp;&amp;</code> è¡¨è¾¾å¼åŠ äº†æ‹¬å·ä¸€æ ·ï¼š<code>(a &amp;&amp; b) || (c &amp;&amp; d)</code>ã€‚</li>
</ul>
<h1 id="åäºŒã€å¾ªç¯ï¼šwhile-å’Œ-for"><a href="#åäºŒã€å¾ªç¯ï¼šwhile-å’Œ-for" class="headerlink" title="åäºŒã€å¾ªç¯ï¼šwhile å’Œ for"></a>åäºŒã€å¾ªç¯ï¼šwhile å’Œ for</h1><h2 id="1-while-å¾ªç¯"><a href="#1-while-å¾ªç¯" class="headerlink" title="1. while å¾ªç¯"></a>1. while å¾ªç¯</h2><p>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/while">ã€ŠMDN Â whileã€‹</a> ã€‚<br><strong>while è¯­å¥</strong>å¯ä»¥åœ¨æŸä¸ªæ¡ä»¶è¡¨è¾¾å¼ä¸ºçœŸçš„å‰æä¸‹ï¼Œå¾ªç¯æ‰§è¡ŒæŒ‡å®šçš„ä¸€æ®µä»£ç ï¼Œç›´åˆ°é‚£ä¸ªè¡¨è¾¾å¼ä¸ä¸ºçœŸæ—¶ç»“æŸå¾ªç¯ã€‚<br>å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">  n++;</span><br><span class="line">  x += n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“å¾ªç¯ä½“ä¸ºå•è¡Œæ—¶ï¼Œå¯ä»¥ä¸å†™å¤§æ‹¬å·ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span>(i) <span class="built_in">console</span>.log(i --);</span><br></pre></td></tr></table></figure>

<h2 id="2-doâ€¦while-å¾ªç¯"><a href="#2-doâ€¦while-å¾ªç¯" class="headerlink" title="2. doâ€¦while å¾ªç¯"></a>2. doâ€¦while å¾ªç¯</h2><p>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/do...while">ã€ŠMDN Â doâ€¦whileã€‹</a> ã€‚<br><code>do...while</code> è¯­å¥åˆ›å»ºä¸€ä¸ªæ‰§è¡ŒæŒ‡å®šè¯­å¥çš„å¾ªç¯ï¼Œç›´åˆ°<code>condition</code>å€¼ä¸º falseã€‚åœ¨æ‰§è¡Œ<code>statement</code> åæ£€æµ‹<code>condition</code>ï¼Œæ‰€ä»¥æŒ‡å®šçš„<code>statement</code>è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚<br>å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">   i += <span class="number">1</span>;</span><br><span class="line">   result += i + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<h2 id="3-for-å¾ªç¯"><a href="#3-for-å¾ªç¯" class="headerlink" title="3. for å¾ªç¯"></a>3. for å¾ªç¯</h2><p>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for">ã€ŠMDN Â forã€‹</a> ã€‚<br><code>for</code> è¯­å¥ç”¨äºåˆ›å»ºä¸€ä¸ªå¾ªç¯ï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªå¯é€‰çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸‰ä¸ªè¡¨è¾¾å¼è¢«åŒ…å›´åœ¨åœ†æ‹¬å·ä¹‹ä¸­ï¼Œä½¿ç”¨åˆ†å·åˆ†éš”ï¼Œåè·Ÿä¸€ä¸ªç”¨äºåœ¨å¾ªç¯ä¸­æ‰§è¡Œçš„è¯­å¥ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/block">å—è¯­å¥</a>ï¼‰ã€‚<br>è¯­æ³•å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (begin; condition; step) &#123;</span><br><span class="line">  <span class="comment">// â€¦â€¦å¾ªç¯ä½“â€¦â€¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æè¿°ï¼š<br>| begin | <code>i = 0</code> | è¿›å…¥å¾ªç¯æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚ |<br>| â€” | â€” | â€” |<br>| condition | <code>i &lt; 3</code> | åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ä¹‹å‰æ£€æŸ¥ï¼Œå¦‚æœä¸º falseï¼Œåœæ­¢å¾ªç¯ã€‚ |<br>| bodyï¼ˆå¾ªç¯ä½“ï¼‰ | <code>alert(i)</code> | æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œé‡å¤è¿è¡Œã€‚ |<br>| step | <code>i++</code> | åœ¨æ¯æ¬¡å¾ªç¯ä½“è¿­ä»£åæ‰§è¡Œã€‚ |</p>
<h2 id="4-å¯é€‰çš„-for-è¡¨è¾¾å¼"><a href="#4-å¯é€‰çš„-for-è¡¨è¾¾å¼" class="headerlink" title="4. å¯é€‰çš„ for è¡¨è¾¾å¼"></a>4. å¯é€‰çš„ for è¡¨è¾¾å¼</h2><p><code>for</code> è¯­å¥å¤´éƒ¨åœ†æ‹¬å·ä¸­çš„æ‰€æœ‰ä¸‰ä¸ªè¡¨è¾¾å¼éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li>ä¸æŒ‡å®šè¡¨è¾¾å¼ä¸­åˆå§‹åŒ–å—<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>ä¸æŒ‡å®šè¡¨è¾¾å¼ä¸­æ¡ä»¶å—ï¼Œè¿™å°±å¿…é¡»è¦æ±‚åœ¨å¾ªç¯ä½“ä¸­ç»“æŸå¾ªç¯ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»å¾ªç¯<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i);</span><br><span class="line">   <span class="keyword">if</span> (i &gt; <span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>ä¸æŒ‡å®šæ‰€æœ‰è¡¨è¾¾å¼ï¼Œä¹Ÿéœ€è¦åœ¨å¾ªç¯ä½“ä¸­æŒ‡å®šç»“æŸå¾ªç¯çš„æ¡ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-break-è¯­å¥"><a href="#5-break-è¯­å¥" class="headerlink" title="5. break è¯­å¥"></a>5. break è¯­å¥</h2>è¯¦ç»†å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/break">ã€ŠMDN Â breakã€‹</a> ã€‚<br>break è¯­å¥ä¸­æ­¢å½“å‰å¾ªç¯ï¼Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/switch"><code>switch</code></a>è¯­å¥æˆ–<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/label"><code>label</code></a> è¯­å¥ï¼Œå¹¶æŠŠç¨‹åºæ§åˆ¶æµè½¬åˆ°ç´§æ¥ç€è¢«ä¸­æ­¢è¯­å¥åé¢çš„è¯­å¥ã€‚<br>åœ¨ while è¯­å¥ä¸­ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testBreak</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt; <span class="number">6</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    i += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> i * x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä¸ºä»£ç å—åšæ ‡è®°ï¼Œå¹¶åœ¨ break ä¸­æŒ‡å®šè¦è·³è¿‡çš„ä»£ç å—è¯­å¥çš„ labelï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">outer_block:&#123;</span><br><span class="line">  <span class="attr">inner_block</span>:&#123;</span><br><span class="line">    <span class="built_in">console</span>.log (<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span> outer_block;      <span class="comment">// breaks out of both inner_block and outer_block</span></span><br><span class="line">    <span class="built_in">console</span>.log (<span class="string">&#x27;:-(&#x27;</span>);    <span class="comment">// skipped</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log (<span class="string">&#x27;2&#x27;</span>);        <span class="comment">// skipped</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼šbreak è¯­å¥éœ€è¦å†…åµŒåœ¨å®ƒæ‰€åº”ç”¨çš„æ ‡ç­¾æˆ–ä»£ç å—ä¸­ï¼Œå¦åˆ™æŠ¥é”™ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">block_1:&#123;</span><br><span class="line">  <span class="built_in">console</span>.log (<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">  <span class="keyword">break</span> block_2;            <span class="comment">// SyntaxError: label not found</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">block_2</span>:&#123;</span><br><span class="line">  <span class="built_in">console</span>.log (<span class="string">&#x27;2&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-continue-è¯­å¥"><a href="#6-continue-è¯­å¥" class="headerlink" title="6. continue è¯­å¥"></a>6. continue è¯­å¥</h2>continue å£°æ˜ç»ˆæ­¢å½“å‰å¾ªç¯æˆ–æ ‡è®°å¾ªç¯çš„å½“å‰è¿­ä»£ä¸­çš„è¯­å¥æ‰§è¡Œï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£æ—¶ç»§ç»­æ‰§è¡Œå¾ªç¯ã€‚<br>ä¸ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/break"><code>break</code></a> è¯­å¥çš„åŒºåˆ«åœ¨äºï¼Œ continue å¹¶ä¸ä¼šç»ˆæ­¢å¾ªç¯çš„è¿­ä»£ï¼Œè€Œæ˜¯ï¼š</li>
<li>åœ¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/while"><code>while</code></a> å¾ªç¯ä¸­ï¼Œæ§åˆ¶æµè·³è½¬å›æ¡ä»¶åˆ¤æ–­ï¼›</li>
<li>åœ¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for"><code>for</code></a> å¾ªç¯ä¸­ï¼Œæ§åˆ¶æµè·³è½¬åˆ°æ›´æ–°è¯­å¥ã€‚<br>æ³¨æ„ï¼šcontinue ä¹Ÿå¿…é¡»åœ¨å¯¹åº”å¾ªç¯å†…éƒ¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span>;</span><br><span class="line">n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">5</span>) &#123;</span><br><span class="line">   i++;</span><br><span class="line">   <span class="keyword">if</span> (i === <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   n += i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å¸¦ labelï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>, </span><br><span class="line">    j = <span class="number">8</span>;</span><br><span class="line">checkiandj: <span class="keyword">while</span> (i &lt; <span class="number">4</span>) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;i: &quot;</span> + i);</span><br><span class="line">   i += <span class="number">1</span>;</span><br><span class="line">   checkj: <span class="keyword">while</span> (j &gt; <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;j: &quot;</span>+ j);</span><br><span class="line">      j -= <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> ((j % <span class="number">2</span>) == <span class="number">0</span>)</span><br><span class="line">         <span class="keyword">continue</span> checkj;</span><br><span class="line">      <span class="built_in">console</span>.log(j + <span class="string">&quot; is odd.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;i = &quot;</span> + i);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;j = &quot;</span> + j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-æ³¨æ„"><a href="#7-æ³¨æ„" class="headerlink" title="7. æ³¨æ„"></a>7. æ³¨æ„</h2></li>
</ul>
<p><strong>ç¦æ­¢ <strong><code>break/continue</code></strong> åœ¨ â€˜?â€™ çš„å³è¾¹ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(i &gt; <span class="number">5</span>) ? <span class="built_in">console</span>.log(i) : <span class="keyword">continue</span>; <span class="comment">// continue ä¸å…è®¸åœ¨è¿™ä¸ªä½ç½®</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¼šæç¤ºè¯­æ³•é”™è¯¯ã€‚<br>è¯·æ³¨æ„éè¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„ä¸èƒ½ä¸ä¸‰å…ƒè¿ç®—ç¬¦ <code>?</code> ä¸€èµ·ä½¿ç”¨ã€‚ç‰¹åˆ«æ˜¯ <code>break/continue</code> è¿™æ ·çš„æŒ‡ä»¤æ˜¯ä¸å…è®¸è¿™æ ·ä½¿ç”¨çš„ã€‚</p>
<h2 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8. æ€»ç»“"></a>8. æ€»ç»“</h2><p>ä¸‰ç§å¾ªç¯ï¼š</p>
<ul>
<li><code>while</code> â€”â€” æ¯æ¬¡è¿­ä»£ä¹‹å‰éƒ½è¦æ£€æŸ¥æ¡ä»¶ã€‚</li>
<li><code>do..while</code> â€”â€” æ¯æ¬¡è¿­ä»£åéƒ½è¦æ£€æŸ¥æ¡ä»¶ã€‚</li>
<li><code>for (;;)</code> â€”â€” æ¯æ¬¡è¿­ä»£ä¹‹å‰éƒ½è¦æ£€æŸ¥æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–è®¾ç½®ã€‚<br>é€šå¸¸ä½¿ç”¨ <code>while(true)</code> æ¥æ„é€ â€œæ— é™â€å¾ªç¯ã€‚è¿™æ ·çš„å¾ªç¯å’Œå…¶ä»–å¾ªç¯ä¸€æ ·ï¼Œéƒ½å¯ä»¥é€šè¿‡ <code>break</code> æŒ‡ä»¤æ¥ç»ˆæ­¢ã€‚<br>å¦‚æœæˆ‘ä»¬ä¸æƒ³åœ¨å½“å‰è¿­ä»£ä¸­åšä»»ä½•äº‹ï¼Œå¹¶ä¸”æƒ³è¦è½¬ç§»è‡³ä¸‹ä¸€æ¬¡è¿­ä»£ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>continue</code> æŒ‡ä»¤ã€‚<br><code>break/continue</code> æ”¯æŒå¾ªç¯å‰çš„æ ‡ç­¾ã€‚æ ‡ç­¾æ˜¯ <code>break/continue</code> è·³å‡ºåµŒå¥—å¾ªç¯ä»¥è½¬åˆ°å¤–éƒ¨çš„å”¯ä¸€æ–¹æ³•ã€‚</li>
</ul>
<h1 id="åä¸‰ã€â€switchâ€-è¯­å¥"><a href="#åä¸‰ã€â€switchâ€-è¯­å¥" class="headerlink" title="åä¸‰ã€â€switchâ€ è¯­å¥"></a>åä¸‰ã€â€switchâ€ è¯­å¥</h1><p><code>switch</code> è¯­å¥ç”¨æ¥å°†è¡¨è¾¾å¼çš„å€¼ä¸ case è¯­å¥åŒ¹é…ï¼Œå¹¶æ‰§è¡Œä¸æƒ…å†µå¯¹åº”çš„è¯­å¥ã€‚<br><code>switch</code> è¯­å¥å¯ä»¥æ›¿ä»£å¤šä¸ª if åˆ¤æ–­ï¼Œä¸ºå¤šä¸ªåˆ†æ”¯é€‰æ‹©çš„æƒ…å†µæä¾›ä¸€ä¸ªæ›´å…·æè¿°æ€§çš„æ–¹å¼ã€‚</p>
<h2 id="1-è¯­æ³•"><a href="#1-è¯­æ³•" class="headerlink" title="1. è¯­æ³•"></a>1. è¯­æ³•</h2><p><code>switch</code> è¯­å¥è‡³å°‘åŒ…å«ä¸€ä¸ª <code>case</code> ä»£ç å—å’Œä¸€ä¸ªå¯é€‰çš„ <code>default</code> ä»£ç å—ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;value1&#x27;</span>:</span><br><span class="line">    <span class="comment">// do something ...</span></span><br><span class="line">    [<span class="keyword">break</span>]</span><br><span class="line">   </span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    [<span class="keyword">break</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ <code>expression</code> è¡¨è¾¾å¼çš„å€¼ä¸ <code>value1</code> åŒ¹é…æ—¶ï¼Œåˆ™æ‰§è¡Œå…¶ä¸­ä»£ç å—ã€‚<br>å¦‚æœæ²¡æœ‰ <code>case</code> Â å­å¥åŒ¹é…ï¼Œåˆ™ä¼šé€‰æ‹© <code>default</code> å­å¥æ‰§è¡Œï¼Œè‹¥è¿ <code>default</code> å­å¥éƒ½æ²¡æœ‰ï¼Œåˆ™ç›´æ¥æ‰§è¡Œåˆ° <code>switch</code> ç»“æŸã€‚</p>
<h2 id="2-ä½¿ç”¨-case-åˆ†ç»„"><a href="#2-ä½¿ç”¨-case-åˆ†ç»„" class="headerlink" title="2. ä½¿ç”¨ case åˆ†ç»„"></a>2. ä½¿ç”¨ case åˆ†ç»„</h2><p>æ‰€è°“ case åˆ†ç»„ï¼Œå°±æ˜¯ä¸å¤šä¸ª case åˆ†æ”¯å…±äº«åŒä¸€æ®µä»£ç ï¼Œå¦‚ä¸‹é¢ä¾‹å­ä¸­ <code>case 1</code> Â å’Œ <code>case 2</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// (*) ä¸‹é¢è¿™ä¸¤ä¸ª case è¢«åˆ†åœ¨ä¸€ç»„</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;case is 1 or 2!&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;case is 3!&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;The result is default.&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;case is 1 or 2!&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-æ³¨æ„ç‚¹-1"><a href="#3-æ³¨æ„ç‚¹-1" class="headerlink" title="3. æ³¨æ„ç‚¹"></a>3. æ³¨æ„ç‚¹</h2><ol>
<li><strong><code>expression</code> è¡¨è¾¾å¼çš„å€¼ä¸ <code>case</code> å€¼çš„æ¯”è¾ƒæ˜¯ä¸¥æ ¼ç›¸ç­‰ï¼š</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a ;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            a = <span class="string">&#x27;number&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            a = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            a = <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>);   <span class="comment">// number</span></span><br><span class="line">f(<span class="string">&#x27;1&#x27;</span>); <span class="comment">// string</span></span><br></pre></td></tr></table></figure></li>
<li>**å¦‚æœæ²¡æœ‰ <code>break</code>ï¼Œç¨‹åºå°†ä¸ç»è¿‡ä»»ä½•æ£€æŸ¥å°±ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ª **<code>**case**</code> :<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&#x27;Too small&#x27;</span> );</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&#x27;Exactly!&#x27;</span> );</span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&#x27;Too big&#x27;</span> );</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&quot;I don&#x27;t know such values&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Exactly!</span></span><br><span class="line"><span class="comment">// Too big</span></span><br><span class="line"><span class="comment">// I don&#x27;t know such values</span></span><br></pre></td></tr></table></figure></li>
<li><code>**default**</code> **æ”¾åœ¨ **<code>**case**</code> <strong>ä¹‹ä¸Šä¸å½±å“åŒ¹é…ï¼š</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (n) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:  </span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">f(<span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line">f(<span class="number">3</span>); <span class="comment">// default</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><strong><code>switch</code> è¯­å¥ä¸­å­˜åœ¨ <code>let</code> / <code>const</code>é‡å¤å£°æ˜é—®é¢˜ï¼š</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹å®šä¹‰ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">let</span> msg = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">            <span class="keyword">let</span> msg = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>: </span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;default&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Error: Uncaught SyntaxError: Identifier &#x27;msg&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>
è¿™æ˜¯ç”±äºä¸¤ä¸ª <code>let</code> å¤„äºåŒä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥å®ƒä»¬è¢«è®¤ä¸ºæ˜¯åŒä¸€å˜é‡åçš„é‡å¤å£°æ˜ã€‚<br>è§£å†³æ–¹å¼ï¼Œåªéœ€è¦å°† <code>case</code> è¯­å¥åŒ…è£…åœ¨æ‹¬å·å†…å³å¯è§£å†³ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:&#123; <span class="comment">// added brackets</span></span><br><span class="line">            <span class="keyword">let</span> msg = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(msg);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">            <span class="keyword">let</span> msg = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(msg);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">default</span>: </span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;default&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="åå››ã€å‡½æ•°"><a href="#åå››ã€å‡½æ•°" class="headerlink" title="åå››ã€å‡½æ•°"></a>åå››ã€å‡½æ•°</h1><p>å‡½æ•°å¯ä»¥è®©ä¸€æ®µä»£ç è¢«å¤šæ¬¡è°ƒç”¨ï¼Œé¿å…é‡å¤ä»£ç ã€‚<br>å¦‚ä¹‹å‰å­¦ä¹ åˆ°çš„ä¸€äº›å†…ç½®å‡½æ•°ï¼š <code>alert(msg)</code> / <code>prompt(msg, default)</code> / <code>confirm(quesyion)</code> ç­‰ã€‚</p>
<h2 id="1-å‡½æ•°å®šä¹‰"><a href="#1-å‡½æ•°å®šä¹‰" class="headerlink" title="1. å‡½æ•°å®šä¹‰"></a>1. å‡½æ•°å®šä¹‰</h2><p>å®šä¹‰å‡½æ•°æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å‡½æ•°å£°æ˜</strong>å’Œ<strong>å‡½æ•°è¡¨è¾¾å¼</strong>ã€‚</p>
<h3 id="1-1-å‡½æ•°å£°æ˜"><a href="#1-1-å‡½æ•°å£°æ˜" class="headerlink" title="1.1 å‡½æ•°å£°æ˜"></a>1.1 å‡½æ•°å£°æ˜</h3><p>å¦‚å®šä¹‰ä¸€ä¸ªç®€å• <code>getUser</code> å‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;hello &#x27;</span> + name;</span><br><span class="line">&#125;</span><br><span class="line">getUser(<span class="string">&#x27;leo&quot;); // å‡½æ•°è°ƒç”¨</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å‡½æ•°å£°æ˜æ¥å®šä¹‰å‡½æ•°æ—¶ï¼Œéœ€è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>å‡½æ•°åç§° - <code>getUser</code> ï¼›</li>
<li>å‡½æ•°å‚æ•°åˆ—è¡¨ - <code>name</code> ï¼›</li>
<li>å‡½æ•°çš„ JS æ‰§è¡Œè¯­å¥ - <code>return &#39;hello &#39; + name</code> ã€‚</li>
</ul>
<h3 id="1-2-å‡½æ•°è¡¨è¾¾å¼"><a href="#1-2-å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="1.2 å‡½æ•°è¡¨è¾¾å¼"></a>1.2 å‡½æ•°è¡¨è¾¾å¼</h3><p>ç±»ä¼¼å£°æ˜å˜é‡ï¼Œè¿˜æ˜¯ä»¥ <code>getUser</code> ä¸ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> getUser = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;hello &#x27;</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œå‡½æ•°è¡¨è¾¾å¼ä¹Ÿå¯ä»¥æä¾›å‡½æ•°åï¼Œå¹¶ç”¨äºå‡½æ•°å†…éƒ¨æŒ‡ä»£å‡½æ•°æœ¬èº«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &lt; <span class="number">3</span> ? <span class="number">1</span> : n * f(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="number">3</span>);  <span class="comment">// 3</span></span><br><span class="line">fun(<span class="number">5</span>);  <span class="comment">// 60</span></span><br></pre></td></tr></table></figure>

<h2 id="2-å‡½æ•°è°ƒç”¨"><a href="#2-å‡½æ•°è°ƒç”¨" class="headerlink" title="2. å‡½æ•°è°ƒç”¨"></a>2. å‡½æ•°è°ƒç”¨</h2><p>å½“å®šä¹‰ä¸€ä¸ªå‡½æ•°åï¼Œå®ƒå¹¶ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨å‡½æ•°åç§°è¿›è¡Œè°ƒç”¨ï¼Œå¦‚ä¸Šé¢ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun(<span class="number">3</span>);  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p><strong>åªè¦æ³¨æ„ï¼š</strong><br>ä½¿ç”¨ <strong>å‡½æ•°è¡¨è¾¾å¼</strong> å®šä¹‰å‡½æ•°æ—¶ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹æ³•å¿…é¡»å†™åœ¨å®šä¹‰ä¹‹åï¼Œå¦åˆ™æŠ¥é”™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(fun());  <span class="comment">// Uncaught ReferenceError: fun is not defined</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>è€Œä½¿ç”¨ <strong>å‡½æ•°å£°æ˜</strong> åˆ™ä¸ä¼šå‡ºç°è¯¥é—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(fun());  <span class="comment">// 1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>åŸå› å°±æ˜¯ï¼šå‡½æ•°æå‡ä»…é€‚ç”¨äºå‡½æ•°å£°æ˜ï¼Œè€Œä¸é€‚ç”¨äºå‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<h2 id="3-å‡½æ•°ä¸­çš„å˜é‡"><a href="#3-å‡½æ•°ä¸­çš„å˜é‡" class="headerlink" title="3. å‡½æ•°ä¸­çš„å˜é‡"></a>3. å‡½æ•°ä¸­çš„å˜é‡</h2><p>åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å±€éƒ¨å˜é‡å’Œå¤–éƒ¨å˜é‡ã€‚</p>
<h3 id="3-1-å±€éƒ¨å˜é‡"><a href="#3-1-å±€éƒ¨å˜é‡" class="headerlink" title="3.1 å±€éƒ¨å˜é‡"></a>3.1 å±€éƒ¨å˜é‡</h3><p>å‡½æ•°ä¸­å£°æ˜çš„å˜é‡åªèƒ½åœ¨è¯¥å‡½æ•°å†…å¯è§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">fun();</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// Uncaught ReferenceError: name is not defined</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-å…¨å±€å˜é‡"><a href="#3-2-å…¨å±€å˜é‡" class="headerlink" title="3.2 å…¨å±€å˜é‡"></a>3.2 å…¨å±€å˜é‡</h3><p>å‡½æ•°å†…å¯ä»¥ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> text = <span class="string">&#x27;Hello, &#x27;</span> + name;</span><br><span class="line">  <span class="built_in">console</span>.log(text);</span><br><span class="line">&#125;</span><br><span class="line">fun(); <span class="comment">// Hello, leo</span></span><br></pre></td></tr></table></figure>
<p>å½“å‡½æ•°å†…ä¹Ÿæœ‰ä¸å¤–éƒ¨å˜é‡åç§°ç›¸åŒçš„å˜é‡ï¼Œä¼šå¿½ç•¥å¤–éƒ¨å˜é‡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">&#x27;pingan8787&#x27;</span>;</span><br><span class="line">	<span class="keyword">let</span> text = <span class="string">&#x27;Hello, &#x27;</span> + name;</span><br><span class="line">  <span class="built_in">console</span>.log(text);</span><br><span class="line">&#125;</span><br><span class="line">fun(); <span class="comment">// Hello, pingan8787</span></span><br></pre></td></tr></table></figure>

<h2 id="4-å‡½æ•°å‚æ•°"><a href="#4-å‡½æ•°å‚æ•°" class="headerlink" title="4. å‡½æ•°å‚æ•°"></a>4. å‡½æ•°å‚æ•°</h2><p>ä»ECMAScript 6å¼€å§‹ï¼Œæœ‰ä¸¤ä¸ªæ–°çš„ç±»å‹çš„å‚æ•°ï¼šé»˜è®¤å‚æ•°ï¼Œå‰©ä½™å‚æ•°ã€‚</p>
<h3 id="4-1-é»˜è®¤å‚æ•°"><a href="#4-1-é»˜è®¤å‚æ•°" class="headerlink" title="4.1 é»˜è®¤å‚æ•°"></a>4.1 é»˜è®¤å‚æ•°</h3><p>è‹¥å‡½æ•°æ²¡æœ‰ä¼ å…¥å‚æ•°ï¼Œåˆ™å‚æ•°é»˜è®¤å€¼ä¸º<code>undefined</code>ï¼Œé€šå¸¸è®¾ç½®å‚æ•°é»˜è®¤å€¼æ˜¯è¿™æ ·åšçš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 ä¹‹å‰ï¼Œæ²¡æœ‰è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    b = b ? b : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// 6</span></span><br><span class="line">f(<span class="number">2</span>);    <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// ES6ï¼Œè®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b = <span class="number">1</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// 6</span></span><br><span class="line">f(<span class="number">2</span>);    <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h3 id="4-2-å‰©ä½™å‚æ•°"><a href="#4-2-å‰©ä½™å‚æ•°" class="headerlink" title="4.2 å‰©ä½™å‚æ•°"></a>4.2 å‰©ä½™å‚æ•°</h3><p>å¯ä»¥å°†å‚æ•°ä¸­ä¸ç¡®å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºæˆæ•°ç»„ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a, ...b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>); <span class="comment">// a =&gt; 1 b =&gt; [2, 3, 4]</span></span><br></pre></td></tr></table></figure>
<p>æ—¢ç„¶è®²åˆ°å‚æ•°ï¼Œé‚£å°±ä¸èƒ½å°‘äº† arguments å¯¹è±¡ã€‚</p>
<h3 id="4-3-arguments-å¯¹è±¡"><a href="#4-3-arguments-å¯¹è±¡" class="headerlink" title="4.3 arguments å¯¹è±¡"></a>4.3 arguments å¯¹è±¡</h3><p>å‡½æ•°çš„å®é™…å‚æ•°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ª<strong>ç±»ä¼¼æ•°ç»„çš„argumentså¯¹è±¡</strong>ä¸­ã€‚åœ¨å‡½æ•°å†…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡è·å–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="string">&#x27;leo&#x27;</span>); </span><br><span class="line"><span class="comment">// ArgumentsÂ [&quot;leo&quot;, callee: Æ’, Symbol(Symbol.iterator): Æ’] </span></span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸€ä¸ªå®é™…ç¤ºä¾‹ä»‹ç»ï¼Œå®ç°å°†ä»»æ„æ•°é‡å‚æ•°è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¾“å‡ºçš„å‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> argumentConcat = <span class="function"><span class="keyword">function</span>(<span class="params">separator</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span>, i;</span><br><span class="line">  <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i ++)&#123;</span><br><span class="line">  	result += <span class="built_in">arguments</span>[i] + separator;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">argumentConcat(<span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;leo&#x27;</span>, <span class="string">&#x27;pingan&#x27;</span>); <span class="comment">//&quot;leo,pingan,&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-å‡½æ•°è¿”å›å€¼"><a href="#5-å‡½æ•°è¿”å›å€¼" class="headerlink" title="5. å‡½æ•°è¿”å›å€¼"></a>5. å‡½æ•°è¿”å›å€¼</h2><p>åœ¨å‡½æ•°ä»»æ„ä½ç½®ï¼ŒæŒ‡å®š <code>return</code> æŒ‡ä»¤æ¥åœæ­¢å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶è¿”å›å‡½æ•°æŒ‡å®šçš„è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> res = sum(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>é»˜è®¤ç©ºå€¼çš„ <code>return</code> æˆ–æ²¡æœ‰ <code>return</code> çš„å‡½æ•°è¿”å›å€¼ä¸º <code>undefined</code> ã€‚</p>
<h1 id="åäº”ã€å‡½æ•°è¡¨è¾¾å¼"><a href="#åäº”ã€å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="åäº”ã€å‡½æ•°è¡¨è¾¾å¼"></a>åäº”ã€å‡½æ•°è¡¨è¾¾å¼</h1><p>å‡½æ•°è¡¨è¾¾å¼æ˜¯ä¸€ç§å‡½æ•°å®šä¹‰æ–¹å¼ï¼Œåœ¨å‰é¢ç« èŠ‚ä¸­å·²ç»ä»‹ç»åˆ°äº†ï¼Œè¿™ä¸ªéƒ¨åˆ†å°†ç€é‡ä»‹ç» <strong>å‡½æ•°è¡¨è¾¾å¼</strong> å’Œ <strong>å‡½æ•°å£°æ˜</strong> çš„åŒºåˆ«ï¼š</p>
<h2 id="1-è¯­æ³•å·®å¼‚"><a href="#1-è¯­æ³•å·®å¼‚" class="headerlink" title="1. è¯­æ³•å·®å¼‚"></a>1. è¯­æ³•å·®å¼‚</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-åˆ›å»ºæ—¶æœºå·®å¼‚"><a href="#2-åˆ›å»ºæ—¶æœºå·®å¼‚" class="headerlink" title="2. åˆ›å»ºæ—¶æœºå·®å¼‚"></a>2. åˆ›å»ºæ—¶æœºå·®å¼‚</h2><p>å‡½æ•°è¡¨è¾¾å¼ä¼šåœ¨ä»£ç æ‰§è¡Œåˆ°è¾¾æ—¶è¢«åˆ›å»ºï¼Œå¹¶ä¸”ä»…ä»é‚£ä¸€åˆ»å¯ç”¨ã€‚<br>è€Œå‡½æ•°å£°æ˜è¢«å®šä¹‰ä¹‹å‰ï¼Œå®ƒå°±å¯ä»¥è¢«è°ƒç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">fun();  <span class="comment">// Uncaught ReferenceError: fun is not defined</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">&#x27;leo&#x27;</span>)&#125;;</span><br><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line">fun();  <span class="comment">// &quot;leo&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">&#x27;leo&#x27;</span>)&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="3-ä½¿ç”¨å»ºè®®"><a href="#3-ä½¿ç”¨å»ºè®®" class="headerlink" title="3. ä½¿ç”¨å»ºè®®"></a>3. ä½¿ç”¨å»ºè®®</h2><p>å»ºè®®ä¼˜å…ˆè€ƒè™‘å‡½æ•°å£°æ˜è¯­æ³•ï¼Œå®ƒèƒ½å¤Ÿä¸ºç»„ç»‡ä»£ç æä¾›æ›´å¤šçµæ´»æ€§ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨å£°æ˜å‡½æ•°å‰è°ƒç”¨è¯¥å‡½æ•°ã€‚</p>
<h1 id="åå…­ã€ç®­å¤´å‡½æ•°"><a href="#åå…­ã€ç®­å¤´å‡½æ•°" class="headerlink" title="åå…­ã€ç®­å¤´å‡½æ•°"></a>åå…­ã€ç®­å¤´å‡½æ•°</h1><p><strong>æœ¬ç« èŠ‚ç®€å•ä»‹ç»ç®­å¤´å‡½æ•°åŸºç¡€çŸ¥è¯†ï¼Œåé¢ç« èŠ‚ä¼šå®Œæ•´ä»‹ç»ã€‚</strong><br><strong>å‡½æ•°ç®­å¤´è¡¨è¾¾å¼</strong>æ˜¯ES6æ–°å¢çš„å‡½æ•°è¡¨è¾¾å¼çš„è¯­æ³•ï¼Œä¹Ÿå«<strong>èƒ–ç®­å¤´å‡½æ•°</strong>ï¼Œå˜åŒ–ï¼šæ›´ç®€æ´çš„å‡½æ•°å’Œ<code>this</code>ã€‚</p>
<h2 id="1-ä»£ç æ›´ç®€æ´"><a href="#1-ä»£ç æ›´ç®€æ´" class="headerlink" title="1. ä»£ç æ›´ç®€æ´"></a>1. ä»£ç æ›´ç®€æ´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ‰1ä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">v</span>)</span>&#123;<span class="keyword">return</span> v&#125;;</span><br><span class="line"><span class="comment">// æœ‰å¤šä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">v, i</span>) =&gt;</span> &#123;<span class="keyword">return</span> v + i&#125;;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">v, i</span>)</span>&#123;<span class="keyword">return</span> v + i&#125;;</span><br><span class="line"><span class="comment">// æ²¡å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function">() =&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.map(<span class="function"><span class="params">ele</span> =&gt;</span> ele + <span class="number">1</span>);  <span class="comment">// [2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h2 id="2-æ³¨æ„ç‚¹"><a href="#2-æ³¨æ„ç‚¹" class="headerlink" title="2. æ³¨æ„ç‚¹"></a>2. æ³¨æ„ç‚¹</h2><ol>
<li>ç®­å¤´å‡½æ•°ä¸å­˜åœ¨<code>this</code>ï¼›</li>
<li>ç®­å¤´å‡½æ•°ä¸èƒ½å½“åš<strong>æ„é€ å‡½æ•°</strong>ï¼Œå³ä¸èƒ½ç”¨<code>new</code>å®ä¾‹åŒ–ï¼›</li>
<li>ç®­å¤´å‡½æ•°ä¸å­˜åœ¨<code>arguments</code>å¯¹è±¡ï¼Œå³ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨<code>rest</code>å‚æ•°ä»£æ›¿ï¼›</li>
<li>ç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨<code>yield</code>å‘½ä»¤ï¼Œå³ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚<br>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.age++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(); <span class="comment">// å®šæ—¶å™¨ä¸€ç›´åœ¨æ‰§è¡Œ pçš„å€¼ä¸€ç›´å˜åŒ–</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡ä½œä¸ºã€Šåˆä¸­çº§å‰ç«¯ JavaScript è‡ªæµ‹æ¸…å•ã€‹ç¬¬ä¸€éƒ¨åˆ†ï¼Œä»‹ç»çš„å†…å®¹ä»¥å¸¸ç”¨åŸºç¡€çŸ¥è¯†ä¸ºä¸»ï¼Œå¹¶åœ¨å­¦ä¹ èµ„æ–™ä¸­ï¼Œå°†çŸ¥è¯†ç‚¹ç»“åˆå®é™…å¼€å‘ä¸­é‡åˆ°çš„åœºæ™¯è¿›è¡Œå±•å¼€ä»‹ç»ã€‚å¸Œæœ›èƒ½å¸®åŠ©å¤§å®¶è‡ªæµ‹è‡ªå·±çš„ JavaScript æ°´å¹³å¹¶æŸ¥ç¼ºè¡¥æ¼ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚</p>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#x38;&#x37;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#x6d;">&#x70;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#x38;&#x37;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/06/212-%E3%80%90JavaScript%E3%80%91%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AFJavaScript%E8%87%AA%E6%B5%8B%E6%B8%85%E5%8D%95-1/" data-id="ckts3ejzq00r44d9kcq6vhn4o" data-title="212-ã€JavaScriptã€‘åˆä¸­çº§å‰ç«¯JavaScriptè‡ªæµ‹æ¸…å•-1" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-211-ã€Webpackã€‘äº†ä¸èµ·çš„Webpackæ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/06/211-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84Webpack%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" class="article-date">
  <time class="dt-published" datetime="2020-07-06T04:44:14.000Z" itemprop="datePublished">2020-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/06/211-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84Webpack%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/">211-ã€Webpackã€‘äº†ä¸èµ·çš„Webpackæ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘åŸåˆ›æ–‡ç« å›é¡¾ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ed589a251882542e3022f44">ã€Šäº†ä¸èµ·çš„ tsconfig.json æŒ‡å—ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ee8e32a51882543485780d3">ã€Šäº†ä¸èµ·çš„ Webpack HMR å­¦ä¹ æŒ‡å—ï¼ˆå«æºç åˆ†æï¼‰ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ede5300e51d4578a6798220">ã€Šã€Šä½ ä¸çŸ¥é“çš„ Blobã€‹ç•ªå¤–ç¯‡ã€‹</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ee78bb7f265da76f15a0698">ã€Šã€Šä½ ä¸çŸ¥é“çš„ WeakMapã€‹ç•ªå¤–ç¯‡ã€‹</a></li>
</ul>
<p>Webpack æ˜¯å‰ç«¯å¾ˆç«çš„æ‰“åŒ…å·¥å…·ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(<code>dependency graph</code>)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªÂ <code>bundle</code>ã€‚</p>
<p>å…¶å®å°±æ˜¯ï¼šWebpack æ˜¯ä¸€ä¸ª JS ä»£ç æ‰“åŒ…å™¨ã€‚</p>
<p>è‡³äºå›¾ç‰‡ã€CSSã€Lessã€TSç­‰å…¶ä»–æ–‡ä»¶ï¼Œå°±éœ€è¦ Webpack é…åˆ loader æˆ–è€… plugin åŠŸèƒ½æ¥å®ç°~</p>
<p><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build-Xmind.png" alt="äº†ä¸èµ·çš„ Webpack æ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—.png"></p>
<h1 id="ä¸€ã€Webpack-æ„å»ºæµç¨‹åˆ†æ"><a href="#ä¸€ã€Webpack-æ„å»ºæµç¨‹åˆ†æ" class="headerlink" title="ä¸€ã€Webpack æ„å»ºæµç¨‹åˆ†æ"></a>ä¸€ã€Webpack æ„å»ºæµç¨‹åˆ†æ</h1><h2 id="1-Webpack-æ„å»ºè¿‡ç¨‹"><a href="#1-Webpack-æ„å»ºè¿‡ç¨‹" class="headerlink" title="1. Webpack æ„å»ºè¿‡ç¨‹"></a>1. Webpack æ„å»ºè¿‡ç¨‹</h2><p>é¦–å…ˆå…ˆç®€å•äº†è§£ä¸‹ Webpack æ„å»ºè¿‡ç¨‹ï¼š</p>
<ol>
<li>æ ¹æ®é…ç½®ï¼Œè¯†åˆ«å…¥å£æ–‡ä»¶ï¼›</li>
<li>é€å±‚è¯†åˆ«æ¨¡å—ä¾èµ–ï¼ˆåŒ…æ‹¬ Commonjsã€AMDã€æˆ– ES6 çš„ import ç­‰ï¼Œéƒ½ä¼šè¢«è¯†åˆ«å’Œåˆ†æï¼‰ï¼›</li>
<li>Webpack ä¸»è¦å·¥ä½œå†…å®¹å°±æ˜¯åˆ†æä»£ç ï¼Œè½¬æ¢ä»£ç ï¼Œç¼–è¯‘ä»£ç ï¼Œæœ€åè¾“å‡ºä»£ç ï¼›</li>
<li>è¾“å‡ºæœ€åæ‰“åŒ…åçš„ä»£ç ã€‚</li>
</ol>
<h2 id="2-Webpack-æ„å»ºåŸç†"><a href="#2-Webpack-æ„å»ºåŸç†" class="headerlink" title="2. Webpack æ„å»ºåŸç†"></a>2. Webpack æ„å»ºåŸç†</h2><p>çœ‹å®Œä¸Šé¢çš„æ„å»ºæµç¨‹çš„ç®€å•ä»‹ç»ï¼Œç›¸ä¿¡ä½ å·²ç»ç®€å•äº†è§£äº†è¿™ä¸ªè¿‡ç¨‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å¼€å§‹è¯¦ç»†ä»‹ç» Webpack æ„å»ºåŸç†ï¼ŒåŒ…æ‹¬ä»å¯åŠ¨æ„å»ºåˆ°è¾“å‡ºç»“æœä¸€ç³»åˆ—è¿‡ç¨‹ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰åˆå§‹åŒ–å‚æ•°</strong></p>
<p>è§£æ Webpack é…ç½®å‚æ•°ï¼Œåˆå¹¶ Shell ä¼ å…¥å’Œ <code>webpack.config.js</code> æ–‡ä»¶é…ç½®çš„å‚æ•°ï¼Œå½¢æˆæœ€åçš„é…ç½®ç»“æœã€‚</p>
<p><strong>ï¼ˆ2ï¼‰å¼€å§‹ç¼–è¯‘</strong></p>
<p>ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– <code>compiler</code> å¯¹è±¡ï¼Œæ³¨å†Œæ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ’ä»¶ç›‘å¬ Webpack æ„å»ºç”Ÿå‘½å‘¨æœŸçš„äº‹ä»¶èŠ‚ç‚¹ï¼Œåšå‡ºç›¸åº”çš„ååº”ï¼Œæ‰§è¡Œå¯¹è±¡çš„ <code>run</code> æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰ç¡®å®šå…¥å£</strong></p>
<p>ä»é…ç½®æ–‡ä»¶ï¼ˆ <code>webpack.config.js</code> ï¼‰ä¸­æŒ‡å®šçš„ <code>entry</code> å…¥å£ï¼Œå¼€å§‹è§£ææ–‡ä»¶æ„å»º AST è¯­æ³•æ ‘ï¼Œæ‰¾å‡ºä¾èµ–ï¼Œé€’å½’ä¸‹å»ã€‚</p>
<p><strong>ï¼ˆ4ï¼‰ç¼–è¯‘æ¨¡å—</strong></p>
<p>é€’å½’ä¸­æ ¹æ®<strong>æ–‡ä»¶ç±»å‹</strong>å’Œ <strong>loader</strong> é…ç½®ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ loader å¯¹æ–‡ä»¶è¿›è¡Œè½¬æ¢ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ã€‚</p>
<p><strong>ï¼ˆ5ï¼‰å®Œæˆæ¨¡å—ç¼–è¯‘å¹¶è¾“å‡º</strong></p>
<p>é€’å½’å®Œåï¼Œå¾—åˆ°æ¯ä¸ªæ–‡ä»¶ç»“æœï¼ŒåŒ…å«æ¯ä¸ªæ¨¡å—ä»¥åŠä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ ¹æ® <code>entry</code> é…ç½®ç”Ÿæˆä»£ç å— <code>chunk</code> ã€‚</p>
<p><strong>ï¼ˆ6ï¼‰è¾“å‡ºå®Œæˆ</strong></p>
<p>è¾“å‡ºæ‰€æœ‰çš„ <code>chunk</code> åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>æ³¨æ„ï¼šåœ¨æ„å»ºç”Ÿå‘½å‘¨æœŸä¸­æœ‰ä¸€ç³»åˆ—æ’ä»¶åœ¨åšåˆé€‚çš„æ—¶æœºåšåˆé€‚äº‹æƒ…ï¼Œæ¯”å¦‚ <code>UglifyPlugin</code> ä¼šåœ¨ loader è½¬æ¢é€’å½’å®Œå¯¹ç»“æœä½¿ç”¨ <code>UglifyJs</code> å‹ç¼©<strong>è¦†ç›–ä¹‹å‰çš„ç»“æœ</strong>ã€‚</p>
<h1 id="äºŒã€æ‰‹å†™-Webpack-æ„å»ºå·¥å…·"><a href="#äºŒã€æ‰‹å†™-Webpack-æ„å»ºå·¥å…·" class="headerlink" title="äºŒã€æ‰‹å†™ Webpack æ„å»ºå·¥å…·"></a>äºŒã€æ‰‹å†™ Webpack æ„å»ºå·¥å…·</h1><p>åˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å¯¹ Webpack æ„å»ºæµç¨‹å·²ç»æœ‰æ‰€äº†è§£ï¼Œä½†æ˜¯è¿™è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬å†æ¥è¯•ç€æ‰‹å†™ Webpack æ„å»ºå·¥å…·ï¼Œæ¥å°†ä¸Šé¢æ–‡å­—ä»‹ç»çš„å†…å®¹ï¼Œåº”ç”¨äºå®é™…ä»£ç ï¼Œé‚£ä¹ˆå¼€å§‹å§~</p>
<h2 id="1-åˆå§‹åŒ–é¡¹ç›®"><a href="#1-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1. åˆå§‹åŒ–é¡¹ç›®"></a>1. åˆå§‹åŒ–é¡¹ç›®</h2><p>åœ¨æ‰‹å†™æ„å»ºå·¥å…·å‰ï¼Œæˆ‘ä»¬å…ˆåˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn init -y</span><br></pre></td></tr></table></figure>

<p>å¹¶å®‰è£…ä¸‹é¢å››ä¸ªä¾èµ–åŒ…ï¼š</p>
<ol>
<li><code>@babel/parser</code> : ç”¨äºåˆ†æé€šè¿‡ <code>fs.readFileSync</code>Â  è¯»å–çš„æ–‡ä»¶å†…å®¹ï¼Œå¹¶è¿”å› AST (æŠ½è±¡è¯­æ³•æ ‘) ï¼›Â </li>
<li><code>@babel/traverse</code> : ç”¨äºéå† AST, è·å–å¿…è¦çš„æ•°æ®ï¼›</li>
<li><code>@babel/core</code> : babel æ ¸å¿ƒæ¨¡å—ï¼Œæä¾› <code>transformFromAst</code> æ–¹æ³•ï¼Œç”¨äºå°† AST è½¬åŒ–ä¸ºæµè§ˆå™¨å¯è¿è¡Œçš„ä»£ç ï¼›</li>
<li><code>@babel/preset-env</code> : å°†è½¬æ¢åä»£ç è½¬åŒ–æˆ ES5 ä»£ç ï¼›</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add @babel/parser @babel/traverse @babel/core @babel/preset-env</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–é¡¹ç›®ç›®å½•åŠæ–‡ä»¶ï¼š<br><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build-Xmind-Demo1.png" alt="image.png"></p>
<p>ä»£ç å­˜æ”¾åœ¨ä»“åº“ï¼š<a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo-JavaScript/tree/master/Cute-Webpack/Write-Webpack">https://github.com/pingan8787/Leo-JavaScript/tree/master/Cute-Webpack/Write-Webpack</a></p>
<p>ç”±äºæœ¬éƒ¨åˆ†æ ¸å¿ƒå†…å®¹æ˜¯å®ç° Webpack æ„å»ºå·¥å…·ï¼Œæ‰€ä»¥ä¼šä»ã€Š2. Webpack æ„å»ºåŸç†ã€‹çš„â€œï¼ˆ3ï¼‰ç¡®å®šå…¥å£â€æ­¥éª¤å¼€å§‹ä¸‹é¢ä»‹ç»ã€‚</p>
<p>å¤§è‡´ä»£ç å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build.jpeg" alt="webpackæ„å»ºæµç¨‹.jpg"></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ‰‹å†™ Webpack çš„æ ¸å¿ƒæ˜¯å®ç°ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><code>createAssets</code> : æ”¶é›†å’Œå¤„ç†æ–‡ä»¶çš„ä»£ç ï¼›</li>
<li><code>createGraph</code> ï¼šæ ¹æ®å…¥å£æ–‡ä»¶ï¼Œè¿”å›æ‰€æœ‰æ–‡ä»¶ä¾èµ–å›¾ï¼›</li>
<li><code>bundle</code> : æ ¹æ®ä¾èµ–å›¾æ•´ä¸ªä»£ç å¹¶è¾“å‡ºï¼›</li>
</ul>
<h2 id="2-å®ç°-createAssets-å‡½æ•°"><a href="#2-å®ç°-createAssets-å‡½æ•°" class="headerlink" title="2. å®ç° createAssets å‡½æ•°"></a>2. å®ç° createAssets å‡½æ•°</h2><h3 id="2-1-è¯»å–é€šè¿‡å…¥å£æ–‡ä»¶ï¼Œå¹¶è½¬ä¸º-AST"><a href="#2-1-è¯»å–é€šè¿‡å…¥å£æ–‡ä»¶ï¼Œå¹¶è½¬ä¸º-AST" class="headerlink" title="2.1 è¯»å–é€šè¿‡å…¥å£æ–‡ä»¶ï¼Œå¹¶è½¬ä¸º AST"></a>2.1 è¯»å–é€šè¿‡å…¥å£æ–‡ä»¶ï¼Œå¹¶è½¬ä¸º AST</h3><p>é¦–å…ˆåœ¨ <code>./src/index</code> æ–‡ä»¶ä¸­å†™ç‚¹ç®€å•ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> info <span class="keyword">from</span> <span class="string">&quot;./info.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(info);</span><br></pre></td></tr></table></figure>
<p>å®ç° <code>createAssets</code> æ–¹æ³•ä¸­çš„ <strong>æ–‡ä»¶è¯»å–</strong> å’Œ <strong>ASTè½¬æ¢</strong> æ“ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> parser = <span class="built_in">require</span>(<span class="string">&quot;@babel/parser&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> traverse = <span class="built_in">require</span>(<span class="string">&quot;@babel/traverse&quot;</span>).default;</span><br><span class="line"><span class="comment">// ç”±äº traverse é‡‡ç”¨çš„ ES Module å¯¼å‡ºï¼Œæˆ‘ä»¬é€šè¿‡ requier å¼•å…¥çš„è¯å°±åŠ ä¸ª .default</span></span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&quot;@babel/core&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> moduleId = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> createAssets = <span class="function"><span class="params">filename</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> content = fs.readFileSync(filename, <span class="string">&quot;utf-8&quot;</span>); <span class="comment">// æ ¹æ®æ–‡ä»¶åï¼ŒåŒæ­¥è¯»å–æ–‡ä»¶æµ</span></span><br><span class="line">  </span><br><span class="line">  	<span class="comment">// å°†è¯»å–æ–‡ä»¶æµ buffer è½¬æ¢ä¸º AST</span></span><br><span class="line">    <span class="keyword">const</span> ast = parser.parse(content, &#123;</span><br><span class="line">        <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span> <span class="comment">// æŒ‡å®šæºç ç±»å‹</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(ast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createAssets(<span class="string">&#x27;./src/index.js&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ï¼š<br>é€šè¿‡ <code>fs.readFileSync()</code> æ–¹æ³•ï¼Œä»¥<strong>åŒæ­¥æ–¹å¼</strong>è¯»å–æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶æµï¼Œå¹¶é€šè¿‡ <code>parser</code> ä¾èµ–åŒ…æä¾›çš„ <code>parse()</code> æ–¹æ³•ï¼Œå°†è¯»å–åˆ°çš„æ–‡ä»¶æµ buffer <strong>è½¬æ¢ä¸ºæµè§ˆå™¨å¯ä»¥è®¤è¯†çš„ä»£ç ï¼ˆASTï¼‰</strong>ï¼ŒAST è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build-Xmind-Demo2.png" alt="image.png"></p>
<p>å¦å¤–éœ€è¦æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª <code>moduleId</code> å˜é‡ï¼Œæ¥åŒºåˆ†å½“å‰æ“ä½œçš„æ¨¡å—ã€‚<br>åœ¨è¿™é‡Œï¼Œä¸ä»…å°†è¯»å–åˆ°çš„æ–‡ä»¶æµ buffer è½¬æ¢ä¸º AST çš„åŒæ—¶ï¼Œä¹Ÿå°† ES6 ä»£ç è½¬æ¢ä¸º ES5 ä»£ç äº†ã€‚</p>
<h3 id="2-2-æ”¶é›†æ¯ä¸ªæ¨¡å—çš„ä¾èµ–"><a href="#2-2-æ”¶é›†æ¯ä¸ªæ¨¡å—çš„ä¾èµ–" class="headerlink" title="2.2 æ”¶é›†æ¯ä¸ªæ¨¡å—çš„ä¾èµ–"></a>2.2 æ”¶é›†æ¯ä¸ªæ¨¡å—çš„ä¾èµ–</h3><p>æ¥ä¸‹æ¥å£°æ˜ <code>dependencies</code> å˜é‡æ¥ä¿å­˜æ”¶é›†åˆ°çš„æ–‡ä»¶ä¾èµ–è·¯å¾„ï¼Œé€šè¿‡ <code>traverseï¼ˆï¼‰</code> æ–¹æ³•éå† <code>ast</code>ï¼Œè·å–æ¯ä¸ªèŠ‚ç‚¹ä¾èµ–è·¯å¾„ï¼Œå¹¶ <code>push</code> è¿› <code>dependencies</code> æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAssets</span>(<span class="params">filename</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">const</span> dependencies = []; <span class="comment">// ç”¨äºæ”¶é›†æ–‡ä»¶ä¾èµ–çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">  	<span class="comment">// é€šè¿‡ traverse æä¾›çš„æ“ä½œ AST çš„æ–¹æ³•ï¼Œè·å–æ¯ä¸ªèŠ‚ç‚¹çš„ä¾èµ–è·¯å¾„</span></span><br><span class="line">    traverse(ast, &#123;</span><br><span class="line">        <span class="attr">ImportDeclaration</span>: <span class="function">(<span class="params">&#123;node&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">            dependencies.push(node.source.value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-å°†-AST-è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç "><a href="#2-3-å°†-AST-è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç " class="headerlink" title="2.3 å°† AST è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç "></a>2.3 å°† AST è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç </h3><p>åœ¨æ”¶é›†ä¾èµ–çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°† AST ä»£ç è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨åˆ° <code>babel</code> ï¼Œè¿™ä¸ªä¸‡èƒ½çš„å°å®¶ä¼™ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸å¥½ç”¨çš„ <code>transformFromAstSync()</code> æ–¹æ³•ï¼ŒåŒæ­¥çš„å°† AST è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¿è¡Œä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAssets</span>(<span class="params">filename</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">const</span> &#123; code &#125; = babel.transformFromAstSync(ast,<span class="literal">null</span>, &#123;</span><br><span class="line">        <span class="attr">presets</span>: [<span class="string">&quot;@babel/preset-env&quot;</span>]</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">let</span> id = moduleId++; <span class="comment">// è®¾ç½®å½“å‰å¤„ç†çš„æ¨¡å—ID</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        id,</span><br><span class="line">        filename,</span><br><span class="line">        code,</span><br><span class="line">        dependencies</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ <code>node leo_webpack.js</code> ï¼Œè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼ŒåŒ…å«äº†å…¥å£æ–‡ä»¶çš„è·¯å¾„ <code>filename</code>Â  ã€æµè§ˆå™¨å¯æ‰§è¡Œä»£ç  <code>code</code> å’Œæ–‡ä»¶ä¾èµ–çš„è·¯å¾„ <code>dependencies</code> æ•°ç»„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ node leo_webpack.js</span><br><span class="line"></span><br><span class="line">&#123; </span><br><span class="line">  filename: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">  code: <span class="string">&#x27;&quot;use strict&quot;;\n\nvar _info = _interopRequireDefault(require(&quot;./info.js&quot;));\n\nfunction _interopRequireDefault(obj) &#123; return obj &amp;&amp; obj.__esModule ? obj : &#123; &quot;default&quot;: obj &#125;; &#125;\n\nconsole.log(_info[&quot;default&quot;]);&#x27;</span>, </span><br><span class="line">  dependencies: [ <span class="string">&#x27;./info.js&#x27;</span> ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-ä»£ç å°ç»“"><a href="#2-4-ä»£ç å°ç»“" class="headerlink" title="2.4 ä»£ç å°ç»“"></a>2.4 ä»£ç å°ç»“</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> parser = <span class="built_in">require</span>(<span class="string">&quot;@babel/parser&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> traverse = <span class="built_in">require</span>(<span class="string">&quot;@babel/traverse&quot;</span>).default;</span><br><span class="line"><span class="comment">// ç”±äº traverse é‡‡ç”¨çš„ ES Module å¯¼å‡ºï¼Œæˆ‘ä»¬é€šè¿‡ requier å¼•å…¥çš„è¯å°±åŠ ä¸ª .default</span></span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&quot;@babel/core&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> moduleId = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAssets</span>(<span class="params">filename</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> content = fs.readFileSync(filename, <span class="string">&quot;utf-8&quot;</span>); <span class="comment">// æ ¹æ®æ–‡ä»¶åï¼ŒåŒæ­¥è¯»å–æ–‡ä»¶æµ</span></span><br><span class="line">  </span><br><span class="line">  	<span class="comment">// å°†è¯»å–æ–‡ä»¶æµ buffer è½¬æ¢ä¸º AST</span></span><br><span class="line">    <span class="keyword">const</span> ast = parser.parse(content, &#123;</span><br><span class="line">        <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span> <span class="comment">// æŒ‡å®šæºç ç±»å‹</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> dependencies = []; <span class="comment">// ç”¨äºæ”¶é›†æ–‡ä»¶ä¾èµ–çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">  	<span class="comment">// é€šè¿‡ traverse æä¾›çš„æ“ä½œ AST çš„æ–¹æ³•ï¼Œè·å–æ¯ä¸ªèŠ‚ç‚¹çš„ä¾èµ–è·¯å¾„</span></span><br><span class="line">    traverse(ast, &#123;</span><br><span class="line">        <span class="attr">ImportDeclaration</span>: <span class="function">(<span class="params">&#123;node&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">            dependencies.push(node.source.value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  	<span class="comment">// é€šè¿‡ AST å°† ES6 ä»£ç è½¬æ¢æˆ ES5 ä»£ç </span></span><br><span class="line">    <span class="keyword">const</span> &#123; code &#125; = babel.transformFromAstSync(ast,<span class="literal">null</span>, &#123;</span><br><span class="line">        <span class="attr">presets</span>: [<span class="string">&quot;@babel/preset-env&quot;</span>]</span><br><span class="line">    &#125;);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">let</span> id = moduleId++; <span class="comment">// è®¾ç½®å½“å‰å¤„ç†çš„æ¨¡å—ID</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      	id,</span><br><span class="line">        filename,</span><br><span class="line">        code,</span><br><span class="line">        dependencies</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-å®ç°-createGraph-å‡½æ•°"><a href="#3-å®ç°-createGraph-å‡½æ•°" class="headerlink" title="3. å®ç° createGraph å‡½æ•°"></a>3. å®ç° createGraph å‡½æ•°</h2><p>åœ¨ <code>createGraph()</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†é€’å½’æ‰€æœ‰ä¾èµ–æ¨¡å—ï¼Œå¾ªç¯åˆ†ææ¯ä¸ªä¾èµ–æ¨¡å—ä¾èµ–ï¼Œç”Ÿæˆä¸€ä»½ä¾èµ–å›¾è°±ã€‚<br>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œæˆ‘ä»¬è¡¥å……ä¸‹ <code>consts.js</code> å’Œ <code>info.js</code> æ–‡ä»¶çš„ä»£ç ï¼Œå¢åŠ ä¸€äº›ä¾èµ–å…³ç³»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/consts.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> company = <span class="string">&quot;å¹³å®‰&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// src/info.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; company &#125; <span class="keyword">from</span> <span class="string">&quot;./consts.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">`ä½ å¥½ï¼Œ<span class="subst">$&#123;company&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å¼€å§‹å®ç° <code>createGraph()</code> å‡½æ•°ï¼Œå®ƒéœ€è¦æ¥æ”¶ä¸€ä¸ªå…¥å£æ–‡ä»¶çš„è·¯å¾„ï¼ˆ <code>entry</code> ï¼‰ä½œä¸ºå‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createGraph</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> mainAsset = createAssets(entry); <span class="comment">// è·å–å…¥å£æ–‡ä»¶ä¸‹çš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">const</span> queue = [mainAsset]; <span class="comment">// å…¥å£æ–‡ä»¶çš„ç»“æœä½œä¸ºç¬¬ä¸€é¡¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">const</span> asset <span class="keyword">of</span> queue)&#123;</span><br><span class="line">        <span class="keyword">const</span> dirname = path.dirname(asset.filename);</span><br><span class="line">        asset.mapping = &#123;&#125;;</span><br><span class="line">        asset.dependencies.forEach(<span class="function"><span class="params">relativePath</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> absolutePath = path.join(dirname, relativePath); <span class="comment">// è½¬æ¢æ–‡ä»¶è·¯å¾„ä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line">            <span class="keyword">const</span> child = createAssets(absolutePath);</span><br><span class="line">            asset.mapping[relativePath] = child.id; <span class="comment">// ä¿å­˜æ¨¡å—ID </span></span><br><span class="line">            queue.push(child); <span class="comment">// é€’å½’å»éå†æ‰€æœ‰å­èŠ‚ç‚¹çš„æ–‡ä»¶</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ï¼š</p>
<p>é¦–å…ˆé€šè¿‡ <code>createAssets()</code> å‡½æ•°è¯»å–å…¥å£æ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶ä½œä¸ºä¾èµ–å…³ç³»çš„é˜Ÿåˆ—ï¼ˆä¾èµ–å›¾è°±ï¼‰ <code>queue</code> æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œæ¥ç€éå†ä¾èµ–å›¾è°± <code>queue</code> æ¯ä¸€é¡¹ï¼Œå†éå†å°†æ¯ä¸€é¡¹ä¸­çš„ä¾èµ– <code>dependencies</code> ä¾èµ–æ•°ç»„ï¼Œå°†ä¾èµ–ä¸­çš„æ¯ä¸€é¡¹æ‹¼æ¥æˆä¾èµ–çš„ç»å¯¹è·¯å¾„ï¼ˆ<code>absolutePath</code> ï¼‰ï¼Œä½œä¸º <code>createAssets()</code> å‡½æ•°è°ƒç”¨çš„å‚æ•°ï¼Œé€’å½’å»éå†æ‰€æœ‰å­èŠ‚ç‚¹çš„æ–‡ä»¶ï¼Œå¹¶å°†ç»“æœéƒ½ä¿å­˜åœ¨ä¾èµ–å›¾è°± <code>queue</code> ä¸­ã€‚</p>
<p>æ³¨æ„ï¼Œ <code>mapping</code> å¯¹è±¡æ˜¯ç”¨æ¥ä¿å­˜æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„å’Œæ¨¡å— ID çš„å¯¹åº”å…³ç³»ï¼Œåœ¨ <code>mapping</code> å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¾èµ–æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ä½œä¸º <code>key</code> ï¼Œæ¥å­˜å‚¨ä¿å­˜æ¨¡å— IDã€‚</p>
<p>ç„¶åæˆ‘ä»¬ä¿®æ”¹å¯åŠ¨å‡½æ•°ï¼š</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// leo_webpack.js</span><br><span class="line"></span><br><span class="line"><span class="deletion">- const result = createAssets(&#x27;./src/index.js&#x27;);</span></span><br><span class="line"><span class="addition">+ const graph = createGraph(&quot;./src/index.js&quot;);</span></span><br><span class="line"><span class="addition">+ console.log(graph);</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä»½åŒ…å«æ‰€æœ‰æ–‡ä»¶ä¾èµ–å…³ç³»çš„ä¾èµ–å›¾è°±ï¼š</p>
<p><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build-Xmind-Demo3.png" alt="image.png"></p>
<p>è¿™ä¸ªä¾èµ–å›¾è°±ï¼ŒåŒ…å«äº†æ‰€æœ‰æ–‡ä»¶æ¨¡å—çš„ä¾èµ–ï¼Œä»¥åŠæ¨¡å—çš„ä»£ç å†…å®¹ã€‚ä¸‹ä¸€æ­¥åªè¦å®ç° <code>bundle()</code> å‡½æ•°ï¼Œå°†ç»“æœè¾“å‡ºå³å¯ã€‚</p>
<h2 id="4-å®ç°-bundle-å‡½æ•°"><a href="#4-å®ç°-bundle-å‡½æ•°" class="headerlink" title="4. å®ç° bundle å‡½æ•°"></a>4. å®ç° bundle å‡½æ•°</h2><p>ä»å‰é¢ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•° <code>createGraph()</code> ä¼šè¿”å›ä¸€ä¸ªåŒ…å«æ¯ä¸ªä¾èµ–ç›¸å…³ä¿¡æ¯ï¼ˆid / filename / code / dependenciesï¼‰çš„ä¾èµ–å›¾è°± <code>queue</code>ï¼Œè¿™ä¸€æ­¥å°±å°†ä½¿ç”¨åˆ°å®ƒäº†ã€‚</p>
<p>åœ¨ <code>bundle()</code> å‡½æ•°ä¸­ï¼Œæ¥æ”¶ä¸€ä¸ªä¾èµ–å›¾è°± <code>graph</code> ä½œä¸ºå‚æ•°ï¼Œæœ€åè¾“å‡ºç¼–è¯‘åçš„ç»“æœã€‚</p>
<h3 id="4-1-è¯»å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯"><a href="#4-1-è¯»å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯" class="headerlink" title="4.1 è¯»å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯"></a>4.1 è¯»å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯</h3><p>æˆ‘ä»¬é¦–å…ˆå£°æ˜ä¸€ä¸ªå˜é‡ <code>modules</code>ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç„¶åå¯¹å‚æ•° <code>graph</code> è¿›è¡Œéå†ï¼Œå°†æ¯ä¸€é¡¹ä¸­çš„ <code>id</code> å±æ€§ä½œä¸º <code>key</code> ï¼Œå€¼ä¸ºä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç”¨æ¥æ‰§è¡Œä»£ç  <code>code</code> çš„æ–¹æ³•å’Œåºåˆ—åŒ–åçš„ <code>mapping</code>ï¼Œæœ€åæ‹¼æ¥åˆ° <code>modules</code> ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bundle</span>(<span class="params">graph</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> modules = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    graph.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        modules += <span class="string">`</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;item.id&#125;</span>: [</span></span><br><span class="line"><span class="string">                function (require, module, exports)&#123;</span></span><br><span class="line"><span class="string">                    <span class="subst">$&#123;item.code&#125;</span></span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(item.mapping)&#125;</span></span></span><br><span class="line"><span class="string">            ],</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ï¼š</p>
<p>åœ¨ <code>modules</code> ä¸­æ¯ä¸€é¡¹çš„å€¼ä¸­ï¼Œä¸‹æ ‡ä¸º 0 çš„å…ƒç´ æ˜¯ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸‰ä¸ªå‚æ•° <code>require</code> / <code>module</code> / <code>exports</code> ï¼Œä¸ºä»€ä¹ˆä¼šéœ€è¦è¿™ä¸‰ä¸ªå‚æ•°å‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯ï¼šæ„å»ºå·¥å…·æ— æ³•åˆ¤æ–­æ˜¯å¦æ”¯æŒ<code>require</code> / <code>module</code> / <code>exports</code> è¿™ä¸‰ç§æ¨¡å—æ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å®ç°ï¼ˆåé¢æ­¥éª¤ä¼šå®ç°ï¼‰ï¼Œç„¶åæ–¹æ³•å†…çš„ <code>code</code> æ‰èƒ½æ­£å¸¸æ‰§è¡Œã€‚</p>
<h3 id="4-2-è¿”å›æœ€ç»ˆç»“æœ"><a href="#4-2-è¿”å›æœ€ç»ˆç»“æœ" class="headerlink" title="4.2 è¿”å›æœ€ç»ˆç»“æœ"></a>4.2 è¿”å›æœ€ç»ˆç»“æœ</h3><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥å®ç° <code>bundle()</code> å‡½æ•°è¿”å›å€¼çš„å¤„ç†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bundle</span>(<span class="params">graph</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        (function(modules)&#123;</span></span><br><span class="line"><span class="string">            function require(id)&#123;</span></span><br><span class="line"><span class="string">                const [fn, mapping] = modules[id];</span></span><br><span class="line"><span class="string">                function localRequire(relativePath)&#123;</span></span><br><span class="line"><span class="string">                    return require(mapping[relativePath]);</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                const module = &#123;</span></span><br><span class="line"><span class="string">                    exports: &#123;&#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                fn(localRequire, module, module.exports);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                return module.exports;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            require(0);</span></span><br><span class="line"><span class="string">        &#125;)(&#123;<span class="subst">$&#123;modules&#125;</span>&#125;)</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ï¼š</p>
<p>æœ€ç»ˆ <code>bundle</code> å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%AB%8B%E5%8D%B3%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F">è‡ªæ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰</a>ï¼Œå…¶ä¸­å‡½æ•°å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ <code>key</code> ä¸º <code>modules</code> ï¼Œ <code>value</code> ä¸ºå‰é¢æ‹¼æ¥å¥½çš„ <code>modules</code> å­—ç¬¦ä¸²ï¼Œå³ <code>&#123;modules: moduleså­—ç¬¦ä¸²&#125;</code> ã€‚</p>
<p>åœ¨è¿™ä¸ªè‡ªæ‰§è¡Œå‡½æ•°ä¸­ï¼Œå®ç°äº† <code>require</code> æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ª <code>id</code> ä½œä¸ºå‚æ•°ï¼Œåœ¨æ–¹æ³•å†…éƒ¨ï¼Œåˆ†åˆ«å®ç°äº† <code>localRequire</code> / <code>module</code> / <code>modules.exports</code> ä¸‰ä¸ªæ–¹æ³•ï¼Œå¹¶ä½œä¸ºå‚æ•°ï¼Œä¼ åˆ° <code>modules[id]</code> ä¸­çš„ <code>fn</code> æ–¹æ³•ä¸­ï¼Œæœ€ååˆå§‹åŒ– <code>require()</code> å‡½æ•°ï¼ˆ<code>require(0);</code>ï¼‰ã€‚</p>
<h3 id="4-3-ä»£ç å°ç»“"><a href="#4-3-ä»£ç å°ç»“" class="headerlink" title="4.3 ä»£ç å°ç»“"></a>4.3 ä»£ç å°ç»“</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bundle</span>(<span class="params">graph</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> modules = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    graph.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        modules += <span class="string">`</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;item.id&#125;</span>: [</span></span><br><span class="line"><span class="string">                function (require, module, exports)&#123;</span></span><br><span class="line"><span class="string">                    <span class="subst">$&#123;item.code&#125;</span></span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(item.mapping)&#125;</span></span></span><br><span class="line"><span class="string">            ],</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        (function(modules)&#123;</span></span><br><span class="line"><span class="string">            function require(id)&#123;</span></span><br><span class="line"><span class="string">                const [fn, mapping] = modules[id];</span></span><br><span class="line"><span class="string">                function localRequire(relativePath)&#123;</span></span><br><span class="line"><span class="string">                    return require(mapping[relativePath]);</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                const module = &#123;</span></span><br><span class="line"><span class="string">                    exports: &#123;&#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                fn(localRequire, module, module.exports);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                return module.exports;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            require(0);</span></span><br><span class="line"><span class="string">        &#125;)(&#123;<span class="subst">$&#123;modules&#125;</span>&#125;)</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-æ‰§è¡Œä»£ç "><a href="#5-æ‰§è¡Œä»£ç " class="headerlink" title="5. æ‰§è¡Œä»£ç "></a>5. æ‰§è¡Œä»£ç </h2><p>å½“æˆ‘ä»¬ä¸Šé¢æ–¹æ³•éƒ½å®ç°ä»¥åï¼Œå°±å¼€å§‹è¯•è¯•å§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> graph = createGraph(<span class="string">&quot;./src/index.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> result = bundle(graph);</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™å¯ä»¥çœ‹åˆ°ç»ˆç«¯è¾“å‡ºç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼Œæ˜¯å­—ç¬¦ä¸²ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹è€Œå¤åˆ¶åˆ°æ§åˆ¶å°äº†ï¼š</p>
<p><img src="http://images.pingan8787.com/Webpack-Build/Webpack-Build-Xmind-Demo4.png" alt="image.png"></p>
<p>è¿™å°±æ˜¯æ‰“åŒ…åçš„ä»£ç å’¯~</p>
<p>é‚£ä¹ˆå¦‚ä½•è®©è¿™äº›ä»£ç æ‰§è¡Œå‘¢ï¼Ÿç”¨ <code>eval()</code> æ–¹æ³•å’¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// leo_webpack.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> graph = createGraph(<span class="string">&quot;./src/index.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> result = bundle(graph);</span><br><span class="line"><span class="built_in">eval</span>(result);</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™å°±èƒ½çœ‹åˆ°æ§åˆ¶å°è¾“å‡º <code>ä½ å¥½ï¼Œå¹³å®‰</code> ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å®Œæˆä¸€ä¸ªç®€å•çš„ Webpack æ„å»ºå·¥å…·å•¦~</p>
<p>èƒ½çœ‹åˆ°è¿™é‡Œçš„æœ‹å‹ï¼Œä¸ºä½ ç‚¹ä¸ªèµ~</p>
<h1 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h1><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº† Webpack çš„æ„å»ºæµç¨‹å’Œæ„å»ºåŸç†ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå’Œå¤§å®¶åˆ†äº«äº†æ‰‹å†™ Webpack çš„å®ç°è¿‡ç¨‹ï¼Œå¸Œæœ›å¤§å®¶å¯¹ Webpack æ„å»ºæµç¨‹èƒ½æœ‰æ›´æ·±äº†è§£ï¼Œæ¯•ç«Ÿé¢è¯•è´¼å–œæ¬¢é—®å•¦~</p>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#113;&#46;&#99;&#x6f;&#109;">&#112;&#x69;&#110;&#103;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#113;&#46;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/06/211-%E3%80%90Webpack%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84Webpack%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" data-id="ckts3ejyx00nc4d9kaizk29a3" data-title="211-ã€Webpackã€‘äº†ä¸èµ·çš„Webpackæ„å»ºæµç¨‹å­¦ä¹ æŒ‡å—" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-210-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„WeakMapã€‹ç•ªå¤–ç¯‡" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/06/210-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84WeakMap%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/" class="article-date">
  <time class="dt-published" datetime="2020-07-06T04:42:35.000Z" itemprop="datePublished">2020-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/06/210-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84WeakMap%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/">210-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„WeakMapã€‹ç•ªå¤–ç¯‡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å­¦ä¹ æ—¶é—´ï¼š2020.05.26</p>
<p>å­¦ä¹ ç« èŠ‚ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/5ecd1ad3e51d45784c52db73">ã€Šä½ ä¸çŸ¥é“çš„ WeakMapã€‹</a></p>
<h1 id="ä¸€ã€ä¸»è¦çŸ¥è¯†ç‚¹"><a href="#ä¸€ã€ä¸»è¦çŸ¥è¯†ç‚¹" class="headerlink" title="ä¸€ã€ä¸»è¦çŸ¥è¯†ç‚¹"></a>ä¸€ã€ä¸»è¦çŸ¥è¯†ç‚¹</h1><p>åŸæ–‡ä¸»è¦å¤ä¹ äº†â€œJavaScriptåƒåœ¾å›æ”¶æœºåˆ¶â€ï¼Œâ€œMap/WeakMapåŒºåˆ«â€å’Œâ€œWeakMap å±æ€§å’Œæ–¹æ³•â€ã€‚è¿™å¾ˆå¥½å¼¥è¡¥è¢«æˆ‘å¿½è§†çš„çŸ¥è¯†ç‚¹ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸæ–‡ï¼Œä»¥ç›¸åŒæ–¹å¼å†å»å­¦ Set/WeakSetï¼Œæ•ˆæœä¼šæ›´å¥½ï¼Œæœ¬æ–‡åé¢ä¹Ÿä¼šä»‹ç»åˆ°ã€‚</p>
<p><strong>æ€»ç»“å¼€å§‹ï¼Œå…ˆçœ‹åŸæ–‡å¤§çº²ï¼š</strong></p>
<p><img src="http://images.pingan8787.com/blog/you-dont-know-WeakMap/xmind.png" alt="image.png"></p>
<p>åœ¨å¼€å§‹ä»‹ç» WeakMap ä¹‹å‰ï¼Œå…ˆå¤ä¹ ä¸€é JavaScript ä¸­åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œè¿™è·Ÿåé¢çš„ WeakMap/WeakSet å…³ç³»è¾ƒå¤§ã€‚</p>
<h2 id="1-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#1-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="1. åƒåœ¾å›æ”¶æœºåˆ¶"></a>1. åƒåœ¾å›æ”¶æœºåˆ¶</h2><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)">åƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼Œç¼©å†™ä¸ºGCï¼‰</a>æ˜¯ä¸€ç§è‡ªåŠ¨çš„å­˜å‚¨å™¨ç®¡ç†æœºåˆ¶ã€‚å½“æŸä¸ªç¨‹åºå ç”¨çš„ä¸€éƒ¨åˆ†å†…å­˜ç©ºé—´ä¸å†è¢«è¿™ä¸ªç¨‹åºè®¿é—®æ—¶ï¼Œè¿™ä¸ªç¨‹åºä¼šå€ŸåŠ©åƒåœ¾å›æ”¶ç®—æ³•å‘æ“ä½œç³»ç»Ÿå½’è¿˜è¿™éƒ¨åˆ†å†…å­˜ç©ºé—´ã€‚åƒåœ¾å›æ”¶å™¨å¯ä»¥å‡è½»ç¨‹åºå‘˜çš„è´Ÿæ‹…ï¼Œä¹Ÿå‡å°‘ç¨‹åºä¸­çš„é”™è¯¯ã€‚åƒåœ¾å›æ”¶æœ€æ—©èµ·æºäºLISPè¯­è¨€ã€‚<br>ç›®å‰è®¸å¤šè¯­è¨€å¦‚Smalltalkã€Javaã€C#å’ŒDè¯­è¨€éƒ½æ”¯æŒåƒåœ¾å›æ”¶å™¨ï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„ JavaScript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p>
<p><strong>åœ¨ JavaScript ä¸­ï¼ŒåŸå§‹ç±»å‹çš„æ•°æ®è¢«åˆ†é…åˆ°æ ˆç©ºé—´ä¸­ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®ä¼šè¢«åˆ†é…åˆ°å †ç©ºé—´ä¸­</strong>ã€‚</p>
<h3 id="1-1-æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"><a href="#1-1-æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶" class="headerlink" title="1.1 æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"></a>1.1 æ ˆç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶</h3><p>å½“å‡½æ•° <code>showName</code> è°ƒç”¨å®Œæˆåï¼Œé€šè¿‡ä¸‹ç§» <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/esp/35173">ESPï¼ˆExtended Stack Pointerï¼‰</a>æŒ‡é’ˆï¼Œæ¥é”€æ¯ <code>showName</code> å‡½æ•°ï¼Œä¹‹åè°ƒç”¨å…¶ä»–å‡½æ•°æ—¶ï¼Œå°†è¦†ç›–æ‰æ—§å†…å­˜ï¼Œå­˜æ”¾å¦ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ç°åƒåœ¾å›æ”¶ã€‚<br><img src="http://images.pingan8787.com/blog/you-dont-know-WeakMap/ESP.png" alt="image.png"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<h3 id="1-2-å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"><a href="#1-2-å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶" class="headerlink" title="1.2 å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶"></a>1.2 å †ç©ºé—´ä¸­çš„åƒåœ¾å›æ”¶</h3><p>å †ä¸­æ•°æ®åƒåœ¾å›æ”¶ç­–ç•¥çš„åŸºç¡€æ˜¯ï¼š<a target="_blank" rel="noopener" href="https://plumbr.io/handbook/garbage-collection-in-java/generational-hypothesis"><strong>ä»£é™…å‡è¯´</strong>ï¼ˆThe Generational Hypothesisï¼‰</a>ã€‚å³ï¼š</p>
<ol>
<li>å¤§éƒ¨åˆ†å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜åœ¨æ—¶é—´æçŸ­ï¼Œå¾ˆå¤šå¯¹è±¡å¾ˆå¿«å°±ä¸å¯è®¿é—®ã€‚</li>
<li>ä¸æ­»çš„å¯¹è±¡å°†æ´»å¾—æ›´ä¹…ã€‚</li>
</ol>
<p>è¿™ä¸¤ä¸ªç‰¹ç‚¹ä¸ä»…ä»…é€‚ç”¨äº JavaScriptï¼ŒåŒæ ·é€‚ç”¨äºå¤§å¤šæ•°çš„åŠ¨æ€è¯­è¨€ï¼Œå¦‚ Javaã€Python ç­‰ã€‚</p>
<p>V8 å¼•æ“å°†å †ç©ºé—´åˆ†ä¸º<strong>æ–°ç”Ÿä»£</strong>ï¼ˆå­˜æ”¾ç”Ÿå­˜<strong>æ—¶é—´çŸ­</strong>çš„å¯¹è±¡ï¼‰å’Œ<strong>è€ç”Ÿä»£</strong>ï¼ˆå­˜æ”¾ç”Ÿå­˜<strong>æ—¶é—´é•¿</strong>çš„å¯¹è±¡ï¼‰ä¸¤ä¸ªåŒºåŸŸï¼Œå¹¶ä½¿ç”¨ä¸åŒçš„åƒåœ¾å›æ”¶å™¨ã€‚</p>
<ul>
<li>å‰¯åƒåœ¾å›æ”¶å™¨ï¼Œä¸»è¦è´Ÿè´£æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li>
<li>ä¸»åƒåœ¾å›æ”¶å™¨ï¼Œä¸»è¦è´Ÿè´£è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li>
</ul>
<p>ä¸ç®¡æ˜¯å“ªç§åƒåœ¾å›æ”¶å™¨ï¼Œéƒ½ä½¿ç”¨ç›¸åŒåƒåœ¾å›æ”¶æµç¨‹ï¼š<strong>æ ‡è®°æ´»åŠ¨å¯¹è±¡å’Œéæ´»åŠ¨å¯¹è±¡ï¼Œå›æ”¶éæ´»åŠ¨å¯¹è±¡çš„å†…å­˜ï¼Œæœ€åå†…å­˜æ•´ç†</strong>ã€‚</p>
<h4 id="1-2-1-å‰¯åƒåœ¾å›æ”¶å™¨"><a href="#1-2-1-å‰¯åƒåœ¾å›æ”¶å™¨" class="headerlink" title="1.2.1 å‰¯åƒåœ¾å›æ”¶å™¨"></a>1.2.1 å‰¯åƒåœ¾å›æ”¶å™¨</h4><p>ä½¿ç”¨ Scavenge ç®—æ³•å¤„ç†ï¼Œå°†æ–°ç”Ÿä»£ç©ºé—´å¯¹åŠåˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸï¼Œä¸€ä¸ªå¯¹è±¡åŒºåŸŸï¼Œä¸€ä¸ªç©ºé—²åŒºåŸŸã€‚<br><img src="http://images.pingan8787.com/blog/you-dont-know-WeakMap/Scavenge.png" alt="image.png"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<p>æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li>æ–°å¯¹è±¡å­˜åœ¨åœ¨<strong>å¯¹è±¡åŒºåŸŸ</strong>ï¼Œå½“å¯¹è±¡åŒºåŸŸå°†è¦å†™æ»¡æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡åƒåœ¾å›æ”¶ï¼›</li>
<li>åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆå¯¹å¯¹è±¡åŒºåŸŸä¸­çš„åƒåœ¾åšæ ‡è®°ï¼Œç„¶åå‰¯åƒåœ¾å›æ”¶å™¨å°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶å¹¶æœ‰åºæ’åˆ—åˆ°ç©ºé—²åŒºåŸŸï¼Œç›¸å½“äºå®Œæˆå†…å­˜æ•´ç†ã€‚</li>
<li>å¤åˆ¶å®Œæˆåï¼Œå°†å¯¹è±¡åŒºåŸŸå’Œç©ºé—²åŒºåŸŸç¿»è½¬ï¼Œå®Œæˆåƒåœ¾å›æ”¶æ“ä½œï¼Œè¿™ä¹Ÿè®©æ–°ç”Ÿä»£ä¸­ä¸¤å—åŒºåŸŸæ— é™é‡å¤ä½¿ç”¨ã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œè¿™ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼šè‹¥å¤åˆ¶æ“ä½œçš„æ•°æ®è¾ƒå¤§åˆ™å½±å“æ¸…ç†æ•ˆç‡ã€‚</p>
<p>JavaScript å¼•æ“çš„è§£å†³æ–¹å¼æ˜¯ï¼šå°†æ–°ç”Ÿä»£åŒºåŸŸè®¾ç½®å¾—æ¯”è¾ƒå°ï¼Œå¹¶é‡‡ç”¨å¯¹è±¡æ™‹å‡ç­–ç•¥ï¼ˆç»è¿‡ä¸¤æ¬¡å›æ”¶ä»å­˜æ´»çš„å¯¹è±¡ï¼Œä¼šè¢«ç§»åŠ¨åˆ°è€ç”ŸåŒºï¼‰ï¼Œé¿å…å› ä¸ºæ–°ç”Ÿä»£åŒºåŸŸè¾ƒå°å¼•èµ·å­˜æ´»å¯¹è±¡è£…æ»¡æ•´ä¸ªåŒºåŸŸçš„é—®é¢˜ã€‚</p>
<h4 id="1-2-2-ä¸»åƒåœ¾å›æ”¶å™¨"><a href="#1-2-2-ä¸»åƒåœ¾å›æ”¶å™¨" class="headerlink" title="1.2.2 ä¸»åƒåœ¾å›æ”¶å™¨"></a>1.2.2 ä¸»åƒåœ¾å›æ”¶å™¨</h4><p>åˆ†ä¸ºï¼š<strong>æ ‡è®° - æ¸…é™¤ï¼ˆMark-Sweepï¼‰ç®—æ³•</strong>ï¼Œå’Œ<strong>æ ‡è®° - æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³•</strong>ã€‚</p>
<p><strong>a)æ ‡è®° - æ¸…é™¤ï¼ˆMark-Sweepï¼‰ç®—æ³•</strong><br><strong>è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>æ ‡è®°è¿‡ç¨‹ï¼šä»ä¸€ç»„æ ¹å…ƒç´ å¼€å§‹éå†æ•´ä¸ªå…ƒç´ ï¼Œèƒ½åˆ°è¾¾çš„å…ƒç´ ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåä¹‹ä¸ºåƒåœ¾æ•°æ®ï¼›</li>
<li>æ¸…é™¤è¿‡ç¨‹ï¼šæ¸…ç†è¢«æ ‡è®°çš„æ•°æ®ï¼Œå¹¶äº§ç”Ÿå¤§é‡ç¢ç‰‡å†…å­˜ã€‚ï¼ˆç¼ºç‚¹ï¼šå¯¼è‡´å¤§å¯¹è±¡æ— æ³•åˆ†é…åˆ°è¶³å¤Ÿçš„è¿ç»­å†…å­˜ï¼‰</li>
</ul>
<p><img src="http://images.pingan8787.com/blog/you-dont-know-WeakMap/Mark-Sweep.png" alt="image.png"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<p><strong>b)æ ‡è®° - æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³•</strong><br><strong>è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>æ ‡è®°è¿‡ç¨‹ï¼šä»ä¸€ç»„æ ¹å…ƒç´ å¼€å§‹éå†æ•´ä¸ªå…ƒç´ ï¼Œèƒ½åˆ°è¾¾çš„å…ƒç´ ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåä¹‹ä¸ºåƒåœ¾æ•°æ®ï¼›</li>
<li>æ•´ç†è¿‡ç¨‹ï¼šå°†æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œå‘ä¸€æ®µç§»åŠ¨ï¼Œç„¶åæ¸…é™¤ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å®¹ã€‚</li>
</ul>
<p><img src="http://images.pingan8787.com/blog/you-dont-know-WeakMap/Mark-Compact.png" alt="image.png"><br>å›¾ç‰‡æ¥è‡ªã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹</p>
<h3 id="1-3-æ‹“å±•é˜…è¯»"><a href="#1-3-æ‹“å±•é˜…è¯»" class="headerlink" title="1.3 æ‹“å±•é˜…è¯»"></a>1.3 æ‹“å±•é˜…è¯»</h3><p>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/justloveyou_/article/details/71216049">ã€Šå›¾è§£Java åƒåœ¾å›æ”¶æœºåˆ¶ã€‹</a><br>2.<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management">ã€ŠMDN å†…å­˜ç®¡ç†ã€‹</a></p>
<h2 id="2-Map-VS-WeakMap"><a href="#2-Map-VS-WeakMap" class="headerlink" title="2. Map VS WeakMap"></a>2. Map VS WeakMap</h2><h3 id="2-1-Map-å’Œ-WeakMap-ä¸»è¦åŒºåˆ«"><a href="#2-1-Map-å’Œ-WeakMap-ä¸»è¦åŒºåˆ«" class="headerlink" title="2.1 Map å’Œ WeakMap ä¸»è¦åŒºåˆ«"></a>2.1 Map å’Œ WeakMap ä¸»è¦åŒºåˆ«</h3><p><code>WeakMap</code> ç»“æ„ä¸ <code>Map</code> ç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li><p><code>Map</code> Â å¯¹è±¡çš„é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä½† <code>WeakMap</code> Â å¯¹è±¡ä¸­çš„é”®åªèƒ½æ˜¯å¯¹è±¡å¼•ç”¨ï¼ˆ <code>null</code> é™¤å¤–ï¼‰ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line">map.set(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">// TypeError: 1 is not an object!</span></span><br><span class="line">map.set(<span class="built_in">Symbol</span>(), <span class="number">2</span>)</span><br><span class="line"><span class="comment">// TypeError: Invalid value used as weak map key</span></span><br><span class="line">map.set(<span class="literal">null</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">// TypeError: Invalid value used as weak map key</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>WeakMap</code> Â ä¸èƒ½åŒ…å«æ— å¼•ç”¨çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šè¢«è‡ªåŠ¨æ¸…é™¤å‡ºé›†åˆï¼ˆåƒåœ¾å›æ”¶æœºåˆ¶ï¼‰ï¼›</p>
</li>
<li><p><code>WeakMap</code> Â å¯¹è±¡æ²¡æœ‰ <code>size</code> å±æ€§ï¼Œæ˜¯ä¸å¯æšä¸¾çš„ï¼Œæ— æ³•è·å–é›†åˆçš„å¤§å°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="keyword">const</span> user1 = &#123;<span class="attr">name</span>: <span class="string">&#x27;leo&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> user2 = &#123;<span class="attr">name</span>: <span class="string">&#x27;pingan&#x27;</span>&#125;;</span><br><span class="line">map.set(user1, <span class="string">&#x27;good~&#x27;</span>);</span><br><span class="line">map.set(user2, <span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">map.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">console</span>.log(item))</span><br><span class="line"><span class="comment">//Uncaught TypeError: map.map is not a function</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-Map-ç¼ºç‚¹å’Œ-WeakMap-ä¼˜ç‚¹"><a href="#2-2-Map-ç¼ºç‚¹å’Œ-WeakMap-ä¼˜ç‚¹" class="headerlink" title="2.2 Map ç¼ºç‚¹å’Œ WeakMap ä¼˜ç‚¹"></a>2.2 Map ç¼ºç‚¹å’Œ WeakMap ä¼˜ç‚¹</h3><p>1.èµ‹å€¼å’Œæœç´¢æ“ä½œéƒ½æ˜¯ O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ“ä½œéƒ½éœ€è¦éå†å…¨éƒ¨æ•´ä¸ªæ•°ç»„æ¥è¿›è¡ŒåŒ¹é…ã€‚</p>
<p>2.å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå› ä¸ºæ•°ç»„ä¼šä¸€ç›´å¼•ç”¨ç€æ¯ä¸ªé”®å’Œå€¼ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ <code>WeakMap</code> Â æŒæœ‰çš„æ˜¯æ¯ä¸ªé”®å¯¹è±¡çš„ â€œå¼±å¼•ç”¨â€ï¼Œè¿™æ„å‘³ç€åœ¨æ²¡æœ‰å…¶ä»–å¼•ç”¨å­˜åœ¨æ—¶åƒåœ¾å›æ”¶èƒ½æ­£ç¡®è¿›è¡Œã€‚ åŸç”Ÿ <code>WeakMap </code> çš„ç»“æ„æ˜¯ç‰¹æ®Šä¸”æœ‰æ•ˆçš„ï¼Œå…¶ç”¨äºæ˜ å°„çš„ key åªæœ‰åœ¨å…¶æ²¡æœ‰è¢«å›æ”¶æ—¶æ‰æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h3 id="2-3-Map-å’Œ-WeakMap-åƒåœ¾å›æ”¶å¯¹æ¯”"><a href="#2-3-Map-å’Œ-WeakMap-åƒåœ¾å›æ”¶å¯¹æ¯”" class="headerlink" title="2.3 Map å’Œ WeakMap åƒåœ¾å›æ”¶å¯¹æ¯”"></a>2.3 Map å’Œ WeakMap åƒåœ¾å›æ”¶å¯¹æ¯”</h3><p>å½“æ•°æ®é‡è¶Šå¤§ï¼Œåˆ™åƒåœ¾å›æ”¶æ•ˆæœè¶Šæ˜æ˜¾ã€‚</p>
<p>é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ <code>node --expose-gc weakmap.js</code> æŸ¥çœ‹å¯¹æ¯”æ•ˆæœã€‚</p>
<p>å…¶ä¸­ <code>--expose-gc</code> å‚æ•°è¡¨ç¤ºå…è®¸æ‰‹åŠ¨æ‰§è¡Œåƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// weakmap.js</span></span><br><span class="line"><span class="keyword">const</span> objNum = <span class="number">10</span> * <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">const</span> useType = <span class="number">1</span>; <span class="comment">// ä¿®æ”¹ useType å€¼æ¥æµ‹è¯•Mapå’ŒWeakMap</span></span><br><span class="line"><span class="keyword">const</span> curType = useType == <span class="number">1</span> ?<span class="string">&quot;ã€Mapã€‘&quot;</span> : <span class="string">&quot;ã€WeakMapã€‘&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(objNum);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">usageSize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> used = process.memoryUsage().heapUsed;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.round((used / <span class="number">1024</span> / <span class="number">1024</span>) * <span class="number">100</span>) / <span class="number">100</span> + <span class="string">&quot;M&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (useType == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    map.set(arr, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    arr = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    arr = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="3-WeakMapä»‹ç»å’Œåº”ç”¨"><a href="#3-WeakMapä»‹ç»å’Œåº”ç”¨" class="headerlink" title="3. WeakMapä»‹ç»å’Œåº”ç”¨"></a>3. WeakMapä»‹ç»å’Œåº”ç”¨</h2><h3 id="3-1-WeakMap-ä»‹ç»"><a href="#3-1-WeakMap-ä»‹ç»" class="headerlink" title="3.1 WeakMap ä»‹ç»"></a>3.1 WeakMap ä»‹ç»</h3><p><code>WeakMap</code>  å¯¹è±¡æ˜¯ä¸€ç»„é”®/å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­çš„é”®æ˜¯ <strong>å¼±å¼•ç”¨</strong> çš„ã€‚</p>
<p><strong>WeakMap çš„ key åªèƒ½æ˜¯ Object ç±»å‹</strong>ã€‚</p>
<p><strong>åŸå§‹æ•°æ®ç±»å‹æ˜¯ä¸èƒ½ä½œä¸º key çš„ï¼ˆæ¯”å¦‚ Symbolï¼‰</strong>ã€‚</p>
<p><code>WeakMap</code>åªæœ‰å››ä¸ªæ–¹æ³•å¯ç”¨ï¼š<code>get()</code>ã€<code>set()</code>ã€<code>has()</code>ã€<code>delete()</code>ã€‚</p>
<p>å…·ä½“å±æ€§å’Œæ–¹æ³•ä»‹ç»ï¼Œå¯æŸ¥çœ‹ ã€Š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakMap">MDN WeakMap</a>ã€‹ã€‚</p>
<h3 id="3-2-WeakMap-åº”ç”¨"><a href="#3-2-WeakMap-åº”ç”¨" class="headerlink" title="3.2 WeakMap åº”ç”¨"></a>3.2 WeakMap åº”ç”¨</h3><p>åŸæ–‡ä¸­ä»‹ç»äº†â€œé€šè¿‡ WeakMap ç¼“å­˜è®¡ç®—ç»“æœâ€å’Œâ€œåœ¨ WeakMap ä¸­ä¿ç•™ç§æœ‰æ•°æ®â€ä¸¤ç§åº”ç”¨åœºæ™¯ã€‚</p>
<p>å¦å¤–è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼š<strong>ä»¥ DOMèŠ‚ç‚¹ä½œä¸ºé”®åçš„åœºæ™¯</strong>ã€‚</p>
<p><strong>åœºæ™¯1ï¼šå½“æˆ‘ä»¬æƒ³è¦ä¸ºDOMæ·»åŠ æ•°æ®æ—¶ï¼Œå¯ä½¿ç”¨ <code>WeakMap</code> ã€‚</strong></p>
<p>å¥½å¤„åœ¨äºï¼Œå½“DOMå…ƒç´ ç§»é™¤æ—¶ï¼Œå¯¹åº” WeakMap è®°å½•ä¹Ÿä¼šè‡ªåŠ¨ç§»é™¤ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;WeakMap&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> wm = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="keyword">const</span> weakMap = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;WeakMap&#x27;</span>);</span><br><span class="line">wm.set(weakMap, <span class="string">&#x27;some information&#x27;</span>);</span><br><span class="line">wm.get(weakMap) <span class="comment">//&quot;some information&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>åœºæ™¯2ï¼šå½“æˆ‘ä»¬æƒ³è¦ä¸ºDOMå…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬æ—¶ï¼Œå¯ä½¿ç”¨ <code>WeakMap</code> ã€‚</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;button1&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;button2&quot;</span>&gt;</span>æŒ‰é’®2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button1 = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;button1&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> button2 = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;button2&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> handler1 = <span class="function">() =&gt;</span> &#123;  <span class="built_in">console</span>.log(<span class="string">&quot;button1 è¢«ç‚¹å‡»&quot;</span>) &#125;;</span><br><span class="line"><span class="keyword">const</span> handler2 = <span class="function">() =&gt;</span> &#123;  <span class="built_in">console</span>.log(<span class="string">&quot;button2 è¢«ç‚¹å‡»&quot;</span>) &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç 1</span></span><br><span class="line">button1.addEventListener(<span class="string">&#x27;click&#x27;</span>, handler1, <span class="literal">false</span>);</span><br><span class="line">button2.addEventListener(<span class="string">&#x27;click&#x27;</span>, handler2, <span class="literal">false</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä»£ç 2</span></span><br><span class="line"><span class="keyword">const</span> listener = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"> </span><br><span class="line">listener.set(button1, handler1);</span><br><span class="line">listener.set(button2, handler2);</span><br><span class="line"> </span><br><span class="line">button1.addEventListener(<span class="string">&#x27;click&#x27;</span>, listener.get(button1), <span class="literal">false</span>);</span><br><span class="line">button2.addEventListener(<span class="string">&#x27;click&#x27;</span>, listener.get(button2), <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>ä»£ç 2æ¯”èµ·ä»£ç 1çš„å¥½å¤„æ˜¯ï¼šç”±äºç›‘å¬å‡½æ•°æ˜¯æ”¾åœ¨ WeakMap é‡Œé¢ï¼Œ</p>
<p>åˆ™ä¸€æ—¦ DOM å¯¹è±¡button1 / button2æ¶ˆå¤±ï¼Œä¸å®ƒç»‘å®šçš„ç›‘å¬å‡½æ•°handler1å’Œhandler2 ä¹Ÿä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚</p>
<h1 id="äºŒã€æ‹“å±•çŸ¥è¯†"><a href="#äºŒã€æ‹“å±•çŸ¥è¯†" class="headerlink" title="äºŒã€æ‹“å±•çŸ¥è¯†"></a>äºŒã€æ‹“å±•çŸ¥è¯†</h1><h2 id="1-æ‹“å±•-Set-WeakSet"><a href="#1-æ‹“å±•-Set-WeakSet" class="headerlink" title="1. æ‹“å±• Set/WeakSet"></a>1. æ‹“å±• Set/WeakSet</h2><h3 id="1-1-Set-å’Œ-WeakSet-ä¸»è¦åŒºåˆ«"><a href="#1-1-Set-å’Œ-WeakSet-ä¸»è¦åŒºåˆ«" class="headerlink" title="1.1 Set å’Œ WeakSet ä¸»è¦åŒºåˆ«"></a>1.1 Set å’Œ WeakSet ä¸»è¦åŒºåˆ«</h3><p><code>WeakSet</code> Â ç»“æ„ä¸ <code>Set</code> ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li><p><code>WeakSet</code> çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line">ws.add(<span class="number">1</span>)</span><br><span class="line"><span class="comment">// TypeError: Invalid value used in weak set</span></span><br><span class="line">ws.add(<span class="built_in">Symbol</span>())</span><br><span class="line"><span class="comment">// TypeError: invalid value used in weak set</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>WeakSet</code> Â ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ <code>WeakSet</code> Â å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨;</p>
</li>
<li><p><code>WeakSet</code> Â å¯¹è±¡æ²¡æœ‰ <code>size</code> å±æ€§ï¼Œæ˜¯ä¸å¯æšä¸¾çš„ï¼Œæ— æ³•è·å–é›†åˆçš„å¤§å°ã€‚</p>
</li>
</ul>
<h3 id="1-2-Set-WeakSet-åƒåœ¾å›æ”¶å¯¹æ¯”"><a href="#1-2-Set-WeakSet-åƒåœ¾å›æ”¶å¯¹æ¯”" class="headerlink" title="1.2 Set/WeakSet åƒåœ¾å›æ”¶å¯¹æ¯”"></a>1.2 Set/WeakSet åƒåœ¾å›æ”¶å¯¹æ¯”</h3><p>é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ <code>node --expose-gc weakset.js</code> æŸ¥çœ‹å¯¹æ¯”æ•ˆæœã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// weakset.js</span></span><br><span class="line"><span class="keyword">const</span> objNum = <span class="number">5000</span> * <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">const</span> useType = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> curType = useType == <span class="number">1</span> ?<span class="string">&quot;ã€Setã€‘&quot;</span> : <span class="string">&quot;ã€WeakSetã€‘&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> obj = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; objNum; k++) &#123;</span><br><span class="line">    obj[k] = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">usageSize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> used = process.memoryUsage().heapUsed;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.round((used / <span class="number">1024</span> / <span class="number">1024</span>) * <span class="number">100</span>) / <span class="number">100</span> + <span class="string">&quot;M&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (useType == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> sets = <span class="keyword">new</span> <span class="built_in">Set</span>([...obj]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    obj = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> sets = <span class="keyword">new</span> <span class="built_in">WeakSet</span>(obj);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    obj = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">global</span>.gc();</span><br><span class="line">    <span class="built_in">console</span>.log(objNum + <span class="string">&#x27;ä¸ª&#x27;</span> + curType + <span class="string">&#x27;å ç”¨å†…å­˜ï¼š&#x27;</span> + usageSize());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h1><p>æœ¬æ–‡é¦–å…ˆå¤ä¹ äº†ã€Šä½ ä¸çŸ¥é“çš„ WeakMapã€‹ä¸­æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œé‡æ–°å›é¡¾äº†â€œåƒåœ¾å›æ”¶æœºåˆ¶â€ï¼Œâ€œMap VS WeakMapâ€å’Œâ€œWeakMap ä»‹ç»å’Œåº”ç”¨â€ï¼Œæœ€åå»¶ä¼¸å¤ä¹ äº†â€œSet/WeakSetâ€ç›¸å…³çŸ¥è¯†ç‚¹ã€‚</p>
<p>åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæœ€å¥½ä¹Ÿèƒ½è€ƒè™‘åƒåœ¾å›æ”¶æœºåˆ¶çš„åˆç†ä½¿ç”¨ï¼Œè¿™ä¹Ÿæ˜¯æå‡äº§å“æ€§èƒ½çš„ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„æ–¹å¼ã€‚</p>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#x67;&#97;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#113;&#x71;&#46;&#x63;&#x6f;&#109;">&#x70;&#x69;&#110;&#x67;&#97;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#113;&#x71;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/06/210-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84WeakMap%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/" data-id="ckts3eju7005y4d9ke7nqhzld" data-title="210-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„WeakMapã€‹ç•ªå¤–ç¯‡" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-209-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„Blobã€‹ç•ªå¤–ç¯‡" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/06/209-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Blob%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/" class="article-date">
  <time class="dt-published" datetime="2020-07-06T04:39:07.000Z" itemprop="datePublished">2020-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/06/209-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Blob%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/">209-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„Blobã€‹ç•ªå¤–ç¯‡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å­¦ä¹ æ—¶é—´ï¼š2020.06.06</p>
<p>å­¦ä¹ ç« èŠ‚ï¼š<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/lQKTCS_QB0E62SK9oXD4LA">ã€Šä½ ä¸çŸ¥é“çš„ Blobã€‹</a></p>
<p>åŸæ–‡å¯¹ Blob çš„çŸ¥è¯†ç‚¹ä»‹ç»å¾—éå¸¸å®Œæ•´æ¸…æ™°ï¼Œæœ¬æ–‡é€šè¿‡å››ä¸ªé—®é¢˜æ¥æ€»ç»“æœ¬æ–‡æ ¸å¿ƒçŸ¥è¯†ï¼š</p>
<ol>
<li>Blob æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>Blob æ€ä¹ˆç”¨ï¼Ÿ</li>
<li>Blob æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ</li>
<li>Blob ä¸ ArrayBuffer æœ‰ä½•åŒºåˆ«ï¼Ÿ</li>
</ol>
<p><img src="http://images.pingan8787.com/blog/you-dont-know-blob/xmind.png" alt="è¯»ã€Šä½ ä¸çŸ¥é“çš„ Blobã€‹æ€»ç»“.png"></p>
<h1 id="ä¸€ã€Blob-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€Blob-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€Blob æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€Blob æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Blob">Blobï¼ˆBinary Large Objectï¼‰</a>è¡¨ç¤ºäºŒè¿›åˆ¶ç±»å‹çš„å¤§å¯¹è±¡ï¼Œé€šå¸¸æ˜¯å½±åƒã€å£°éŸ³æˆ–å¤šåª’ä½“æ–‡ä»¶ã€‚MySql/Oracleæ•°æ®åº“ä¸­ï¼Œå°±æœ‰ä¸€ç§Blobç±»å‹ï¼Œä¸“é—¨å­˜æ”¾äºŒè¿›åˆ¶æ•°æ®ã€‚åœ¨ JavaScript ä¸­ Blob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒä¸ä¸€å®šéå¾—æ˜¯å¤§é‡æ•°æ®ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸€ä¸ªå°å‹æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p>å¦å¤–ï¼ŒJavaScript ä¸­çš„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/File">File</a> æ¥å£æ˜¯åŸºäº Blobï¼Œç»§æ‰¿ Blob çš„åŠŸèƒ½å¹¶å°†å…¶æ‰©å±•ä½¿å…¶æ”¯æŒç”¨æˆ·ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚</p>
<h1 id="äºŒã€Blob-æ€ä¹ˆç”¨ï¼Ÿ"><a href="#äºŒã€Blob-æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="äºŒã€Blob æ€ä¹ˆç”¨ï¼Ÿ"></a>äºŒã€Blob æ€ä¹ˆç”¨ï¼Ÿ</h1><p><code>Blob</code> ç”±ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸² <code>type</code> å’Œ <code>blobParts</code> ç»„æˆï¼Œå…¶ä¸­ï¼Œ <code>type</code> é€šå¸¸ä¸º MIME ç±»å‹ã€‚</p>
<blockquote>
<p>MIMEï¼ˆMultipurpose Internet Mail Extensionsï¼‰å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ï¼Œå¸¸è§æœ‰ï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€æ–‡æœ¬ .html <code>text/html</code> ã€PNGå›¾åƒ .png <code>image/png</code> ã€æ™®é€šæ–‡æœ¬ .txt <code>text/plain</code> Â ç­‰ã€‚</p>
</blockquote>
<h2 id="1-æ„é€ å‡½æ•°"><a href="#1-æ„é€ å‡½æ•°" class="headerlink" title="1. æ„é€ å‡½æ•°"></a>1. æ„é€ å‡½æ•°</h2><p>Blob æ„é€ å‡½æ•°è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myBlob = <span class="keyword">new</span> Blob(blobParts[, options])</span><br></pre></td></tr></table></figure>
<p><strong>å…¥å‚ï¼š</strong></p>
<ul>
<li><code>blobParts</code>ï¼šå®ƒæ˜¯ä¸€ä¸ªç”± ArrayBufferï¼ŒArrayBufferViewï¼ŒBlobï¼ŒDOMString ç­‰å¯¹è±¡æ„æˆçš„æ•°ç»„ã€‚DOMStrings ä¼šè¢«ç¼–ç ä¸º UTF-8ã€‚</li>
<li><code>options</code> ï¼šä¸€ä¸ªå¯é€‰çš„å¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ä¸¤ä¸ªå±æ€§ï¼š<ul>
<li><code>type</code> ï¼šé»˜è®¤å€¼ä¸º <code>&quot;&quot;</code> ï¼Œè¡¨ç¤ºå°†ä¼šè¢«æ”¾å…¥åˆ° blob ä¸­çš„æ•°ç»„å†…å®¹çš„ MIME ç±»å‹ã€‚</li>
<li><code>endings</code> ï¼šé»˜è®¤å€¼ä¸º <code>&quot;transparent&quot;</code>ï¼Œç”¨äºæŒ‡å®šåŒ…å«è¡Œç»“æŸç¬¦ <code>\n</code> çš„å­—ç¬¦ä¸²å¦‚ä½•è¢«å†™å…¥ã€‚å®ƒæ˜¯ä»¥ä¸‹ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªï¼š<code>&quot;native&quot;</code>ï¼Œä»£è¡¨è¡Œç»“æŸç¬¦ä¼šè¢«æ›´æ”¹ä¸ºé€‚åˆå®¿ä¸»æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿçš„æ¢è¡Œç¬¦ï¼Œæˆ–è€… <code>&quot;transparent&quot;</code>ï¼Œä»£è¡¨ä¼šä¿æŒ blob ä¸­ä¿å­˜çš„ç»“æŸç¬¦ä¸å˜ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å‡ºå‚ï¼š</strong>è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„ Blob å¯¹è±¡ï¼Œå…¶å†…å®¹ç”±å‚æ•°ä¸­ç»™å®šçš„æ•°ç»„ä¸²è”ç»„æˆã€‚</p>
<h2 id="2-å±æ€§å’Œæ–¹æ³•"><a href="#2-å±æ€§å’Œæ–¹æ³•" class="headerlink" title="2. å±æ€§å’Œæ–¹æ³•"></a>2. å±æ€§å’Œæ–¹æ³•</h2><h3 id="2-1-å±æ€§ä»‹ç»"><a href="#2-1-å±æ€§ä»‹ç»" class="headerlink" title="2.1 å±æ€§ä»‹ç»"></a>2.1 å±æ€§ä»‹ç»</h3><p><code>Blob</code> å¯¹è±¡æ‹¥æœ‰ 2 ä¸ªå±æ€§ï¼š</p>
<ul>
<li><code>size</code> ï¼šåªè¯»ï¼Œè¡¨ç¤º <code>Blob</code> å¯¹è±¡ä¸­æ‰€åŒ…å«çš„æ•°æ®å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼›</li>
<li><code>type</code> ï¼šåªè¯»ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥ <code>Blob</code> å¯¹è±¡æ‰€åŒ…å«æ•°æ®çš„ MIME ç±»å‹ã€‚è‹¥ç±»å‹æœªçŸ¥ï¼Œåˆ™è¯¥å±æ€§å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</li>
</ul>
<h3 id="2-2-æ–¹æ³•ä»‹ç»"><a href="#2-2-æ–¹æ³•ä»‹ç»" class="headerlink" title="2.2 æ–¹æ³•ä»‹ç»"></a>2.2 æ–¹æ³•ä»‹ç»</h3><ul>
<li><code>slice([start[, end[, contentType]]])</code> ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Blob å¯¹è±¡ï¼ŒåŒ…å«äº†æº Blob å¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚</li>
<li><code>stream()</code>ï¼šè¿”å›ä¸€ä¸ªèƒ½è¯»å– Blob å†…å®¹çš„ <code>ReadableStream</code> ã€‚</li>
<li><code>text()</code>ï¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ä¸”åŒ…å« Blob æ‰€æœ‰å†…å®¹çš„ UTF-8 æ ¼å¼çš„ <code>USVString</code> ã€‚</li>
<li><code>arrayBuffer()</code>ï¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ä¸”åŒ…å« Blob æ‰€æœ‰å†…å®¹çš„äºŒè¿›åˆ¶æ ¼å¼çš„ <code>ArrayBuffer</code> ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š<code>Blob</code> <strong>å¯¹è±¡æ˜¯ä¸å¯æ”¹å˜çš„</strong>ï¼Œä½†æ˜¯å¯ä»¥è¿›è¡Œåˆ†å‰²ï¼Œå¹¶åˆ›å»ºå‡ºæ–°çš„ <code>Blob</code> å¯¹è±¡ï¼Œå°†å®ƒä»¬æ··åˆåˆ°ä¸€ä¸ªæ–°çš„ <code>Blob</code> Â ä¸­ã€‚ç±»ä¼¼äº JavaScript å­—ç¬¦ä¸²ï¼šæˆ‘ä»¬æ— æ³•æ›´æ”¹å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œä½†å¯ä»¥åˆ›å»ºæ–°çš„æ›´æ­£åçš„å­—ç¬¦ä¸²ã€‚</p>
<h2 id="3-ç®€å•ä¸Šæ‰‹"><a href="#3-ç®€å•ä¸Šæ‰‹" class="headerlink" title="3. ç®€å•ä¸Šæ‰‹"></a>3. ç®€å•ä¸Šæ‰‹</h2><h3 id="3-1-ç¤ºä¾‹1ï¼šä»å­—ç¬¦ä¸²åˆ›å»º-Blob"><a href="#3-1-ç¤ºä¾‹1ï¼šä»å­—ç¬¦ä¸²åˆ›å»º-Blob" class="headerlink" title="3.1 ç¤ºä¾‹1ï¼šä»å­—ç¬¦ä¸²åˆ›å»º Blob"></a>3.1 ç¤ºä¾‹1ï¼šä»å­—ç¬¦ä¸²åˆ›å»º Blob</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myBlobParts = [<span class="string">&#x27;&lt;html&gt;&lt;h2&gt;Hello Leo&lt;/h2&gt;&lt;/html&gt;&#x27;</span>]; <span class="comment">// ä¸€ä¸ªåŒ…å«DOMStringçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> myBlob = <span class="keyword">new</span> Blob(myBlobParts, &#123;<span class="attr">type</span> : <span class="string">&#x27;text/html&#x27;</span>, <span class="attr">endings</span>: <span class="string">&quot;transparent&quot;</span>&#125;); <span class="comment">// å¾—åˆ° blob</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myBlob.size + <span class="string">&quot; bytes size&quot;</span>);</span><br><span class="line"><span class="comment">// Output: 31 bytes size</span></span><br><span class="line"><span class="built_in">console</span>.log(myBlob.type + <span class="string">&quot; is the type&quot;</span>);</span><br><span class="line"><span class="comment">// Output: text/html is the type</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-ç¤ºä¾‹2ï¼šä»ç±»å‹åŒ–æ•°ç»„å’Œå­—ç¬¦ä¸²åˆ›å»º-Blob"><a href="#3-2-ç¤ºä¾‹2ï¼šä»ç±»å‹åŒ–æ•°ç»„å’Œå­—ç¬¦ä¸²åˆ›å»º-Blob" class="headerlink" title="3.2 ç¤ºä¾‹2ï¼šä»ç±»å‹åŒ–æ•°ç»„å’Œå­—ç¬¦ä¸²åˆ›å»º Blob"></a>3.2 ç¤ºä¾‹2ï¼šä»ç±»å‹åŒ–æ•°ç»„å’Œå­—ç¬¦ä¸²åˆ›å»º Blob</h3><p>JavaScriptç±»å‹åŒ–æ•°ç»„æ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå¹¶æä¾›äº†ä¸€ç§ç”¨äº <strong>è®¿é—®åŸå§‹äºŒè¿›åˆ¶æ•°æ®çš„æœºåˆ¶</strong> ã€‚å¹¶ä¸”åœ¨ç±»å‹æ•°ç»„ä¸Šè°ƒç”¨ <code>Array.isArray()</code> ä¼šè¿”å› <code>false</code> ã€‚</p>
<p>è¯¦ç»†å¯å‚è€ƒMDNã€Š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Typed_arrays">JavaScript ç±»å‹åŒ–æ•°ç»„</a>ã€‹ç« èŠ‚ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hello = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([<span class="number">72</span>, <span class="number">101</span>, <span class="number">108</span>, <span class="number">108</span>, <span class="number">111</span>]); <span class="comment">// äºŒè¿›åˆ¶æ ¼å¼çš„ &quot;hello&quot;</span></span><br><span class="line"><span class="keyword">let</span> blob = <span class="keyword">new</span> Blob([hello, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;leo&#x27;</span>], &#123;<span class="attr">type</span>: <span class="string">&#x27;text/plain&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// Output: &quot;Hello leo&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-ç¤ºä¾‹3ï¼šç»„è£…æ–°çš„-Blob"><a href="#3-3-ç¤ºä¾‹3ï¼šç»„è£…æ–°çš„-Blob" class="headerlink" title="3.3 ç¤ºä¾‹3ï¼šç»„è£…æ–°çš„ Blob"></a>3.3 ç¤ºä¾‹3ï¼šç»„è£…æ–°çš„ Blob</h3><p>ç”±äº <code>Blob</code> å¯¹è±¡æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥è¿›è¡Œåˆ†å‰²ï¼Œå¹¶ç»„è£…æˆä¸€ä¸ªæ–°çš„ <code>Blob</code> å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> blob1 = <span class="keyword">new</span> Blob([<span class="string">&#x27;&lt;html&gt;&lt;h2&gt;Hello Leo&lt;/h2&gt;&lt;/html&gt;&#x27;</span>], </span><br><span class="line">   &#123;<span class="attr">type</span> : <span class="string">&#x27;text/html&#x27;</span>, <span class="attr">endings</span>: <span class="string">&quot;transparent&quot;</span>&#125;);</span><br><span class="line"><span class="keyword">let</span> blob2 = <span class="keyword">new</span> Blob([<span class="string">&#x27;&lt;html&gt;&lt;h2&gt;Happy Boy!&lt;/h2&gt;&lt;/html&gt;&#x27;</span>], </span><br><span class="line">   &#123;<span class="attr">type</span> : <span class="string">&#x27;text/html&#x27;</span>, <span class="attr">endings</span>: <span class="string">&quot;transparent&quot;</span>&#125;);</span><br><span class="line"><span class="keyword">let</span> slice1 = blob1.slice(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">let</span> slice2 = blob2.slice(<span class="number">0</span>, <span class="number">16</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> slice1.text();</span><br><span class="line"><span class="comment">// currtent slice1 value: &quot;Leo&lt;/h2&gt;&lt;/html&gt;&quot;</span></span><br><span class="line"><span class="keyword">await</span> slice2.text();</span><br><span class="line"><span class="comment">// currtent slice2 value: &quot;&lt;html&gt;&lt;h2&gt;Happy &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newBlob = <span class="keyword">new</span> Blob([slice2, slice1], </span><br><span class="line">   &#123;<span class="attr">type</span> : <span class="string">&#x27;text/html&#x27;</span>, <span class="attr">endings</span>: <span class="string">&quot;transparent&quot;</span>&#125;);</span><br><span class="line"><span class="keyword">await</span> newBlob.text();</span><br><span class="line"><span class="comment">// currtent newBlob value: &quot;&lt;html&gt;&lt;h2&gt;Happy Leo&lt;/h2&gt;&lt;/html&gt;&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€Blob-æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ"><a href="#ä¸‰ã€Blob-æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="ä¸‰ã€Blob æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ"></a>ä¸‰ã€Blob æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ</h1><h2 id="1-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ"><a href="#1-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ" class="headerlink" title="1. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ"></a>1. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ</h2><p>è¿™é‡Œæ•´ç† 2 ç§å›¾ç‰‡æœ¬åœ°é¢„è§ˆçš„æ–¹å¼ï¼š</p>
<ol>
<li>ä½¿ç”¨ DataURL æ–¹å¼ï¼›</li>
<li>ä½¿ç”¨ Blob URL/Object URL æ–¹å¼ï¼›<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>1.DataURLæ–¹å¼ï¼š<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;selectFileForDataURL(event)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;output1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>2.Blobæ–¹å¼ï¼š<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;selectFileForBlob(event)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;output2&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.DataURLæ–¹å¼ï¼š</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectFileForDataURL</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> output = <span class="built_in">document</span>.querySelector(<span class="string">&quot;#output1&quot;</span>)</span></span><br><span class="line"><span class="javascript">                output.src = reader.result;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            reader.readAsDataURL(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.Blobæ–¹å¼ï¼š</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectFileForBlob</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> output = <span class="built_in">document</span>.querySelector(<span class="string">&quot;#output2&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> imgUrl = <span class="built_in">window</span>.URL.createObjectURL(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">            output.src = imgUrl;</span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.URL.revokeObjectURL(imgUrl);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä¸Šé¢ä¸»è¦ä»‹ç» <code>Blob URL</code> å’Œ <code>Data URL</code> ä¸¤ç§æ–¹å¼å®ç°å›¾ç‰‡æœ¬åœ°é¢„è§ˆï¼Œè¿™ä¸¤ä¸ªç±»å‹çš„åŒºåˆ«åœ¨<strong>ã€Šäº”ã€æ‹“å±•ã€‹</strong>ä¸­ä»‹ç»ã€‚</p>
<h2 id="2-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ-åˆ†ç‰‡ä¸Šä¼ "><a href="#2-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ-åˆ†ç‰‡ä¸Šä¼ " class="headerlink" title="2. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ + åˆ†ç‰‡ä¸Šä¼ "></a>2. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ + åˆ†ç‰‡ä¸Šä¼ </h2><p><strong>å®ç°æœ¬åœ°é¢„è§ˆï¼š</strong></p>
<p>å°† <code>input</code> è·å–åˆ°çš„ <code>file</code> å¯¹è±¡ï¼Œé€šè¿‡å®ä¾‹åŒ– <code>FileReader</code> ï¼Œèµ‹å€¼ç»™å˜é‡ <code>reader</code> ï¼Œè°ƒç”¨<code>reader</code> çš„ <code>readAsDataURL</code> æ–¹æ³•ï¼Œå°† <code>file</code> å¯¹è±¡è½¬æ¢ä¸º Â <code>dataURL</code> ï¼Œç„¶åç›‘å¬ <code>reader</code> çš„ <code>onload</code> å±æ€§ï¼Œè·å–åˆ°è¯»å–ç»“æœ <code>result</code> ï¼Œç„¶åè®¾ç½®ä¸ºå›¾ç‰‡çš„ <code>src</code> å€¼ã€‚</p>
<p><strong>å®ç°åˆ†ç‰‡ä¸Šä¼ </strong>ï¼š</p>
<p>ç”±äº File æ˜¯ç‰¹æ®Šç±»å‹çš„ Blobï¼Œå¯ç”¨äºä»»æ„ Blob ç±»å‹çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥é’ˆå¯¹å¤§æ–‡ä»¶ä¼ è¾“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>slice</code> æ–¹æ³•è¿›è¡Œæ–‡ä»¶åˆ‡å‰²ï¼Œåˆ†ç‰‡ä¸Šä¼ ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;selectFile(event)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;upload()&quot;</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;output&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> chunkSize = <span class="number">10000</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> url = <span class="string">&quot;https://httpbin.org/post&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectFile</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">          	<span class="comment">// æœ¬åœ°é¢„è§ˆ</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> output = <span class="built_in">document</span>.querySelector(<span class="string">&quot;#output&quot;</span>)</span></span><br><span class="line"><span class="javascript">                output.src = reader.result;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            reader.readAsDataURL(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">          	<span class="comment">// åˆ†ç‰‡ä¸Šä¼ </span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">await</span> upload(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">files</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> file = files;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(<span class="keyword">let</span> start = <span class="number">0</span>; start &lt; file.size; start += chunkSize)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> chunk = file.slice(start, start + chunkSize + <span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> fd = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="javascript">                fd.append(<span class="string">&quot;data&quot;</span>, chunk);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">await</span> fetch(url, &#123; <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>, <span class="attr">body</span>: fd &#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(res)</span></span><br><span class="line"><span class="javascript">                    res.text();</span></span><br><span class="line"><span class="javascript">                &#125;);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="3-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ-åˆ†ç‰‡ä¸Šä¼ -æš‚åœ-ç»­ä¼ "><a href="#3-å›¾ç‰‡æœ¬åœ°é¢„è§ˆ-åˆ†ç‰‡ä¸Šä¼ -æš‚åœ-ç»­ä¼ " class="headerlink" title="3. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ + åˆ†ç‰‡ä¸Šä¼  + æš‚åœ + ç»­ä¼ "></a>3. å›¾ç‰‡æœ¬åœ°é¢„è§ˆ + åˆ†ç‰‡ä¸Šä¼  + æš‚åœ + ç»­ä¼ </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;selectFile(event)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;upload()&quot;</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;pause()&quot;</span>&gt;</span>æš‚åœ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;continues()&quot;</span>&gt;</span>ç»§ç»­<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;output&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> chunkSize = <span class="number">30000</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> start = <span class="number">0</span>, curFile, isPause = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> url = <span class="string">&quot;https://httpbin.org/post&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectFile</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> output = <span class="built_in">document</span>.querySelector(<span class="string">&quot;#output&quot;</span>)</span></span><br><span class="line"><span class="javascript">                output.src = reader.result;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            reader.readAsDataURL(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">            curFile = event.target.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> file = curFile;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(start; start &lt; file.size; start += chunkSize)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(isPause) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> chunk = file.slice(start, start + chunkSize + <span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> fd = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="javascript">                fd.append(<span class="string">&quot;data&quot;</span>, chunk);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">await</span> fetch(url, &#123; <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>, <span class="attr">body</span>: fd &#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                        res.text()</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                );</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(chunk.size &lt; chunkSize)&#123;</span></span><br><span class="line"><span class="javascript">                    uploadSuccess();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">pause</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            isPause = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">continues</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            isPause = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            upload();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">uploadSuccess</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            isPause = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            start = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="4-ä»äº’è”ç½‘ä¸‹è½½æ•°æ®"><a href="#4-ä»äº’è”ç½‘ä¸‹è½½æ•°æ®" class="headerlink" title="4. ä»äº’è”ç½‘ä¸‹è½½æ•°æ®"></a>4. ä»äº’è”ç½‘ä¸‹è½½æ•°æ®</h2><p>åœ¨å®ç°â€œä»äº’è”ç½‘ä¸‹è½½æ•°æ®â€æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>createObjectURL</code> æ˜¾ç¤ºå›¾ç‰‡ï¼Œåœ¨è¯·æ±‚äº’è”ç½‘å›¾ç‰‡æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>XMLHttpRequest</code> ï¼›</li>
<li>ä½¿ç”¨ <code>fetch</code> ï¼›<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;download1()&quot;</span>&gt;</span>ä½¿ç”¨ XMLHttpRequest ä¸‹è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;download2()&quot;</span>&gt;</span>ä½¿ç”¨ fetch ä¸‹è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;pingan&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> url = <span class="string">&quot;http://images.pingan8787.com/TinyCompiler/111.png&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> pingan = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#pingan&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">download1</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            xhr.open(<span class="string">&#x27;GET&#x27;</span>, url);</span></span><br><span class="line"><span class="javascript">            xhr.responseType = <span class="string">&#x27;blob&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            xhr.onload = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                renderImage(xhr.response);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">download2</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            fetch(url).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> res.blob();</span></span><br><span class="line"><span class="javascript">            &#125;).then(<span class="function"><span class="params">myBlob</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                renderImage(myBlob);</span></span><br><span class="line"><span class="javascript">            &#125;)</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">renderImage</span> (<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> objectURL = URL.createObjectURL(data);</span></span><br><span class="line"><span class="javascript">            pingan.src = objectURL;</span></span><br><span class="line"><span class="javascript">          	<span class="comment">// æ ¹æ®ä¸šåŠ¡éœ€è¦æ‰‹åŠ¨è°ƒç”¨ URL.revokeObjectURL(imgUrl)</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-ä¸‹è½½æ–‡ä»¶"><a href="#5-ä¸‹è½½æ–‡ä»¶" class="headerlink" title="5. ä¸‹è½½æ–‡ä»¶"></a>5. ä¸‹è½½æ–‡ä»¶</h2><p>é€šè¿‡è°ƒç”¨ Blob çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºç±»å‹ä¸º <code>&quot;text/plain&quot;</code> çš„ Blob å¯¹è±¡ï¼Œç„¶åé€šè¿‡åŠ¨æ€åˆ›å»º <code>a</code> æ ‡ç­¾æ¥å®ç°æ–‡ä»¶çš„ä¸‹è½½ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;download()&quot;</span>&gt;</span>Blob æ–‡ä»¶ä¸‹è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> fileName= <span class="string">&quot;Blobæ–‡ä»¶.txt&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> myBlob = <span class="keyword">new</span> Blob([<span class="string">&quot;ä¸€æ–‡å½»åº•æŒæ¡ Blob Web API&quot;</span>], &#123; <span class="attr">type</span>: <span class="string">&quot;text/plain&quot;</span> &#125;);</span></span><br><span class="line"><span class="javascript">            downloadFun(fileName, myBlob);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">downloadFun</span>(<span class="params">fileName, blob</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>);</span></span><br><span class="line"><span class="javascript">            link.href = URL.createObjectURL(blob);</span></span><br><span class="line"><span class="javascript">            link.download = fileName;</span></span><br><span class="line"><span class="javascript">            link.click();</span></span><br><span class="line"><span class="javascript">            link.remove();</span></span><br><span class="line"><span class="javascript">            URL.revokeObjectURL(link.href);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="6-å›¾ç‰‡å‹ç¼©"><a href="#6-å›¾ç‰‡å‹ç¼©" class="headerlink" title="6. å›¾ç‰‡å‹ç¼©"></a>6. å›¾ç‰‡å‹ç¼©</h2><p>å½“æˆ‘ä»¬å¸Œæœ›æœ¬åœ°å›¾ç‰‡åœ¨ä¸Šä¼ ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€å®šå‹ç¼©ï¼Œå†æäº¤ï¼Œä»è€Œå‡å°‘ä¼ è¾“çš„æ•°æ®é‡ã€‚</p>
<p>åœ¨å‰ç«¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Canvas æä¾›çš„ <code>toDataURL()</code> æ–¹æ³•æ¥å®ç°ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ <code>type</code> å’Œ <code>encoderOptions</code> ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼š</p>
<ul>
<li><code>type</code> è¡¨ç¤º<strong>å›¾ç‰‡æ ¼å¼</strong>ï¼Œé»˜è®¤ä¸º <code>image/png</code> ï¼›</li>
<li><code>encoderOptions</code> è¡¨ç¤º<strong>å›¾ç‰‡è´¨é‡</strong>ï¼Œåœ¨æŒ‡å®šå›¾ç‰‡æ ¼å¼ä¸º <code>image/jpeg</code> æˆ– <code>image/webp</code> çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä» 0 åˆ° 1 åŒºé—´å†…é€‰æ‹©å›¾ç‰‡è´¨é‡ã€‚å¦‚æœè¶…å‡ºå–å€¼èŒƒå›´ï¼Œå°†ä¼šä½¿ç”¨é»˜è®¤å€¼ <code>0.92</code>ï¼Œå…¶ä»–å‚æ•°ä¼šè¢«å¿½ç•¥ã€‚<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;loadFile(event)&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// compress.js</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> MAX_WIDTH = <span class="number">800</span>; <span class="comment">// å›¾ç‰‡æœ€å¤§å®½åº¦</span></span></span><br><span class="line"><span class="javascript">      	<span class="comment">// å›¾ç‰‡å‹ç¼©æ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">compress</span>(<span class="params">base64, quality, mimeType</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">&quot;canvas&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> img = <span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);</span></span><br><span class="line"><span class="javascript">            img.crossOrigin = <span class="string">&quot;anonymous&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                img.src = base64;</span></span><br><span class="line"><span class="javascript">                img.onload = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> targetWidth, targetHeight;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (img.width &gt; MAX_WIDTH) &#123;</span></span><br><span class="line"><span class="javascript">                        targetWidth = MAX_WIDTH;</span></span><br><span class="line"><span class="javascript">                        targetHeight = (img.height * MAX_WIDTH) / img.width;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        targetWidth = img.width;</span></span><br><span class="line"><span class="javascript">                        targetHeight = img.height;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                    canvas.width = targetWidth;</span></span><br><span class="line"><span class="javascript">                    canvas.height = targetHeight;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"><span class="javascript">                    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, targetWidth, targetHeight); <span class="comment">// æ¸…é™¤ç”»å¸ƒ</span></span></span><br><span class="line"><span class="javascript">                    ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> imageData = canvas.toDataURL(mimeType, quality / <span class="number">100</span>); <span class="comment">// è®¾ç½®å›¾ç‰‡è´¨é‡</span></span></span><br><span class="line"><span class="javascript">                    resolve(imageData);</span></span><br><span class="line"><span class="javascript">                &#125;;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘ä¼ è¾“çš„æ•°æ®é‡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒè½¬æ¢ä¸º Blob å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">dataUrlToBlob</span>(<span class="params">base64, mimeType</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> bytes = <span class="built_in">window</span>.atob(base64.split(<span class="string">&quot;,&quot;</span>)[<span class="number">1</span>]);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> ab = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(bytes.length);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> ia = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(ab);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; bytes.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                ia[i] = bytes.charCodeAt(i);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="keyword">new</span> Blob([ab], &#123; <span class="attr">type</span>: mimeType &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡ AJAX æäº¤åˆ°æœåŠ¡å™¨</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">uploadFile</span>(<span class="params">url, blob</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> formData = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> request = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            formData.append(<span class="string">&quot;image&quot;</span>, blob);</span></span><br><span class="line"><span class="javascript">            request.open(<span class="string">&quot;POST&quot;</span>, url, <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">            request.send(formData);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">loadFile</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> compressedDataURL = <span class="keyword">await</span> compress(</span></span><br><span class="line"><span class="javascript">                    reader.result,</span></span><br><span class="line"><span class="javascript">                    <span class="number">90</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;image/jpeg&quot;</span></span></span><br><span class="line"><span class="javascript">                );</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> compressedImageBlob = dataUrlToBlob(compressedDataURL);</span></span><br><span class="line"><span class="javascript">                uploadFile(<span class="string">&quot;https://httpbin.org/post&quot;</span>, compressedImageBlob);</span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">            reader.readAsDataURL(event.target.files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
å…¶å® Canvas å¯¹è±¡é™¤äº†æä¾› <code>toDataURL()</code> æ–¹æ³•ä¹‹å¤–ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ä¸ª <code>toBlob()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">canvas.toBlob(callback, mimeType, qualityArgument)</span><br></pre></td></tr></table></figure>

<p>å’Œ <code>toDataURL()</code> æ–¹æ³•ç›¸æ¯”ï¼Œ<code>toBlob()</code> æ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤å¤šäº†ä¸ª <code>callback</code> å‚æ•°ï¼Œè¿™ä¸ª <code>callback</code> å›è°ƒæ–¹æ³•é»˜è®¤çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯è½¬æ¢å¥½çš„ <code>blob</code>æ–‡ä»¶ä¿¡æ¯ã€‚<br /></p>
<h2 id="7-ç”Ÿæˆ-PDF-æ–‡æ¡£"><a href="#7-ç”Ÿæˆ-PDF-æ–‡æ¡£" class="headerlink" title="7. ç”Ÿæˆ PDF æ–‡æ¡£"></a>7. ç”Ÿæˆ PDF æ–‡æ¡£</h2><p>åœ¨æµè§ˆå™¨ç«¯ï¼Œåˆ©ç”¨ä¸€äº›ç°æˆçš„å¼€æºåº“ï¼Œæ¯”å¦‚ jsPDFï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ–¹ä¾¿åœ°ç”Ÿæˆ PDF æ–‡æ¡£ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å®¢æˆ·ç«¯ç”Ÿæˆ PDF ç¤ºä¾‹<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/jspdf@latest/dist/jspdf.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span> <span class="title">generatePdf</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> doc = <span class="keyword">new</span> jsPDF();</span></span><br><span class="line"><span class="javascript">      doc.text(<span class="string">&quot;Hello semlinker!&quot;</span>, <span class="number">66</span>, <span class="number">88</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([doc.output()], &#123; <span class="attr">type</span>: <span class="string">&quot;application/pdf&quot;</span> &#125;);</span></span><br><span class="line"><span class="javascript">      blob.text().then(<span class="function">(<span class="params">blobAsText</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(blobAsText);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;)();</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å…¶å® jsPDF é™¤äº†æ”¯æŒçº¯æ–‡æœ¬ä¹‹å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥ç”Ÿæˆå¸¦å›¾ç‰‡çš„ PDF æ–‡æ¡£ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> imgData = <span class="string">&#x27;data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/...&#x27;</span></span><br><span class="line"><span class="keyword">let</span> doc = <span class="keyword">new</span> jsPDF();</span><br><span class="line"></span><br><span class="line">doc.setFontSize(<span class="number">40</span>);</span><br><span class="line">doc.text(<span class="number">35</span>, <span class="number">25</span>, <span class="string">&#x27;Paranyan loves jsPDF&#x27;</span>);</span><br><span class="line">doc.addImage(imgData, <span class="string">&#x27;JPEG&#x27;</span>, <span class="number">15</span>, <span class="number">40</span>, <span class="number">180</span>, <span class="number">160</span>);</span><br></pre></td></tr></table></figure>

<h1 id="å››ã€Blob-ä¸-ArrayBuffer-æœ‰ä½•åŒºåˆ«ï¼Ÿ"><a href="#å››ã€Blob-ä¸-ArrayBuffer-æœ‰ä½•åŒºåˆ«ï¼Ÿ" class="headerlink" title="å››ã€Blob ä¸ ArrayBuffer æœ‰ä½•åŒºåˆ«ï¼Ÿ"></a>å››ã€Blob ä¸ ArrayBuffer æœ‰ä½•åŒºåˆ«ï¼Ÿ</h1><h2 id="1-å®šä¹‰åŒºåˆ«"><a href="#1-å®šä¹‰åŒºåˆ«" class="headerlink" title="1. å®šä¹‰åŒºåˆ«"></a>1. å®šä¹‰åŒºåˆ«</h2><p><code>ArrayBuffer</code> å¯¹è±¡ç”¨äºè¡¨ç¤º<strong>é€šç”¨çš„ï¼Œå›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒº</strong>ã€‚ä¸”<strong>ä¸èƒ½ç›´æ¥æ“çºµ</strong> ArrayBuffer çš„å†…å®¹ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªç±»å‹åŒ–æ•°ç»„å¯¹è±¡æˆ– <code>DataView</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä»¥ç‰¹å®šæ ¼å¼è¡¨ç¤ºç¼“å†²åŒºï¼Œå¹¶ä½¿ç”¨è¯¥å¯¹è±¡è¯»å–å’Œå†™å…¥ç¼“å†²åŒºçš„å†…å®¹ã€‚</p>
<p><code>Blob</code> ç±»å‹çš„å¯¹è±¡è¡¨ç¤º<strong>ä¸å¯å˜çš„ç±»ä¼¼æ–‡ä»¶å¯¹è±¡çš„åŸå§‹æ•°æ®</strong>ã€‚<code>Blob</code> è¡¨ç¤ºçš„ä¸ä¸€å®šæ˜¯ JavaScript åŸç”Ÿæ ¼å¼çš„æ•°æ®ã€‚<code>File</code> æ¥å£åŸºäº <code>Blob</code>ï¼Œç»§æ‰¿äº†<code>Blob</code> åŠŸèƒ½å¹¶å°†å…¶æ‰©å±•ä¸ºæ”¯æŒç”¨æˆ·ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚</p>
<p><code>Blob</code> ç±»å‹åªæœ‰ <code>slice</code> æ–¹æ³•ï¼Œç”¨äºè¿”å›ä¸€ä¸ªæ–°çš„ <code>Blob</code> å¯¹è±¡ï¼ŒåŒ…å«äº†æº <code>Blob</code> å¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚ å¯¹æ¯”å‘ç°ï¼Œ<code>ArrayBuffer</code> çš„æ•°æ®ï¼Œæ˜¯å¯ä»¥<strong>æŒ‰ç…§å­—èŠ‚å»æ“ä½œ</strong>çš„ï¼Œè€Œ <code>Blob</code> åªèƒ½ä½œä¸ºä¸€ä¸ªå®Œæ•´å¯¹è±¡å»å¤„ç†ã€‚æ‰€ä»¥è¯´ï¼Œ<code>ArrayBuffer</code> ç›¸æ¯” <code>Blob</code> æ›´æ¥è¿‘çœŸå®çš„äºŒè¿›åˆ¶ï¼Œæ›´åº•å±‚ã€‚</p>
<h2 id="2-ä¸¤è€…äº’è½¬"><a href="#2-ä¸¤è€…äº’è½¬" class="headerlink" title="2. ä¸¤è€…äº’è½¬"></a>2. ä¸¤è€…äº’è½¬</h2><h3 id="2-1-ArrayBuffer-è½¬-Blob"><a href="#2-1-ArrayBuffer-è½¬-Blob" class="headerlink" title="2.1 ArrayBuffer è½¬ Blob"></a>2.1 ArrayBuffer è½¬ Blob</h3><p>åªéœ€å°† <code>ArrayBuffer</code> ä½œä¸ºå‚æ•°ä¼ å…¥å³å¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([buffer]);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-Blob-è½¬-ArrayBuffer"><a href="#2-2-Blob-è½¬-ArrayBuffer" class="headerlink" title="2.2 Blob è½¬ ArrayBuffer"></a>2.2 Blob è½¬ ArrayBuffer</h3><p>éœ€è¦å€ŸåŠ© <code>FileReader</code> å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</span><br><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.result);</span><br><span class="line">&#125;</span><br><span class="line">reader.readAsArrayBuffer(blob);</span><br></pre></td></tr></table></figure>

<h2 id="3-å…¶ä»–åŒºåˆ«"><a href="#3-å…¶ä»–åŒºåˆ«" class="headerlink" title="3. å…¶ä»–åŒºåˆ«"></a>3. å…¶ä»–åŒºåˆ«</h2><ol>
<li>éœ€è¦ä½¿ç”¨å†™å…¥/ç¼–è¾‘æ“ä½œæ—¶ä½¿ç”¨ ArrayBufferï¼Œå¦åˆ™ä½¿ç”¨ Blob å³å¯ï¼›</li>
<li>Blob å¯¹è±¡ä¸å¯å˜ï¼Œè€Œ ArrayBuffer å¯ä»¥é€šè¿‡ TypedArrays æˆ– DataView æ“ä½œï¼›</li>
<li>Blob å¯ä»¥ä½äºç£ç›˜ã€é«˜é€Ÿç¼“å­˜å†…å­˜å’Œå…¶ä»–ä¸åŒç”¨ä½ç½®ï¼Œè€Œ ArrayBuffer å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥ç›´æ¥æ“ä½œï¼›</li>
</ol>
<h2 id="4-Ajax-ä¸­ä½¿ç”¨-Blob-å’Œ-ArrayBuffer"><a href="#4-Ajax-ä¸­ä½¿ç”¨-Blob-å’Œ-ArrayBuffer" class="headerlink" title="4. Ajax ä¸­ä½¿ç”¨ Blob å’Œ ArrayBuffer"></a>4. Ajax ä¸­ä½¿ç”¨ Blob å’Œ ArrayBuffer</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GET</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  xhr.open(<span class="string">&#x27;GET&#x27;</span>, url, <span class="literal">true</span>);</span><br><span class="line">  xhr.responseType = <span class="string">&#x27;arraybuffer&#x27;</span>; <span class="comment">// or xhr.responseType = &quot;blob&quot;;</span></span><br><span class="line">  xhr.send();</span><br><span class="line"></span><br><span class="line">  xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.status != <span class="number">200</span>) &#123;</span><br><span class="line">      alert(<span class="string">&quot;Unexpected status code &quot;</span> + xhr.status + <span class="string">&quot; for &quot;</span> + url);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    callback(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(xhr.response)); <span class="comment">// or new Blob([xhr.response]);</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€æ‹“å±•"><a href="#äº”ã€æ‹“å±•" class="headerlink" title="äº”ã€æ‹“å±•"></a>äº”ã€æ‹“å±•</h1><h2 id="1-Blob-URL-å’Œ-Data-URL-åŒºåˆ«"><a href="#1-Blob-URL-å’Œ-Data-URL-åŒºåˆ«" class="headerlink" title="1. Blob URL å’Œ Data URL åŒºåˆ«"></a>1. Blob URL å’Œ Data URL åŒºåˆ«</h2><h3 id="1-1-æ ¼å¼ä¸åŒ"><a href="#1-1-æ ¼å¼ä¸åŒ" class="headerlink" title="1.1 æ ¼å¼ä¸åŒ"></a>1.1 æ ¼å¼ä¸åŒ</h3><p><code>Blob URL</code> æ ¼å¼å¦‚ <code>blob:åŸŸå/uuid</code> ï¼Œ <code>Data URL</code> æ ¼å¼å¦‚ï¼š <code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code> Â ã€‚</p>
<p><code>mediatype</code> æ˜¯ä¸ª MIME ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ â€œ<code>image/jpeg</code>â€œ è¡¨ç¤º JPEG å›¾åƒæ–‡ä»¶ã€‚å¦‚æœè¢«çœç•¥ï¼Œåˆ™é»˜è®¤å€¼ä¸º <code>text/plain;charset=US-ASCII</code>ã€‚</p>
<p><img src="http://images.pingan8787.com/blog/you-dont-know-blob/code.png" alt="image.png"></p>
<h3 id="1-2-é•¿åº¦ä¸åŒ"><a href="#1-2-é•¿åº¦ä¸åŒ" class="headerlink" title="1.2 é•¿åº¦ä¸åŒ"></a>1.2 é•¿åº¦ä¸åŒ</h3><p><code>Blob URL</code> ä¸€èˆ¬é•¿åº¦è¾ƒçŸ­ï¼Œè€Œ <code>Data URL</code> å› ä¸ºç›´æ¥å­˜å‚¨å›¾ç‰‡ base64 ç¼–ç åçš„æ•°æ®ï¼Œå¾€å¾€æ¯”è¾ƒé•¿ã€‚</p>
<h3 id="1-3-XMLHttpRequest-æ”¯æŒæƒ…å†µä¸åŒ"><a href="#1-3-XMLHttpRequest-æ”¯æŒæƒ…å†µä¸åŒ" class="headerlink" title="1.3 XMLHttpRequest æ”¯æŒæƒ…å†µä¸åŒ"></a>1.3 XMLHttpRequest æ”¯æŒæƒ…å†µä¸åŒ</h3><p><code>Blob URL</code> Â å¯ä»¥å¾ˆæ–¹ä¾¿ä½¿ç”¨ XMLHttpRequest è·å–æºæ•°æ®ï¼ˆ <code>xhr.responseType = &#39;blob&#39;</code> ï¼‰ï¼Œè€Œ <code>Data URL</code> å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒé€šè¿‡ XMLHttpRequest è·å–æºæ•°æ®çš„ã€‚</p>
<h3 id="1-4-ä½¿ç”¨åœºæ™¯ä¸åŒ"><a href="#1-4-ä½¿ç”¨åœºæ™¯ä¸åŒ" class="headerlink" title="1.4 ä½¿ç”¨åœºæ™¯ä¸åŒ"></a>1.4 ä½¿ç”¨åœºæ™¯ä¸åŒ</h3><p><code>Blob URL</code> Â åªèƒ½åœ¨å½“å‰åº”ç”¨å†…ä½¿ç”¨ï¼ŒæŠŠ <code>Blob URL</code> Â å¤åˆ¶åˆ°æµè§ˆå™¨åœ°å€æ æ˜¯æ— æ³•è·å–æ•°æ®ï¼Œè€Œ <code>Data URL</code> åˆ™å¯ä»¥åœ¨ä»»æ„æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚</p>
<h1 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h1><p>æœ¬æ–‡ä¸­æˆ‘ä»¬ä¸»è¦é€šè¿‡ 4 ä¸ªé—®é¢˜æ¥å¤ä¹ äº† Blob çŸ¥è¯†ç‚¹ï¼šâ€œBlob æ˜¯ä»€ä¹ˆâ€ã€â€œBlob æ€ä¹ˆç”¨â€ã€â€œBlob ä½¿ç”¨åœºæ™¯â€å’Œâ€œBlob ä¸ ArrayBuffer åŒºåˆ«â€ï¼Œåœ¨â€œBlob ä½¿ç”¨åœºæ™¯â€éƒ¨åˆ†ä¸­ï¼Œä¹Ÿä¸»è¦ä»‹ç»äº†æˆ‘ä»¬å®é™…å¼€å‘ä¸­éå¸¸å¸¸è§çš„â€œå›¾ç‰‡é¢„è§ˆâ€ã€â€œå›¾ç‰‡ä¸‹è½½â€å’Œâ€œç”Ÿæˆæ–‡ä»¶â€çš„åœºæ™¯ã€‚åœ¨æ–‡ç« æœ€åï¼Œä¹Ÿé€šè¿‡å’Œå¤§å®¶å¤ä¹ äº†â€œBlob URL å’Œ Data URL åŒºåˆ«â€ï¼Œè®©æˆ‘ä»¬å¯¹ Blob æœ‰æ›´æ·±çš„è®¤è¯†ã€‚</p>
<table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#x6e;&#x67;&#97;&#x6e;&#x38;&#55;&#56;&#55;&#64;&#x71;&#113;&#x2e;&#99;&#111;&#109;">&#112;&#x69;&#x6e;&#x67;&#97;&#x6e;&#x38;&#55;&#56;&#55;&#64;&#x71;&#113;&#x2e;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/06/209-%E3%80%90JavaScript%E3%80%91%E3%80%8A%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Blob%E3%80%8B%E7%95%AA%E5%A4%96%E7%AF%87/" data-id="ckts3ejyw00n94d9k96tu70kd" data-title="209-ã€JavaScriptã€‘ã€Šä½ ä¸çŸ¥é“çš„Blobã€‹ç•ªå¤–ç¯‡" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-208-ã€TyeScriptã€‘äº†ä¸èµ·çš„tsconfig-jsonå­¦ä¹ æŒ‡å—" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/06/17/208-%E3%80%90TyeScript%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84tsconfig-json%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" class="article-date">
  <time class="dt-published" datetime="2020-06-16T16:15:09.000Z" itemprop="datePublished">2020-06-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/06/17/208-%E3%80%90TyeScript%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84tsconfig-json%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/">208-ã€TyeScriptã€‘äº†ä¸èµ·çš„tsconfig.jsonå­¦ä¹ æŒ‡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨ TypeScript å¼€å‘ä¸­ï¼Œtsconfig.json æ˜¯ä¸ªä¸å¯æˆ–ç¼ºçš„é…ç½®æ–‡ä»¶ï¼Œå®ƒæ˜¯æˆ‘ä»¬åœ¨ TS é¡¹ç›®ä¸­æœ€å¸¸è§çš„é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ çœŸçš„äº†è§£è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿå®ƒé‡Œé¢éƒ½æœ‰å“ªäº›ä¼˜ç§€é…ç½®ï¼Ÿå¦‚ä½•é…ç½®ä¸€ä¸ªåˆç†çš„ tsconfig.json æ–‡ä»¶ï¼Ÿæœ¬æ–‡å°†å…¨é¢å¸¦å¤§å®¶ä¸€èµ·è¯¦ç»†äº†è§£ tsconfig.json çš„å„é¡¹é…ç½®ã€‚<br /><br><br />æœ¬æ–‡å°†ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¨é¢ä»‹ç» tsconfig.json æ–‡ä»¶ï¼š<br /><img src="http://images.pingan8787.com/tsconfig-json/tsconfig-json-guide.png" alt="äº†ä¸èµ·çš„ tsconfig.json æŒ‡å—.png"><br><a name="UZ7GF"></a><br><br />æ°´å¹³æœ‰é™ï¼Œæ¬¢è¿å„ä½å¤§ä½¬æŒ‡ç‚¹~~<br /></p>
<h2 id="ä¸€ã€tsconfig-json-ç®€ä»‹"><a href="#ä¸€ã€tsconfig-json-ç®€ä»‹" class="headerlink" title="ä¸€ã€tsconfig.json ç®€ä»‹"></a>ä¸€ã€tsconfig.json ç®€ä»‹</h2><p><a name="bANbi"></a></p>
<h3 id="1-ä»€ä¹ˆæ˜¯-tsconfig-json"><a href="#1-ä»€ä¹ˆæ˜¯-tsconfig-json" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ tsconfig.json"></a>1. ä»€ä¹ˆæ˜¯ tsconfig.json</h3><p>TypeScript ä½¿ç”¨ tsconfig.json æ–‡ä»¶ä½œä¸ºå…¶é…ç½®æ–‡ä»¶ï¼Œå½“ä¸€ä¸ªç›®å½•ä¸­å­˜åœ¨ tsconfig.json æ–‡ä»¶ï¼Œåˆ™è®¤ä¸ºè¯¥ç›®å½•ä¸º TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚<br />é€šå¸¸ tsconfig.json æ–‡ä»¶ä¸»è¦åŒ…å«ä¸¤éƒ¨åˆ†å†…å®¹ï¼š<strong>æŒ‡å®šå¾…ç¼–è¯‘æ–‡ä»¶</strong>å’Œ<strong>å®šä¹‰ç¼–è¯‘é€‰é¡¹</strong>ã€‚<br /><br><br />ä»ã€Š<a target="_blank" rel="noopener" href="http://json.schemastore.org/tsconfig">TypeScriptç¼–è¯‘å™¨çš„é…ç½®æ–‡ä»¶çš„JSONæ¨¡å¼</a>ã€‹å¯çŸ¥ï¼Œç›®å‰ tsconfig.json æ–‡ä»¶æœ‰ä»¥ä¸‹å‡ ä¸ªé¡¶å±‚å±æ€§ï¼š</p>
<ul>
<li>compileOnSave</li>
<li>compilerOptions</li>
<li>exclude</li>
<li>extends</li>
<li>files</li>
<li>include</li>
<li>references</li>
<li>typeAcquisition</li>
</ul>
<p><br />æ–‡ç« åé¢ä¼šè¯¦ç»†ä»‹ç»ä¸€äº›å¸¸ç”¨å±æ€§é…ç½®ã€‚<br /></p>
<p><a name="EIEcP"></a></p>
<h3 id="2-ä¸ºä»€ä¹ˆä½¿ç”¨-tsconfig-json"><a href="#2-ä¸ºä»€ä¹ˆä½¿ç”¨-tsconfig-json" class="headerlink" title="2. ä¸ºä»€ä¹ˆä½¿ç”¨ tsconfig.json"></a>2. ä¸ºä»€ä¹ˆä½¿ç”¨ tsconfig.json</h3><p>é€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>tsc</code>Â å‘½ä»¤æ¥ç¼–è¯‘å°‘é‡ TypeScript æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">  å‚æ•°ä»‹ç»ï¼š</span><br><span class="line">  --outFile // ç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶åç§°</span><br><span class="line">  --target  // æŒ‡å®šECMAScriptç›®æ ‡ç‰ˆæœ¬</span><br><span class="line">  --module  // æŒ‡å®šç”Ÿæˆå“ªä¸ªæ¨¡å—ç³»ç»Ÿä»£ç </span><br><span class="line">  index.ts  // æºæ–‡ä»¶</span><br><span class="line">*/</span><br><span class="line">$ tsc --outFile leo.js --target es3 --module amd index.ts</span><br></pre></td></tr></table></figure>
<p>ä½†å¦‚æœå®é™…å¼€å‘çš„é¡¹ç›®ï¼Œå¾ˆå°‘æ˜¯åªæœ‰å•ä¸ªæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬éœ€è¦ç¼–è¯‘æ•´ä¸ªé¡¹ç›®æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ tsconfig.json æ–‡ä»¶ï¼Œå°†éœ€è¦ä½¿ç”¨åˆ°çš„é…ç½®éƒ½å†™è¿› tsconfig.json æ–‡ä»¶ï¼Œ<strong>è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡ç¼–è¯‘éƒ½æ‰‹åŠ¨è¾“å…¥é…ç½®ï¼Œå¦å¤–ä¹Ÿæ–¹ä¾¿å›¢é˜Ÿåä½œå¼€å‘</strong>ã€‚<br /></p>
<p><a name="u7L2g"></a></p>
<h2 id="äºŒã€ä½¿ç”¨-tsconfig-json"><a href="#äºŒã€ä½¿ç”¨-tsconfig-json" class="headerlink" title="äºŒã€ä½¿ç”¨ tsconfig.json"></a>äºŒã€ä½¿ç”¨ tsconfig.json</h2><p>ç›®å‰ä½¿ç”¨ tsconfig.json æœ‰2ç§æ“ä½œï¼š<br><a name="Kshqd"></a></p>
<h3 id="1-åˆå§‹åŒ–-tsconfig-json"><a href="#1-åˆå§‹åŒ–-tsconfig-json" class="headerlink" title="1. åˆå§‹åŒ– tsconfig.json"></a>1. åˆå§‹åŒ– tsconfig.json</h3><p>åœ¨åˆå§‹åŒ–æ“ä½œï¼Œä¹Ÿæœ‰ 2 ç§æ–¹å¼ï¼š</p>
<ol>
<li>æ‰‹åŠ¨åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆæˆ–å…¶ä»–ï¼‰åˆ›å»º tsconfig.json æ–‡ä»¶å¹¶å¡«å†™é…ç½®ï¼›</li>
<li>é€šè¿‡ <code>tsc --init</code>Â åˆå§‹åŒ– tsconfig.json æ–‡ä»¶ã€‚</li>
</ol>
<p><a name="7PAhG"></a></p>
<h3 id="2-æŒ‡å®šéœ€è¦ç¼–è¯‘çš„ç›®å½•"><a href="#2-æŒ‡å®šéœ€è¦ç¼–è¯‘çš„ç›®å½•" class="headerlink" title="2. æŒ‡å®šéœ€è¦ç¼–è¯‘çš„ç›®å½•"></a>2. æŒ‡å®šéœ€è¦ç¼–è¯‘çš„ç›®å½•</h3><p><strong>åœ¨ä¸æŒ‡å®šè¾“å…¥æ–‡ä»¶çš„æƒ…å†µä¸‹</strong>æ‰§è¡Œ <code>tsc</code>Â å‘½ä»¤ï¼Œé»˜è®¤ä»å½“å‰ç›®å½•å¼€å§‹ç¼–è¯‘ï¼Œç¼–è¯‘æ‰€æœ‰ <code>.ts</code>Â æ–‡ä»¶ï¼Œå¹¶ä¸”ä»å½“å‰ç›®å½•å¼€å§‹æŸ¥æ‰¾ tsconfig.json æ–‡ä»¶ï¼Œå¹¶é€çº§å‘ä¸Šçº§ç›®å½•æœç´¢ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tsc</span><br></pre></td></tr></table></figure>
<p>å¦å¤–ä¹Ÿå¯ä»¥ä¸º <code>tsc</code> å‘½ä»¤æŒ‡å®šå‚æ•° <code>--project</code> æˆ– <code>-p</code> æŒ‡å®šéœ€è¦ç¼–è¯‘çš„ç›®å½•ï¼Œè¯¥ç›®å½•éœ€è¦åŒ…å«ä¸€ä¸ª tsconfig.json æ–‡ä»¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">  æ–‡ä»¶ç›®å½•ï¼š</span><br><span class="line">  â”œâ”€src/</span><br><span class="line">  â”‚  â”œâ”€index.ts</span><br><span class="line">  â”‚  â””â”€tsconfig.json</span><br><span class="line">  â”œâ”€package.json</span><br><span class="line">*/</span><br><span class="line">$ tsc --project src</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼Œtsc çš„å‘½ä»¤è¡Œé€‰é¡¹å…·æœ‰ä¼˜å…ˆçº§ï¼Œä¼šè¦†ç›– tsconfig.json ä¸­çš„åŒåé€‰é¡¹ã€‚</strong><br /><br><br />æ›´å¤š tsc ç¼–è¯‘é€‰é¡¹ï¼Œå¯æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://www.tslang.cn/docs/handbook/compiler-options.html">ã€Šç¼–è¯‘é€‰é¡¹ã€‹</a>ç« èŠ‚ã€‚<br /></p>
<p><a name="pn9rO"></a></p>
<h2 id="ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹"><a href="#ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹"></a>ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹</h2><p>è¿™ä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬å°†é€šè¿‡æœ¬åœ°ä¸€ä¸ªå°é¡¹ç›® <code>learnTsconfig</code>Â æ¥å­¦ç€å®ç°ä¸€ä¸ªç®€å•é…ç½®ã€‚<br />å½“å‰å¼€å‘ç¯å¢ƒï¼šwindows / node 10.15.1 / TypeScript3.9<br /></p>
<p><a name="hqWeO"></a></p>
<h3 id="1-åˆå§‹åŒ–-learnTsconfig-é¡¹ç›®"><a href="#1-åˆå§‹åŒ–-learnTsconfig-é¡¹ç›®" class="headerlink" title="1. åˆå§‹åŒ– learnTsconfig é¡¹ç›®"></a>1. åˆå§‹åŒ– learnTsconfig é¡¹ç›®</h3><p>æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir learnTsconfig</span><br><span class="line">$ <span class="built_in">cd</span> .\learnTsconfig\</span><br><span class="line">$ mkdir src</span><br><span class="line">$ new-item index.ts</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”æˆ‘ä»¬ä¸º index.ts æ–‡ä»¶å†™ä¸€äº›ç®€å•ä»£ç ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å½“å‰ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVersion</span>(<span class="params">version:<span class="built_in">string</span> = <span class="string">&quot;1.0.0&quot;</span></span>): <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> version;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getVersion(<span class="string">&quot;1.0.1&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†è·å¾—è¿™ä¹ˆä¸€ä¸ªç›®å½•ç»“æ„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â””â”€src/</span><br><span class="line">   â””â”€index.ts</span><br></pre></td></tr></table></figure>


<p><a name="TNpbL"></a></p>
<h3 id="2-åˆå§‹åŒ–-tsconfig-json-æ–‡ä»¶"><a href="#2-åˆå§‹åŒ–-tsconfig-json-æ–‡ä»¶" class="headerlink" title="2. åˆå§‹åŒ– tsconfig.json æ–‡ä»¶"></a>2. åˆå§‹åŒ– tsconfig.json æ–‡ä»¶</h3><p>åœ¨ learnTsconfig æ ¹ç›®å½•æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tsc --init</span><br></pre></td></tr></table></figure>


<p><a name="I03ph"></a></p>
<h3 id="3-ä¿®æ”¹-tsconfig-json-æ–‡ä»¶"><a href="#3-ä¿®æ”¹-tsconfig-json-æ–‡ä»¶" class="headerlink" title="3. ä¿®æ”¹ tsconfig.json æ–‡ä»¶"></a>3. ä¿®æ”¹ tsconfig.json æ–‡ä»¶</h3><p>æˆ‘ä»¬è®¾ç½®å‡ ä¸ªå¸¸è§é…ç½®é¡¹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;ES5&quot;</span>,             <span class="comment">// ç›®æ ‡è¯­è¨€çš„ç‰ˆæœ¬</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span>,        <span class="comment">// æŒ‡å®šç”Ÿæˆä»£ç çš„æ¨¡æ¿æ ‡å‡†</span></span><br><span class="line">    <span class="attr">&quot;noImplicitAny&quot;</span>: <span class="literal">true</span>,       <span class="comment">// ä¸å…è®¸éšå¼çš„ any ç±»å‹</span></span><br><span class="line">    <span class="attr">&quot;removeComments&quot;</span>: <span class="literal">true</span>,      <span class="comment">// åˆ é™¤æ³¨é‡Š </span></span><br><span class="line">    <span class="attr">&quot;preserveConstEnums&quot;</span>: <span class="literal">true</span>,  <span class="comment">// ä¿ç•™ const å’Œ enum å£°æ˜</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span>: <span class="literal">true</span>            <span class="comment">// ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„sourceMapæ–‡ä»¶</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;files&quot;</span>: [   <span class="comment">// æŒ‡å®šå¾…ç¼–è¯‘æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;./src/index.ts&quot;</span>  </span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼š<br />Â <code>files</code>Â é…ç½®é¡¹å€¼æ˜¯ä¸€ä¸ª<strong>æ•°ç»„</strong>ï¼Œç”¨æ¥æŒ‡å®šäº†å¾…ç¼–è¯‘æ–‡ä»¶ï¼Œå³<strong>å…¥å£æ–‡ä»¶</strong>ã€‚<br />å½“å…¥å£æ–‡ä»¶ä¾èµ–å…¶ä»–æ–‡ä»¶æ—¶ï¼Œä¸éœ€è¦å°†è¢«ä¾èµ–æ–‡ä»¶ä¹ŸæŒ‡å®šåˆ° <code>files</code>Â ä¸­ï¼Œå› ä¸º<strong>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶å½’çº³ä¸ºç¼–è¯‘å¯¹è±¡</strong>ï¼Œå³ <code>index.ts</code>Â ä¾èµ– <code>user.ts</code>Â æ—¶ï¼Œä¸éœ€è¦åœ¨ <code>files</code>Â ä¸­æŒ‡å®š <code>user.ts</code>Â ï¼Œ <code>user.ts</code>Â ä¼šè‡ªåŠ¨çº³å…¥å¾…ç¼–è¯‘æ–‡ä»¶ã€‚<br /></p>
<p><a name="5HN4m"></a></p>
<h3 id="4-æ‰§è¡Œç¼–è¯‘"><a href="#4-æ‰§è¡Œç¼–è¯‘" class="headerlink" title="4. æ‰§è¡Œç¼–è¯‘"></a>4. æ‰§è¡Œç¼–è¯‘</h3><p>é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <code>tsc</code>Â å‘½ä»¤ï¼Œæ‰§è¡Œç¼–è¯‘å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ª <code>index.js</code>Â æ–‡ä»¶å’Œä¸€ä¸ª <code>index.js.map</code>Â æ–‡ä»¶ï¼Œè¯æ˜æˆ‘ä»¬ç¼–è¯‘æˆåŠŸï¼Œå…¶ä¸­ <code>index.js</code>Â æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVersion</span>(<span class="params">version</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (version === <span class="keyword">void</span> <span class="number">0</span>) &#123; version = <span class="string">&quot;1.0.0&quot;</span>; &#125;</span><br><span class="line">    <span class="keyword">return</span> version;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getVersion(<span class="string">&quot;1.0.1&quot;</span>));</span><br><span class="line"><span class="comment">//# sourceMappingURL=index.js.map</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œtsconfig.json ä¸­çš„ <code>removeComments</code>Â é…ç½®ç”Ÿæ•ˆäº†ï¼Œå°†æˆ‘ä»¬æ·»åŠ çš„æ³¨é‡Šä»£ç ç§»é™¤äº†ã€‚<br /><br><br />åˆ°è¿™ä¸€æ­¥ï¼Œå°±å®Œæˆäº†è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¥ä¸‹æ¥ä¼šåŸºäºè¿™ä¸ªç¤ºä¾‹ä»£ç ï¼Œè®²è§£ã€Šä¸ƒã€å¸¸è§é…ç½®ç¤ºä¾‹ã€‹ã€‚<br /></p>
<p><a name="IgQ8Z"></a></p>
<h2 id="å››ã€tsconfig-json-æ–‡ä»¶ç»“æ„ä»‹ç»"><a href="#å››ã€tsconfig-json-æ–‡ä»¶ç»“æ„ä»‹ç»" class="headerlink" title="å››ã€tsconfig.json æ–‡ä»¶ç»“æ„ä»‹ç»"></a>å››ã€tsconfig.json æ–‡ä»¶ç»“æ„ä»‹ç»</h2><p><a name="r62H3"></a></p>
<h3 id="1-æŒ‰é¡¶å±‚å±æ€§åˆ†ç±»"><a href="#1-æŒ‰é¡¶å±‚å±æ€§åˆ†ç±»" class="headerlink" title="1. æŒ‰é¡¶å±‚å±æ€§åˆ†ç±»"></a>1. æŒ‰é¡¶å±‚å±æ€§åˆ†ç±»</h3><p>åœ¨ tsconfig.json æ–‡ä»¶ä¸­æŒ‰ç…§<strong>é¡¶å±‚å±æ€§</strong>ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š<br /><img src="http://images.pingan8787.com/tsconfig-json/tsconfig-json-1.png" alt="tsconfig.json æ–‡ä»¶ç»“æ„ï¼ˆé¡¶å±‚å±æ€§ï¼‰.png"></p>
<p><img src="http://images.pingan8787.com/tsconfig-json/tsconfig-json-3.png" alt="äº†ä¸èµ·çš„ tsconfig.json æŒ‡å—.png"></p>
<p><a name="0vZYp"></a></p>
<h3 id="2-æŒ‰åŠŸèƒ½åˆ†ç±»"><a href="#2-æŒ‰åŠŸèƒ½åˆ†ç±»" class="headerlink" title="2. æŒ‰åŠŸèƒ½åˆ†ç±»"></a>2. æŒ‰åŠŸèƒ½åˆ†ç±»</h3><p><img src="http://images.pingan8787.com/tsconfig-json/tsconfig-json-2.png" alt="tsconfig.json æ–‡ä»¶ç»“æ„ï¼ˆåŠŸèƒ½ï¼‰.png"><br /></p>
<p><a name="S64EK"></a></p>
<h2 id="äº”ã€tsconfig-json-é…ç½®ä»‹ç»"><a href="#äº”ã€tsconfig-json-é…ç½®ä»‹ç»" class="headerlink" title="äº”ã€tsconfig.json é…ç½®ä»‹ç»"></a>äº”ã€tsconfig.json é…ç½®ä»‹ç»</h2><p><a name="pq3yO"></a></p>
<h3 id="1-compileOnSave"><a href="#1-compileOnSave" class="headerlink" title="1. compileOnSave"></a>1. compileOnSave</h3><p><code>compileOnSave</code>Â å±æ€§ä½œç”¨æ˜¯<strong>è®¾ç½®ä¿å­˜æ–‡ä»¶çš„æ—¶å€™è‡ªåŠ¨ç¼–è¯‘ï¼Œä½†éœ€è¦ç¼–è¯‘å™¨æ”¯æŒ</strong>ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;compileOnSave&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="HWUeW"></a></p>
<h3 id="2-compilerOptions"><a href="#2-compilerOptions" class="headerlink" title="2.Â compilerOptions"></a>2.Â compilerOptions</h3><p><code>compilerOptions</code>Â å±æ€§ä½œç”¨æ˜¯<strong>é…ç½®ç¼–è¯‘é€‰é¡¹</strong>ã€‚<br />è‹¥ <code>compilerOptions</code> å±æ€§è¢«å¿½ç•¥ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œå¯ä»¥æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">ã€Šå®˜æ–¹å®Œæ•´çš„ç¼–è¯‘é€‰é¡¹åˆ—è¡¨ã€‹</a>ã€‚<br />ç¼–è¯‘é€‰é¡¹é…ç½®éå¸¸ç¹æ‚ï¼Œæœ‰å¾ˆå¤šé…ç½®ï¼Œè¿™é‡Œåªåˆ—å‡ºå¸¸ç”¨çš„é…ç½®ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;incremental&quot;</span>: <span class="literal">true</span>, <span class="comment">// TSç¼–è¯‘å™¨åœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªå­˜å‚¨ç¼–è¯‘ä¿¡æ¯çš„æ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡ç¼–è¯‘ä¼šåœ¨ç¬¬ä¸€æ¬¡çš„åŸºç¡€ä¸Šè¿›è¡Œå¢é‡ç¼–è¯‘ï¼Œå¯ä»¥æé«˜ç¼–è¯‘çš„é€Ÿåº¦</span></span><br><span class="line">    <span class="attr">&quot;tsBuildInfoFile&quot;</span>: <span class="string">&quot;./buildFile&quot;</span>, <span class="comment">// å¢é‡ç¼–è¯‘æ–‡ä»¶çš„å­˜å‚¨ä½ç½®</span></span><br><span class="line">    <span class="attr">&quot;diagnostics&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ‰“å°è¯Šæ–­ä¿¡æ¯ </span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;ES5&quot;</span>, <span class="comment">// ç›®æ ‡è¯­è¨€çš„ç‰ˆæœ¬</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;CommonJS&quot;</span>, <span class="comment">// ç”Ÿæˆä»£ç çš„æ¨¡æ¿æ ‡å‡†</span></span><br><span class="line">    <span class="attr">&quot;outFile&quot;</span>: <span class="string">&quot;./app.js&quot;</span>, <span class="comment">// å°†å¤šä¸ªç›¸äº’ä¾èµ–çš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨åœ¨AMDæ¨¡å—ä¸­ï¼Œå³å¼€å¯æ—¶åº”è®¾ç½®&quot;module&quot;: &quot;AMD&quot;,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span>: [<span class="string">&quot;DOM&quot;</span>, <span class="string">&quot;ES2015&quot;</span>, <span class="string">&quot;ScriptHost&quot;</span>, <span class="string">&quot;ES2019.Array&quot;</span>], <span class="comment">// TSéœ€è¦å¼•ç”¨çš„åº“ï¼Œå³å£°æ˜æ–‡ä»¶ï¼Œes5 é»˜è®¤å¼•ç”¨domã€es5ã€scripthost,å¦‚éœ€è¦ä½¿ç”¨esçš„é«˜çº§ç‰ˆæœ¬ç‰¹æ€§ï¼Œé€šå¸¸éƒ½éœ€è¦é…ç½®ï¼Œå¦‚es8çš„æ•°ç»„æ–°ç‰¹æ€§éœ€è¦å¼•å…¥&quot;ES2019.Array&quot;,</span></span><br><span class="line">    <span class="attr">&quot;allowJS&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸ç¼–è¯‘å™¨ç¼–è¯‘JSï¼ŒJSXæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;checkJs&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸åœ¨JSæ–‡ä»¶ä¸­æŠ¥é”™ï¼Œé€šå¸¸ä¸allowJSä¸€èµ·ä½¿ç”¨</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>, <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="attr">&quot;rootDir&quot;</span>: <span class="string">&quot;./&quot;</span>, <span class="comment">// æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç›®å½•(ç”¨äºè¾“å‡º)ï¼Œç”¨äºæ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„</span></span><br><span class="line">    <span class="attr">&quot;declaration&quot;</span>: <span class="literal">true</span>, <span class="comment">// ç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œå¼€å¯åä¼šè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;declarationDir&quot;</span>: <span class="string">&quot;./file&quot;</span>, <span class="comment">// æŒ‡å®šç”Ÿæˆå£°æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line">    <span class="attr">&quot;emitDeclarationOnly&quot;</span>: <span class="literal">true</span>, <span class="comment">// åªç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œè€Œä¸ä¼šç”Ÿæˆjsæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span>: <span class="literal">true</span>, <span class="comment">// ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„sourceMapæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;inlineSourceMap&quot;</span>: <span class="literal">true</span>, <span class="comment">// ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„inline SourceMapï¼Œinline SourceMapä¼šåŒ…å«åœ¨ç”Ÿæˆçš„jsæ–‡ä»¶ä¸­</span></span><br><span class="line">    <span class="attr">&quot;declarationMap&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸ºå£°æ˜æ–‡ä»¶ç”ŸæˆsourceMap</span></span><br><span class="line">    <span class="attr">&quot;typeRoots&quot;</span>: [], <span class="comment">// å£°æ˜æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤æ—¶node_modules/@types</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span>: [], <span class="comment">// åŠ è½½çš„å£°æ˜æ–‡ä»¶åŒ…</span></span><br><span class="line">    <span class="attr">&quot;removeComments&quot;</span>:<span class="literal">true</span>, <span class="comment">// åˆ é™¤æ³¨é‡Š </span></span><br><span class="line">    <span class="attr">&quot;noEmit&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸è¾“å‡ºæ–‡ä»¶,å³ç¼–è¯‘åä¸ä¼šç”Ÿæˆä»»ä½•jsæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;noEmitOnError&quot;</span>: <span class="literal">true</span>, <span class="comment">// å‘é€é”™è¯¯æ—¶ä¸è¾“å‡ºä»»ä½•æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;noEmitHelpers&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸ç”Ÿæˆhelperå‡½æ•°ï¼Œå‡å°ä½“ç§¯ï¼Œéœ€è¦é¢å¤–å®‰è£…ï¼Œå¸¸é…åˆimportHelpersä¸€èµ·ä½¿ç”¨</span></span><br><span class="line">    <span class="attr">&quot;importHelpers&quot;</span>: <span class="literal">true</span>, <span class="comment">// é€šè¿‡tslibå¼•å…¥helperå‡½æ•°ï¼Œæ–‡ä»¶å¿…é¡»æ˜¯æ¨¡å—</span></span><br><span class="line">    <span class="attr">&quot;downlevelIteration&quot;</span>: <span class="literal">true</span>, <span class="comment">// é™çº§éå†å™¨å®ç°ï¼Œå¦‚æœç›®æ ‡æºæ˜¯es3/5ï¼Œé‚£ä¹ˆéå†å™¨ä¼šæœ‰é™çº§çš„å®ç°</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯æ‰€æœ‰ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥</span></span><br><span class="line">    <span class="attr">&quot;alwaysStrict&quot;</span>: <span class="literal">true</span>, <span class="comment">// åœ¨ä»£ç ä¸­æ³¨å…¥&#x27;use strict&#x27;</span></span><br><span class="line">    <span class="attr">&quot;noImplicitAny&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸å…è®¸éšå¼çš„anyç±»å‹</span></span><br><span class="line">    <span class="attr">&quot;strictNullChecks&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸å…è®¸æŠŠnullã€undefinedèµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡</span></span><br><span class="line">    <span class="attr">&quot;strictFunctionTypes&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸å…è®¸å‡½æ•°å‚æ•°åŒå‘åå˜</span></span><br><span class="line">    <span class="attr">&quot;strictPropertyInitialization&quot;</span>: <span class="literal">true</span>, <span class="comment">// ç±»çš„å®ä¾‹å±æ€§å¿…é¡»åˆå§‹åŒ–</span></span><br><span class="line">    <span class="attr">&quot;strictBindCallApply&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸¥æ ¼çš„bind/call/applyæ£€æŸ¥</span></span><br><span class="line">    <span class="attr">&quot;noImplicitThis&quot;</span>: <span class="literal">true</span>, <span class="comment">// ä¸å…è®¸thisæœ‰éšå¼çš„anyç±»å‹</span></span><br><span class="line">    <span class="attr">&quot;noUnusedLocals&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ£€æŸ¥åªå£°æ˜ã€æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡(åªæç¤ºä¸æŠ¥é”™)</span></span><br><span class="line">    <span class="attr">&quot;noUnusedParameters&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ£€æŸ¥æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°(åªæç¤ºä¸æŠ¥é”™)</span></span><br><span class="line">    <span class="attr">&quot;noFallthroughCasesInSwitch&quot;</span>: <span class="literal">true</span>, <span class="comment">// é˜²æ­¢switchè¯­å¥è´¯ç©¿(å³å¦‚æœæ²¡æœ‰breakè¯­å¥åé¢ä¸ä¼šæ‰§è¡Œ)</span></span><br><span class="line">    <span class="attr">&quot;noImplicitReturns&quot;</span>: <span class="literal">true</span>, <span class="comment">//æ¯ä¸ªåˆ†æ”¯éƒ½ä¼šæœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸export=å¯¼å‡ºï¼Œç”±import from å¯¼å…¥</span></span><br><span class="line">    <span class="attr">&quot;allowUmdGlobalAccess&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸åœ¨æ¨¡å—ä¸­å…¨å±€å˜é‡çš„æ–¹å¼è®¿é—®umdæ¨¡å—</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>, <span class="comment">// æ¨¡å—è§£æç­–ç•¥ï¼Œtsé»˜è®¤ç”¨nodeçš„è§£æç­–ç•¥ï¼Œå³ç›¸å¯¹çš„æ–¹å¼å¯¼å…¥</span></span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>, <span class="comment">// è§£æéç›¸å¯¹æ¨¡å—çš„åŸºåœ°å€ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•</span></span><br><span class="line">    <span class="attr">&quot;paths&quot;</span>: &#123; <span class="comment">// è·¯å¾„æ˜ å°„ï¼Œç›¸å¯¹äºbaseUrl</span></span><br><span class="line">      <span class="comment">// å¦‚ä½¿ç”¨jqæ—¶ä¸æƒ³ä½¿ç”¨é»˜è®¤ç‰ˆæœ¬ï¼Œè€Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ï¼Œå¯è¿›è¡Œå¦‚ä¸‹é…ç½®</span></span><br><span class="line">      <span class="attr">&quot;jquery&quot;</span>: [<span class="string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;rootDirs&quot;</span>: [<span class="string">&quot;src&quot;</span>,<span class="string">&quot;out&quot;</span>], <span class="comment">// å°†å¤šä¸ªç›®å½•æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿç›®å½•ä¸‹ï¼Œç”¨äºè¿è¡Œæ—¶ï¼Œå³ç¼–è¯‘åå¼•å…¥æ–‡ä»¶çš„ä½ç½®å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¹Ÿè®¾ç½®å¯ä»¥è™šæ‹Ÿsrcå’Œoutåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¸ç”¨å†å»æ”¹å˜è·¯å¾„ä¹Ÿä¸ä¼šæŠ¥é”™</span></span><br><span class="line">    <span class="attr">&quot;listEmittedFiles&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ‰“å°è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;listFiles&quot;</span>: <span class="literal">true</span><span class="comment">// æ‰“å°ç¼–è¯‘çš„æ–‡ä»¶(åŒ…æ‹¬å¼•ç”¨çš„å£°æ˜æ–‡ä»¶)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="wn91k"></a></p>
<h3 id="3-exclude"><a href="#3-exclude" class="headerlink" title="3.Â exclude"></a>3.Â exclude</h3><p><code>exclude</code>Â å±æ€§ä½œç”¨æ˜¯<strong>æŒ‡å®šç¼–è¯‘å™¨éœ€è¦æ’é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚</strong><br />é»˜è®¤æ’é™¤ <code>node_modules</code>Â æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;src/lib&quot;</span> <span class="comment">// æ’é™¤srcç›®å½•ä¸‹çš„libæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ä¸ä¼šç¼–è¯‘</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œ <code>include</code>Â å±æ€§ä¸€æ ·ï¼Œæ”¯æŒ glob é€šé…ç¬¦ï¼š</p>
<ul>
<li><code>*</code> åŒ¹é…0æˆ–å¤šä¸ªå­—ç¬¦ï¼ˆä¸åŒ…æ‹¬ç›®å½•åˆ†éš”ç¬¦ï¼‰</li>
<li><code>?</code> åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼ˆä¸åŒ…æ‹¬ç›®å½•åˆ†éš”ç¬¦ï¼‰</li>
<li><code>**/</code> é€’å½’åŒ¹é…ä»»æ„å­ç›®å½•</li>
</ul>
<p><a name="hzeaX"></a></p>
<h3 id="4-extends"><a href="#4-extends" class="headerlink" title="4.Â extends"></a>4.Â extends</h3><p><code>extends</code>Â å±æ€§ä½œç”¨æ˜¯<strong>å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œç»§æ‰¿é…ç½®</strong>ã€‚<br />é»˜è®¤åŒ…å«å½“å‰ç›®å½•å’Œå­ç›®å½•ä¸‹æ‰€æœ‰ TypeScript æ–‡ä»¶ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="comment">// æŠŠåŸºç¡€é…ç½®æŠ½ç¦»æˆtsconfig.base.jsonæ–‡ä»¶ï¼Œç„¶åå¼•å…¥</span></span><br><span class="line">	<span class="attr">&quot;extends&quot;</span>: <span class="string">&quot;./tsconfig.base.json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a name="XOcZH"></a></p>
<h3 id="5-files"><a href="#5-files" class="headerlink" title="5.Â files"></a>5.Â files</h3><p><code>files</code>Â å±æ€§ä½œç”¨æ˜¯<strong>æŒ‡å®šéœ€è¦ç¼–è¯‘çš„å•ä¸ªæ–‡ä»¶åˆ—è¡¨</strong>ã€‚<br />é»˜è®¤åŒ…å«å½“å‰ç›®å½•å’Œå­ç›®å½•ä¸‹æ‰€æœ‰ TypeScript æ–‡ä»¶ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;files&quot;</span>: [</span><br><span class="line">    <span class="comment">// æŒ‡å®šç¼–è¯‘æ–‡ä»¶æ˜¯srcç›®å½•ä¸‹çš„leo.tsæ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;scr/leo.ts&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a name="coAd0"></a></p>
<h3 id="6-include"><a href="#6-include" class="headerlink" title="6.Â include"></a>6.Â include</h3><p><code>include</code>Â å±æ€§ä½œç”¨æ˜¯<strong>æŒ‡å®šç¼–è¯‘éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶æˆ–ç›®å½•</strong>ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span>: [</span><br><span class="line">    <span class="comment">// &quot;scr&quot; // ä¼šç¼–è¯‘srcç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•</span></span><br><span class="line">    <span class="comment">// &quot;scr/*&quot; // åªä¼šç¼–è¯‘scrä¸€çº§ç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;scr/*/*&quot;</span> <span class="comment">// åªä¼šç¼–è¯‘scräºŒçº§ç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a name="PonUH"></a></p>
<h3 id="7-references"><a href="#7-references" class="headerlink" title="7.Â references"></a>7.Â references</h3><p><code>references</code>Â å±æ€§ä½œç”¨æ˜¯<strong>æŒ‡å®šå·¥ç¨‹å¼•ç”¨ä¾èµ–ã€‚</strong><br />åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿å°†å‰ç«¯é¡¹ç›®å’Œåç«¯<code>node</code>é¡¹ç›®æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹å¼€å‘ï¼Œä¸¤ä¸ªé¡¹ç›®ä¾èµ–åŒä¸€ä¸ªé…ç½®æ–‡ä»¶å’Œé€šç”¨æ–‡ä»¶ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å‰åç«¯é¡¹ç›®è¿›è¡Œçµæ´»çš„åˆ†åˆ«æ‰“åŒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;references&quot;</span>: [ <span class="comment">// æŒ‡å®šä¾èµ–çš„å·¥ç¨‹</span></span><br><span class="line">     &#123;<span class="attr">&quot;path&quot;</span>: <span class="string">&quot;./common&quot;</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a name="9RACD"></a></p>
<h3 id="8-typeAcquisition"><a href="#8-typeAcquisition" class="headerlink" title="8.Â typeAcquisition"></a>8.Â typeAcquisition</h3><p><code>typeAcquisition</code>Â å±æ€§ä½œç”¨æ˜¯<strong>è®¾ç½®è‡ªåŠ¨å¼•å…¥åº“ç±»å‹å®šä¹‰æ–‡ä»¶(.d.ts)ç›¸å…³ã€‚</strong><br />åŒ…å« 3 ä¸ªå­å±æ€§ï¼š</p>
<ul>
<li><code>enable</code>Â  : å¸ƒå°”ç±»å‹ï¼Œæ˜¯å¦å¼€å¯è‡ªåŠ¨å¼•å…¥åº“ç±»å‹å®šä¹‰æ–‡ä»¶(.d.ts)ï¼Œé»˜è®¤ä¸º falseï¼›</li>
<li><code>include</code>Â  : æ•°ç»„ç±»å‹ï¼Œå…è®¸è‡ªåŠ¨å¼•å…¥çš„åº“åï¼Œå¦‚ï¼š[â€œjqueryâ€, â€œlodashâ€]ï¼›</li>
<li><code>exculde</code>Â  : æ•°ç»„ç±»å‹ï¼Œæ’é™¤çš„åº“åã€‚<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;typeAcquisition&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;enable&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;exclude&quot;</span>: [<span class="string">&quot;jquery&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;include&quot;</span>: [<span class="string">&quot;jest&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><a name="QqaRt"></a></p>
<h2 id="å…­ã€å¸¸è§é…ç½®ç¤ºä¾‹"><a href="#å…­ã€å¸¸è§é…ç½®ç¤ºä¾‹" class="headerlink" title="å…­ã€å¸¸è§é…ç½®ç¤ºä¾‹"></a>å…­ã€å¸¸è§é…ç½®ç¤ºä¾‹</h2><p>æœ¬éƒ¨åˆ†å†…å®¹ä¸­ï¼Œæˆ‘ä»¬æ‰¾äº†å‡ ä¸ªå®é™…å¼€å‘ä¸­æ¯”è¾ƒå¸¸è§çš„é…ç½®ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰å¾ˆå¤šé…ç½®éœ€è¦è‡ªå·±æ‘¸ç´¢å“Ÿ~~</p>
<p><a name="SzLQ8"></a></p>
<h3 id="1-ç§»é™¤ä»£ç ä¸­æ³¨é‡Š"><a href="#1-ç§»é™¤ä»£ç ä¸­æ³¨é‡Š" class="headerlink" title="1. ç§»é™¤ä»£ç ä¸­æ³¨é‡Š"></a>1. ç§»é™¤ä»£ç ä¸­æ³¨é‡Š</h3><p>tsconfig.jsonï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;removeComments&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘å‰ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å½“å‰ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVersion</span>(<span class="params">version:<span class="built_in">string</span> = <span class="string">&quot;1.0.0&quot;</span></span>): <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> version;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getVersion(<span class="string">&quot;1.0.1&quot;</span>))</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVersion</span>(<span class="params">version</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (version === <span class="keyword">void</span> <span class="number">0</span>) &#123; version = <span class="string">&quot;1.0.0&quot;</span>; &#125;</span><br><span class="line">    <span class="keyword">return</span> version;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getVersion(<span class="string">&quot;1.0.1&quot;</span>));</span><br></pre></td></tr></table></figure>
<p><a name="m3sdZ"></a></p>
<h3 id="2-å¼€å¯nullã€undefinedæ£€æµ‹"><a href="#2-å¼€å¯nullã€undefinedæ£€æµ‹" class="headerlink" title="2. å¼€å¯nullã€undefinedæ£€æµ‹"></a>2. å¼€å¯nullã€undefinedæ£€æµ‹</h3><p>tsconfig.jsonï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;strictNullChecks&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ <code>index.ts</code>Â æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> leo;</span><br><span class="line">leo = <span class="keyword">new</span> Pingan(<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><br />è¿™æ—¶å€™ç¼–è¾‘å™¨ä¹Ÿä¼šæç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæ‰§è¡Œ <code>tsc</code>Â åï¼Œæ§åˆ¶å°æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">src/index.ts:9:11 - error TS2304: Cannot find name <span class="string">&#x27;Pingan&#x27;</span>.</span><br><span class="line"></span><br><span class="line">9 leo = new Pingan(<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"></span><br><span class="line">Found 1 error.</span><br></pre></td></tr></table></figure>


<p><a name="2kSjd"></a></p>
<h3 id="3-é…ç½®å¤ç”¨"><a href="#3-é…ç½®å¤ç”¨" class="headerlink" title="3. é…ç½®å¤ç”¨"></a>3. é…ç½®å¤ç”¨</h3><p>é€šè¿‡Â <code>extends</code>Â å±æ€§å®ç°é…ç½®å¤ç”¨ï¼Œå³ä¸€ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªæ–‡ä»¶çš„é…ç½®å±æ€§ã€‚<br />æ¯”å¦‚ï¼Œå»ºç«‹ä¸€ä¸ªåŸºç¡€çš„é…ç½®æ–‡ä»¶ <code>configs/base.json</code> ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;noImplicitAny&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;strictNullChecks&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>tsconfig.json</code>Â å°±å¯ä»¥å¼•ç”¨è¿™ä¸ªæ–‡ä»¶çš„é…ç½®äº†ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;extends&quot;</span>: <span class="string">&quot;./configs/base&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;files&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;main.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;supplemental.ts&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="shRlR"></a></p>
<h3 id="4-ç”Ÿæˆæšä¸¾çš„æ˜ å°„ä»£ç "><a href="#4-ç”Ÿæˆæšä¸¾çš„æ˜ å°„ä»£ç " class="headerlink" title="4. ç”Ÿæˆæšä¸¾çš„æ˜ å°„ä»£ç "></a>4. ç”Ÿæˆæšä¸¾çš„æ˜ å°„ä»£ç </h3><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>const</code>Â ä¿®é¥°ç¬¦åï¼Œæšä¸¾ä¸ä¼šç”Ÿæˆæ˜ å°„ä»£ç ã€‚<br />å¦‚ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šä½¿ç”¨ <code>const</code> ä¿®é¥°ç¬¦åï¼Œç¼–è¯‘å™¨ä¸ä¼šç”Ÿæˆä»»ä½• <code>RequestMethod</code> æšä¸¾çš„ä»»ä½•æ˜ å°„ä»£ç ï¼Œåœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨æ—¶ï¼Œå†…è”æ¯ä¸ªæˆå‘˜çš„å€¼ï¼ŒèŠ‚çœå¾ˆå¤§å¼€é”€ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">enum</span> RequestMethod &#123;</span><br><span class="line">  Get,</span><br><span class="line">  Post,</span><br><span class="line">  Put,</span><br><span class="line">  Delete</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> methods = [</span><br><span class="line">  RequestMethod.Get,</span><br><span class="line">  RequestMethod.Post</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> methods = [</span><br><span class="line">    <span class="number">0</span> <span class="comment">/* Get */</span>,</span><br><span class="line">    <span class="number">1</span> <span class="comment">/* Post */</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¸Œæœ›ç”Ÿæˆæ˜ å°„ä»£ç æ—¶ï¼Œä¹Ÿå¯ä»¥è®¾ç½® <code>tsconfig.json</code> ä¸­çš„é…ç½®ï¼Œè®¾ç½® <code>preserveConstEnums</code> ç¼–è¯‘å™¨é€‰é¡¹ä¸º <code>true</code> ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;preserveConstEnums&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><br />æœ€åç¼–è¯‘ç»“æœå˜æˆï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> RequestMethod;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">RequestMethod</span>) </span>&#123;</span><br><span class="line">    RequestMethod[RequestMethod[<span class="string">&quot;Get&quot;</span>] = <span class="number">0</span>] = <span class="string">&quot;Get&quot;</span>;</span><br><span class="line">    RequestMethod[RequestMethod[<span class="string">&quot;Post&quot;</span>] = <span class="number">1</span>] = <span class="string">&quot;Post&quot;</span>;</span><br><span class="line">    RequestMethod[RequestMethod[<span class="string">&quot;Put&quot;</span>] = <span class="number">2</span>] = <span class="string">&quot;Put&quot;</span>;</span><br><span class="line">    RequestMethod[RequestMethod[<span class="string">&quot;Delete&quot;</span>] = <span class="number">3</span>] = <span class="string">&quot;Delete&quot;</span>;</span><br><span class="line">&#125;)(RequestMethod || (RequestMethod = &#123;&#125;));</span><br><span class="line"><span class="keyword">let</span> methods = [</span><br><span class="line">    <span class="number">0</span> <span class="comment">/* Get */</span>,</span><br><span class="line">    <span class="number">1</span> <span class="comment">/* Post */</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p><a name="AxJpb"></a></p>
<h3 id="5-å…³é—­-this-ç±»å‹æ³¨è§£æç¤º"><a href="#5-å…³é—­-this-ç±»å‹æ³¨è§£æç¤º" class="headerlink" title="5. å…³é—­ this ç±»å‹æ³¨è§£æç¤º"></a>5. å…³é—­ this ç±»å‹æ³¨è§£æç¤º</h3><p>é€šè¿‡ä¸‹é¢ä»£ç ç¼–è¯‘åä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">button?.addEventListener(<span class="string">&quot;click&quot;</span>, handleClick);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params"><span class="built_in">this</span></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&quot;Clicked!&quot;</span>);</span><br><span class="line"> <span class="built_in">this</span>.removeEventListener(<span class="string">&quot;click&quot;</span>, handleClick);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><br />æŠ¥é”™å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">src/index.ts:10:22 - error TS7006: Parameter <span class="string">&#x27;this&#x27;</span> implicitly has an <span class="string">&#x27;any&#x27;</span> <span class="built_in">type</span>.</span><br><span class="line">10 <span class="keyword">function</span> handleClick(this) &#123;</span><br><span class="line">Found 1 error.</span><br></pre></td></tr></table></figure>

<p><br />è¿™æ˜¯å› ä¸ºÂ <code>this</code> éšå¼å…·æœ‰ <code>any</code> ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šç±»å‹æ³¨è§£ï¼Œç¼–è¯‘å™¨ä¼šæç¤ºâ€œâ€thisâ€ éšå¼å…·æœ‰ç±»å‹ â€œanyâ€ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç±»å‹æ³¨é‡Šã€‚â€ã€‚<br /><br><br />è§£å†³æ–¹æ³•æœ‰2ç§ï¼š</p>
<ol>
<li>æŒ‡å®š this ç±»å‹ï¼Œå¦‚æœ¬ä»£ç ä¸­ä¸º <code>HTMLElement</code>Â ç±»å‹ï¼š</li>
</ol>
<p><code>HTMLElement</code> æ¥å£è¡¨ç¤ºæ‰€æœ‰çš„ HTML å…ƒç´ ã€‚ä¸€äº›HTMLå…ƒç´ ç›´æ¥å®ç°äº† <code>HTMLElement</code> æ¥å£ï¼Œå…¶å®ƒçš„é—´æ¥å®ç°<code>HTMLElement</code>æ¥å£ã€‚<br />å…³äº<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement"> HTMLElement </a>å¯æŸ¥çœ‹è¯¦ç»†ã€‚<br /></p>
<ol start="2">
<li>ä½¿ç”¨Â <code>--noImplicitThis</code>Â é…ç½®é¡¹ï¼šÂ </li>
</ol>
<p><br />åœ¨ TS2.0 è¿˜å¢åŠ ä¸€ä¸ªæ–°çš„ç¼–è¯‘é€‰é¡¹ï¼š <code>--noImplicitThis</code>ï¼Œè¡¨ç¤ºå½“ <code>this</code> è¡¨è¾¾å¼å€¼ä¸º <code>any</code> ç±»å‹æ—¶ç”Ÿæˆä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚æˆ‘ä»¬è®¾ç½®ä¸º <code>true</code>Â åå°±èƒ½æ­£å¸¸ç¼–è¯‘ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;noImplicitThis&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="vPiTf"></a></p>
<h2 id="ä¸ƒã€Webpack-React-ä¸­ä½¿ç”¨ç¤ºä¾‹"><a href="#ä¸ƒã€Webpack-React-ä¸­ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä¸ƒã€Webpack/React ä¸­ä½¿ç”¨ç¤ºä¾‹"></a>ä¸ƒã€Webpack/React ä¸­ä½¿ç”¨ç¤ºä¾‹</h2><p><a name="9l17W"></a></p>
<h3 id="1-é…ç½®ç¼–è¯‘-ES6-ä»£ç ï¼ŒJSX-æ–‡ä»¶"><a href="#1-é…ç½®ç¼–è¯‘-ES6-ä»£ç ï¼ŒJSX-æ–‡ä»¶" class="headerlink" title="1. é…ç½®ç¼–è¯‘ ES6 ä»£ç ï¼ŒJSX æ–‡ä»¶"></a>1. é…ç½®ç¼–è¯‘ ES6 ä»£ç ï¼ŒJSX æ–‡ä»¶</h3><p>åˆ›å»ºæµ‹è¯•é¡¹ç›® webpack-demoï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">webpack-demo/</span><br><span class="line">  |- package.json</span><br><span class="line">  |- tsconfig.json</span><br><span class="line">  |- webpack.config.js</span><br><span class="line">  |- /dist</span><br><span class="line">    |- bundle.js</span><br><span class="line">    |- index.html</span><br><span class="line">  |- /src</span><br><span class="line">    |- index.js</span><br><span class="line">    |- index.ts</span><br><span class="line">  |- /node_modules</span><br></pre></td></tr></table></figure>
<p>å®‰è£… TypeScript å’Œ ts-loaderï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev typescript ts-loader</span><br></pre></td></tr></table></figure>
<p>é…ç½® tsconfig.jsonï¼Œæ”¯æŒ JSXï¼Œå¹¶å°† TypeScript ç¼–è¯‘ä¸º ES5ï¼š</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;outDir&quot;: &quot;./dist/&quot;,</span><br><span class="line">    &quot;noImplicitAny&quot;: true,</span><br><span class="line"><span class="addition">+   &quot;module&quot;: &quot;es6&quot;,</span></span><br><span class="line"><span class="addition">+   &quot;target&quot;: &quot;es5&quot;,</span></span><br><span class="line"><span class="addition">+   &quot;jsx&quot;: &quot;react&quot;,</span></span><br><span class="line">    &quot;allowJs&quot;: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜éœ€è¦é…ç½® webpack.config.jsï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç† TypeScript ä»£ç ï¼Œè¿™é‡Œä¸»è¦åœ¨ <code>rules</code>Â ä¸­æ·»åŠ  <code>ts-loader</code>Â ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.ts&#x27;</span>,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">        use: <span class="string">&#x27;ts-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [ <span class="string">&#x27;.tsx&#x27;</span>, <span class="string">&#x27;.ts&#x27;</span>, <span class="string">&#x27;.js&#x27;</span> ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<p><a name="uSzYa"></a></p>
<h3 id="2-é…ç½®-source-map"><a href="#2-é…ç½®-source-map" class="headerlink" title="2. é…ç½® source map"></a>2. é…ç½® source map</h3><p>æƒ³è¦å¯ç”¨ source mapï¼Œæˆ‘ä»¬å¿…é¡»é…ç½® TypeScriptï¼Œä»¥å°†å†…è”çš„ source map è¾“å‡ºåˆ°ç¼–è¯‘åçš„ JavaScript æ–‡ä»¶ä¸­ã€‚<br />åªéœ€è¦åœ¨ tsconfig.json ä¸­é…ç½® sourceMap å±æ€§ï¼š</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  &#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">      &quot;outDir&quot;: &quot;./dist/&quot;,</span><br><span class="line"><span class="addition">+     &quot;sourceMap&quot;: true,</span></span><br><span class="line">      &quot;noImplicitAny&quot;: true,</span><br><span class="line">      &quot;module&quot;: &quot;commonjs&quot;,</span><br><span class="line">      &quot;target&quot;: &quot;es5&quot;,</span><br><span class="line">      &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">      &quot;allowJs&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åé…ç½®Â webpack.config.js æ–‡ä»¶ï¼Œè®© webpack æå– source mapï¼Œå¹¶å†…è”åˆ°æœ€ç»ˆçš„ bundle ä¸­ï¼š</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">  module.exports = &#123;</span><br><span class="line">    entry: &#x27;./src/index.ts&#x27;,</span><br><span class="line"><span class="addition">+   devtool: &#x27;inline-source-map&#x27;,</span></span><br><span class="line">    module: &#123;</span><br><span class="line">      rules: [</span><br><span class="line">        &#123;</span><br><span class="line">          test: /\.tsx?$/,</span><br><span class="line">          use: &#x27;ts-loader&#x27;,</span><br><span class="line">          exclude: /node_modules/</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">      extensions: [ &#x27;.tsx&#x27;, &#x27;.ts&#x27;, &#x27;.js&#x27; ]</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">      filename: &#x27;bundle.js&#x27;,</span><br><span class="line">      path: path.resolve(__dirname, &#x27;dist&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<p><a name="jIliq"></a></p>
<h2 id="å…«ã€æ€»ç»“"><a href="#å…«ã€æ€»ç»“" class="headerlink" title="å…«ã€æ€»ç»“"></a>å…«ã€æ€»ç»“</h2><p>æœ¬æ–‡è¾ƒå…¨é¢ä»‹ç»äº† tsconfig.json æ–‡ä»¶çš„çŸ¥è¯†ï¼Œä»â€œä»€ä¹ˆæ˜¯ tsconfig.js æ–‡ä»¶â€å¼€å§‹ï¼Œä¸€æ­¥æ­¥å¸¦é¢†å¤§å®¶å…¨é¢è®¤è¯† tsconfig.json æ–‡ä»¶ã€‚<br />æ–‡ä¸­é€šè¿‡ä¸€ä¸ªç®€å• learnTsconfig é¡¹ç›®ï¼Œè®©å¤§å®¶çŸ¥é“é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨ tsconfig.json æ–‡ä»¶ã€‚åœ¨åç»­æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è¿™ä¹ˆå¤šçš„é…ç½®é¡¹è¿›è¡Œåˆ†ç±»å­¦ä¹ ã€‚æœ€åé€šè¿‡å‡ ä¸ªå¸¸è§é…ç½®ç¤ºä¾‹ï¼Œè§£å†³æˆ‘ä»¬å¼€å‘ä¸­é‡åˆ°çš„å‡ ä¸ªå¸¸è§é—®é¢˜ã€‚<br /><br><br />å½“ç„¶ï¼Œæœ¬æ–‡ç¯‡å¹…æœ‰é™ï¼Œæ— æ³•é’ˆå¯¹æ¯ä¸ªå±æ€§è¿›è¡Œæ·±å…¥ä»‹ç»ï¼Œè¿™å°±éœ€è¦å¤§å®¶åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¤šå»å°è¯•å’Œä½¿ç”¨å•¦~<br /></p>
<p><a name="HIZQm"></a></p>
<h2 id="ä¹ã€å­¦ä¹ å’Œå‚è€ƒèµ„æ–™"><a href="#ä¹ã€å­¦ä¹ å’Œå‚è€ƒèµ„æ–™" class="headerlink" title="ä¹ã€å­¦ä¹ å’Œå‚è€ƒèµ„æ–™"></a>ä¹ã€å­¦ä¹ å’Œå‚è€ƒèµ„æ–™</h2><p><br />1.<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/tsconfig">ã€ŠIntro to the TSConfig Referenceã€‹</a>Â <br />2.<a target="_blank" rel="noopener" href="https://www.tslang.cn/docs/handbook/tsconfig-json.html">ã€Štsconfig.jsonã€‹</a>Â <br />3.<a target="_blank" rel="noopener" href="http://json.schemastore.org/tsconfig">ã€ŠTypeScriptç¼–è¯‘å™¨çš„é…ç½®æ–‡ä»¶çš„JSONæ¨¡å¼ã€‹</a><br />4.<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0383bbd61a6b">ã€Šè¯¦è§£TypeScripté¡¹ç›®ä¸­çš„tsconfig.jsoné…ç½®ã€‹</a>Â <br />5.<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">ã€Šå®˜æ–¹å®Œæ•´çš„ç¼–è¯‘é€‰é¡¹åˆ—è¡¨ã€‹</a><br /></p>
<h2 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h2><table>
<thead>
<tr>
<th>Author</th>
<th>ç‹å¹³å®‰</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#97;&#x6e;&#x38;&#55;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#109;">&#x70;&#105;&#x6e;&#x67;&#97;&#x6e;&#x38;&#55;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#109;</a></td>
</tr>
<tr>
<td>åš  å®¢</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>å¾®  ä¿¡</td>
<td>pingan8787</td>
</tr>
<tr>
<td>æ¯æ—¥æ–‡ç« æ¨è</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>ESå°å†Œ</td>
<td>js.pingan8787.com</td>
</tr>
<tr>
<td>è¯­é›€çŸ¥è¯†åº“</td>
<td><a target="_blank" rel="noopener" href="https://www.yuque.com/wangpingan/cute-frontend">Cute-FrontEnd</a></td>
</tr>
</tbody></table>
<p><img src="http://images.pingan8787.com/2019_07_12guild_page.png" alt="bg">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/06/17/208-%E3%80%90TyeScript%E3%80%91%E4%BA%86%E4%B8%8D%E8%B5%B7%E7%9A%84tsconfig-json%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" data-id="ckts3ejys00n74d9k0xiucl42" data-title="208-ã€TyeScriptã€‘äº†ä¸èµ·çš„tsconfig.jsonå­¦ä¹ æŒ‡å—" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSSåŠ¨ç”»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTPåè®®</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">ä¸­é—´ä»¶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">äººå·¥æ™ºèƒ½</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">å…¨æ ˆå¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">å‰ç«¯å¼€å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">å‰ç«¯æ¢ç´¢</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">åŸåˆ›</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">å¸¸ç”¨æŠ€æœ¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">å¾®å‰ç«¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">æ€»ç»“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">æœºå™¨å­¦ä¹ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">æ„å»ºå·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">æºç </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">æºç ç²¾è¯»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">çƒ­é—¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">ç”Ÿæ´»æ‚è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">ç¼–è¯‘åŸç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">ç½‘ç»œè¯·æ±‚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">è¯»ä¹¦ç¬”è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">é‡æ¸©åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">é¢è¯•é¢˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSSåŠ¨ç”»</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTPåè®®</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">ä¸­é—´ä»¶</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">äººå·¥æ™ºèƒ½</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">å…¨æ ˆå¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">å‰ç«¯å¼€å‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">å‰ç«¯æ¢ç´¢</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">å‰ç«¯çŸ¥ä¹ç³»åˆ—</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">åŸåˆ›</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">å¸¸ç”¨æŠ€æœ¯</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">å¾®å‰ç«¯</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">æ€»ç»“</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">æœºå™¨å­¦ä¹ </a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">æ„å»ºå·¥å…·</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">æ­£åˆ™è¡¨è¾¾å¼</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">æºç </a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">æºç ç²¾è¯»</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">çƒ­é—¨</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">ç”Ÿæ´»æ‚è®°</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">ç®—æ³•</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">ç¼–è¯‘åŸç†</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">ç½‘ç»œè¯·æ±‚</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">è¯»ä¹¦ç¬”è®°</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">é‡æ¸©åŸºç¡€</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">é¢è¯•é¢˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-ã€æ€»ç»“ã€‘å¦‚ä½•ä¼˜é›…çš„åœ¨å¾®ä¿¡å°ç¨‹åºä½¿ç”¨SVGå­—ä½“å›¾æ ‡</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-ã€HTTPã€‘å¦‚ä½•ä¼˜é›…çš„ç®¡ç†HTTPè¯·æ±‚å’Œå“åº”æ‹¦æˆªå™¨ï¼Ÿ</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-ã€Vueã€‘ä»æ‰‹å†™Vue3çš„Reactivityå¼€å§‹æ·±å…¥Vue3æºç </a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-ã€Chromeã€‘5ä¸ªChromeè°ƒè¯•æ··åˆåº”ç”¨çš„æŠ€å·§</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-ã€å‰ç«¯æ¢ç´¢ã€‘æ¢ç´¢Snabbdomæ¨¡å—ç³»ç»ŸåŸç†</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>