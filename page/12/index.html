<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/12/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-117-【JavaScript】【重温基础】4-函数" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/13/117-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%914-%E5%87%BD%E6%95%B0/" class="article-date">
  <time class="dt-published" datetime="2018-12-13T15:58:22.000Z" itemprop="datePublished">2018-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/13/117-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%914-%E5%87%BD%E6%95%B0/">117-【JavaScript】【重温基础】4.函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#103;&#x61;&#110;&#56;&#55;&#56;&#55;&#64;&#113;&#x71;&#46;&#x63;&#111;&#109;">&#x70;&#105;&#x6e;&#103;&#x61;&#110;&#56;&#55;&#56;&#55;&#64;&#113;&#x71;&#46;&#x63;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的基础组件之一，函数，用来复用特定执行逻辑。</strong> </p>
<h1 id="1-定义函数"><a href="#1-定义函数" class="headerlink" title="1.定义函数"></a>1.定义函数</h1><p>定义函数有两种方法：<strong>函数声明</strong> 和 <strong>函数表达式</strong> ：  </p>
<h2 id="1-1-函数声明"><a href="#1-1-函数声明" class="headerlink" title="1.1 函数声明"></a>1.1 函数声明</h2><p>也成为<strong>函数声明</strong>，通常格式为：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>解释</strong>：这里声明一个函数 <code>f</code> ，并传入一个参数 <code>a</code> ，当函数执行以后，通过 <code>return</code> 关键字返回了 <code>a+1</code>的值。  </p>
<p><strong>参数</strong>：<br>当传入的参数是一个数字/字符串等具体的值的时候，若参数的值被改变，不会影响到全局或调用函数。<br>但如果参数是个对象，若函数内改变的这个参数的属性，则函数外部的这个参数原始的值会被修改。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> leo = &#123;</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    obj.age = <span class="number">15</span>;</span><br><span class="line">    obj.name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">f(leo);</span><br><span class="line"><span class="built_in">console</span>.log(leo); <span class="comment">//&#123;age: 15, name: &quot;leo&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2函数表达式"><a href="#1-2函数表达式" class="headerlink" title="1.2函数表达式"></a>1.2函数表达式</h2><p>通过定义一个匿名的函数，来赋值给一个变量，通过这个变量来调用这个函数。     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是函数表达式也可以提供函数名，用于函数内部调用，并指代本身，也可以作为调试器堆栈跟踪中识别该函数。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &lt; <span class="number">2</span> ? <span class="number">1</span> : a*g(a-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另外，函数表达式声明可以用来根据不同条件，来定义一个函数：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f;</span><br><span class="line"><span class="keyword">if</span>(a == <span class="number">1</span>)&#123;</span><br><span class="line">    f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;when a == 1&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;when a != 1&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-函数调用"><a href="#2-函数调用" class="headerlink" title="2.函数调用"></a>2.函数调用</h1><p>函数定义完成后不会自动执行，需要我们通过函数名称来调用，才能真正执行：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">// &#x27;ok&#x27;</span></span><br></pre></td></tr></table></figure>
<p>另外，函数也可以调用自身，这就是递归过程：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( n==<span class="number">0</span> || n==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n * f(n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 三目运算</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (n==<span class="number">0</span> || n==<span class="number">1</span>)?<span class="number">1</span>: n*f(n-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-函数作用域"><a href="#3-函数作用域" class="headerlink" title="3.函数作用域"></a>3.函数作用域</h1><p>由于函数只在函数的内部有定义，所以函数内部定义的变量在函数外部不能访问，函数内部就是这个函数的作用域。<br>当一个父级函数内，还定义了一个子级函数，则这个子级函数可以访问父级函数定义的变量。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局作用域 global scope</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a1 = <span class="string">&#x27;leo&#x27;</span>, b1 = <span class="string">&#x27;pingan&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hi</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a1 + <span class="string">&#x27;和&#x27;</span> + b1</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> hi();</span><br><span class="line">&#125;</span><br><span class="line">g(); <span class="comment">// &#x27;leo和pingan&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-1-闭包"><a href="#3-1-闭包" class="headerlink" title="3.1 闭包"></a>3.1 闭包</h2><p>闭包是 JavaScript 中最强大的特性之一，并且JS允许函数嵌套。<br>在一个函数内部在嵌套一个函数，而嵌套的这个函数对外面的函数是私有的，则形成一个闭包，闭包是一个可以自己拥有独立的环境和变量的表达式，通常是函数。<br>理解一下，前面说的内部函数可以调用外部函数的变量和方法，那么可以这么理解：<strong>闭包的函数继承了父级容器函数的参数和变量</strong>，即<strong>内部函数包含外部函数的作用域</strong>。<br>总结一下：  </p>
<ul>
<li>内部函数只能在外部函数中访问；  </li>
<li>内部函数形成闭包：可以访问外部函数的参数和变量，但外部函数却不能使用这个内部函数的参数和变量；   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> g;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a1 = f(<span class="number">5</span>);  <span class="comment">// ƒ g(b)&#123; return a + b; &#125;</span></span><br><span class="line"><span class="keyword">var</span> a2 = a1(<span class="number">6</span>); <span class="comment">// 11</span></span><br><span class="line"><span class="keyword">var</span> a3 = f(<span class="number">5</span>)(<span class="number">6</span>); <span class="comment">// 11</span></span><br></pre></td></tr></table></figure>
闭包可以给内部函数的变量提供一定的<strong>安全保障</strong>。<br>另外，闭包还有复杂的用法：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age ;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">setName</span> : <span class="function"><span class="keyword">function</span> (<span class="params">newName</span>)</span>&#123;</span><br><span class="line">            name = newName;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="attr">getName</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="attr">getAge</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">setAge</span> : <span class="function"><span class="keyword">function</span> (<span class="params">newAge</span>)</span>&#123;</span><br><span class="line">            age = newAge;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> leo = f(<span class="string">&#x27;leo&#x27;</span>);</span><br><span class="line">leo.setName(<span class="string">&#x27;pingan&#x27;</span>);</span><br><span class="line">leo.setAge(<span class="number">20</span>);</span><br><span class="line">leo.getName();     <span class="comment">// &#x27;pingan&#x27;</span></span><br><span class="line">leo.getAge();      <span class="comment">// 20</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2命名冲突"><a href="#3-2命名冲突" class="headerlink" title="3.2命名冲突"></a>3.2命名冲突</h2><p>在同一个闭包作用域下若参数或变量名相同，产生冲突，则<strong>优先使用作用域最近</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> g;</span><br><span class="line">&#125;</span><br><span class="line">f()(<span class="number">3</span>); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h1 id="4-arguments对象"><a href="#4-arguments对象" class="headerlink" title="4.arguments对象"></a>4.arguments对象</h1><p>函数的实际参数会被保存在一个类数组对象 <code>arguments</code> 对象中，通过索引访问具体的参数：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">arguments</span>[i]</span><br></pre></td></tr></table></figure>
<p><code>arguments</code>的索引从0开始，也有<code>arguments.length</code>属性获取长度。<br>当我们不知道参数的数量的时候，可以使用<code>arguments.length</code>来获取实际传入参数的数量，再用<code>arguments</code>对象来获取每个参数。<br>例如： </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拼接所有参数为一个字符串</span></span><br><span class="line"><span class="comment">// 参数 s 为分隔符</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"> s </span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;= <span class="built_in">arguments</span>.length; i++)&#123;</span><br><span class="line">        text += <span class="built_in">arguments</span>[i] + s ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f(<span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;pingan&#x27;</span>,<span class="string">&#x27;robin&#x27;</span>);</span><br><span class="line"><span class="comment">// &quot;----leo--pingan--robin--undefined--&quot;</span></span><br><span class="line">f(<span class="string">&#x27;**&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;pingan&#x27;</span>,<span class="string">&#x27;robin&#x27;</span>);</span><br><span class="line"><span class="comment">// &quot;****leo**pingan**robin**undefined**&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="5-函数参数"><a href="#5-函数参数" class="headerlink" title="5.函数参数"></a>5.函数参数</h1><p>ES6开始，新增两个类型的参数：<strong>默认参数</strong>和<strong>剩余参数</strong>：   </p>
<h2 id="5-1默认参数"><a href="#5-1默认参数" class="headerlink" title="5.1默认参数"></a>5.1默认参数</h2><p>若函数没有传入参数，则参数默认值为<code>undefined</code>，通常设置参数默认值是这样做的：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没有设置默认值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    b = b ? b : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// 6</span></span><br><span class="line">f(<span class="number">2</span>);    <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置默认值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, b = <span class="number">1</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">// 6</span></span><br><span class="line">f(<span class="number">2</span>);    <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="5-2剩余参数"><a href="#5-2剩余参数" class="headerlink" title="5.2剩余参数"></a>5.2剩余参数</h2><p>可以将参数中不确定数量的参数表示成数组，如下：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a, ...b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>); <span class="comment">// a =&gt; 1 b =&gt; [2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<h1 id="6-箭头函数"><a href="#6-箭头函数" class="headerlink" title="6.箭头函数"></a>6.箭头函数</h1><p><strong>函数箭头表达式</strong>是ES6新增的函数表达式的语法，也叫<strong>胖箭头函数</strong>，变化：更简洁的函数和<code>this</code>。  </p>
<ul>
<li><p>更简洁的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有1个参数</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">v</span>)</span>&#123;<span class="keyword">return</span> v&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有多个参数</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">v, i</span>) =&gt;</span> &#123;<span class="keyword">return</span> v + i&#125;;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">v, i</span>)</span>&#123;<span class="keyword">return</span> v + i&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没参数</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function">() =&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.map(<span class="function"><span class="params">ele</span> =&gt;</span> ele + <span class="number">1</span>);  <span class="comment">// [2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure></li>
<li><p>this<br>注意这几点：  </p>
<ol>
<li>箭头函数内的<code>this</code>总是指向<strong>定义时所在的对象</strong>，而不是调用时。  </li>
<li>箭头函数不能当做<strong>构造函数</strong>，即不能用<code>new</code>命令，否则报错。  </li>
<li>箭头函数不存在<code>arguments</code>对象，即不能使用，可以使用<code>rest</code>参数代替。  </li>
<li>箭头函数不能使用<code>yield</code>命令，即不能用作Generator函数。  </li>
</ol>
</li>
</ul>
<p>一个简单的例子：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.age++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(); <span class="comment">// 定时器一直在执行 p的值一直变化</span></span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions">1.MDN 函数</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#x38;&#x37;&#64;&#113;&#x71;&#46;&#99;&#111;&#x6d;">&#112;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#x38;&#x37;&#64;&#113;&#x71;&#46;&#99;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/13/117-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%914-%E5%87%BD%E6%95%B0/" data-id="ckts3ejse00164d9k61rw5sjm" data-title="117-【JavaScript】【重温基础】4.函数" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-116-【JavaScript】【重温基础】3-循环和迭代" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/11/116-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%913-%E5%BE%AA%E7%8E%AF%E5%92%8C%E8%BF%AD%E4%BB%A3/" class="article-date">
  <time class="dt-published" datetime="2018-12-11T15:41:32.000Z" itemprop="datePublished">2018-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/11/116-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%913-%E5%BE%AA%E7%8E%AF%E5%92%8C%E8%BF%AD%E4%BB%A3/">116-【JavaScript】【重温基础】3.循环和迭代</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#x6e;&#x67;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#64;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;">&#x70;&#x69;&#x6e;&#x67;&#97;&#110;&#x38;&#x37;&#x38;&#x37;&#64;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的循环语句，让我们能更快速且简单的完成一些需求。</strong>    </p>
<p>首先我们要知道：循环实际上就是把一个事情重复n次执行，也有可能是0次，JS中有以下几种循环语句类型：  </p>
<ul>
<li><code>for</code>语句</li>
<li><code>do...while</code>语句</li>
<li><code>while</code>语句</li>
<li><code>labeled</code>语句</li>
<li><code>break</code>语句</li>
<li><code>continue</code>语句</li>
<li><code>for...in</code>语句</li>
<li><code>for...of</code>语句</li>
</ul>
<h1 id="1-for语句"><a href="#1-for语句" class="headerlink" title="1.for语句"></a>1.<code>for</code>语句</h1><p>重复执行<code>for</code>的条件语句，直到循环条件为<code>false</code>退出循环：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> ( a &lt; <span class="number">3</span>)&#123;</span><br><span class="line">    a ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个语句大概执行了以下操作：   </p>
<ul>
<li>1.定义并初始化一个变量<code>a</code>的值为<code>1</code>；  </li>
<li>2.执行循环语句，条件为当<code>a &lt; 3</code>的时候，<code>a</code>每次递增<code>1</code>； </li>
<li>3.返回第2步继续循环；   </li>
<li>4.当<code>a</code>在等于4的时候，不满足循环条件<code>a &lt; 3</code>，然后退出循环；<br>其他例子：  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求数组中所有值的和</span></span><br><span class="line"><span class="keyword">var</span> a = [ <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a.length; i++)&#123;</span><br><span class="line">    sum += a[i];</span><br><span class="line">&#125;</span><br><span class="line">sum; <span class="comment">// 14</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="2-do-while语句"><a href="#2-do-while语句" class="headerlink" title="2.do...while语句"></a>2.<code>do...while</code>语句</h1><p>重复执行<code>do</code>的条件，直到不符合<code>while</code>的条件，退出循环：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  a += <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125; <span class="keyword">while</span> (a &lt; <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<h1 id="3-while语句"><a href="#3-while语句" class="headerlink" title="3.while语句"></a>3.<code>while</code>语句</h1><p>重复执行<code>while</code>的条件，直到<code>while</code>的条件为<code>false</code>，退出循环：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (a &lt; <span class="number">5</span>)&#123;</span><br><span class="line">    a ++;</span><br><span class="line">    b += a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a =&gt; 5; b =&gt; 15</span></span><br></pre></td></tr></table></figure>

<h1 id="4-labeled语句"><a href="#4-labeled语句" class="headerlink" title="4.labeled语句"></a>4.<code>labeled</code>语句</h1><p>用来标识一个程序位置的标识符，如标识一个循环，并在<code>break</code>或<code>continue</code>中指出中国标识符，来停止这个循环。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">labelName:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ;i&lt; a.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">    <span class="keyword">if</span>(i &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span> labelName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h1 id="5-break语句"><a href="#5-break语句" class="headerlink" title="5.break语句"></a>5.<code>break</code>语句</h1><p>用于终止一个循环，还可以在<code>switch</code>中终止，通常这么使用：  </p>
<ul>
<li>终止一个循环：   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ;i&lt; a.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[i] == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>终止一个label<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">leo:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ;i&lt; a.length; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span> ;j&lt; a.length; j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i] == a[j])&#123;</span><br><span class="line">            <span class="keyword">break</span> leo;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="6-continue语句"><a href="#6-continue语句" class="headerlink" title="6.continue语句"></a>6.<code>continue</code>语句</h1><p>用来跳过当前循环，进入下个循环，可以使用在<code>while</code>、<code>do...while</code>、<code>for</code>或者<code>label</code>语句：  </p>
<ul>
<li>有使用<code>continue</code>    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (a &lt; <span class="number">5</span> )&#123;</span><br><span class="line">    a ++;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    b += a;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 4 8 13</span></span><br></pre></td></tr></table></figure></li>
<li>没有使用<code>continue</code>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (a &lt; <span class="number">5</span> )&#123;</span><br><span class="line">    a ++;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="comment">// continue;</span></span><br><span class="line">    &#125;</span><br><span class="line">    b += a;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1,3,6,10,15</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="7-for-in语句"><a href="#7-for-in语句" class="headerlink" title="7.for...in语句"></a>7.<code>for...in</code>语句</h1><p>通常用于遍历一个对象的所有可枚举的属性，执行指定方法：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [</span><br><span class="line">    &#123;<span class="attr">name</span> : <span class="string">&#x27;leo&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span> : <span class="string">&#x27;pingan&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span> : <span class="string">&#x27;平安&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> a)&#123;</span><br><span class="line">    <span class="comment">// a为循环对象 k为当前指针位置</span></span><br><span class="line">    <span class="built_in">console</span>.log(a[k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="8-for-of语句"><a href="#8-for-of语句" class="headerlink" title="8.for...of语句"></a>8.<code>for...of</code>语句</h1><p>通常用于遍历一个可迭代对象（包括<code>Array</code>,<code>Map</code>,<code>Set</code>和参数对象<code>arguments</code>等），执行指定方法：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);   <span class="comment">// k 为当前元素的下标</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> m <span class="keyword">of</span> a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(m);   <span class="comment">// m 为当前元素的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Loops_and_iteration">1.MDN 循环和迭代</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#110;&#103;&#97;&#110;&#x38;&#55;&#56;&#55;&#x40;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;">&#112;&#105;&#110;&#103;&#97;&#110;&#x38;&#55;&#56;&#55;&#x40;&#x71;&#x71;&#x2e;&#x63;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/11/116-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%913-%E5%BE%AA%E7%8E%AF%E5%92%8C%E8%BF%AD%E4%BB%A3/" data-id="ckts3ejse00134d9kboprbbd7" data-title="116-【JavaScript】【重温基础】3.循环和迭代" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-115-【JavaScript】【重温基础】2-流程控制和错误处理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/11/115-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%912-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2018-12-11T14:54:08.000Z" itemprop="datePublished">2018-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/11/115-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%912-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/">115-【JavaScript】【重温基础】2.流程控制和错误处理</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#x6e;&#103;&#97;&#x6e;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#x71;&#46;&#99;&#x6f;&#109;">&#112;&#105;&#x6e;&#103;&#97;&#x6e;&#56;&#x37;&#56;&#x37;&#64;&#x71;&#x71;&#46;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p><strong>本章节复习的是JS中的控制流语句，让我们能实现更多的交互功能。</strong>    </p>
<p>注意一点：在ES6之前，JS是没有<strong>块作用域</strong>的，如果在语句块外部声明的变量，如果在块内部声明一个相同名称的变量，那么程序将取后声明的这个变量的值：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">a; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>但是ES6开始，用<code>let</code>声明的变量是块作用域的：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">a;  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h1 id="1-条件判断语句"><a href="#1-条件判断语句" class="headerlink" title="1.条件判断语句"></a>1.条件判断语句</h1><p>用于根据指定条件返回结果，常见的是<code>if...else</code>和<code>switch</code>：   </p>
<h2 id="if…else语句"><a href="#if…else语句" class="headerlink" title="if…else语句"></a>if…else语句</h2><p>若条件为<strong>真</strong>，则执行<code>if</code>后面的语句，若条件为<strong>假</strong>，则执行<code>else</code>后面的语句：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(condition)&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">// else 为可选</span></span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>False等效值</strong>：<br>在JS中下面的值常常被计算为<code>false</code>   </p>
<ul>
<li>false</li>
<li>undefined</li>
<li>null</li>
<li>0</li>
<li>NaN</li>
<li>空字符串（””）</li>
</ul>
<p><strong>注意</strong>：<br>不要使用原始布尔值<code>true</code>和<code>false</code> 与 Boolean对象的真和假混淆：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);  <span class="comment">// Boolean &#123;true&#125;</span></span><br><span class="line"><span class="keyword">if</span> (a);         <span class="comment">//  永真</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="literal">true</span>); <span class="comment">// 永假 </span></span><br></pre></td></tr></table></figure>

<h1 id="2-switch语句"><a href="#2-switch语句" class="headerlink" title="2.switch语句"></a>2.switch语句</h1><p>通过匹配表达式的值到每个<code>case</code>标签，若匹配成功则执行相关语句：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> ( <span class="string">&#x27;leo&#x27;</span> )&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;pingan&#x27;</span>:</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">        <span class="keyword">break</span>;   <span class="comment">// 可选</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;leo&#x27;</span>:</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:  <span class="comment">// 都不匹配 则执行默认</span></span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>break</code>为可选，目的用于保证在正确匹配后，能跳出程序的<code>switch</code>语句，并继续执行其他代码，若没有<code>break</code>则程序会继续执行下一个<code>case</code>语句。   </p>
<h1 id="3-异常处理语句"><a href="#3-异常处理语句" class="headerlink" title="3.异常处理语句"></a>3.异常处理语句</h1><p>当<code>throw</code>语句抛出的异常，我们可以使用<code>try...catch</code>捕获并处理，这里需要先介绍两个概念：  </p>
<h2 id="throw语句："><a href="#throw语句：" class="headerlink" title="throw语句："></a>throw语句：</h2><p>用于抛出异常，后面可以是任何表达式：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="string">&quot;error !&quot;</span>;</span><br><span class="line"><span class="keyword">throw</span> <span class="number">404</span>;</span><br><span class="line"><span class="keyword">throw</span> &#123;<span class="attr">msg</span>: <span class="string">&#x27;err&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="try…catch语句："><a href="#try…catch语句：" class="headerlink" title="try…catch语句："></a>try…catch语句：</h2><p>用于捕获异常，<code>try</code>后面是程序正常时候执行的程序，<code>catch</code>后面是当前面有错误抛出的时候执行，并且捕获错误信息作为参数，并且在<code>catch</code>块执行完成，参数不可再用。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;test error!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    f();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;    <span class="comment">// err 为前面返回的错误信息</span></span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;failed&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// test error!</span></span><br><span class="line"><span class="comment">// failed</span></span><br></pre></td></tr></table></figure>
<p>通常在<code>try...catch</code>后还有一个<code>finally</code>语句块，用于不论前面是否有报错，都会执行<code>finally</code>语句：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>try...catch</code>常常也用在做网络请求的情况下：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> a = fetch(url);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Control_flow_and_error_handling">1.MDN 流程控制与错误处理</a></p>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#56;&#x37;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#x6d;">&#x70;&#x69;&#110;&#103;&#97;&#x6e;&#56;&#55;&#56;&#x37;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/11/115-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%912-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" data-id="ckts3ejsd00114d9k466a0yza" data-title="115-【JavaScript】【重温基础】2.流程控制和错误处理" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-114-【JavaScript】【重温基础】1-语法和数据类型" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/10/114-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%911-%E8%AF%AD%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="article-date">
  <time class="dt-published" datetime="2018-12-09T16:09:01.000Z" itemprop="datePublished">2018-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/10/114-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%911-%E8%AF%AD%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">114-【JavaScript】【重温基础】1.语法和数据类型</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="http://images.pingan8787.com/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E5%B0%81%E9%9D%A2.png" alt="重温基础封面"></p>
<hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#105;&#x6e;&#x67;&#97;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;">&#x70;&#105;&#x6e;&#x67;&#97;&#110;&#56;&#55;&#x38;&#x37;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>最近开始把精力放在重新复习JavaScript的基础知识上面，不再太追求各种花枝招展的前端框架，框架再多，适合实际项目才是最重要。<br>上星期在掘金发布了几篇文章，其中最大块算是 <a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b106f265da61764aa0c1">【复习资料】ES6/ES7/ES8/ES9资料整理(个人整理)</a>，也是让我好好把这些规范复习了一遍，虽然不是完全的原创，而是自己的一些复习笔记，但是还是让我感觉还是挺有用的，在项目开发过程中，有有意识的去使用到这些新的规范。<br>这次开始复习 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide">MDN</a> 这个系列的文章，巩固好自己的基础，也让自己养成记录学习的习惯，当然这些文章我也会同步到自己的博客。<br>希望自己的文章会对各位有所帮助，也欢迎各位大佬指点。 </p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Grammar_and_Types">1.MDN 语法和数据类型</a></p>
<hr>
<p>正文开始</p>
<p><strong>本章节复习的是JS中的基本语法，变量声明，数据类型和字面量。</strong>    </p>
<p>首先要记住：JavaScript 对大小写敏感，即<code>var att;</code> 和 <code>var Att</code> 是两个不同变量。   </p>
<h1 id="1-注释"><a href="#1-注释" class="headerlink" title="1.注释"></a>1.注释</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单行注释</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h1 id="2-声明"><a href="#2-声明" class="headerlink" title="2. 声明"></a>2. 声明</h1><p>JavaScript有三种声明方式：   </p>
<ul>
<li><code>var</code> 声明一个变量，可赋一个初始值。   </li>
<li><code>let</code> 声明一个块作用域的局部变量，可赋一个初始值。  </li>
<li><code>const</code> 声明一个块作用域的只读命名的常量。   </li>
</ul>
<h2 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h2><p>变量的名字又叫做“<strong>标识符</strong>”，必须以字母、下划线（<code>_</code>）或者美元符号（<code>$</code>）开头，并且区分大小写。<br>变量声明有三种方式：   </p>
<ul>
<li>如<code>var a = 1</code>，声明局部变量和全局变量。</li>
<li>如<code>a = 1</code>，声明一个全局变量，且在严格模式报错，不应该使用。</li>
<li>如<code>let a = 1</code>，声明一个块作用域的局部变量。  </li>
</ul>
<p><strong>注意</strong>：   </p>
<ul>
<li>若没有为变量赋初始值，则值默认为<code>undefined</code>；  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
<li>若没有声明变量而直接使用，会抛出<code>ReferenceError</code>错误；   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(b);   <span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br></pre></td></tr></table></figure></li>
<li>当变量值为<code>undefined</code>时，布尔值环境会当做<code>false</code>，数值环境会当做<code>NaN</code>；   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="keyword">if</span>(!a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a为undefined&#x27;</span>); <span class="comment">// a为undefined</span></span><br><span class="line">&#125;</span><br><span class="line">a + <span class="number">1</span>;  <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></li>
<li>当变量值为<code>null</code>时，布尔值环境会当做<code>false</code>，数值环境会当做<code>0</code>；  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(!a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a为unll&#x27;</span>); <span class="comment">// a为unll</span></span><br><span class="line">&#125;</span><br><span class="line">a + <span class="number">1</span>;  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><p><strong>全局变量</strong>：即声明在函数之外，当前文档所有地方都可以访问；<br><strong>局部遍历</strong>：即声明在函数内部，仅在当前函数内可以访问；<br>在ES5之前没有语句<strong>块作用域</strong>的概念，并只能使用<code>var</code>进行声明，用<code>var</code>声明的变量，在函数内和全局都可以访问，而在ES6开始，将只能在声明的作用域中使用：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">a; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">b; <span class="comment">// ReferenceError: b is not defined</span></span><br></pre></td></tr></table></figure>

<h2 id="变量声明提前"><a href="#变量声明提前" class="headerlink" title="变量声明提前"></a>变量声明提前</h2><p>即将变量的声明提升到函数或语句的顶部，并返回<code>undefined</code>直到变量被初始化操作。<br><strong>千万注意</strong>：<br>ES5以及之前，才有变量声明提前，在ES6开始就不存在变量提升。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5及之前</span></span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6开始</span></span><br><span class="line"><span class="built_in">console</span>.log(b);   <span class="comment">// Uncaught ReferenceError: b1 is not defined</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);   <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="函数提升"><a href="#函数提升" class="headerlink" title="函数提升"></a>函数提升</h2><p>函数声明有两种方式：<strong>函数声明</strong>和<strong>函数表达式</strong>两种方式：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line">f();   <span class="comment">// &#x27;hi leo&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hi leo&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line">g();   <span class="comment">// Uncaught TypeError: g is not a function</span></span><br><span class="line"><span class="keyword">var</span> g = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  <span class="comment">// 换成 let 声明也一样</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hi leo&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>全局变量默认是全局对象（<code>window</code>）的属性，常常使用<code>window.variable</code>语法来设置和访问全局变量。<br>这边还需要记住：</p>
<ul>
<li><strong>ES5之中</strong>，顶层对象的属性等价于全局变量（浏览器环境中顶层对象是<code>window</code>，Node中是<code>global</code>对象）；  </li>
<li><strong>ES6之中</strong>，<code>var</code>/<code>function</code>声明的全局变量，依然是顶层对象的属性，但是<code>let</code>/<code>const</code>/<code>class</code>声明的全局变量不属于顶层对象的属性，即ES6开始，全局变量和顶层对象的属性是分开的。      <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"><span class="built_in">window</span>.a; <span class="comment">// &#x27;leo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"><span class="built_in">window</span>.b; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>ES6之后我们可以使用<code>const</code>来声明一个只读的常量，并且在<strong>声明时必须赋值</strong>，之后在相同作用域中<strong>不能赋值</strong>也<strong>不能重新声明</strong>，否则报错。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a;   </span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Missing initializer in const declaration</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">b = <span class="string">&#x27;hi&#x27;</span>;</span><br><span class="line"><span class="comment">// Uncaught TypeError: Assignment to constant variable.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a1 = <span class="string">&#x27;hi&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a1);</span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">// &#x27;hi&#x27;</span></span><br><span class="line"><span class="keyword">const</span> a1 = <span class="string">&#x27;hi leo&#x27;</span>;</span><br><span class="line">a1; <span class="comment">// &quot;hi leo&quot;</span></span><br></pre></td></tr></table></figure>
<p>尽管<code>const</code>声明的变量不能直接修改值，但是对于对象和数组，却是不受保护可以修改的：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;<span class="attr">name</span>:<span class="string">&#x27;leo&#x27;</span>,<span class="attr">age</span>:<span class="number">25</span>&#125;;</span><br><span class="line">a.name = <span class="string">&#x27;pingan&#x27;</span>; <span class="comment">// a =&gt; &#123;name: &quot;pingan&quot;, age: 25&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = [<span class="string">&#x27;hi&#x27;</span>, <span class="string">&#x27;leo&#x27;</span>];</span><br><span class="line">b[<span class="number">1</span>] = <span class="string">&#x27;pingan&#x27;</span>;   <span class="comment">// b =&gt; [&quot;hi&quot;, &quot;pingan&quot;]</span></span><br></pre></td></tr></table></figure>

<h1 id="3-数据结构和类型"><a href="#3-数据结构和类型" class="headerlink" title="3.数据结构和类型"></a>3.数据结构和类型</h1><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>JavaScript中一共分为<strong>7</strong>中不同类型：  </p>
<ul>
<li>六种<strong>原型</strong>数据类型：   <ul>
<li>1.Boolean : 布尔值，true和false;  </li>
<li>2.null : 对大小写敏感（即<code>null</code>/<code>Null</code>/<code>NULL</code>完全不同）;   </li>
<li>3.undefined : 空类型，变量未定义时候的值；   </li>
<li>4.Number : 数值类型，如<code>100</code>;  </li>
<li>5.String : 字符串类型，如’hi pingan’;</li>
<li>6.Symbol（ES6新增） : 表示一种唯一且不可变的数据;  </li>
</ul>
</li>
<li>以及Object对象类型</li>
</ul>
<h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p>由于JavaScript是门动态类型语言，因此在开发过程可以不需要指定数据类型，在执行时会自动转换：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">a = <span class="string">&#x27;hi leo&#x27;</span>; <span class="comment">// 这样不报错</span></span><br></pre></td></tr></table></figure>
<p>另外还有：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;10&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b1 = <span class="number">20</span>;</span><br><span class="line">a1 + b1; <span class="comment">// 30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a2 = <span class="string">&#x27;leo &#x27;</span> + <span class="number">10</span> + <span class="string">&#x27; age&#x27;</span>; <span class="comment">// &#x27;leo 10 age&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;10&#x27;</span> - <span class="number">5</span>;  <span class="comment">// 5</span></span><br><span class="line"><span class="string">&#x27;10&#x27;</span> + <span class="number">5</span>;  <span class="comment">// 105</span></span><br></pre></td></tr></table></figure>
<p><strong>转换字符串为数字小技巧</strong><br>小技巧很多，这里说个最简单的：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这样不会使两个数字计算总和：  </span></span><br><span class="line"><span class="string">&#x27;1.1&#x27;</span> + <span class="string">&#x27;1.2&#x27;</span>;   <span class="comment">// &#x27;1.11.2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实际上要这样：</span></span><br><span class="line">+<span class="string">&#x27;1.1&#x27;</span> + +<span class="string">&#x27;1.2&#x27;</span>; <span class="comment">// 2.3</span></span><br></pre></td></tr></table></figure>

<h1 id="4-字面量"><a href="#4-字面量" class="headerlink" title="4.字面量"></a>4.字面量</h1><p>字面量是用来表示<strong>如何表达这个值</strong>，简单理解就是<strong>变量赋值时右边的都是字面量</strong>。比如：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hi leo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><code>hi leo</code>为字符串字面量，<code>a</code>为变量名。<br>字面量分为七种：  </p>
<ul>
<li>1.数组字面量</li>
<li>2.布尔字面量</li>
<li>3.浮点数字面量</li>
<li>4.整数字面量</li>
<li>5.对象字面量</li>
<li>6.正则字面量</li>
<li>7.字符串字面量</li>
</ul>
<h2 id="数组字面量"><a href="#数组字面量" class="headerlink" title="数组字面量"></a>数组字面量</h2><p>使用数组字面量创建数组的时，指定元素的值，并作为数组的初始化，从而确定数组长度。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;hi&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;pingan&#x27;</span>];</span><br><span class="line">a[<span class="number">1</span>];     <span class="comment">// &#x27;leo&#x27;</span></span><br><span class="line">a.length; <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>若使用多余逗号，作为数组字面量，则值为<code>undefined</code>，并且数组长度也会正常计算：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;hi&#x27;</span>, ,<span class="string">&#x27;leo&#x27;</span>];</span><br><span class="line">a[<span class="number">0</span>];  <span class="comment">// &#x27;hi&#x27;</span></span><br><span class="line">a[<span class="number">1</span>];  <span class="comment">// undefined</span></span><br><span class="line">a.length; <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h2 id="布尔字面量"><a href="#布尔字面量" class="headerlink" title="布尔字面量"></a>布尔字面量</h2><p>只有<code>true</code>和<code>false</code>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h2 id="整数字面量"><a href="#整数字面量" class="headerlink" title="整数字面量"></a>整数字面量</h2><p>整数可以用十进制（基数为10）、十六进制（基数为16）、八进制（基数为8）以及二进制（基数为2）表示。   </p>
<h2 id="浮点数字面量"><a href="#浮点数字面量" class="headerlink" title="浮点数字面量"></a>浮点数字面量</h2><p>浮点数字面量组成：  </p>
<ul>
<li>一个十进制的整数，可以带正负号;</li>
<li>小数点</li>
<li>小数部分（只能十进制）</li>
<li>指数部分<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3.14</span>;  <span class="comment">// 3.14</span></span><br><span class="line"><span class="keyword">let</span> b = -<span class="number">.001</span>; <span class="comment">// -0.001</span></span><br><span class="line"><span class="keyword">let</span> c = -<span class="number">3.14e+12</span>; <span class="comment">// -3.14*1012</span></span><br><span class="line"><span class="keyword">let</span> d = <span class="number">.1e-23</span>;<span class="comment">// 0.1*10 - 23 = 10-24 = 1e-24</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="对象字面量"><a href="#对象字面量" class="headerlink" title="对象字面量"></a>对象字面量</h2><p>对象字面量是由<code>&#123;&#125;</code>包含一个或多个 <code>键:值</code> 对的列表：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="string">&#x27;hi leo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="keyword">return</span> <span class="string">&#x27;my name is pingan&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">n1</span> : <span class="string">&#x27;pingan&#x27;</span>,</span><br><span class="line">    <span class="attr">n2</span> : a1,</span><br><span class="line">    <span class="attr">n3</span> : a2()</span><br><span class="line">&#125;</span><br><span class="line">obj; <span class="comment">// &#123;n1: &quot;pingan&quot;, n2: &quot;hi leo&quot;, n3: &quot;my name is pingan&quot;&#125;</span></span><br></pre></td></tr></table></figure>
<p>也可以使用任意数字或字符串作为对象属性的名字，但必须用<code>&#39;&#39;</code>引号包裹：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="string">&quot;&quot;</span> : <span class="string">&quot;hi leo&quot;</span>,</span><br><span class="line">    <span class="string">&quot;!&quot;</span> : <span class="string">&quot;hi pingan&quot;</span>,</span><br><span class="line">    <span class="number">2</span> : <span class="string">&#x27;hi number&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj;     <span class="comment">// &#123;2: &quot;hi number&quot;, &quot;&quot;: &quot;hi leo&quot;, !: &quot;hi pingan&quot;&#125;</span></span><br><span class="line">obj[<span class="string">&quot;&quot;</span>]; <span class="comment">// &quot;hi leo&quot;</span></span><br><span class="line">obj[<span class="number">2</span>];  <span class="comment">// &quot;hi number&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="正则字面量"><a href="#正则字面量" class="headerlink" title="正则字面量"></a>正则字面量</h2><p>使用字符被正斜杠“<code>/</code>”围起来的表达式：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="regexp">/ab+c/</span>; </span><br></pre></td></tr></table></figure>

<h2 id="字符串字面量"><a href="#字符串字面量" class="headerlink" title="字符串字面量"></a>字符串字面量</h2><p>使用单引号（<code>&#39;&#39;</code>）或者双引号（<code>&quot;&quot;</code>）括起来的字符串：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">a.length;  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>ES6中新增了<strong>模板字符串</strong>，作用于：  </p>
<ul>
<li>方便拼接字符串</li>
<li>有效实现字符串换行  </li>
<li>防止注入攻击  </li>
<li>建立基于字符串的高级数据抽象     <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拼接字符串</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> a = <span class="string">`</span></span><br><span class="line"><span class="string">    hi <span class="subst">$&#123;name&#125;</span></span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">a; <span class="comment">// &#x27;hi leo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 换行</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">`</span></span><br><span class="line"><span class="string">    hi</span></span><br><span class="line"><span class="string">    leo</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">b;</span><br><span class="line"><span class="comment">// &quot;</span></span><br><span class="line"><span class="comment">//     hi</span></span><br><span class="line"><span class="comment">//     leo</span></span><br><span class="line"><span class="comment">// &quot;</span></span><br></pre></td></tr></table></figure></li>
<li><em>常用特殊字符</em>*:   </li>
</ul>
<table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>\b</code></td>
<td>退格符</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>换页符</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>换行符</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>回车符</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>Tab (制表符)</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>垂直制表符</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>反斜杠字符（\）</td>
</tr>
</tbody></table>
<hr>
<p><strong>本部分内容到这结束</strong></p>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#x6e;&#x67;&#x61;&#x6e;&#x38;&#55;&#x38;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#x6d;">&#112;&#105;&#x6e;&#x67;&#x61;&#x6e;&#x38;&#55;&#x38;&#55;&#x40;&#x71;&#x71;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
<tr>
<td>JS小册</td>
<td>js.pingan8787.com</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/10/114-%E3%80%90JavaScript%E3%80%91%E3%80%90%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80%E3%80%911-%E8%AF%AD%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" data-id="ckts3ejsc000y4d9ke4k5e4px" data-title="114-【JavaScript】【重温基础】1.语法和数据类型" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-113-【CSS】verticle-align详解" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/08/113-%E3%80%90CSS%E3%80%91verticle-align%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time class="dt-published" datetime="2018-12-08T15:10:18.000Z" itemprop="datePublished">2018-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/08/113-%E3%80%90CSS%E3%80%91verticle-align%E8%AF%A6%E8%A7%A3/">113-【CSS】verticle-align详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#110;&#x67;&#x61;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;">&#x70;&#x69;&#110;&#x67;&#x61;&#x6e;&#56;&#x37;&#56;&#55;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zcfy.cc/article/vertical-align-all-you-need-to-know">阅读原文</a></p>
</blockquote>
<p>好，我们聊聊<code>vertical-align</code>。这个属性主要目的用于将相邻的文本与元素对齐。而实际上，<code>vertical-align</code>可以在不同上下文中灵活地对齐元素，以及进行细粒度的控制，不必知道元素的大小。元素仍然在文档流中，因而其他元素可以根据它们大小的变化进行相应的调整。一个有用的例子就是居中图标与旁边的文本。</p>
<h1 id="Vertical-Align是个怪物"><a href="#Vertical-Align是个怪物" class="headerlink" title="Vertical-Align是个怪物"></a>Vertical-Align是个怪物</h1><p>可是，<code>vertical-align</code>有时候也很难搞，经常导致困惑。好像有什么神秘的规则在起作用。比如，我们改变了某个元素的<code>vertical-align</code>而它的对齐方式却并未改变，反倒是同一行的其他元素的对齐方式变了！我时不时地仍然会掉到<code>vertical-align</code>的坑里，绝望无助。</p>
<p>遗憾的是，关于这方面的资料大都讲得很肤浅。尤其是针对布局的情况。很多文章概念错乱，试图把元素中的一切都垂直对齐。它们介绍了这个属性的基本概念，解释了简单情况下元素的对齐，却没涉及真正棘手的部分。</p>
<p>因此，我给自己设定了一个目标：<strong>彻底摸清</strong><code>vertical-align</code><strong>的行为</strong>。然后我就死啃W3C的<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visuren.html#inline-formatting">CSS规范</a>，同时也尝试了一些例子。最终写出了这篇文章。</p>
<p>好，下面我们就开始吧。</p>
<h1 id="对哪些元素可以使用Vertical-Align"><a href="#对哪些元素可以使用Vertical-Align" class="headerlink" title="对哪些元素可以使用Vertical-Align"></a>对哪些元素可以使用Vertical-Align</h1><p><code>vertical-align</code>用于对齐<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visuren.html#inline-level">行内元素</a>。所谓行内元素，即<code>display</code>属性值为下列之一的元素：</p>
<ul>
<li><p><code>inline</code></p>
</li>
<li><p><code>inline-block</code></p>
</li>
<li><p><code>inline-table</code> （本文未涉及）</p>
</li>
</ul>
<p>其中，<strong>行内元素（inline element）</strong>就是包含文本的标签。</p>
<p>而行<strong>内块元素（inline-block element）</strong>，顾名思义，就是位于行内的块元素。可以有宽度和高度（可以由其内容决定），也可以有内边距、边框和外边距。</p>
<p>行内级元素会相互挨着排成行。如果一行排不下，就会在下方再建一行。所有行都会创建所谓的<strong>行盒子</strong>，行盒子装着自己行中的所有内容。内容的高度不同，行盒子的高度也不同。在下面的示意图中，行盒子的顶部和底部用红色点线表示。</p>
<p>!<img src="http://images.pingan8787.com/2018120801.png" alt="图片1">  </p>
<p>这些行盒子限定了我们可以影响的范围。在行盒子内部，可以通过<code>vertical-align</code>来对齐个别元素。那么，相对于什么来对齐元素呢？</p>
<h1 id="基线与外边界"><a href="#基线与外边界" class="headerlink" title="基线与外边界"></a>基线与外边界</h1><p>垂直对齐最重要的参考点，就是相关元素基线。某些情况下，行盒子的上下外边界也会成为参考点。下面我们就来看一看相关元素类型的基线和外边界。</p>
<h2 id="行内元素"><a href="#行内元素" class="headerlink" title="行内元素"></a>行内元素</h2><p><img src="http://images.pingan8787.com/2018120802.png" alt="图片2">  </p>
<p>这里有三行文本紧挨着。红线表示行高的顶边和底边，绿线表示字体高度，蓝线表示基线。左边这一行，行高与字体高度相同，因此上下方的红色和绿线重叠在了一起。中间一行，行高是<code>font-size</code>的两倍。右边一行，行高为<code>font-size</code>的一半。</p>
<p><strong>行内元素的外边界</strong>与自己行高的上、下边对齐。行高比<code>font-size</code>小不小并不重要。因此上图中红线同时也就表示外边界。</p>
<p><strong>行内元素的基线</strong>是字符恰好位于其上的那条线，也就是图中的蓝线。大致来说，基线总是穿过字体高度一半以下的某一点。可以参考W3C规范中<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visudet.html#leading">详细的定义</a>。</p>
<h2 id="行内块元素"><a href="#行内块元素" class="headerlink" title="行内块元素"></a>行内块元素</h2><p><img src="http://images.pingan8787.com/2018120803.png" alt="图片3">  </p>
<p>从左到右：包含<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS21/visuren.html#positioning-scheme">流内</a>内容（“<code>c</code>”）的行内块、包含流内内容且设置了溢出（<code>overflow: hidden</code>）的行内块和未包含流内内容（但内容区有高度）的行内块。红线表示外边距的边界，黄色是边框，绿色的内边距，蓝色是内容区，蓝线是每个行内块元素的基线。</p>
<p><strong>行内块元素的外边界</strong>即其<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/box.html#x17">外边距盒子</a>的上、下两边，也就是图中的红线。</p>
<p><strong>行内块元素的基线</strong>取决于元素是否包含流内内容：</p>
<ul>
<li><p>有流内内容的行内块元素，基线就是正常流中最后内容元素的基线（左）。这个最后元素的基线是按照它自己的规则找到的。</p>
</li>
<li><p>有流内内容但<code>overflow</code>属性值不是<code>visible</code>的行内块元素，基线就是外边距盒子的底边（中）。也就是与行内块元素的下外边界重合。</p>
</li>
<li><p>没有流内内容的行内块元素，基线同样是外边距盒子的底边（右）。</p>
</li>
</ul>
<h2 id="行盒子"><a href="#行盒子" class="headerlink" title="行盒子"></a>行盒子</h2><p><img src="http://images.pingan8787.com/2018120804.png" alt="图片4">  </p>
<p>这张图前面出现过。但这次我们画出了行盒子的文本盒子的上、下边（绿色，下面详细介绍）还有基线（蓝色）。同时，还用灰色背景表示了文本元素的区域。</p>
<p>行盒子的<strong>顶边</strong>与该行中最顶部元素的顶边重合，<strong>底边</strong>与该行中最底部元素的底边重合。因此图中的红线表示的就是行盒子。</p>
<p><strong>行盒子的基线</strong>是个变量：</p>
<blockquote>
<p>CSS 2.1没有定义行盒子的基线。   ——<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visudet.html#line-height">W3C规范</a></p>
</blockquote>
<p>在使用<code>vertical-align</code>时这一块应该是最令人困惑的了。也就是说，基线画在哪里需要满足很多条件，比如要符合<code>vertical-align</code>指定的条件，同时还要保证行盒子高度最小。这是个自由变量。</p>
<p>因为行盒子的基线并不可见，所以有时候不容易确定它的位置。但实际上有个简单的办法可以令其可见。只要在相关行的开头加上一个字母，比如上图中开头的“<code>x</code>”即可。如果这个字母没有被设置对齐，那么它默认就位于基线之上。</p>
<p>围绕基线的是行盒子中的文本盒子。可以简单地把文本盒子看成行盒子内部未经对齐的行内元素。文本盒子的高度等于其父元素的<code>font-size</code>。因此，文本盒子只是用来盛放未经格式化的文本的。上图中的绿线表示的就是文本盒子。由于文本盒子与基线关联，所以基线移动它也会跟着移动。（W3C规范里称这个文本盒子为<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visudet.html#strut">strut</a>。）</p>
<p>终于把最难的部分讲完了。现在，我们已经知道了对齐相关的一切要素。下面简单总结一下最重要的两点。</p>
<ul>
<li><p>有一个区域叫<strong>行盒子</strong>。行盒子中的内容可以垂直对齐。行盒子有<strong>基线、文本盒子</strong>，还有上边和下边。</p>
</li>
<li><p>还有<strong>行内元素</strong>，也就是可以被对齐的对象。行内元素有<strong>基线</strong>，以及上边和下边。</p>
</li>
</ul>
<h1 id="Vertical-Align的值"><a href="#Vertical-Align的值" class="headerlink" title="Vertical-Align的值"></a><code>Vertical-Align</code>的值</h1><p>使用<code>vertical-align</code>，前面提到的参考点就会按照某种关系被设置好。</p>
<h2 id="对齐行内元素的基线和行盒子的基线"><a href="#对齐行内元素的基线和行盒子的基线" class="headerlink" title="对齐行内元素的基线和行盒子的基线"></a>对齐行内元素的基线和行盒子的基线</h2><p><img src="http://images.pingan8787.com/2018120805.png" alt="图片5">  </p>
<p><code>baseline</code>：元素基线与行盒子基线重合。</p>
<p><code>sub</code>：元素基线移动至行盒子基线下方。</p>
<p><code>super</code>：元素基线移动至行盒子基线上方。</p>
<p>&lt;百分比值&gt;：元素基线相对于行盒子基线向上或向下移动，移动距离等于<code>line-height</code>的百分比。</p>
<p>&lt;长度值&gt;：元素基线相对于行盒子基线向上或向下移动指定的距离。</p>
<h2 id="相对于行盒子的基线对齐元素的外边界"><a href="#相对于行盒子的基线对齐元素的外边界" class="headerlink" title="相对于行盒子的基线对齐元素的外边界"></a>相对于行盒子的基线对齐元素的外边界</h2><p><img src="http://images.pingan8787.com/2018120806.png" alt="图片6">  </p>
<ul>
<li><code>middle</code>：元素上、下边的中点与行盒子基线加上<code>x-height</code>的一半对齐。</li>
</ul>
<h2 id="相对于行盒子的文本盒子对齐元素的外边界"><a href="#相对于行盒子的文本盒子对齐元素的外边界" class="headerlink" title="相对于行盒子的文本盒子对齐元素的外边界"></a>相对于行盒子的文本盒子对齐元素的外边界</h2><p><img src="http://images.pingan8787.com/2018120807.png" alt="图片7">  </p>
<p>还有两种情况是相对于行盒子的基线对齐，因为文本盒子的位置由行盒子的基线决定。</p>
<ul>
<li><p><code>text-top</code>：元素的顶边与行盒子的文本盒子的顶边对齐。</p>
</li>
<li><p><code>text-bottom</code>：元素的底边与行盒子的文本盒子的底边对齐。</p>
</li>
</ul>
<h2 id="相对于行盒子的外边界对齐元素的外边界"><a href="#相对于行盒子的外边界对齐元素的外边界" class="headerlink" title="相对于行盒子的外边界对齐元素的外边界"></a>相对于行盒子的外边界对齐元素的外边界</h2><p><img src="http://images.pingan8787.com/2018120808.png" alt="图片8">  </p>
<ul>
<li><p><code>top</code>：元素的顶边与行盒子的顶边对齐。</p>
</li>
<li><p><code>bottom</code>：元素的底边与行盒子的底边对齐。</p>
</li>
</ul>
<p>当然，正式的定义在W3C的规范里。</p>
<h2 id="为何Vertical-Align的行为如此乖张"><a href="#为何Vertical-Align的行为如此乖张" class="headerlink" title="为何Vertical-Align的行为如此乖张"></a>为何<code>Vertical-Align</code>的行为如此乖张</h2><p>下面我们看看在某些情况下的垂直对齐。特别是一些容易出错的情况。</p>
<h2 id="居中图标"><a href="#居中图标" class="headerlink" title="居中图标"></a>居中图标</h2><p>有一个问题一直困扰着我。有一个图标，我想让它与一行文本垂直居中。如果只应用vertical-align: middle好像不行，比如这个例子：</p>
<p><img src="http://images.pingan8787.com/2018120809.png" alt="图片9">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Centered!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.icon</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.middle</span> &#123; <span class="attribute">vertical-align</span>: middle; &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>还是同一个例子，只不过这次多了一些辅助线：<br><img src="http://images.pingan8787.com/2018120810.png" alt="图片10">  </p>
<p>这次可以看清问题所在了。因为左侧的情况是文本没对齐，而是仍然位于基线之上。应用<code>vertical-align: middle</code>，实际上会导致图标中心与不出头小写字母的中心（<code>x-height</code>的一半）对齐，所以出头的字母会在上方突出出来。</p>
<p>右侧，仍然是对齐整个字体区的垂直中点。结果文本基线稍稍向下移动了一点，于是就实现了文本与图标完美对齐。</p>
<h2 id="行盒子基线的移动"><a href="#行盒子基线的移动" class="headerlink" title="行盒子基线的移动"></a>行盒子基线的移动</h2><p>这是使用<code>vertical-align</code>时一个常见的坑：行盒子基线的位置会受到其中所有元素的影响。假设一个元素采用的对齐方式会导致行盒子移动。由于大多数垂直对齐（除<code>top</code>和<code>bottom</code>外），都相对于基线计算，因此这会导致该行所有其他元素重新调整位置。</p>
<p>下面是几个例子。</p>
<ul>
<li>如果行内有一个很高的元素，这个元素上方和下方都没有空间了，此时要与行盒子的基线对齐，就必须让它移动。矮盒子是<code>vertical-align: baseline</code>。左侧的高盒子是<code>vertical-align: text-bottom</code>，而右侧的高盒子是<code>vertical-algin: text-top</code>。可以看到，基线带着矮盒子移动到了上方。</li>
</ul>
<p><img src="http://images.pingan8787.com/2018120811.png" alt="图片11">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- left mark-up --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;short-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- right mark-up --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;short-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">   <span class="selector-class">.tall-box</span>,</span></span><br><span class="line"><span class="css">   <span class="selector-class">.short-box</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">                 <span class="comment">/* size, color, etc. */</span> &#125;</span></span><br><span class="line"><span class="css">   <span class="selector-class">.text-bottom</span> &#123; <span class="attribute">vertical-align</span>: text-bottom; &#125;</span></span><br><span class="line"><span class="css">   <span class="selector-class">.text-top</span> &#123; <span class="attribute">vertical-align</span>: text-top; &#125;</span></span><br><span class="line"><span class="css"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在通过<code>vertical-align</code>的其他值对齐一个较高的元素时，也会出现同样的现象。</p>
<ul>
<li>即使设置<code>vertical-align</code>为<code>bottom</code>（左）和<code>top</code>（右），也会导致基线移动。这就很奇怪了，因为此时根本不关基线什么事。</li>
</ul>
<p><img src="http://images.pingan8787.com/2018120812.png" alt="图片12">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- left mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;short-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- right mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;short-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.tall-box</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.short-box</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">              <span class="comment">/* size, color, etc. */</span> &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.bottom</span> &#123; <span class="attribute">vertical-align</span>: bottom; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.top</span> &#123; <span class="attribute">vertical-align</span>: top; &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>把两个较大的元素放在一行并垂直对齐它们，基线也会移动以匹配两种对齐。然后，行的高度会调整（左）。再增加一个元素，但该元素对齐方式决定了它不会超出行盒子的边界，所以行盒子不会调整（中）。如果新增的元素会超出行盒子的边界，那么行盒子的高度和基线就会再次调整。在这例子中，前两个盒子向下移动了（右）。</li>
</ul>
<p><img src="http://images.pingan8787.com/2018120813.png" alt="图片13">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- left mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- middle mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- right mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;tall-box text-100up&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.tall-box</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">                <span class="comment">/* size, color, etc. */</span> &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.middle</span> &#123; <span class="attribute">vertical-align</span>: middle; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.text-top</span> &#123; <span class="attribute">vertical-align</span>: text-top; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.text-bottom</span> &#123; <span class="attribute">vertical-align</span>: text-bottom; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.text-100up</span> &#123; <span class="attribute">vertical-align</span>: <span class="number">100%</span>; &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="行内元素下面可能会有一个小间隙"><a href="#行内元素下面可能会有一个小间隙" class="headerlink" title="行内元素下面可能会有一个小间隙"></a>行内元素下面可能会有一个小间隙</h2><p>看看这个例子：对列表元素的<code>li</code>应用<code>vertical-align</code>。   </p>
<p><img src="http://images.pingan8787.com/2018120814.png" alt="图片14">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.box</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">         <span class="comment">/* size, color, etc. */</span> &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们看到，列表项位于基线上。基线下面有一个小间隙，用于文本的下伸部分。怎么办？只要把基线向上移开一点就行了，比如用<code>vertical-align: middle</code>：  </p>
<p><img src="http://images.pingan8787.com/2018120815.png" alt="图片15">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;box middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.box</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">            <span class="comment">/* size, color, etc. */</span> &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.middle</span> &#123; <span class="attribute">vertical-align</span>: middle; &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>有文本内容的行内块不会出现这种情况，因为<a target="_blank" rel="noopener" href="http://christopheraue.net/design/vertical-align/#inline-block-element">内容已经把基线向上移了</a>。  </p>
<h2 id="行内元素间的间隙会破坏布局"><a href="#行内元素间的间隙会破坏布局" class="headerlink" title="行内元素间的间隙会破坏布局"></a>行内元素间的间隙会破坏布局</h2><p>这主要是行内元素本身的问题。由于<code>vertical-align</code>必然会遇到行内元素，所以有必要了解一下。</p>
<p>在前面列表项的例子中也可以看到这个间隙。这个间隙来自你的标记中行内元素间的空白。行内元素间的所有空白会折叠为一个。如果我们要通过<code>width: 50%</code>实现并排放两个行内元素，那这个空白就会成为障碍。因为一行放不下两个50%再加一个空白，结果就会折行（左）。要删除这个间隙，需要在HTML中通过注释删除空白（右）。</p>
<p><img src="http://images.pingan8787.com/2018120816.png" alt="图片16">  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- left mark-up --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;half&quot;</span>&gt;</span>50% wide<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;half&quot;</span>&gt;</span>50% wide... and in next line<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- right mark-up --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;half&quot;</span>&gt;</span>50% wide<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;half&quot;</span>&gt;</span>50% wide<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.half</span> &#123; <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">          <span class="attribute">width</span>: <span class="number">50%</span>; &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Vertical-Align揭秘"><a href="#Vertical-Align揭秘" class="headerlink" title="Vertical-Align揭秘"></a>Vertical-Align揭秘</h1><p>好了，就这些。一旦了解了规则，就没有那么复杂了。如果<code>vertical-align</code>没有达到效果，只要问下面的问题就能找到症结所在：</p>
<ul>
<li><p>行盒子的基线和上、下边界在哪儿？</p>
</li>
<li><p>行内元素的基线和上、下边界在哪儿？</p>
</li>
</ul>
<p>据此就可以找到问题的解决方案。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/08/113-%E3%80%90CSS%E3%80%91verticle-align%E8%AF%A6%E8%A7%A3/" data-id="ckts3ejsa000u4d9kapvv43gs" data-title="113-【CSS】verticle-align详解" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-112-【JavaScript】JS中常用的高阶函数" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/05/112-%E3%80%90JavaScript%E3%80%91JS%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/" class="article-date">
  <time class="dt-published" datetime="2018-12-04T16:28:53.000Z" itemprop="datePublished">2018-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/05/112-%E3%80%90JavaScript%E3%80%91JS%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/">112-【JavaScript】JS中常用的高阶函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#x6e;&#103;&#x61;&#110;&#56;&#x37;&#56;&#x37;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;">&#x70;&#x69;&#x6e;&#103;&#x61;&#110;&#56;&#x37;&#56;&#x37;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>Ps. 晚上加班到快十点，回来赶紧整理整理这篇文章，今天老大给我推荐了一篇文章，<a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b2bce51d4533253f2f43">我从写技术博客中收获到了什么？- J_Knight_</a>，感受也是很多，自己也需要慢慢养成记录博客的习惯，即使起步艰难，难以坚持，但还是要让自己加油加油。<br>前两天把我整理的<a target="_blank" rel="noopener" href="https://juejin.im/post/5c02b106f265da61764aa0c1">【复习资料】ES6/ES7/ES8/ES9资料整理(个人整理)</a>要分享给大家啦。  </p>
<p>正文内容开始：   </p>
<h1 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h1><p>个人简单理解为，一个函数可以接收其他函数作为参数，这种函数便称为<strong>高阶函数</strong>，而主要目的就是为了能接收其他函数作为参数。    </p>
<blockquote>
<p>Q： 为什么可以接收一个函数作为参数？<br>A： 因为函数可以接收变量作为参数，而变量可以声明一个方法。  </p>
</blockquote>
<p><strong>简单实例：</strong>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hi &#x27;</span> + x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a(b);</span><br><span class="line">&#125;</span><br><span class="line">f(a, <span class="string">&#x27;leo&#x27;</span>);   <span class="comment">// &quot;hi leo&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>这段代码的意思</strong>：定义方法<code>f</code>，接收两个参数，方法<code>a</code>和变量<code>b</code>，在方法<code>a</code>中返回一段字符串，当执行方法<code>f</code>并传入参数方法<code>a</code>和参数<code>b</code>的时候，返回<code>&quot;hi leo&quot;</code>。 </p>
<p>也可以直接调用JS内置方法：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>, b = -<span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_abs</span> (<span class="params">val, fun</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fun(val);</span><br><span class="line">&#125;</span><br><span class="line">my_abs(a, <span class="built_in">Math</span>.abs);  <span class="comment">// 3</span></span><br><span class="line">my_abs(b, <span class="built_in">Math</span>.abs);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h1 id="2-常用高阶函数"><a href="#2-常用高阶函数" class="headerlink" title="2.常用高阶函数"></a>2.常用高阶函数</h1><h2 id="2-1-map"><a href="#2-1-map" class="headerlink" title="2.1 map()"></a>2.1 map()</h2><p><code>map()</code>方法的作用是：接收一个函数作为参数，对数组中每个元素按顺序调用一次传入的函数并返回结果，<strong>不改变原数组，返回一个新数组</strong>。<br>通常使用方式：<code>arr.map(callback())</code>，更多详细介绍可以参考 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">MDN  Array.map()</a>。<br><strong>参数</strong>：   </p>
<ul>
<li><code>arr</code> : 需要操作的数组；   </li>
<li><code>callback(currentValue, index, array, thisArg)</code> : 处理的方法，四个参数；  <ul>
<li><ol>
<li> <code>currentValue</code> 当前处理的元素的<strong>值</strong>  </li>
</ol>
</li>
<li><ol start="2">
<li> <code>index</code> 当前处理的元素的<strong>索引</strong>，可选  </li>
</ol>
</li>
<li><ol start="3">
<li> <code>array</code> 调用<code>map()</code>方法的<strong>数组</strong>，可选  </li>
</ol>
</li>
<li><ol start="4">
<li> <code>currentVthisArgalue</code> 执行 <code>callback</code> 函数时使用的 <code>this</code> 值，可选    </li>
</ol>
</li>
</ul>
</li>
</ul>
<p><strong>返回值</strong>：<br>返回一个处理后的新数组。   </p>
<p><strong>实例</strong>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, -<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = arr.map(<span class="built_in">Math</span>.abs);  </span><br><span class="line"><span class="comment">// a1 =&gt; [1, 3, 5];</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a2 = arr.map(<span class="built_in">String</span>);</span><br><span class="line"><span class="comment">// a2 =&gt; [&quot;1&quot;, &quot;3&quot;, &quot;-5&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a3 = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 等价于 a3=arr.map(x =&gt; x+1)</span></span><br><span class="line"><span class="comment">// a3 =&gt; [2, 4, -4]</span></span><br></pre></td></tr></table></figure>
<p>对比 <code>for...in</code> 循环，<code>map()</code>书写起来更加简洁：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, -<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> a1 = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line">    a1.push(arr[i] + <span class="number">1</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a1 =&gt; [2, 4, -4]</span></span><br></pre></td></tr></table></figure>
<p><code>map()</code>作为高阶函数，事实上它把运算规则抽象了。   </p>
<h2 id="2-2-reduce"><a href="#2-2-reduce" class="headerlink" title="2.2 reduce()"></a>2.2 reduce()</h2><p><code>reduce()</code>方法的作用是：接收一个函数，对数组进行累加操作，把累计结果和下一个值进行操作，最后返回最终的单个结果值。   </p>
<p>通常使用方式：<code>arr.reduce(callback(), initValue)</code>，更多详细介绍可以参考 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">MDN  Array.reduce()</a></p>
<p><strong>参数</strong>：  </p>
<ul>
<li><code>callback(returnValue, currentValue, currentIndex, array)</code> : 累记器的方法，四个参数：  <ul>
<li><ol>
<li><code>returnValue</code> 上一次处理的返回值，或者初始值   </li>
</ol>
</li>
<li><ol start="2">
<li><code>currentValue</code> 当前处理的元素的<strong>值</strong>，可选    </li>
</ol>
</li>
<li><ol start="3">
<li><code>currentIndex</code> 当前处理的元素的<strong>索引</strong>，可选    </li>
</ol>
</li>
<li><ol start="4">
<li><code>array</code> 调用<code>reduce()</code>方法的<strong>数组</strong>，可选   </li>
</ol>
</li>
</ul>
</li>
<li><code>initValue</code> 初次调用<code>callback()</code>时候<code>returnValue</code>参数的初始值，默认数组第一个元素，可选    </li>
</ul>
<p><strong>返回值</strong>：<br>返回一个最终的累计值。   </p>
<p><strong>实例</strong>：   </p>
<ol>
<li>数组求和<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, -<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> sum1 = arr.reduce(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> res + cur);</span><br><span class="line"><span class="comment">// sum1 =&gt; -1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sum2 = arr.reduce(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> res + cur , <span class="number">1</span>);</span><br><span class="line"><span class="comment">// sum1 =&gt; 0</span></span><br></pre></td></tr></table></figure></li>
<li>二维数组转化为一维<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]];</span><br><span class="line"><span class="keyword">let</span> con = arr.reduce(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> res.concat(cur));</span><br><span class="line"><span class="comment">// con =&gt; [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-3-filter"><a href="#2-3-filter" class="headerlink" title="2.3 filter()"></a>2.3 filter()</h2><p><code>filter()</code>方法的作用是：接收一个函数，依次作用数组每个元素，并过滤符合函数条件的元素，将剩下的数组作为一个新数组返回。   </p>
<p>通常使用方式：<code>arr.filter(callback(), thisArg)</code>，更多详细介绍可以参考 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">MDN  Array.filter()</a></p>
<p><strong>参数</strong>：  </p>
<ul>
<li><code>callback(ele, index, array)</code> : 过滤条件的方法，当返回<code>true</code>则保存该元素，反之不保留，三个参数：  <ul>
<li><ol>
<li><code>ele</code> 当前处理的元素   </li>
</ol>
</li>
<li><ol start="2">
<li><code>index</code> 当前处理的元素的<strong>索引</strong>，可选    </li>
</ol>
</li>
<li><ol start="3">
<li><code>array</code> 调用<code>filter()</code>方法的<strong>数组</strong>，可选   </li>
</ol>
</li>
</ul>
</li>
<li><code>thisArg</code> 执行 <code>callback</code> 时的用于 <code>this</code> 的值，可选    </li>
</ul>
<p><strong>返回值</strong>：<br>返回一个过滤剩下的元素组成的新数组。   </p>
<p><strong>实例</strong>：   </p>
<ol>
<li>过滤奇数值    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> res = arr.filter(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> != <span class="number">0</span>);</span><br><span class="line"><span class="comment">// res =&gt; [1, 3, 5]</span></span><br></pre></td></tr></table></figure></li>
<li>过滤不满足条件的值   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> res = arr.filter(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">3</span>);</span><br><span class="line"><span class="comment">// res =&gt; [4, 5, 6]</span></span><br></pre></td></tr></table></figure></li>
<li>过滤空字符串    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> tri = arr.filter(<span class="function"><span class="params">x</span> =&gt;</span> x &amp;&amp; x.trim());</span><br><span class="line"><span class="comment">// tri =&gt; [&quot;a&quot;, &quot;b&quot;]</span></span><br></pre></td></tr></table></figure>
总结下： <code>filter()</code>主要作为<strong>筛选功能</strong>，因此核心就是正确实现一个“筛选”函数。   </li>
</ol>
<h2 id="2-4-sort"><a href="#2-4-sort" class="headerlink" title="2.4 sort()"></a>2.4 sort()</h2><p><code>sort()</code>方法的作用是：接收一个函数，对数组的元素进行排序，并返回排序后的新数组。<strong>默认排序顺序是根据字符串Unicode码点</strong>。     </p>
<p>通常使用方式：<code>arr.sort(fun())</code>，更多详细介绍可以参考 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">MDN  Array.sort()</a><br>compareFunction 可选<br>用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。<br><strong>参数</strong>：  </p>
<ul>
<li><code>fun(a, b)</code> : 指定按某种顺序进行排列的函数，若省略则按照转换为的字符串的各个字符的Unicode位点进行排序，两个可选参数：<br><code>fun()</code> 返回 <code>a</code>和<code>b</code>两个值的大小的比较结果，<code>sort()</code>根据返回结果进行排序：   </li>
<li>若 <code>fun(a, b)</code> 小于 0 ，则 <code>a</code> 排在 <code>b</code> 前面；  </li>
<li>若 <code>fun(a, b)</code> 等于 0 ，则 <code>a</code> <code>b</code> 位置不变；  </li>
<li>若 <code>fun(a, b)</code> 大于 0 ，则 <code>a</code> 排在 <code>b</code> 后面；  </li>
</ul>
<p><strong>返回值</strong>：<br>返回排序后的新数组，并<strong>修改原数组</strong>。    </p>
<p><strong>实例</strong>：   </p>
<ol>
<li>升序降序数组    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> sort1 = arr.sort();</span><br><span class="line"><span class="comment">// 等同于 let sort1 = arr.sort((a, b) =&gt; a - b);</span></span><br><span class="line"><span class="comment">// sort1 =&gt; [1, 2, 3, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sort2 = arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a);</span><br><span class="line"><span class="comment">// sort2 =&gt; [5, 3, 2, 1]</span></span><br></pre></td></tr></table></figure></li>
<li>字符串排序  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;CC&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> sort1 = arr1.sort();</span><br><span class="line"><span class="comment">// sort1 =&gt; [&quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> sort2 = arr2.sort();</span><br><span class="line"><span class="comment">// sort2 =&gt; [&quot;AA&quot;, &quot;BB&quot;, &quot;aa&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> sort3 = arr3.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.toLowerCase() &gt; b.toLowerCase());</span><br><span class="line"><span class="comment">// sort3 =&gt; [&quot;AA&quot;, &quot;aa&quot;, &quot;BB&quot;]</span></span><br><span class="line"><span class="comment">// 也可以写成：</span></span><br><span class="line"><span class="keyword">let</span> sort3 = arr3.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = a.toLowerCase();</span><br><span class="line">    <span class="keyword">let</span> s2 = b.toLowerCase();</span><br><span class="line">    <span class="keyword">return</span> s1 &gt; s2 ? <span class="number">1</span> : s1 &lt; s2 ? -<span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
总结下： <code>sort()</code>主要作为<strong>排序功能</strong>，因此核心就是正确实现一个“排序”函数。   </li>
</ol>
<h1 id="3-参考文章"><a href="#3-参考文章" class="headerlink" title="3. 参考文章"></a>3. 参考文章</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499355829ead974e550644e2ebd9fd8bb1b0dd721000">阮一峰 JS高阶函数</a></li>
</ul>
<p>分享的内容比较简单，但是还是希望能帮助到需要的人哈。~~感谢</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/05/112-%E3%80%90JavaScript%E3%80%91JS%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/" data-id="ckts3ejs9000t4d9k7i2cbq7y" data-title="112-【JavaScript】JS中常用的高阶函数" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-111-【CSS】flex实现左右布局中按钮溢出隐藏效果" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/02/111-%E3%80%90CSS%E3%80%91flex%E5%AE%9E%E7%8E%B0%E5%B7%A6%E5%8F%B3%E5%B8%83%E5%B1%80%E4%B8%AD%E6%8C%89%E9%92%AE%E6%BA%A2%E5%87%BA%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C/" class="article-date">
  <time class="dt-published" datetime="2018-12-02T15:17:09.000Z" itemprop="datePublished">2018-12-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/02/111-%E3%80%90CSS%E3%80%91flex%E5%AE%9E%E7%8E%B0%E5%B7%A6%E5%8F%B3%E5%B8%83%E5%B1%80%E4%B8%AD%E6%8C%89%E9%92%AE%E6%BA%A2%E5%87%BA%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C/">111-【CSS】flex实现左右布局中按钮溢出隐藏效果</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#x69;&#110;&#x67;&#97;&#x6e;&#x38;&#x37;&#56;&#55;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#x6d;">&#112;&#x69;&#110;&#x67;&#97;&#x6e;&#x38;&#x37;&#56;&#55;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>最近在开发公司项目的时候UI设计稿给了这么一个设计(这里是我手动画的草图)：<br><img src="http://images.pingan8787.com/70-UI%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="UI设计稿"><br>看这效果，第一感觉很简单，flex布局，左边宽度自适应，右边固定宽度。<br>先回顾下关于<strong>文本溢出隐藏</strong>的方式：   </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 单行文本 */</span></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="comment">/*当然还需要加宽度width属来兼容部分浏览。*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 多行文本 */</span></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    -webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="comment">/* -webkit-line-clamp 显示行数 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后开开心心的开始写啊写，代码如下：<br><strong>HTML代码</strong>   </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>这是一个按钮<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>9.9元<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>CSS样式</strong>   </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#flex</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#left</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#left</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#left</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://images.pingan8787.com/70-UI%E7%A4%BA%E6%84%8F%E5%9B%BE2.png" alt="UI设计稿2">     </p>
<p>这效果。。有点无语。。右边的圆角去哪里了呢，并且在控制台查看元素，会看到实际<code>span</code>元素的宽度非常的宽，且超过父容器<code>#left</code>，而<code>#left</code>实实在在的还是正常的宽度。<br>思考了一会，脑子了出现了各种元素的层叠关系，于是给实际文本内容外面，再添加一层div，来控制内容的宽度。<br><strong>HTML代码</strong>   </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>我在左边，自适应布局<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span>&gt;</span>我在右边，定宽<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>CSS样式</strong>   </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#flex</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#left</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 新增的内容的父容器 */</span></span><br><span class="line"><span class="selector-id">#left</span> <span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#left</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而这里只需把原本设置在<code>span</code>上的宽度，边框，圆角和背景色样式，写到父容器<code>.box</code>上就可以，<code>span</code>里面只负责存放文本内容。<br>然后就大功告成了。<br><strong>本文纯属个人看法，欢迎讨论</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">个人博客</a>    </li>
<li><a target="_blank" rel="noopener" href="https://github.com/pingan8787">github</a>   </li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/02/111-%E3%80%90CSS%E3%80%91flex%E5%AE%9E%E7%8E%B0%E5%B7%A6%E5%8F%B3%E5%B8%83%E5%B1%80%E4%B8%AD%E6%8C%89%E9%92%AE%E6%BA%A2%E5%87%BA%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C/" data-id="ckts3ejsb000w4d9kgoeb0kh9" data-title="111-【CSS】flex实现左右布局中按钮溢出隐藏效果" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-110-【JavaScript】重温基础-instanceof操作符" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/01/110-%E3%80%90JavaScript%E3%80%91%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80-instanceof%E6%93%8D%E4%BD%9C%E7%AC%A6/" class="article-date">
  <time class="dt-published" datetime="2018-12-01T15:42:10.000Z" itemprop="datePublished">2018-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/12/01/110-%E3%80%90JavaScript%E3%80%91%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80-instanceof%E6%93%8D%E4%BD%9C%E7%AC%A6/">110-【JavaScript】重温基础-instanceof操作符</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#x6e;&#x67;&#97;&#x6e;&#56;&#55;&#56;&#x37;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;">&#112;&#105;&#x6e;&#x67;&#97;&#x6e;&#56;&#55;&#56;&#x37;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<p>最近开始在整理<code>ES6/ES7/ES8/ES9</code>的知识点（已经上传到 <a target="_blank" rel="noopener" href="http://es.pingan8787.com/">我的博客</a> 上），碰到一些知识点是自己已经忘记（用得少的知识点），于是也重新复习了一遍。<br>这篇文章要复习的 <code>instanceof</code> 是我在整理过程中遇到的，那就整理下来吧，不然容易忘记。<br>要是哪里写得不妥，欢迎各位大佬指点。  </p>
<h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h2><blockquote>
<p><code>instanceof</code>运算符用于测试构造函数的<code>prototype</code>属性是否出现在对象的原型链中的任何位置。  —— MDN</p>
</blockquote>
<p>简单理解为：<code>instanceof</code>可以检测一个实例是否属于某种类型。<br>比如：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> F ();</span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> F;      <span class="comment">// true</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true  后面介绍原因</span></span><br></pre></td></tr></table></figure>
<p>还可以在<strong>继承关系</strong>中用来判断一个实例是否属于它的父类型。<br>比如：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">G</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Q</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">G.prototype = <span class="keyword">new</span> F();   <span class="comment">// 继承</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> G(); </span><br><span class="line">a <span class="keyword">instanceof</span> F;      <span class="comment">// true</span></span><br><span class="line">a <span class="keyword">instanceof</span> G;      <span class="comment">// true</span></span><br><span class="line">a <span class="keyword">instanceof</span> Q;      <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2.使用方法"></a>2.使用方法</h2><p>语法为: <code>object instanceof constructor</code>。  </p>
<ul>
<li><code>object</code> : 需要测试的函数  </li>
<li><code>constructor</code> : 构造函数   </li>
</ul>
<p>即：用<code>instanceof</code>运算符来检测<code>constructor.prototype</code> 是否存在参数<code>object</code>的原型链。   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">G</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> F ();</span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> F;      <span class="comment">// true  因为：Object.getPrototypeOf(a) === F.prototype</span></span><br><span class="line">a <span class="keyword">instanceof</span> Q;      <span class="comment">// false 因为：F.prototype不在a的原型链上</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true  因为：Object.prototype.isPrototypeOf(a)返回true</span></span><br><span class="line">F.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>;  <span class="comment">// true,同上</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：   </p>
<ol>
<li><code>a instanceof F</code> 返回 <code>true</code> 以后，不一定永远都都返回为<code>true</code>，<code>F.prototype</code>属性的值有可能会改变。  </li>
<li>原表达式<code>a</code>的值也会改变，比如 <code>a.__proto__ = &#123;&#125;</code>之后，<code>a instanceof F</code>就会返回<code>false</code>了。   </li>
</ol>
<p><strong>检测对象是不是特定构造函数的实例：</strong>   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正确</span></span><br><span class="line"><span class="keyword">if</span> (!(obj <span class="keyword">instanceof</span> F)) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误 因为</span></span><br><span class="line"><span class="keyword">if</span> (!obj <span class="keyword">instanceof</span> F);  <span class="comment">// 永远返回false  </span></span><br><span class="line"><span class="comment">// 因为 !obj 在instanceof之前被处理 ， 即一直使用一个布尔值检测是否是F的实例</span></span><br></pre></td></tr></table></figure>

<h2 id="3-实现instanceof"><a href="#3-实现instanceof" class="headerlink" title="3.实现instanceof"></a>3.实现instanceof</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 实现instanceof</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param </span>obj&#123;Object&#125; 需要测试的对象</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param </span>fun&#123;Function&#125; 构造函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_instanceof</span>(<span class="params">obj, fun</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> f = fun.prototype;   <span class="comment">// 取B的显示原型</span></span><br><span class="line">    obj = obj.__proto__;       <span class="comment">// 取A的隐式原型</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">//Object.prototype.__proto__ === null</span></span><br><span class="line">        <span class="keyword">if</span> (obj === <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (f === obj)        <span class="comment">// 这里重点：当 f 严格等于 obj 时，返回 true</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        obj = obj.__proto__;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-instanceof-与-typeof-对比"><a href="#4-instanceof-与-typeof-对比" class="headerlink" title="4.instanceof 与 typeof 对比"></a>4.instanceof 与 typeof 对比</h2><p><strong>相同</strong>：<br><code>instanceof</code>和<code>typeof</code>都能用来判断一个变量的类型。   </p>
<p><strong>区别</strong>：<br><code>instanceof</code> 只能用来判断对象、函数和数组，不能用来判断字符串和数字等：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> c = [];</span><br><span class="line"><span class="keyword">let</span> d = <span class="string">&#x27;hi&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> e = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">Object</span>;  <span class="comment">// true</span></span><br><span class="line">b <span class="keyword">instanceof</span> <span class="built_in">Object</span>;  <span class="comment">// true</span></span><br><span class="line">c <span class="keyword">instanceof</span> <span class="built_in">Array</span>;   <span class="comment">// true</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="built_in">String</span>;  <span class="comment">// false</span></span><br><span class="line">e <span class="keyword">instanceof</span> <span class="built_in">Number</span>;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><code>typeof</code> ：用于判断一个表达式的原始值，返回一个字符串。  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">42</span>;         <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;blubber&#x27;</span>;  <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>;       <span class="comment">// &quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> aa;         <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>
<p>一般返回结果有：     </p>
<ul>
<li>number</li>
<li>boolean</li>
<li>string</li>
<li>function（函数）</li>
<li>object（NULL,数组，对象）</li>
<li>undefined。</li>
</ul>
<p><strong>判断变量是否存在</strong>：<br>不能使用：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a)&#123;</span><br><span class="line">    <span class="comment">//变量存在</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure>
<p>原因是如果变量未定义，就会报<strong>未定义</strong>的错，而应该使用：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> a != <span class="string">&#x27;undefined&#x27;</span>)&#123;</span><br><span class="line">    <span class="comment">//变量存在</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-参考资料"><a href="#5-参考资料" class="headerlink" title="5.参考资料"></a>5.参考资料</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof">MDN instanceof</a>   </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/web/1306_jiangjj_jsinstanceof/index.html">IBM instanceof</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_27626333/article/details/76146078">js中typeof和instanceof用法区别</a></p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/12/01/110-%E3%80%90JavaScript%E3%80%91%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80-instanceof%E6%93%8D%E4%BD%9C%E7%AC%A6/" data-id="ckts3ejs9000q4d9k9l6r0wyj" data-title="110-【JavaScript】重温基础-instanceof操作符" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-109-【JavaScript】JS复杂判断的更优雅写法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/28/109-%E3%80%90JavaScript%E3%80%91JS%E5%A4%8D%E6%9D%82%E5%88%A4%E6%96%AD%E7%9A%84%E6%9B%B4%E4%BC%98%E9%9B%85%E5%86%99%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2018-11-28T14:21:45.000Z" itemprop="datePublished">2018-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/28/109-%E3%80%90JavaScript%E3%80%91JS%E5%A4%8D%E6%9D%82%E5%88%A4%E6%96%AD%E7%9A%84%E6%9B%B4%E4%BC%98%E9%9B%85%E5%86%99%E6%B3%95/">109-【JavaScript】JS复杂判断的更优雅写法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#x70;&#x69;&#x6e;&#103;&#x61;&#x6e;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#109;">&#x70;&#x69;&#x6e;&#103;&#x61;&#x6e;&#x38;&#x37;&#x38;&#x37;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5bdfef86e51d453bf8051bf8">阅读原文</a></p>
</blockquote>
<h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>我们编写js代码时经常遇到复杂逻辑判断的情况，通常大家可以用<code>if/else</code>或者<code>switch</code>来实现多个条件判断，但这样会有个问题，随着逻辑复杂度的增加，代码中的<code>if/else/switch</code>会变得越来越臃肿，越来越看不懂，那么如何更优雅的写判断逻辑，本文带你试一下。   </p>
<h2 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h2><p>先看一段代码:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status </span></span><br><span class="line"><span class="comment"> * 活动状态：1 开团进行中 2 开团失败 3 商品售罄 4 开团成功 5 系统取消</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(status == <span class="number">1</span>)&#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;processing&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;IndexPage&#x27;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">2</span>)&#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;FailPage&#x27;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">3</span>)&#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;FailPage&#x27;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">4</span>)&#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;SuccessPage&#x27;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">5</span>)&#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;cancel&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;CancelPage&#x27;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    sendLog(<span class="string">&#x27;other&#x27;</span>)</span><br><span class="line">    jumpTo(<span class="string">&#x27;Index&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过代码可以看到这个按钮的点击逻辑：根据不同活动状态做两件事情，发送日志埋点和跳转到对应页面，大家可以很轻易的提出这段代码的改写方案，<code>switch</code>出场：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status </span></span><br><span class="line"><span class="comment"> * 活动状态：1 开团进行中 2 开团失败 3 商品售罄 4 开团成功 5 系统取消</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (status)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      sendLog(<span class="string">&#x27;processing&#x27;</span>)</span><br><span class="line">      jumpTo(<span class="string">&#x27;IndexPage&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      sendLog(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">      jumpTo(<span class="string">&#x27;FailPage&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span>  </span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      sendLog(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">      jumpTo(<span class="string">&#x27;SuccessPage&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">      sendLog(<span class="string">&#x27;cancel&#x27;</span>)</span><br><span class="line">      jumpTo(<span class="string">&#x27;CancelPage&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      sendLog(<span class="string">&#x27;other&#x27;</span>)</span><br><span class="line">      jumpTo(<span class="string">&#x27;Index&#x27;</span>)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>嗯，这样看起来比<code>if/else</code>清晰多了，细心的同学也发现了小技巧，<code>case 2</code>和<code>case 3</code>逻辑一样的时候，可以省去执行语句和<code>break</code>，则<code>case 2</code>的情况自动执行<code>case 3</code>的逻辑。<br>这时有同学会说，还有更简单的写法：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="string">&#x27;1&#x27;</span>: [<span class="string">&#x27;processing&#x27;</span>,<span class="string">&#x27;IndexPage&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;2&#x27;</span>: [<span class="string">&#x27;fail&#x27;</span>,<span class="string">&#x27;FailPage&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;3&#x27;</span>: [<span class="string">&#x27;fail&#x27;</span>,<span class="string">&#x27;FailPage&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;4&#x27;</span>: [<span class="string">&#x27;success&#x27;</span>,<span class="string">&#x27;SuccessPage&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;5&#x27;</span>: [<span class="string">&#x27;cancel&#x27;</span>,<span class="string">&#x27;CancelPage&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;default&#x27;</span>: [<span class="string">&#x27;other&#x27;</span>,<span class="string">&#x27;Index&#x27;</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status </span></span><br><span class="line"><span class="comment"> * 活动状态：1开团进行中 2开团失败 3 商品售罄 4 开团成功 5 系统取消</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = actions[status] || actions[<span class="string">&#x27;default&#x27;</span>],</span><br><span class="line">      logName = action[<span class="number">0</span>],</span><br><span class="line">      pageName = action[<span class="number">1</span>]</span><br><span class="line">  sendLog(logName)</span><br><span class="line">  jumpTo(pageName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码确实看起来更清爽了，这种方法的聪明之处在于：将判断条件作为对象的属性名，将处理逻辑作为对象的属性值，在按钮点击的时候，通过对象属性查找的方式来进行逻辑判断，这种写法特别适合一元条件判断的情况。<br>是不是还有其他写法呢？有的：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, [<span class="string">&#x27;processing&#x27;</span>,<span class="string">&#x27;IndexPage&#x27;</span>]],</span><br><span class="line">  [<span class="number">2</span>, [<span class="string">&#x27;fail&#x27;</span>,<span class="string">&#x27;FailPage&#x27;</span>]],</span><br><span class="line">  [<span class="number">3</span>, [<span class="string">&#x27;fail&#x27;</span>,<span class="string">&#x27;FailPage&#x27;</span>]],</span><br><span class="line">  [<span class="number">4</span>, [<span class="string">&#x27;success&#x27;</span>,<span class="string">&#x27;SuccessPage&#x27;</span>]],</span><br><span class="line">  [<span class="number">5</span>, [<span class="string">&#x27;cancel&#x27;</span>,<span class="string">&#x27;CancelPage&#x27;</span>]],</span><br><span class="line">  [<span class="string">&#x27;default&#x27;</span>, [<span class="string">&#x27;other&#x27;</span>,<span class="string">&#x27;Index&#x27;</span>]]</span><br><span class="line">])</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status </span></span><br><span class="line"><span class="comment"> * 活动状态：1 开团进行中 2 开团失败 3 商品售罄 4 开团成功 5 系统取消</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = actions.get(status) || actions.get(<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">  sendLog(action[<span class="number">0</span>])</span><br><span class="line">  jumpTo(action[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string">这样写用到了`</span>es6<span class="string">`里的`</span><span class="built_in">Map</span><span class="string">`对象，是不是更爽了？`</span><span class="built_in">Map</span><span class="string">`对象和`</span><span class="built_in">Object</span><span class="string">`对象有什么区别呢？   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">* 一个对象通常都有自己的原型，所以一个对象总有一个&quot;`</span>prototype<span class="string">`&quot;键。  </span></span><br><span class="line"><span class="string">* 一个对象的键只能是**字符串**或者**Symbols**，但一个`</span><span class="built_in">Map</span><span class="string">`的键可以是任意值。   </span></span><br><span class="line"><span class="string">你可以通过`</span>size<span class="string">`属性很容易地得到一个`</span><span class="built_in">Map</span><span class="string">`的键值对个数，而对象的键值对个数只能手动确认。   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">我们需要把问题升级一下，以前按钮点击时候只需要判断`</span>status<span class="string">`，现在还需要判断用户的身份：   </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status </span></span><br><span class="line"><span class="comment"> * 活动状态：1开团进行中 2开团失败 3 开团成功 4 商品售罄 5 有库存未开团</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>identity </span></span><br><span class="line"><span class="comment"> * 身份标识：guest客态 master主态</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">status,identity</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(identity == <span class="string">&#x27;guest&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(status == <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">2</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">3</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">4</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">5</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(identity == <span class="string">&#x27;master&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(status == <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">2</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">3</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">4</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status == <span class="number">5</span>)&#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//do sth</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原谅我不写每个判断里的具体逻辑了，因为代码太冗长了。<br>原谅我又用了<code>if/else</code>，因为我看到很多人依然在用<code>if/else</code>写这种大段的逻辑判断。<br>从上面的例子我们可以看到，当你的逻辑升级为二元判断时，你的判断量会加倍，你的代码量也会加倍，这时怎么写更清爽呢？   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">&#x27;guest_1&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;guest_2&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;guest_3&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;guest_4&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;guest_5&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;master_1&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;master_2&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;master_3&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;master_4&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;master_5&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [<span class="string">&#x27;default&#x27;</span>, <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按钮点击事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>identity 身份标识：guest客态 master主态</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>status 活动状态：1 开团进行中 2 开团失败 3 开团成功 4 商品售罄 5 有库存未开团</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = actions.get(<span class="string">`<span class="subst">$&#123;identity&#125;</span>_<span class="subst">$&#123;status&#125;</span>`</span>) || actions.get(<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">  action.call(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码核心逻辑是：把两个条件拼接成字符串，并通过以条件拼接字符串作为键，以处理函数作为值的Map对象进行查找并执行，这种写法在多元条件判断时候尤其好用。<br>当然上述代码如果用<code>Object</code>对象来实现也是类似的：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="string">&#x27;guest_1&#x27;</span>:<span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;,</span><br><span class="line">  <span class="string">&#x27;guest_2&#x27;</span>:<span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;,</span><br><span class="line">  <span class="comment">//....</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = actions[<span class="string">`<span class="subst">$&#123;identity&#125;</span>_<span class="subst">$&#123;status&#125;</span>`</span>] || actions[<span class="string">&#x27;default&#x27;</span>]</span><br><span class="line">  action.call(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果有些同学觉得把查询条件拼成字符串有点别扭，那还有一种方案，就是用<code>Map</code>对象，以<code>Object</code>对象作为<code>key</code>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">1</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">2</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;],</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = [...actions].filter(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>(key.identity == identity &amp;&amp; key.status == status))</span><br><span class="line">  action.forEach(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>value.call(<span class="built_in">this</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是不是又高级了一点点？<br>这里也看出来<code>Map</code>与<code>Object</code>的区别，<code>Map</code>可以用任何类型的数据作为<code>key</code>。<br>我们现在再将难度升级一点点，假如<code>guest</code>情况下，<code>status1-4</code>的处理逻辑都一样怎么办，最差的情况是这样：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">1</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/* functionA */</span>&#125;],</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">2</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/* functionA */</span>&#125;],</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">3</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/* functionA */</span>&#125;],</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">4</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/* functionA */</span>&#125;],</span><br><span class="line">  [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">5</span>&#125;,<span class="function">()=&gt;</span>&#123;<span class="comment">/* functionB */</span>&#125;],</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<p>好一点的写法是将处理逻辑函数进行缓存：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> functionA = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">const</span> functionB = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">1</span>&#125;,functionA],</span><br><span class="line">    [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">2</span>&#125;,functionA],</span><br><span class="line">    [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">3</span>&#125;,functionA],</span><br><span class="line">    [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">4</span>&#125;,functionA],</span><br><span class="line">    [&#123;<span class="attr">identity</span>:<span class="string">&#x27;guest&#x27;</span>,<span class="attr">status</span>:<span class="number">5</span>&#125;,functionB],</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = [...actions()].filter(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>(key.identity == identity &amp;&amp; key.status == status))</span><br><span class="line">  action.forEach(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>value.call(<span class="built_in">this</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样写已经能满足日常需求了，但认真一点讲，上面重写了4次<code>functionA</code>还是有点不爽，假如判断条件变得特别复杂，比如<code>identity</code>有3种状态，<code>status</code>有10种状态，那你需要定义30条处理逻辑，而往往这些逻辑里面很多都是相同的，这似乎也是笔者不想接受的，那可以这样实现:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> functionA = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">const</span> functionB = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="regexp">/^guest_[1-4]$/</span>,functionA],</span><br><span class="line">    [<span class="regexp">/^guest_5$/</span>,functionB],</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = [...actions()].filter(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>(key.test(<span class="string">`<span class="subst">$&#123;identity&#125;</span>_<span class="subst">$&#123;status&#125;</span>`</span>)))</span><br><span class="line">  action.forEach(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>value.call(<span class="built_in">this</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里Map的优势更加凸显，可以用正则类型作为<code>key</code>了，这样就有了无限可能，假如需求变成，凡是<code>guest</code>情况都要发送一个日志埋点，不同<code>status</code>情况也需要单独的逻辑处理，那我们可以这样写:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> functionA = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">const</span> functionB = <span class="function">()=&gt;</span>&#123;<span class="comment">/*do sth*/</span>&#125;</span><br><span class="line">  <span class="keyword">const</span> functionC = <span class="function">()=&gt;</span>&#123;<span class="comment">/*send log*/</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="regexp">/^guest_[1-4]$/</span>,functionA],</span><br><span class="line">    [<span class="regexp">/^guest_5$/</span>,functionB],</span><br><span class="line">    [<span class="regexp">/^guest_.*$/</span>,functionC],</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> onButtonClick = <span class="function">(<span class="params">identity,status</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> action = [...actions()].filter(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>(key.test(<span class="string">`<span class="subst">$&#123;identity&#125;</span>_<span class="subst">$&#123;status&#125;</span>`</span>)))</span><br><span class="line">  action.forEach(<span class="function">(<span class="params">[key,value]</span>)=&gt;</span>value.call(<span class="built_in">this</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也就是说利用数组循环的特性，符合正则条件的逻辑都会被执行，那就可以同时执行公共逻辑和单独逻辑，因为正则的存在，你可以打开想象力解锁更多的玩法，本文就不赘述了。   </p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文已经教你了8种逻辑判断写法，包括：</p>
<ul>
<li><code>if/else</code>   </li>
<li><code>switch</code>   </li>
<li>一元判断时：存到<code>Object</code>里   </li>
<li>一元判断时：存到<code>Map</code>里   </li>
<li>多元判断时：将<code>condition</code>拼接成字符串存到<code>Object</code>里   </li>
<li>多元判断时：将<code>condition</code>拼接成字符串存到<code>Map</code>里   </li>
<li>多元判断时：将<code>condition</code>存为<code>Object</code>存到<code>Map</code>里   </li>
<li>多元判断时：将<code>condition</code>写作正则存到<code>Map</code>里   </li>
</ul>
<p>至此，本文也将告一段落，愿你未来的人生里，不只是有<code>if/else/switch</code>。<br>如果你对本文感兴趣，请关注作者微信公众号：“大转转fe”   </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/11/28/109-%E3%80%90JavaScript%E3%80%91JS%E5%A4%8D%E6%9D%82%E5%88%A4%E6%96%AD%E7%9A%84%E6%9B%B4%E4%BC%98%E9%9B%85%E5%86%99%E6%B3%95/" data-id="ckts3ejs7000m4d9k65u6c24a" data-title="109-【JavaScript】JS复杂判断的更优雅写法" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-108-【JavaScript】秒懂this" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/27/108-%E3%80%90JavaScript%E3%80%91%E7%A7%92%E6%87%82this/" class="article-date">
  <time class="dt-published" datetime="2018-11-27T14:55:13.000Z" itemprop="datePublished">2018-11-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/27/108-%E3%80%90JavaScript%E3%80%91%E7%A7%92%E6%87%82this/">108-【JavaScript】秒懂this</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<table>
<thead>
<tr>
<th>Author</th>
<th>王平安</th>
</tr>
</thead>
<tbody><tr>
<td>E-mail</td>
<td><a href="mailto:&#112;&#105;&#110;&#103;&#97;&#110;&#56;&#x37;&#x38;&#x37;&#64;&#113;&#113;&#46;&#x63;&#x6f;&#109;">&#112;&#105;&#110;&#103;&#97;&#110;&#56;&#x37;&#x38;&#x37;&#64;&#113;&#113;&#46;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>博  客</td>
<td><a target="_blank" rel="noopener" href="http://www.pingan8787.com/">www.pingan8787.com</a></td>
</tr>
<tr>
<td>微  信</td>
<td>pingan8787</td>
</tr>
<tr>
<td>每日文章推荐</td>
<td><a target="_blank" rel="noopener" href="https://github.com/pingan8787/Leo_Reading/issues">https://github.com/pingan8787/Leo_Reading/issues</a></td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p><a href="segmentfault.com/a/1190000017075730">打开原文</a></p>
</blockquote>
<p>日常开发中经常会遇到 <code>this</code> 指向的 bug，郁闷好久才猛然醒悟，痛定思痛，将 <code>this</code> 做个汇总，以便在日后的开发工作中少走弯路。<br>注意：本文讲述只针对浏览器环境。  </p>
<h1 id="一：全局执行"><a href="#一：全局执行" class="headerlink" title="一：全局执行"></a>一：全局执行</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>
<p>可以看出在全局作用域中 <code>this</code> 指向当前的全局对象 <code>Window</code>。   </p>
<h1 id="二：函数中执行"><a href="#二：函数中执行" class="headerlink" title="二：函数中执行"></a>二：函数中执行</h1><h2 id="1-非严格模式中"><a href="#1-非严格模式中" class="headerlink" title="1. 非严格模式中"></a>1. 非严格模式中</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<h2 id="2-严格模式中"><a href="#2-严格模式中" class="headerlink" title="2. 严格模式中"></a>2. 严格模式中</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line"><span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h1 id="三：作为对象的方法调用"><a href="#三：作为对象的方法调用" class="headerlink" title="三：作为对象的方法调用"></a>三：作为对象的方法调用</h1><p>当一个函数被当作一个对象的方法调用的时候，<code>this</code> 指向当前的对象 <code>obj</code>：   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;kk&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.func();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>
<p>如果把对象的方法赋值给一个变量，调用该方法时，<code>this</code> 指向<code> Window</code>：    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;kk&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test = obj.func;</span><br><span class="line">test();</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>
<h1 id="四：作为一个构造函数使用"><a href="#四：作为一个构造函数使用" class="headerlink" title="四：作为一个构造函数使用"></a>四：作为一个构造函数使用</h1><p>在 JS 中，为了实现类，我们需要定义一些构造函数，在调用一个构造函数的时候加上 <code>new </code>这个关键字：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;kk&#x27;</span>);</span><br><span class="line"><span class="comment">// Person</span></span><br></pre></td></tr></table></figure>
<p>此时，<code>this</code> 指向这个构造函数调用的时候实例化出来的对象。  </p>
<p>当然了，构造函数其实也是一个函数，若将构造函数当做普通函数来调用，<code>this</code> 指向 <code>Window</code>:   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p2 = Person(<span class="string">&#x27;MM&#x27;</span>);</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<h1 id="五：在定时器中使用"><a href="#五：在定时器中使用" class="headerlink" title="五：在定时器中使用"></a>五：在定时器中使用</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"><span class="comment">// Window</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>
<p>如果没有特殊指向（指向更改请看下方：怎么改变 <code>this</code> 的指向），<code>setInterval</code> 和<code>setTimeout</code> 的回调函数中 <code>this</code> 的指向都是 <code>Window</code> 。这是因为 JS 的定时器方法是定义在<code> Window</code> 下的。   </p>
<h1 id="六：箭头函数"><a href="#六：箭头函数" class="headerlink" title="六：箭头函数"></a>六：箭头函数</h1><p>在全局环境中调用：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>
<p>作为对象的一个函数调用：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hh&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.func();</span><br><span class="line"><span class="comment">// obj</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hh&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.func();</span><br><span class="line"><span class="comment">// Window</span></span><br></pre></td></tr></table></figure>
<p>不难发现，普通函数作为对象的一个函数被调用，<code>this</code> 指向 <code>obj</code>，箭头函数作为对象的一个函数被调用，<code>this</code> 指向 <code>Window</code>。  </p>
<p>特殊情况：结合定时器调用：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hh&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.func();</span><br><span class="line"><span class="comment">// Window</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hh&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.func();</span><br><span class="line"><span class="comment">// obj</span></span><br></pre></td></tr></table></figure>
<p>若在对象的函数中，普通函数作为定时器延时执行的函数调用，<code>this</code> 指向 <code>Window</code>；箭头函数作为定时器延时执行的函数调用， <code>this</code> 指向定义时所在的对象，也就是 <code>func </code>中的 <code>this</code>，即<code> obj</code>。</p>
<p>箭头函数中 <code>this </code>的值取决于该函数外部非箭头函数的<code>this </code>的值，且不能通过 <code>call()</code> 、<code> apply()</code> 和 <code>bind()</code> 方法来改变 <code>this</code> 的值。   </p>
<h1 id="七：call、apply、bind"><a href="#七：call、apply、bind" class="headerlink" title="七：call、apply、bind"></a>七：call、apply、bind</h1><p><strong>1.call</strong>:  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.call(thisArg[, arg1[, arg2[, ...]]])</span><br></pre></td></tr></table></figure>
<p>它会立即执行函数，第一个参数是指定执行函数中 <code>this</code> 的上下文，后面的参数是执行函数需要传入的参数；</p>
<p><strong>apply</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.apply(thisArg, [argsArray])</span><br></pre></td></tr></table></figure>
<p>它也会立即执行函数，第一个参数是指定执行函数中 <code>this</code> 的上下文，第二个参数是一个数组，是传给执行函数的参数（与 <code>call</code> 的区别）；  </p>
<p><strong>bind</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = fun.bind(thisArg[, arg1[, arg2[, ...]]]);</span><br></pre></td></tr></table></figure>
<p>它不会执行函数，而是返回一个新的函数，这个新的函数被指定了 <code>this</code> 的上下文，后面的参数是执行函数需要传入的参数；</p>
<p>我们来看个示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;kk&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">6</span></span><br><span class="line">&#125;;</span><br><span class="line">Person.call(obj, <span class="string">&#x27;mm&#x27;</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// obj，&#123;name: &quot;mm&quot;, age: 10&#125;</span></span><br><span class="line"></span><br><span class="line">Person.apply(obj, [<span class="string">&#x27;mm&#x27;</span>, <span class="number">10</span>]);</span><br><span class="line"><span class="comment">// obj，&#123;name: &quot;mm&quot;, age: 10&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = Person.bind(obj, <span class="string">&#x27;mm&#x27;</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> p1();</span><br><span class="line"><span class="comment">// Person &#123;name: &quot;mm&quot;, age: 10&#125;</span></span><br></pre></td></tr></table></figure>
<p>在这个示例中，<code>call</code>、<code>apply</code> 和 <code>bind</code> 的 <code>this</code> 都指向了<code> obj</code>，都能正常运行；<code>call</code>、<code>apply </code>会立即执行函数，<code>call</code> 和 <code>apply</code> 的区别就在于传递的参数，<code>call</code> 接收多个参数列表，<code>apply</code> 接收一个包含多个参数的数组；<code>bind</code> 不是立即执行函数，它返回一个函数，需要执行 <code>p2</code> 才能返回结果，<code>bind</code> 接收多个参数列表。  </p>
<h2 id="应用：怎么改变-this-的指向"><a href="#应用：怎么改变-this-的指向" class="headerlink" title="应用：怎么改变 this 的指向"></a>应用：怎么改变 this 的指向</h2><p>为什么讲这个模块呢，为了便于大家更加透彻的理解上面所讲述的 <code>this</code> 指向问题，以及更加彻底的理解 JS 函数中重要的三种方法：<code>call</code>、<code>apply</code>、<code>bind</code> 的使用；并且在实际的项目开发中，我们经常会遇到需要改变 this 指向的情况。  </p>
<p>我们来看下都有哪些方法：</p>
<h2 id="1-使用-es6-的箭头函数"><a href="#1-使用-es6-的箭头函数" class="headerlink" title="1. 使用 es6 的箭头函数"></a>1. 使用 es6 的箭头函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.func1()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// Uncaught TypeError: this.func1 is not a function</span></span><br></pre></td></tr></table></figure>
<p>这时会报错，因为 <code>setTimeout</code> 里函数的 <code>thi</code>s 指向 <code>Window</code>，而 <code>Window</code> 对象上是没有 <code>func1</code> 这个函数的。下面我们来修改成箭头函数：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.func1()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>
<p>这时候，没有报错，因为箭头函数的<code> this</code> 的值取决于该函数外部非箭头函数的 <code>this</code> 的值，也就是 <code>func2</code> 的 <code>this </code>的值， 即<code> obj</code>。  </p>
<h2 id="2-在函数内部使用-this-this"><a href="#2-在函数内部使用-this-this" class="headerlink" title="2. 在函数内部使用 _this = this"></a>2. 在函数内部使用 _this = this</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> _this = <span class="built_in">this</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            _this.func1()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>
<p>此时，<code>func2</code> 也能正常运行。在<code> func</code>2 中，首先设置 <code>var _this = this</code>，这里的 <code>this</code> 是指向 <code>func2</code> 的对象 <code>obj</code>，为了防止在 <code>func2</code> 中的 <code>setTimeout</code> 被 <code>window</code> 调用而导致的在 <code>setTimeout</code> 中的 <code>this</code> 为 window。我们将 <code>this</code> (指向变量 <code>obj</code>) 赋值给一个变量 <code>_this</code>，这样，在 <code>func2</code> 中我们使用 <code>_this</code> 就是指向对象 <code>obj</code> 了。</p>
<h2 id="3-使用-call、apply、bind"><a href="#3-使用-call、apply、bind" class="headerlink" title="3. 使用 call、apply、bind"></a>3. 使用 call、apply、bind</h2><p><strong>call</strong>：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;s</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.func1()</span><br><span class="line">        &#125;.call(obj), <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>

<p><strong>apply</strong>:  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.func1()</span><br><span class="line">        &#125;.apply(obj), <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>

<p><strong>bind</strong>:  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&quot;kk&quot;</span>,</span><br><span class="line">    <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)     </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.func1()</span><br><span class="line">        &#125;.bind(obj)(), <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.func2();</span><br><span class="line"><span class="comment">// kk</span></span><br></pre></td></tr></table></figure>
<p><code>call</code>、<code>apply</code>、<code>bind</code> 都能改变<code> this</code> 的上下文对象，所以也没有报错，可以正常执行。  </p>
<p>具体原因可看上述第七点，<code>call</code>、<code>apply</code>、<code>bind</code>。  </p>
<h2 id="4-new-实例化一个对象"><a href="#4-new-实例化一个对象" class="headerlink" title="4. new 实例化一个对象"></a>4. new 实例化一个对象</h2><p>如上：第四点，作为一个构造函数使用。  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/11/27/108-%E3%80%90JavaScript%E3%80%91%E7%A7%92%E6%87%82this/" data-id="ckts3ejs6000l4d9k8z9t9r5g" data-title="108-【JavaScript】秒懂this" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/11/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/13/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%8A%A8%E7%94%BB/" rel="tag">CSS动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6-ES7-ES8/" rel="tag">ES6/ES7/ES8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eslint/" rel="tag">Eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/" rel="tag">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/" rel="tag">H5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" rel="tag">HTTP协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/" rel="tag">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/" rel="tag">Tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TyeScript/" rel="tag">TyeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">中间件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">人工智能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" rel="tag">全栈开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">前端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" rel="tag">前端探索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" rel="tag">前端知乎系列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" rel="tag">常用技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" rel="tag">微前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" rel="tag">源码精读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E9%97%A8/" rel="tag">热门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" rel="tag">生活杂记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">网络请求</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" rel="tag">重温基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 11.88px;">Angular</a> <a href="/tags/CSS/" style="font-size: 18.13px;">CSS</a> <a href="/tags/CSS%E5%8A%A8%E7%94%BB/" style="font-size: 12.5px;">CSS动画</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/ES6-ES7-ES8/" style="font-size: 10.63px;">ES6/ES7/ES8</a> <a href="/tags/Eslint/" style="font-size: 10px;">Eslint</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/H5/" style="font-size: 10px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.88px;">HTTP</a> <a href="/tags/HTTP%E5%8D%8F%E8%AE%AE/" style="font-size: 11.25px;">HTTP协议</a> <a href="/tags/Hybrid/" style="font-size: 10.63px;">Hybrid</a> <a href="/tags/JavaScript/" style="font-size: 19.38px;">JavaScript</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Nodejs/" style="font-size: 11.25px;">Nodejs</a> <a href="/tags/Numpy/" style="font-size: 10.63px;">Numpy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 12.5px;">React</a> <a href="/tags/Tensorflow/" style="font-size: 10.63px;">Tensorflow</a> <a href="/tags/TyeScript/" style="font-size: 10px;">TyeScript</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/Vuejs/" style="font-size: 14.38px;">Vuejs</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/Webpack/" style="font-size: 15.63px;">Webpack</a> <a href="/tags/demo/" style="font-size: 10.63px;">demo</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 10px;">中间件</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 16.25px;">人工智能</a> <a href="/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" style="font-size: 11.25px;">全栈开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 20px;">前端开发</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2/" style="font-size: 11.25px;">前端探索</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E4%B9%8E%E7%B3%BB%E5%88%97/" style="font-size: 10.63px;">前端知乎系列</a> <a href="/tags/%E5%8E%9F%E5%88%9B/" style="font-size: 18.75px;">原创</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF/" style="font-size: 10.63px;">常用技术</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">微前端</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.75px;">总结</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">机器学习</a> <a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" style="font-size: 10.63px;">构建工具</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10.63px;">正则表达式</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 10px;">源码</a> <a href="/tags/%E6%BA%90%E7%A0%81%E7%B2%BE%E8%AF%BB/" style="font-size: 10px;">源码精读</a> <a href="/tags/%E7%83%AD%E9%97%A8/" style="font-size: 10px;">热门</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">生活杂记</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 13.13px;">算法</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">编译原理</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">网络请求</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 14.38px;">读书笔记</a> <a href="/tags/%E9%87%8D%E6%B8%A9%E5%9F%BA%E7%A1%80/" style="font-size: 16.88px;">重温基础</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">面试题</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/227-%E3%80%90%E6%80%BB%E7%BB%93%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8SVG%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/">227-【总结】如何优雅的在微信小程序使用SVG字体图标</a>
          </li>
        
          <li>
            <a href="/2021/07/28/226-%E3%80%90HTTP%E3%80%91%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%AE%A1%E7%90%86HTTP%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%9F/">226-【HTTP】如何优雅的管理HTTP请求和响应拦截器？</a>
          </li>
        
          <li>
            <a href="/2021/07/28/225-%E3%80%90Vue%E3%80%91%E4%BB%8E%E6%89%8B%E5%86%99Vue3%E7%9A%84Reactivity%E5%BC%80%E5%A7%8B%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81/">225-【Vue】从手写Vue3的Reactivity开始深入Vue3源码</a>
          </li>
        
          <li>
            <a href="/2021/05/30/224-%E3%80%90Chrome%E3%80%915%E4%B8%AAChrome%E8%B0%83%E8%AF%95%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%E7%9A%84%E6%8A%80%E5%B7%A7/">224-【Chrome】5个Chrome调试混合应用的技巧</a>
          </li>
        
          <li>
            <a href="/2021/03/19/223-%E3%80%90%E5%89%8D%E7%AB%AF%E6%8E%A2%E7%B4%A2%E3%80%91%E6%8E%A2%E7%B4%A2Snabbdom%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">223-【前端探索】探索Snabbdom模块系统原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>